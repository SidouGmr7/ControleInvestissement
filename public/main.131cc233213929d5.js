var nAe=Object.defineProperty,iAe=Object.defineProperties,rAe=Object.getOwnPropertyDescriptors,fG=Object.getOwnPropertySymbols,sAe=Object.prototype.hasOwnProperty,oAe=Object.prototype.propertyIsEnumerable,pG=(sn,tt,J)=>tt in sn?nAe(sn,tt,{enumerable:!0,configurable:!0,writable:!0,value:J}):sn[tt]=J,mR=(sn,tt)=>{for(var J in tt||(tt={}))sAe.call(tt,J)&&pG(sn,J,tt[J]);if(fG)for(var J of fG(tt))oAe.call(tt,J)&&pG(sn,J,tt[J]);return sn},_R=(sn,tt)=>iAe(sn,rAe(tt));(self.webpackChunkInvsProject=self.webpackChunkInvsProject||[]).push([[179],{2011:(sn,tt,J)=>{"use strict";J.d(tt,{Dh:()=>Ze,GT:()=>et,cc:()=>yt,hO:()=>zt,on:()=>_e,pX:()=>Ve,xv:()=>$e});var o=J(5e3),Ie=J(127),ee=J(5813);sn=J.hmd(sn);const Ue=["ngOnDestroy"],Ve=(dt,Gt,rn,_t={})=>new Proxy(dt,{get:(rt,ut)=>rn.runOutsideAngular(()=>{var Ht;if(dt[ut])return(null===(Ht=null==_t?void 0:_t.spy)||void 0===Ht?void 0:Ht.get)&&_t.spy.get(ut,dt[ut]),dt[ut];if(Ue.indexOf(ut)>-1)return()=>{};const Ut=Gt.toPromise().then(G=>{const nt=G&&G[ut];return"function"==typeof nt?nt.bind(G):nt&&nt.then?nt.then(xe=>rn.run(()=>xe)):rn.run(()=>nt)});return new Proxy(()=>{},{get:(G,nt)=>Ut[nt],apply:(G,nt,xe)=>Ut.then(Le=>{var De;const Pe=Le&&Le(...xe);return(null===(De=null==_t?void 0:_t.spy)||void 0===De?void 0:De.apply)&&_t.spy.apply(ut,xe,Pe),Pe})})})}),et=(dt,Gt)=>{Gt.forEach(rn=>{Object.getOwnPropertyNames(rn.prototype||rn).forEach(_t=>{Object.defineProperty(dt.prototype,_t,Object.getOwnPropertyDescriptor(rn.prototype||rn,_t))})})};class Ne{constructor(Gt){return Gt}}const Ze=new o.OlP("angularfire2.app.options"),$e=new o.OlP("angularfire2.app.name");function _e(dt,Gt,rn){const rt="object"==typeof rn&&rn||{};rt.name=rt.name||"string"==typeof rn&&rn||"[DEFAULT]";const Ht=Ie.Z.apps.filter(Ut=>Ut&&Ut.name===rt.name)[0]||Gt.runOutsideAngular(()=>Ie.Z.initializeApp(dt,rt));try{JSON.stringify(dt)!==JSON.stringify(Ht.options)&&ve("error",`${Ht.name} Firebase App already initialized with different options${sn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ut){}return new Ne(Ht)}const ve=(dt,...Gt)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[dt](...Gt)},Re={provide:Ne,useFactory:_e,deps:[Ze,o.R0b,[new o.FiY,$e]]};let zt=(()=>{class dt{constructor(rn){Ie.Z.registerVersion("angularfire",ee.q4.full,"core"),Ie.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),Ie.Z.registerVersion("angular",o.q4F.full,rn.toString())}static initializeApp(rn,_t){return{ngModule:dt,providers:[{provide:Ze,useValue:rn},{provide:$e,useValue:_t}]}}}return dt.\u0275fac=function(rn){return new(rn||dt)(o.LFG(o.Lbi))},dt.\u0275mod=o.oAB({type:dt}),dt.\u0275inj=o.cJS({providers:[Re]}),dt})();function yt(dt,Gt,rn,_t,rt){const[,ut,Ht]=globalThis.\u0275AngularfireInstanceCache.find(Ut=>Ut[0]===dt)||[];if(ut)return function kt(dt,Gt){try{return dt.toString()===Gt.toString()}catch(rn){return dt===Gt}}(rt,Ht)||(Qe("error",`${Gt} was already initialized on the ${rn} Firebase App with different settings.${Vt?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:rt,was:Ht})),ut;{const Ut=_t();return globalThis.\u0275AngularfireInstanceCache.push([dt,Ut,rt]),Ut}}const Vt=!!sn.hot,Qe=(dt,...Gt)=>{(0,o.X6Q)()&&"undefined"!=typeof console&&console[dt](...Gt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(sn,tt,J)=>{"use strict";J.d(tt,{q4:()=>Qr,iC:()=>Al,HU:()=>Tp,vb:()=>Cp,JM:()=>h1});var o=J(5e3),Ie=J(5867),ee=J(5861),Ue=J(9681),Ve=J(2090),et=J(4859),Ne=J(1877),Ze=J(8766);const $e="@firebase/installations",Re="w:0.5.9",zt="FIS_v2",Gt=new Ve.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rn(F){return F instanceof Ve.ZR&&F.code.includes("request-failed")}function _t({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function rt(F){return{token:F.token,requestStatus:2,expiresIn:Le(F.expiresIn),creationTime:Date.now()}}function ut(F,P){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,ee.Z)(function*(F,P){const le=(yield P.json()).error;return Gt.create("request-failed",{requestName:F,serverCode:le.code,serverMessage:le.message,serverStatus:le.status})})).apply(this,arguments)}function Ut({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function G(F,{refreshToken:P}){const z=Ut(F);return z.append("Authorization",function De(F){return`${zt} ${F}`}(P)),z}function nt(F){return xe.apply(this,arguments)}function xe(){return(xe=(0,ee.Z)(function*(F){const P=yield F();return P.status>=500&&P.status<600?F():P})).apply(this,arguments)}function Le(F){return Number(F.replace("s","000"))}function Pe(F,P){return He.apply(this,arguments)}function He(){return(He=(0,ee.Z)(function*({appConfig:F,heartbeatServiceProvider:P},{fid:z}){const le=_t(F),ke=Ut(F),je=P.getImmediate({optional:!0});if(je){const yn=yield je.getHeartbeatsHeader();yn&&ke.append("x-firebase-client",yn)}const Zt={method:"POST",headers:ke,body:JSON.stringify({fid:z,authVersion:zt,appId:F.appId,sdkVersion:Re})},Fn=yield nt(()=>fetch(le,Zt));if(Fn.ok){const yn=yield Fn.json();return{fid:yn.fid||z,registrationStatus:2,refreshToken:yn.refreshToken,authToken:rt(yn.authToken)}}throw yield ut("Create Installation",Fn)})).apply(this,arguments)}function Dt(F){return new Promise(P=>{setTimeout(P,F)})}const ni=/^[cdef][\w-]{21}$/;function tn(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const z=function zn(F){return function mn(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return ni.test(z)?z:""}catch(F){return""}}function Di(F){return`${F.appName}!${F.appId}`}const Ai=new Map;function Xn(F,P){const z=Di(F);Gn(z,P),function Bs(F,P){const z=function rs(){return!ys&&"BroadcastChannel"in self&&(ys=new BroadcastChannel("[Firebase] FID Change"),ys.onmessage=F=>{Gn(F.data.key,F.data.fid)}),ys}();z&&z.postMessage({key:F,fid:P}),function Zr(){0===Ai.size&&ys&&(ys.close(),ys=null)}()}(z,P)}function Gn(F,P){const z=Ai.get(F);if(z)for(const le of z)le(P)}let ys=null;const Vs="firebase-installations-store";let ss=null;function ln(){return ss||(ss=(0,Ze.X3)("firebase-installations-database",1,{upgrade:(F,P)=>{0===P&&F.createObjectStore(Vs)}})),ss}function hr(F,P){return tr.apply(this,arguments)}function tr(){return(tr=(0,ee.Z)(function*(F,P){const z=Di(F),ke=(yield ln()).transaction(Vs,"readwrite"),je=ke.objectStore(Vs),Et=yield je.get(z);return yield je.put(P,z),yield ke.done,(!Et||Et.fid!==P.fid)&&Xn(F,P.fid),P})).apply(this,arguments)}function di(F){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,ee.Z)(function*(F){const P=Di(F),le=(yield ln()).transaction(Vs,"readwrite");yield le.objectStore(Vs).delete(P),yield le.done})).apply(this,arguments)}function ws(F,P){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,ee.Z)(function*(F,P){const z=Di(F),ke=(yield ln()).transaction(Vs,"readwrite"),je=ke.objectStore(Vs),Et=yield je.get(z),Zt=P(Et);return void 0===Zt?yield je.delete(z):yield je.put(Zt,z),yield ke.done,Zt&&(!Et||Et.fid!==Zt.fid)&&Xn(F,Zt.fid),Zt})).apply(this,arguments)}function wn(F){return nr.apply(this,arguments)}function nr(){return(nr=(0,ee.Z)(function*(F){let P;const z=yield ws(F.appConfig,le=>{const ke=xs(le),je=$n(F,ke);return P=je.registrationPromise,je.installationEntry});return""===z.fid?{installationEntry:yield P}:{installationEntry:z,registrationPromise:P}})).apply(this,arguments)}function xs(F){return gl(F||{fid:tn(),registrationStatus:0})}function $n(F,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(Gt.create("app-offline"))};const z={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},le=function Jt(F,P){return dn.apply(this,arguments)}(F,z);return{installationEntry:z,registrationPromise:le}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Wr(F)}:{installationEntry:P}}function dn(){return(dn=(0,ee.Z)(function*(F,P){try{const z=yield Pe(F,P);return hr(F.appConfig,z)}catch(z){throw rn(z)&&409===z.customData.serverCode?yield di(F.appConfig):yield hr(F.appConfig,{fid:P.fid,registrationStatus:0}),z}})).apply(this,arguments)}function Wr(F){return os.apply(this,arguments)}function os(){return(os=(0,ee.Z)(function*(F){let P=yield An(F.appConfig);for(;1===P.registrationStatus;)yield Dt(100),P=yield An(F.appConfig);if(0===P.registrationStatus){const{installationEntry:z,registrationPromise:le}=yield wn(F);return le||z}return P})).apply(this,arguments)}function An(F){return ws(F,P=>{if(!P)throw Gt.create("installation-not-found");return gl(P)})}function gl(F){return function qr(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function Gr(F,P){return pe.apply(this,arguments)}function pe(){return(pe=(0,ee.Z)(function*({appConfig:F,heartbeatServiceProvider:P},z){const le=be(F,z),ke=G(F,z),je=P.getImmediate({optional:!0});if(je){const yn=yield je.getHeartbeatsHeader();yn&&ke.append("x-firebase-client",yn)}const Zt={method:"POST",headers:ke,body:JSON.stringify({installation:{sdkVersion:Re,appId:F.appId}})},Fn=yield nt(()=>fetch(le,Zt));if(Fn.ok)return rt(yield Fn.json());throw yield ut("Generate Auth Token",Fn)})).apply(this,arguments)}function be(F,{fid:P}){return`${_t(F)}/${P}/authTokens:generate`}function Ce(F){return ht.apply(this,arguments)}function ht(){return(ht=(0,ee.Z)(function*(F,P=!1){let z;const le=yield ws(F.appConfig,je=>{if(!Cn(je))throw Gt.create("not-registered");const Et=je.authToken;if(!P&&Li(Et))return je;if(1===Et.requestStatus)return z=ae(F,P),je;{if(!navigator.onLine)throw Gt.create("app-offline");const Zt=Tr(je);return z=on(F,Zt),Zt}});return z?yield z:le.authToken})).apply(this,arguments)}function ae(F,P){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,ee.Z)(function*(F,P){let z=yield Tt(F.appConfig);for(;1===z.authToken.requestStatus;)yield Dt(100),z=yield Tt(F.appConfig);const le=z.authToken;return 0===le.requestStatus?Ce(F,P):le})).apply(this,arguments)}function Tt(F){return ws(F,P=>{if(!Cn(P))throw Gt.create("not-registered");return function bs(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function on(F,P){return bn.apply(this,arguments)}function bn(){return(bn=(0,ee.Z)(function*(F,P){try{const z=yield Gr(F,P),le=Object.assign(Object.assign({},P),{authToken:z});return yield hr(F.appConfig,le),z}catch(z){if(!rn(z)||401!==z.customData.serverCode&&404!==z.customData.serverCode){const le=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield hr(F.appConfig,le)}else yield di(F.appConfig);throw z}})).apply(this,arguments)}function Cn(F){return void 0!==F&&2===F.registrationStatus}function Li(F){return 2===F.requestStatus&&!function Mn(F){const P=Date.now();return P<F.creationTime||F.creationTime+F.expiresIn<P+36e5}(F)}function Tr(F){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:P})}function Rc(){return(Rc=(0,ee.Z)(function*(F){const P=F,{installationEntry:z,registrationPromise:le}=yield wn(P);return le?le.catch(console.error):Ce(P).catch(console.error),z.fid})).apply(this,arguments)}function Fc(){return(Fc=(0,ee.Z)(function*(F,P=!1){const z=F;return yield Er(z),(yield Ce(z,P)).token})).apply(this,arguments)}function Er(F){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,ee.Z)(function*(F){const{registrationPromise:P}=yield wn(F);P&&(yield P)})).apply(this,arguments)}function Jl(F){return Gt.create("missing-app-config-values",{valueName:F})}const Sn="installations",vn=F=>{const P=F.getProvider("app").getImmediate(),z=function $r(F){if(!F||!F.options)throw Jl("App Configuration");if(!F.name)throw Jl("App Name");const P=["projectId","apiKey","appId"];for(const z of P)if(!F.options[z])throw Jl(z);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(P);return{app:P,appConfig:z,heartbeatServiceProvider:(0,Ue._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Mi=F=>{const P=F.getProvider("app").getImmediate(),z=(0,Ue._getProvider)(P,Sn).getImmediate();return{getId:()=>function Eu(F){return Rc.apply(this,arguments)}(z),getToken:ke=>function Ql(F){return Fc.apply(this,arguments)}(z,ke)}};(function Hs(){(0,Ue._registerComponent)(new et.wA(Sn,vn,"PUBLIC")),(0,Ue._registerComponent)(new et.wA("installations-internal",Mi,"PRIVATE"))})(),(0,Ue.registerVersion)($e,"0.5.9"),(0,Ue.registerVersion)($e,"0.5.9","esm2017");const Uo="@firebase/remote-config",oi=new Ve.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ir{constructor(P,z,le,ke){this.client=P,this.storage=z,this.storageCache=le,this.logger=ke}isCachedDataFresh(P,z){if(!z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const le=Date.now()-z,ke=le<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${le}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${ke}.`),ke}fetch(P){var z=this;return(0,ee.Z)(function*(){const[le,ke]=yield Promise.all([z.storage.getLastSuccessfulFetchTimestampMillis(),z.storage.getLastSuccessfulFetchResponse()]);if(ke&&z.isCachedDataFresh(P.cacheMaxAgeMillis,le))return ke;P.eTag=ke&&ke.eTag;const je=yield z.client.fetch(P),Et=[z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===je.status&&Et.push(z.storage.setLastSuccessfulFetchResponse(je)),yield Promise.all(Et),je})()}}function Vh(F=navigator){return F.languages&&F.languages[0]||F.language}class Yr{constructor(P,z,le,ke,je,Et){this.firebaseInstallations=P,this.sdkVersion=z,this.namespace=le,this.projectId=ke,this.apiKey=je,this.appId=Et}fetch(P){var z=this;return(0,ee.Z)(function*(){const[le,ke]=yield Promise.all([z.firebaseInstallations.getId(),z.firebaseInstallations.getToken()]),Et=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${z.projectId}/namespaces/${z.namespace}:fetch?key=${z.apiKey}`,Zt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},Fn={sdk_version:z.sdkVersion,app_instance_id:le,app_instance_id_token:ke,app_id:z.appId,language_code:Vh()},yn={method:"POST",headers:Zt,body:JSON.stringify(Fn)},Wn=fetch(Et,yn),Dn=new Promise((Ml,fo)=>{P.signal.addEventListener(()=>{const sm=new Error("The operation was aborted.");sm.name="AbortError",fo(sm)})});let uo;try{yield Promise.race([Wn,Dn]),uo=yield Wn}catch(Ml){let fo="fetch-client-network";throw"AbortError"===Ml.name&&(fo="fetch-timeout"),oi.create(fo,{originalErrorMessage:Ml.message})}let Br=uo.status;const tu=uo.headers.get("ETag")||void 0;let Ko,ho;if(200===uo.status){let Ml;try{Ml=yield uo.json()}catch(fo){throw oi.create("fetch-client-parse",{originalErrorMessage:fo.message})}Ko=Ml.entries,ho=Ml.state}if("INSTANCE_STATE_UNSPECIFIED"===ho?Br=500:"NO_CHANGE"===ho?Br=304:("NO_TEMPLATE"===ho||"EMPTY_CONFIG"===ho)&&(Ko={}),304!==Br&&200!==Br)throw oi.create("fetch-status",{httpStatus:Br});return{status:Br,eTag:tu,config:Ko}})()}}class $g{constructor(P,z){this.client=P,this.storage=z}fetch(P){var z=this;return(0,ee.Z)(function*(){const le=(yield z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return z.attemptFetch(P,le)})()}attemptFetch(P,{throttleEndTimeMillis:z,backoffCount:le}){var ke=this;return(0,ee.Z)(function*(){yield function va(F,P){return new Promise((z,le)=>{const ke=Math.max(P-Date.now(),0),je=setTimeout(z,ke);F.addEventListener(()=>{clearTimeout(je),le(oi.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,z);try{const je=yield ke.client.fetch(P);return yield ke.storage.deleteThrottleMetadata(),je}catch(je){if(!function Uh(F){if(!(F instanceof Ve.ZR&&F.customData))return!1;const P=Number(F.customData.httpStatus);return 429===P||500===P||503===P||504===P}(je))throw je;const Et={throttleEndTimeMillis:Date.now()+(0,Ve.$s)(le),backoffCount:le+1};return yield ke.storage.setThrottleMetadata(Et),ke.attemptFetch(P,Et)}})()}}class Hh{constructor(P,z,le,ke,je){this.app=P,this._client=z,this._storageCache=le,this._storage=ke,this._logger=je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ad(F,P){const z=F.target.error||void 0;return oi.create(P,{originalErrorMessage:z&&z.message})}const Ua="app_namespace_store";class Qg{constructor(P,z,le,ke=function Md(){return new Promise((F,P)=>{try{const z=indexedDB.open("firebase_remote_config",1);z.onerror=le=>{P(Ad(le,"storage-open"))},z.onsuccess=le=>{F(le.target.result)},z.onupgradeneeded=le=>{0===le.oldVersion&&le.target.result.createObjectStore(Ua,{keyPath:"compositeKey"})}}catch(z){P(oi.create("storage-open",{originalErrorMessage:z}))}})}()){this.appId=P,this.appName=z,this.namespace=le,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var z=this;return(0,ee.Z)(function*(){const le=yield z.openDbPromise;return new Promise((ke,je)=>{const Zt=le.transaction([Ua],"readonly").objectStore(Ua),Fn=z.createCompositeKey(P);try{const yn=Zt.get(Fn);yn.onerror=Wn=>{je(Ad(Wn,"storage-get"))},yn.onsuccess=Wn=>{const Dn=Wn.target.result;ke(Dn?Dn.value:void 0)}}catch(yn){je(oi.create("storage-get",{originalErrorMessage:yn&&yn.message}))}})})()}set(P,z){var le=this;return(0,ee.Z)(function*(){const ke=yield le.openDbPromise;return new Promise((je,Et)=>{const Fn=ke.transaction([Ua],"readwrite").objectStore(Ua),yn=le.createCompositeKey(P);try{const Wn=Fn.put({compositeKey:yn,value:z});Wn.onerror=Dn=>{Et(Ad(Dn,"storage-set"))},Wn.onsuccess=()=>{je()}}catch(Wn){Et(oi.create("storage-set",{originalErrorMessage:Wn&&Wn.message}))}})})()}delete(P){var z=this;return(0,ee.Z)(function*(){const le=yield z.openDbPromise;return new Promise((ke,je)=>{const Zt=le.transaction([Ua],"readwrite").objectStore(Ua),Fn=z.createCompositeKey(P);try{const yn=Zt.delete(Fn);yn.onerror=Wn=>{je(Ad(Wn,"storage-delete"))},yn.onsuccess=()=>{ke()}}catch(yn){je(oi.create("storage-delete",{originalErrorMessage:yn&&yn.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class jh{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,ee.Z)(function*(){const z=P.storage.getLastFetchStatus(),le=P.storage.getLastSuccessfulFetchTimestampMillis(),ke=P.storage.getActiveConfig(),je=yield z;je&&(P.lastFetchStatus=je);const Et=yield le;Et&&(P.lastSuccessfulFetchTimestampMillis=Et);const Zt=yield ke;Zt&&(P.activeConfig=Zt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function ku(){return zh.apply(this,arguments)}function zh(){return(zh=(0,ee.Z)(function*(){if(!(0,Ve.hl)())return!1;try{return yield(0,Ve.eu)()}catch(F){return!1}})).apply(this,arguments)}!function ec(){(0,Ue._registerComponent)(new et.wA("remote-config",function F(P,{instanceIdentifier:z}){const le=P.getProvider("app").getImmediate(),ke=P.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw oi.create("registration-window");if(!(0,Ve.hl)())throw oi.create("indexed-db-unavailable");const{projectId:je,apiKey:Et,appId:Zt}=le.options;if(!je)throw oi.create("registration-project-id");if(!Et)throw oi.create("registration-api-key");if(!Zt)throw oi.create("registration-app-id");const Fn=new Qg(Zt,le.name,z=z||"firebase"),yn=new jh(Fn),Wn=new Ne.Yd(Uo);Wn.logLevel=Ne.in.ERROR;const Dn=new Yr(ke,Ue.SDK_VERSION,z,je,Et,Zt),uo=new $g(Dn,Fn),Br=new ir(uo,Fn,yn,Wn),tu=new Hh(le,Br,yn,Fn,Wn);return function Pi(F){const P=(0,Ve.m9)(F);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(tu),tu},"PUBLIC").setMultipleInstances(!0)),(0,Ue.registerVersion)(Uo,"0.3.8"),(0,Ue.registerVersion)(Uo,"0.3.8","esm2017")}();const Zh="/firebase-messaging-sw.js",as="/firebase-cloud-messaging-push-scope",ls="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tc="google.c.a.c_id",Wh="google.c.a.c_l",qh="google.c.a.ts",hi="google.c.a.e";var nc=(()=>{return(F=nc||(nc={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",nc;var F})();function Cs(F){const P=new Uint8Array(F);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gh(F){const z=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),le=atob(z),ke=new Uint8Array(le.length);for(let je=0;je<le.length;++je)ke[je]=le.charCodeAt(je);return ke}const fr="fcm_token_details_db",ao="fcm_token_object_Store";function Od(F){return $h.apply(this,arguments)}function $h(){return $h=(0,ee.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(je=>je.name).includes(fr))return null;let P=null;return(yield(0,Ze.X3)(fr,5,{upgrade:(le=(0,ee.Z)(function*(ke,je,Et,Zt){var Fn;if(je<2||!ke.objectStoreNames.contains(ao))return;const yn=Zt.objectStore(ao),Wn=yield yn.index("fcmSenderId").get(F);if(yield yn.clear(),Wn)if(2===je){const Dn=Wn;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;P={token:Dn.fcmToken,createTime:null!==(Fn=Dn.createTime)&&void 0!==Fn?Fn:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:Cs(Dn.vapidKey)}}}else if(3===je){const Dn=Wn;P={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:Cs(Dn.auth),p256dh:Cs(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:Cs(Dn.vapidKey)}}}else if(4===je){const Dn=Wn;P={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:Cs(Dn.auth),p256dh:Cs(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:Cs(Dn.vapidKey)}}}}),function(je,Et,Zt,Fn){return le.apply(this,arguments)})})).close(),yield(0,Ze.Lj)(fr),yield(0,Ze.Lj)("fcm_vapid_details_db"),yield(0,Ze.Lj)("undefined"),Rd(P)?P:null;var le}),$h.apply(this,arguments)}function Rd(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:P}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const Wo="firebase-messaging-store";let fp=null;function wi(){return fp||(fp=(0,Ze.X3)("firebase-messaging-database",1,{upgrade:(F,P)=>{0===P&&F.createObjectStore(Wo)}})),fp}function sc(F){return za.apply(this,arguments)}function za(){return(za=(0,ee.Z)(function*(F){const P=Nr(F),le=yield(yield wi()).transaction(Wo).objectStore(Wo).get(P);if(le)return le;{const ke=yield Od(F.appConfig.senderId);if(ke)return yield xi(F,ke),ke}})).apply(this,arguments)}function xi(F,P){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,ee.Z)(function*(F,P){const z=Nr(F),ke=(yield wi()).transaction(Wo,"readwrite");return yield ke.objectStore(Wo).put(P,z),yield ke.done,P})).apply(this,arguments)}function Za(F){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,ee.Z)(function*(F){const P=Nr(F),le=(yield wi()).transaction(Wo,"readwrite");yield le.objectStore(Wo).delete(P),yield le.done})).apply(this,arguments)}function Nr({appConfig:F}){return F.appId}const qi=new Ve.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Eo(F,P){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,ee.Z)(function*(F,P){const z=yield oc(F),le=ac(P),ke={method:"POST",headers:z,body:JSON.stringify(le)};let je;try{je=yield(yield fetch(Go(F.appConfig),ke)).json()}catch(Et){throw qi.create("token-subscribe-failed",{errorInfo:Et})}if(je.error)throw qi.create("token-subscribe-failed",{errorInfo:je.error.message});if(!je.token)throw qi.create("token-subscribe-no-token");return je.token})).apply(this,arguments)}function wa(F,P){return qo.apply(this,arguments)}function qo(){return(qo=(0,ee.Z)(function*(F,P){const z=yield oc(F),le=ac(P.subscriptionOptions),ke={method:"PATCH",headers:z,body:JSON.stringify(le)};let je;try{je=yield(yield fetch(`${Go(F.appConfig)}/${P.token}`,ke)).json()}catch(Et){throw qi.create("token-update-failed",{errorInfo:Et})}if(je.error)throw qi.create("token-update-failed",{errorInfo:je.error.message});if(!je.token)throw qi.create("token-update-no-token");return je.token})).apply(this,arguments)}function Uc(F,P){return So.apply(this,arguments)}function So(){return(So=(0,ee.Z)(function*(F,P){const le={method:"DELETE",headers:yield oc(F)};try{const je=yield(yield fetch(`${Go(F.appConfig)}/${P}`,le)).json();if(je.error)throw qi.create("token-unsubscribe-failed",{errorInfo:je.error.message})}catch(ke){throw qi.create("token-unsubscribe-failed",{errorInfo:ke})}})).apply(this,arguments)}function Go({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function oc(F){return En.apply(this,arguments)}function En(){return(En=(0,ee.Z)(function*({appConfig:F,installations:P}){const z=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${z}`})})).apply(this,arguments)}function ac({p256dh:F,auth:P,endpoint:z,vapidKey:le}){const ke={web:{endpoint:z,auth:P,p256dh:F}};return le!==ls&&(ke.web.applicationPubKey=le),ke}const Hc=6048e5;function jc(F){return lc.apply(this,arguments)}function lc(){return(lc=(0,ee.Z)(function*(F){const P=yield Bi(F.swRegistration,F.vapidKey),z={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:P.endpoint,auth:Cs(P.getKey("auth")),p256dh:Cs(P.getKey("p256dh"))},le=yield sc(F.firebaseDependencies);if(le){if(qa(le.subscriptionOptions,z))return Date.now()>=le.createTime+Hc?Ld(F,{token:le.token,createTime:Date.now(),subscriptionOptions:z}):le.token;try{yield Uc(F.firebaseDependencies,le.token)}catch(ke){console.warn(ke)}return Zn(F.firebaseDependencies,z)}return Zn(F.firebaseDependencies,z)})).apply(this,arguments)}function zc(F){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,ee.Z)(function*(F){const P=yield sc(F.firebaseDependencies);P&&(yield Uc(F.firebaseDependencies,P.token),yield Za(F.firebaseDependencies));const z=yield F.swRegistration.pushManager.getSubscription();return!z||z.unsubscribe()})).apply(this,arguments)}function Ld(F,P){return ft.apply(this,arguments)}function ft(){return(ft=(0,ee.Z)(function*(F,P){try{const z=yield wa(F.firebaseDependencies,P),le=Object.assign(Object.assign({},P),{token:z,createTime:Date.now()});return yield xi(F.firebaseDependencies,le),z}catch(z){throw yield zc(F),z}})).apply(this,arguments)}function Zn(F,P){return Du.apply(this,arguments)}function Du(){return(Du=(0,ee.Z)(function*(F,P){const le={token:yield Eo(F,P),createTime:Date.now(),subscriptionOptions:P};return yield xi(F,le),le.token})).apply(this,arguments)}function Bi(F,P){return _l.apply(this,arguments)}function _l(){return(_l=(0,ee.Z)(function*(F,P){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gh(P)})})).apply(this,arguments)}function qa(F,P){return P.vapidKey===F.vapidKey&&P.endpoint===F.endpoint&&P.auth===F.auth&&P.p256dh===F.p256dh}function zs(F){const P={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function Zc(F,P){if(!P.notification)return;F.notification={};const z=P.notification.title;z&&(F.notification.title=z);const le=P.notification.body;le&&(F.notification.body=le);const ke=P.notification.image;ke&&(F.notification.image=ke)}(P,F),function Bd(F,P){!P.data||(F.data=P.data)}(P,F),function Jg(F,P){if(!P.fcmOptions)return;F.fcmOptions={};const z=P.fcmOptions.link;z&&(F.fcmOptions.link=z);const le=P.fcmOptions.analytics_label;le&&(F.fcmOptions.analyticsLabel=le)}(P,F),P}function Au(F){return"object"==typeof F&&!!F&&tc in F}function Wc(F,P){const z=[];for(let le=0;le<F.length;le++)z.push(F.charAt(le)),le<P.length&&z.push(P.charAt(le));return z.join("")}function pr(F){return qi.create("missing-app-config-values",{valueName:F})}Wc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xa{constructor(P,z,le){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function Mu(F){if(!F||!F.options)throw pr("App Configuration Object");if(!F.name)throw pr("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:z}=F;for(const le of P)if(!z[le])throw pr(le);return{appName:F.name,projectId:z.projectId,apiKey:z.apiKey,appId:z.appId,senderId:z.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:ke,installations:z,analyticsProvider:le}}_delete(){return Promise.resolve()}}function qc(F){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,ee.Z)(function*(F){try{F.swRegistration=yield navigator.serviceWorker.register(Zh,{scope:as}),F.swRegistration.update().catch(()=>{})}catch(P){throw qi.create("failed-service-worker-registration",{browserErrorMessage:P.message})}})).apply(this,arguments)}function Io(F,P){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,ee.Z)(function*(F,P){if(!P&&!F.swRegistration&&(yield qc(F)),P||!F.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw qi.create("invalid-sw-registration");F.swRegistration=P}})).apply(this,arguments)}function cc(F,P){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,ee.Z)(function*(F,P){P?F.vapidKey=P:F.vapidKey||(F.vapidKey=ls)})).apply(this,arguments)}function Gc(){return(Gc=(0,ee.Z)(function*(F,P){if(!navigator)throw qi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qi.create("permission-blocked");return yield cc(F,null==P?void 0:P.vapidKey),yield Io(F,null==P?void 0:P.serviceWorkerRegistration),jc(F)})).apply(this,arguments)}function uc(F,P,z){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,ee.Z)(function*(F,P,z){const le=$c(P);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(le,{message_id:z[tc],message_name:z[Wh],message_time:z[qh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $c(F){switch(F){case nc.NOTIFICATION_CLICKED:return"notification_open";case nc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Nu(){return(Nu=(0,ee.Z)(function*(F,P){const z=P.data;if(!z.isFirebaseMessaging)return;F.onMessageHandler&&z.messageType===nc.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(zs(z)):F.onMessageHandler.next(zs(z)));const le=z.data;Au(le)&&"1"===le[hi]&&(yield uc(F,z.messageType,le))})).apply(this,arguments)}const vl="@firebase/messaging",Kh=F=>{const P=new xa(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",z=>function Yh(F,P){return Nu.apply(this,arguments)}(P,z)),P},dc=F=>{const P=F.getProvider("messaging").getImmediate();return{getToken:le=>function Fu(F,P){return Gc.apply(this,arguments)}(P,le)}};function ba(){return $o.apply(this,arguments)}function $o(){return($o=(0,ee.Z)(function*(){try{yield(0,Ve.eu)()}catch(F){return!1}return"undefined"!=typeof window&&(0,Ve.hl)()&&(0,Ve.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qh(){(0,Ue._registerComponent)(new et.wA("messaging",Kh,"PUBLIC")),(0,Ue._registerComponent)(new et.wA("messaging-internal",dc,"PRIVATE")),(0,Ue.registerVersion)(vl,"0.9.13"),(0,Ue.registerVersion)(vl,"0.9.13","esm2017")}();const Vd="analytics",mp="firebase_id",Ca="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wl="https://www.googletagmanager.com/gtag/js",vr=new Ne.Yd("@firebase/analytics");function _p(F){return Promise.all(F.map(P=>P.catch(z=>z)))}function xl(F,P){const z=document.createElement("script");z.src=`${wl}?l=${F}&id=${P}`,z.async=!0,document.head.appendChild(z)}function Bu(F,P,z,le,ke,je){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,ee.Z)(function*(F,P,z,le,ke,je){const Et=le[ke];try{if(Et)yield P[Et];else{const Fn=(yield _p(z)).find(yn=>yn.measurementId===ke);Fn&&(yield P[Fn.appId])}}catch(Zt){vr.error(Zt)}F("config",ke,je)})).apply(this,arguments)}function Vu(F,P,z,le,ke){return bl.apply(this,arguments)}function bl(){return(bl=(0,ee.Z)(function*(F,P,z,le,ke){try{let je=[];if(ke&&ke.send_to){let Et=ke.send_to;Array.isArray(Et)||(Et=[Et]);const Zt=yield _p(z);for(const Fn of Et){const yn=Zt.find(Dn=>Dn.measurementId===Fn),Wn=yn&&P[yn.appId];if(!Wn){je=[];break}je.push(Wn)}}0===je.length&&(je=Object.values(P)),yield Promise.all(je),F("event",le,ke||{})}catch(je){vr.error(je)}})).apply(this,arguments)}function vp(){const F=window.document.getElementsByTagName("script");for(const P of Object.values(F))if(P.src&&P.src.includes(wl))return P;return null}const Zi=new Ve.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),H=new class O{constructor(P={},z=1e3){this.throttleMetadata=P,this.intervalMillis=z}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,z){this.throttleMetadata[P]=z}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function re(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function it(F){return gn.apply(this,arguments)}function gn(){return(gn=(0,ee.Z)(function*(F){var P;const{appId:z,apiKey:le}=F,ke={method:"GET",headers:re(le)},je=Ca.replace("{app-id}",z),Et=yield fetch(je,ke);if(200!==Et.status&&304!==Et.status){let Zt="";try{const Fn=yield Et.json();(null===(P=Fn.error)||void 0===P?void 0:P.message)&&(Zt=Fn.error.message)}catch(Fn){}throw Zi.create("config-fetch-failed",{httpStatus:Et.status,responseMessage:Zt})}return Et.json()})).apply(this,arguments)}function fn(F){return gr.apply(this,arguments)}function gr(){return(gr=(0,ee.Z)(function*(F,P=H,z){const{appId:le,apiKey:ke,measurementId:je}=F.options;if(!le)throw Zi.create("no-app-id");if(!ke){if(je)return{measurementId:je,appId:le};throw Zi.create("no-api-key")}const Et=P.getThrottleMetadata(le)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Zt=new tm;return setTimeout((0,ee.Z)(function*(){Zt.abort()}),void 0!==z?z:6e4),$i({appId:le,apiKey:ke,measurementId:je},Et,Zt,P)})).apply(this,arguments)}function $i(F,P,z){return $a.apply(this,arguments)}function $a(){return($a=(0,ee.Z)(function*(F,{throttleEndTimeMillis:P,backoffCount:z},le,ke=H){const{appId:je,measurementId:Et}=F;try{yield Cl(le,P)}catch(Zt){if(Et)return vr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${Zt.message}]`),{appId:je,measurementId:Et};throw Zt}try{const Zt=yield it(F);return ke.deleteThrottleMetadata(je),Zt}catch(Zt){if(!y_(Zt)){if(ke.deleteThrottleMetadata(je),Et)return vr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${Zt.message}]`),{appId:je,measurementId:Et};throw Zt}const Fn=503===Number(Zt.customData.httpStatus)?(0,Ve.$s)(z,ke.intervalMillis,30):(0,Ve.$s)(z,ke.intervalMillis),yn={throttleEndTimeMillis:Date.now()+Fn,backoffCount:z+1};return ke.setThrottleMetadata(je,yn),vr.debug(`Calling attemptFetch again in ${Fn} millis`),$i(F,yn,le,ke)}})).apply(this,arguments)}function Cl(F,P){return new Promise((z,le)=>{const ke=Math.max(P-Date.now(),0),je=setTimeout(z,ke);F.addEventListener(()=>{clearTimeout(je),le(Zi.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function y_(F){if(!(F instanceof Ve.ZR&&F.customData))return!1;const P=Number(F.customData.httpStatus);return 429===P||500===P||503===P||504===P}class tm{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}function Uu(){return hc.apply(this,arguments)}function hc(){return(hc=(0,ee.Z)(function*(){if(!(0,Ve.hl)())return vr.warn(Zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ve.eu)()}catch(F){return vr.warn(Zi.create("indexeddb-unavailable",{errorInfo:F}).message),!1}return!0})).apply(this,arguments)}function Hn(){return(Hn=(0,ee.Z)(function*(F,P,z,le,ke,je,Et){var Zt;const Fn=fn(F);Fn.then(Br=>{z[Br.measurementId]=Br.appId,F.options.measurementId&&Br.measurementId!==F.options.measurementId&&vr.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${Br.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Br=>vr.error(Br)),P.push(Fn);const yn=Uu().then(Br=>{if(Br)return le.getId()}),[Wn,Dn]=yield Promise.all([Fn,yn]);vp()||xl(je,Wn.measurementId),ke("js",new Date);const uo=null!==(Zt=null==Et?void 0:Et.config)&&void 0!==Zt?Zt:{};return uo.origin="firebase",uo.update=!0,null!=Dn&&(uo[mp]=Dn),ke("config",Wn.measurementId,uo),Wn.measurementId})).apply(this,arguments)}class Ea{constructor(P){this.app=P}_delete(){return delete Ts[this.app.options.appId],Promise.resolve()}}let Ts={},nm=[];const Ud={};let yp,Kc,Hu="dataLayer",ef=!1;function a1(F,P,z){!function jd(){const F=[];if((0,Ve.ru)()&&F.push("This is a browser extension environment."),(0,Ve.zI)()||F.push("Cookies are not available."),F.length>0){const P=F.map((le,ke)=>`(${ke+1}) ${le}`).join(" "),z=Zi.create("invalid-analytics-context",{errorInfo:P});vr.warn(z.message)}}();const le=F.options.appId;if(!le)throw Zi.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw Zi.create("no-api-key");vr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ts[le])throw Zi.create("already-exists",{id:le});if(!ef){!function Lu(F){let P=[];Array.isArray(window[F])?P=window[F]:window[F]=P}(Hu);const{wrappedGtag:je,gtagCore:Et}=function Xg(F,P,z,le,ke){let je=function(...Et){window[le].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(je=window[ke]),window[ke]=function Xh(F,P,z,le){function je(){return(je=(0,ee.Z)(function*(Et,Zt,Fn){try{"event"===Et?yield Vu(F,P,z,Zt,Fn):"config"===Et?yield Bu(F,P,z,le,Zt,Fn):F("set",Zt)}catch(yn){vr.error(yn)}})).apply(this,arguments)}return function ke(Et,Zt,Fn){return je.apply(this,arguments)}}(je,F,P,z),{gtagCore:je,wrappedGtag:window[ke]}}(Ts,nm,Ud,Hu,"gtag");Kc=je,yp=Et,ef=!0}return Ts[le]=function fc(F,P,z,le,ke,je,Et){return Hn.apply(this,arguments)}(F,nm,Ud,P,yp,Hu,z),new Ea(F)}function tf(){return(tf=(0,ee.Z)(function*(F,P,z,le,ke){if(ke&&ke.global)F("event",z,le);else{const je=yield P;F("event",z,Object.assign(Object.assign({},le),{send_to:je}))}})).apply(this,arguments)}function l1(){return xp.apply(this,arguments)}function xp(){return(xp=(0,ee.Z)(function*(){if((0,Ve.ru)()||!(0,Ve.zI)()||!(0,Ve.hl)())return!1;try{return yield(0,Ve.eu)()}catch(F){return!1}})).apply(this,arguments)}const w_="@firebase/analytics";!function d1(){(0,Ue._registerComponent)(new et.wA(Vd,(P,{options:z})=>a1(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),z),"PUBLIC")),(0,Ue._registerComponent)(new et.wA("analytics-internal",function F(P){try{const z=P.getProvider(Vd).getImmediate();return{logEvent:(le,ke,je)=>function u1(F,P,z,le){F=(0,Ve.m9)(F),function ju(F,P,z,le,ke){return tf.apply(this,arguments)}(Kc,Ts[F.app.options.appId],P,z,le).catch(ke=>vr.error(ke))}(z,le,ke,je)}}catch(z){throw Zi.create("interop-component-reg-failed",{reason:z})}},"PRIVATE")),(0,Ue.registerVersion)(w_,"0.7.9"),(0,Ue.registerVersion)(w_,"0.7.9","esm2017")}();var qd=J(4408),yr=J(7565);const El=new class bp extends yr.v{}(class Ub extends qd.o{constructor(P,z){super(P,z),this.scheduler=P,this.work=z}schedule(P,z=0){return z>0?super.schedule(P,z):(this.delay=z,this.state=P,this.scheduler.flush(this),this)}execute(P,z){return z>0||this.closed?super.execute(P,z):this._execute(P,z)}requestAsyncId(P,z,le=0){return null!=le&&le>0||null==le&&this.delay>0?super.requestAsyncId(P,z,le):P.flush(this)}});var sf=J(4986),lo=J(8505),co=J(9468),Jc=J(5363);const Qr=new o.GfV("7.3.0"),pc="__angularfire_symbol__analyticsIsSupportedValue",gc="__angularfire_symbol__analyticsIsSupported",mc="__angularfire_symbol__remoteConfigIsSupportedValue",Ya="__angularfire_symbol__remoteConfigIsSupported",Gu="__angularfire_symbol__messagingIsSupportedValue",x_="__angularfire_symbol__messagingIsSupported";function h1(F,P,z){if(P){if(1===P.length)return P[0];const je=P.filter(Et=>Et.app===z);if(1===je.length)return je[0]}return z.container.getProvider(F).getImmediate({optional:!0})}globalThis[gc]||(globalThis[gc]=l1().then(F=>globalThis[pc]=F).catch(()=>globalThis[pc]=!1)),globalThis[x_]||(globalThis[x_]=ba().then(F=>globalThis[Gu]=F).catch(()=>globalThis[Gu]=!1)),globalThis[Ya]||(globalThis[Ya]=ku().then(F=>globalThis[mc]=F).catch(()=>globalThis[mc]=!1));const Cp=(F,P)=>{const z=P?[P]:(0,Ie.C6)(),le=[];return z.forEach(ke=>{ke.container.getProvider(F).instances.forEach(Et=>{le.includes(Et)||le.push(Et)})}),le};function Sl(){}class b_{constructor(P,z=El){this.zone=P,this.delegate=z}now(){return this.delegate.now()}schedule(P,z,le){const ke=this.zone;return this.delegate.schedule(function(Et){ke.runGuarded(()=>{P.apply(this,[Et])})},z,le)}}class af{constructor(P){this.zone=P,this.task=null}call(P,z){const le=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sl,{},Sl,Sl)),z.pipe((0,lo.b)({next:le,complete:le,error:le})).subscribe(P).add(le)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tp=(()=>{class F{constructor(z){this.ngZone=z,this.outsideAngular=z.runOutsideAngular(()=>new b_(Zone.current)),this.insideAngular=z.run(()=>new b_(Zone.current,sf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(z){return new(z||F)(o.LFG(o.R0b))},F.\u0275prov=o.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function Il(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Al(F){return Il(),function _c(F){return function(z){return(z=z.lift(new af(F.ngZone))).pipe((0,co.R)(F.outsideAngular),(0,Jc.Q)(F.insideAngular))}}(Il())(F)}},2090:(sn,tt,J)=>{"use strict";J.d(tt,{$s:()=>An,BH:()=>zt,DV:()=>Kn,Dv:()=>Vo,G6:()=>Ut,GJ:()=>Xn,L:()=>Ze,LL:()=>He,Mn:()=>ut,Pz:()=>qn,Sg:()=>yt,UG:()=>Qe,UI:()=>Bs,US:()=>et,Wj:()=>wn,Yr:()=>Ht,ZB:()=>ve,ZR:()=>Pe,b$:()=>rn,cI:()=>ni,d:()=>_t,dS:()=>xs,eu:()=>nt,g5:()=>ee,gK:()=>ws,gQ:()=>Vs,h$:()=>Ne,hl:()=>G,hu:()=>Ie,jU:()=>dt,lb:()=>nr,m9:()=>Gr,ne:()=>ss,p$:()=>_e,pd:()=>To,r3:()=>dr,ru:()=>Gt,tV:()=>$e,uI:()=>Vt,ug:()=>$n,vZ:()=>ys,w1:()=>rt,w9:()=>Ai,xO:()=>Zr,xb:()=>Gn,z$:()=>kt,zI:()=>xe,zd:()=>ro});const Ie=function(pe,be){if(!pe)throw ee(be)},ee=function(pe){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+pe)},Ue=function(pe){const be=[];let Ce=0;for(let ht=0;ht<pe.length;ht++){let ae=pe.charCodeAt(ht);ae<128?be[Ce++]=ae:ae<2048?(be[Ce++]=ae>>6|192,be[Ce++]=63&ae|128):55296==(64512&ae)&&ht+1<pe.length&&56320==(64512&pe.charCodeAt(ht+1))?(ae=65536+((1023&ae)<<10)+(1023&pe.charCodeAt(++ht)),be[Ce++]=ae>>18|240,be[Ce++]=ae>>12&63|128,be[Ce++]=ae>>6&63|128,be[Ce++]=63&ae|128):(be[Ce++]=ae>>12|224,be[Ce++]=ae>>6&63|128,be[Ce++]=63&ae|128)}return be},et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(pe,be){if(!Array.isArray(pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,ht=[];for(let ae=0;ae<pe.length;ae+=3){const Oe=pe[ae],Tt=ae+1<pe.length,on=Tt?pe[ae+1]:0,bn=ae+2<pe.length,Cn=bn?pe[ae+2]:0;let Tr=(15&on)<<2|Cn>>6,bs=63&Cn;bn||(bs=64,Tt||(Tr=64)),ht.push(Ce[Oe>>2],Ce[(3&Oe)<<4|on>>4],Ce[Tr],Ce[bs])}return ht.join("")},encodeString(pe,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(pe):this.encodeByteArray(Ue(pe),be)},decodeString(pe,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(pe):function(pe){const be=[];let Ce=0,ht=0;for(;Ce<pe.length;){const ae=pe[Ce++];if(ae<128)be[ht++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const Oe=pe[Ce++];be[ht++]=String.fromCharCode((31&ae)<<6|63&Oe)}else if(ae>239&&ae<365){const bn=((7&ae)<<18|(63&pe[Ce++])<<12|(63&pe[Ce++])<<6|63&pe[Ce++])-65536;be[ht++]=String.fromCharCode(55296+(bn>>10)),be[ht++]=String.fromCharCode(56320+(1023&bn))}else{const Oe=pe[Ce++],Tt=pe[Ce++];be[ht++]=String.fromCharCode((15&ae)<<12|(63&Oe)<<6|63&Tt)}}return be.join("")}(this.decodeStringToByteArray(pe,be))},decodeStringToByteArray(pe,be){this.init_();const Ce=be?this.charToByteMapWebSafe_:this.charToByteMap_,ht=[];for(let ae=0;ae<pe.length;){const Oe=Ce[pe.charAt(ae++)],on=ae<pe.length?Ce[pe.charAt(ae)]:0;++ae;const Cn=ae<pe.length?Ce[pe.charAt(ae)]:64;++ae;const Mn=ae<pe.length?Ce[pe.charAt(ae)]:64;if(++ae,null==Oe||null==on||null==Cn||null==Mn)throw Error();ht.push(Oe<<2|on>>4),64!==Cn&&(ht.push(on<<4&240|Cn>>2),64!==Mn&&ht.push(Cn<<6&192|Mn))}return ht},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let pe=0;pe<this.ENCODED_VALS.length;pe++)this.byteToCharMap_[pe]=this.ENCODED_VALS.charAt(pe),this.charToByteMap_[this.byteToCharMap_[pe]]=pe,this.byteToCharMapWebSafe_[pe]=this.ENCODED_VALS_WEBSAFE.charAt(pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[pe]]=pe,pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(pe)]=pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(pe)]=pe)}}},Ne=function(pe){const be=Ue(pe);return et.encodeByteArray(be,!0)},Ze=function(pe){return Ne(pe).replace(/\./g,"")},$e=function(pe){try{return et.decodeString(pe,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function _e(pe){return ve(void 0,pe)}function ve(pe,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===pe&&(pe={});break;case Array:pe=[];break;default:return be}for(const Ce in be)!be.hasOwnProperty(Ce)||!Re(Ce)||(pe[Ce]=ve(pe[Ce],be[Ce]));return pe}function Re(pe){return"__proto__"!==pe}class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Ce)=>{this.resolve=be,this.reject=Ce})}wrapCallback(be){return(Ce,ht)=>{Ce?this.reject(Ce):this.resolve(ht),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Ce):be(Ce,ht))}}}function yt(pe,be){if(pe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ht=be||"demo-project",ae=pe.iat||0,Oe=pe.sub||pe.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tt=Object.assign({iss:`https://securetoken.google.com/${ht}`,aud:ht,iat:ae,exp:ae+3600,auth_time:ae,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},pe);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(Tt)),""].join(".")}function kt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Vt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function Qe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(pe){return!1}}function dt(){return"object"==typeof self&&self.self===self}function Gt(){const pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof pe&&void 0!==pe.id}function rn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){return kt().indexOf("Electron/")>=0}function rt(){const pe=kt();return pe.indexOf("MSIE ")>=0||pe.indexOf("Trident/")>=0}function ut(){return kt().indexOf("MSAppHost/")>=0}function Ht(){return!1}function Ut(){return!Qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G(){return"object"==typeof indexedDB}function nt(){return new Promise((pe,be)=>{try{let Ce=!0;const ht="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(ht);ae.onsuccess=()=>{ae.result.close(),Ce||self.indexedDB.deleteDatabase(ht),pe(!0)},ae.onupgradeneeded=()=>{Ce=!1},ae.onerror=()=>{var Oe;be((null===(Oe=ae.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(Ce){be(Ce)}})}function xe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(be,Ce,ht){super(Ce),this.code=be,this.customData=ht,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(be,Ce,ht){this.service=be,this.serviceName=Ce,this.errors=ht}create(be,...Ce){const ht=Ce[0]||{},ae=`${this.service}/${be}`,Oe=this.errors[be],Tt=Oe?function Dt(pe,be){return pe.replace(mn,(Ce,ht)=>{const ae=be[ht];return null!=ae?String(ae):`<${ht}?>`})}(Oe,ht):"Error";return new Pe(ae,`${this.serviceName}: ${Tt} (${ae}).`,ht)}}const mn=/\{\$([^}]+)}/g;function ni(pe){return JSON.parse(pe)}function qn(pe){return JSON.stringify(pe)}const tn=function(pe){let be={},Ce={},ht={},ae="";try{const Oe=pe.split(".");be=ni($e(Oe[0])||""),Ce=ni($e(Oe[1])||""),ae=Oe[2],ht=Ce.d||{},delete Ce.d}catch(Oe){}return{header:be,claims:Ce,data:ht,signature:ae}},Ai=function(pe){const Ce=tn(pe).claims;return!!Ce&&"object"==typeof Ce&&Ce.hasOwnProperty("iat")},Xn=function(pe){const be=tn(pe).claims;return"object"==typeof be&&!0===be.admin};function dr(pe,be){return Object.prototype.hasOwnProperty.call(pe,be)}function Kn(pe,be){if(Object.prototype.hasOwnProperty.call(pe,be))return pe[be]}function Gn(pe){for(const be in pe)if(Object.prototype.hasOwnProperty.call(pe,be))return!1;return!0}function Bs(pe,be,Ce){const ht={};for(const ae in pe)Object.prototype.hasOwnProperty.call(pe,ae)&&(ht[ae]=be.call(Ce,pe[ae],ae,pe));return ht}function ys(pe,be){if(pe===be)return!0;const Ce=Object.keys(pe),ht=Object.keys(be);for(const ae of Ce){if(!ht.includes(ae))return!1;const Oe=pe[ae],Tt=be[ae];if(rs(Oe)&&rs(Tt)){if(!ys(Oe,Tt))return!1}else if(Oe!==Tt)return!1}for(const ae of ht)if(!Ce.includes(ae))return!1;return!0}function rs(pe){return null!==pe&&"object"==typeof pe}function Zr(pe){const be=[];for(const[Ce,ht]of Object.entries(pe))Array.isArray(ht)?ht.forEach(ae=>{be.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ae))}):be.push(encodeURIComponent(Ce)+"="+encodeURIComponent(ht));return be.length?"&"+be.join("&"):""}function ro(pe){const be={};return pe.replace(/^\?/,"").split("&").forEach(ht=>{if(ht){const[ae,Oe]=ht.split("=");be[decodeURIComponent(ae)]=decodeURIComponent(Oe)}}),be}function To(pe){const be=pe.indexOf("?");if(!be)return"";const Ce=pe.indexOf("#",be);return pe.substring(be,Ce>0?Ce:void 0)}class Vs{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let be=1;be<this.blockSize;++be)this.pad_[be]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(be,Ce){Ce||(Ce=0);const ht=this.W_;if("string"==typeof be)for(let Mn=0;Mn<16;Mn++)ht[Mn]=be.charCodeAt(Ce)<<24|be.charCodeAt(Ce+1)<<16|be.charCodeAt(Ce+2)<<8|be.charCodeAt(Ce+3),Ce+=4;else for(let Mn=0;Mn<16;Mn++)ht[Mn]=be[Ce]<<24|be[Ce+1]<<16|be[Ce+2]<<8|be[Ce+3],Ce+=4;for(let Mn=16;Mn<80;Mn++){const Tr=ht[Mn-3]^ht[Mn-8]^ht[Mn-14]^ht[Mn-16];ht[Mn]=4294967295&(Tr<<1|Tr>>>31)}let Cn,Li,ae=this.chain_[0],Oe=this.chain_[1],Tt=this.chain_[2],on=this.chain_[3],bn=this.chain_[4];for(let Mn=0;Mn<80;Mn++){Mn<40?Mn<20?(Cn=on^Oe&(Tt^on),Li=1518500249):(Cn=Oe^Tt^on,Li=1859775393):Mn<60?(Cn=Oe&Tt|on&(Oe|Tt),Li=2400959708):(Cn=Oe^Tt^on,Li=3395469782);const Tr=(ae<<5|ae>>>27)+Cn+bn+Li+ht[Mn]&4294967295;bn=on,on=Tt,Tt=4294967295&(Oe<<30|Oe>>>2),Oe=ae,ae=Tr}this.chain_[0]=this.chain_[0]+ae&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+Tt&4294967295,this.chain_[3]=this.chain_[3]+on&4294967295,this.chain_[4]=this.chain_[4]+bn&4294967295}update(be,Ce){if(null==be)return;void 0===Ce&&(Ce=be.length);const ht=Ce-this.blockSize;let ae=0;const Oe=this.buf_;let Tt=this.inbuf_;for(;ae<Ce;){if(0===Tt)for(;ae<=ht;)this.compress_(be,ae),ae+=this.blockSize;if("string"==typeof be){for(;ae<Ce;)if(Oe[Tt]=be.charCodeAt(ae),++Tt,++ae,Tt===this.blockSize){this.compress_(Oe),Tt=0;break}}else for(;ae<Ce;)if(Oe[Tt]=be[ae],++Tt,++ae,Tt===this.blockSize){this.compress_(Oe),Tt=0;break}}this.inbuf_=Tt,this.total_+=Ce}digest(){const be=[];let Ce=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ae=this.blockSize-1;ae>=56;ae--)this.buf_[ae]=255&Ce,Ce/=256;this.compress_(this.buf_);let ht=0;for(let ae=0;ae<5;ae++)for(let Oe=24;Oe>=0;Oe-=8)be[ht]=this.chain_[ae]>>Oe&255,++ht;return be}}function ss(pe,be){const Ce=new ln(pe,be);return Ce.subscribe.bind(Ce)}class ln{constructor(be,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{be(this)}).catch(ht=>{this.error(ht)})}next(be){this.forEachObserver(Ce=>{Ce.next(be)})}error(be){this.forEachObserver(Ce=>{Ce.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Ce,ht){let ae;if(void 0===be&&void 0===Ce&&void 0===ht)throw new Error("Missing Observer.");ae=function tr(pe,be){if("object"!=typeof pe||null===pe)return!1;for(const Ce of be)if(Ce in pe&&"function"==typeof pe[Ce])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Ce,complete:ht},void 0===ae.next&&(ae.next=di),void 0===ae.error&&(ae.error=di),void 0===ae.complete&&(ae.complete=di);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(Tt){}}),this.observers.push(ae),Oe}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,be)}sendOne(be,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Ce(this.observers[be])}catch(ht){"undefined"!=typeof console&&console.error&&console.error(ht)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}const Vo=function(pe,be,Ce,ht){let ae;if(ht<be?ae="at least "+be:ht>Ce&&(ae=0===Ce?"none":"no more than "+Ce),ae)throw new Error(pe+" failed: Was called with "+ht+(1===ht?" argument.":" arguments.")+" Expects "+ae+".")};function ws(pe,be){return`${pe} failed: ${be} argument `}function wn(pe,be,Ce,ht){if((!ht||Ce)&&"function"!=typeof Ce)throw new Error(ws(pe,be)+"must be a valid function.")}function nr(pe,be,Ce,ht){if((!ht||Ce)&&("object"!=typeof Ce||null===Ce))throw new Error(ws(pe,be)+"must be a valid context object.")}const xs=function(pe){const be=[];let Ce=0;for(let ht=0;ht<pe.length;ht++){let ae=pe.charCodeAt(ht);if(ae>=55296&&ae<=56319){const Oe=ae-55296;ht++,Ie(ht<pe.length,"Surrogate pair missing trail surrogate."),ae=65536+(Oe<<10)+(pe.charCodeAt(ht)-56320)}ae<128?be[Ce++]=ae:ae<2048?(be[Ce++]=ae>>6|192,be[Ce++]=63&ae|128):ae<65536?(be[Ce++]=ae>>12|224,be[Ce++]=ae>>6&63|128,be[Ce++]=63&ae|128):(be[Ce++]=ae>>18|240,be[Ce++]=ae>>12&63|128,be[Ce++]=ae>>6&63|128,be[Ce++]=63&ae|128)}return be},$n=function(pe){let be=0;for(let Ce=0;Ce<pe.length;Ce++){const ht=pe.charCodeAt(Ce);ht<128?be++:ht<2048?be+=2:ht>=55296&&ht<=56319?(be+=4,Ce++):be+=3}return be};function An(pe,be=1e3,Ce=2){const ht=be*Math.pow(Ce,pe),ae=Math.round(.5*ht*(Math.random()-.5)*2);return Math.min(144e5,ht+ae)}function Gr(pe){return pe&&pe._delegate?pe._delegate:pe}},2977:(sn,tt,J)=>{"use strict";var o=J(5e3);let Ie=null;function ee(){return Ie}const Ne=new o.OlP("DocumentToken");let Ze=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function $e(){return(0,o.LFG)(ve)}()},providedIn:"platform"}),n})();const _e=new o.OlP("Location Initialized");let ve=(()=>{class n extends Ze{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(e){const i=ee().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ee().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Re()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Re()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function zt(){return new ve((0,o.LFG)(Ne))}()},providedIn:"platform"}),n})();function Re(){return!!window.history.pushState}function yt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function kt(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Vt(n){return n&&"?"!==n[0]?"?"+n:n}let Qe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function dt(n){const t=(0,o.LFG)(Ne).location;return new rn((0,o.LFG)(Ze),t&&t.origin||"")}()},providedIn:"root"}),n})();const Gt=new o.OlP("appBaseHref");let rn=(()=>{class n extends Qe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return yt(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Vt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const a=this.prepareExternalUrl(r+Vt(s));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){const a=this.prepareExternalUrl(r+Vt(s));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(Gt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_t=(()=>{class n extends Qe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=yt(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let a=this.prepareExternalUrl(r+Vt(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,s){let a=this.prepareExternalUrl(r+Vt(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ze),o.LFG(Gt,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),rt=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=kt(Ut(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Vt(i))}normalize(e){return n.stripTrailingSlash(function Ht(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ut(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vt(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vt(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Vt,n.joinWithSlash=yt,n.stripTrailingSlash=kt,n.\u0275fac=function(e){return new(e||n)(o.LFG(Qe),o.LFG(Ze))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ut(){return new rt((0,o.LFG)(Qe),(0,o.LFG)(Ze))}()},providedIn:"root"}),n})();function Ut(n){return n.replace(/\/index.html$/,"")}const G={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var nt=(()=>((nt=nt||{})[nt.Decimal=0]="Decimal",nt[nt.Percent=1]="Percent",nt[nt.Currency=2]="Currency",nt[nt.Scientific=3]="Scientific",nt))(),Le=(()=>((Le=Le||{})[Le.Format=0]="Format",Le[Le.Standalone=1]="Standalone",Le))(),De=(()=>((De=De||{})[De.Narrow=0]="Narrow",De[De.Abbreviated=1]="Abbreviated",De[De.Wide=2]="Wide",De[De.Short=3]="Short",De))(),Pe=(()=>((Pe=Pe||{})[Pe.Short=0]="Short",Pe[Pe.Medium=1]="Medium",Pe[Pe.Long=2]="Long",Pe[Pe.Full=3]="Full",Pe))(),He=(()=>((He=He||{})[He.Decimal=0]="Decimal",He[He.Group=1]="Group",He[He.List=2]="List",He[He.PercentSign=3]="PercentSign",He[He.PlusSign=4]="PlusSign",He[He.MinusSign=5]="MinusSign",He[He.Exponential=6]="Exponential",He[He.SuperscriptingExponent=7]="SuperscriptingExponent",He[He.PerMille=8]="PerMille",He[He.Infinity=9]="Infinity",He[He.NaN=10]="NaN",He[He.TimeSeparator=11]="TimeSeparator",He[He.CurrencyDecimal=12]="CurrencyDecimal",He[He.CurrencyGroup=13]="CurrencyGroup",He))();function Xn(n,t){return tr((0,o.cg1)(n)[o.wAp.DateFormat],t)}function dr(n,t){return tr((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function Kn(n,t){return tr((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Gn(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(void 0===i){if(t===He.CurrencyDecimal)return e[o.wAp.NumberSymbols][He.Decimal];if(t===He.CurrencyGroup)return e[o.wAp.NumberSymbols][He.Group]}return i}function Vs(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tr(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function di(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const wn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nr={},xs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $n=(()=>(($n=$n||{})[$n.Short=0]="Short",$n[$n.ShortGMT=1]="ShortGMT",$n[$n.Long=2]="Long",$n[$n.Extended=3]="Extended",$n))(),Jt=(()=>((Jt=Jt||{})[Jt.FullYear=0]="FullYear",Jt[Jt.Month=1]="Month",Jt[Jt.Date=2]="Date",Jt[Jt.Hours=3]="Hours",Jt[Jt.Minutes=4]="Minutes",Jt[Jt.Seconds=5]="Seconds",Jt[Jt.FractionalSeconds=6]="FractionalSeconds",Jt[Jt.Day=7]="Day",Jt))(),dn=(()=>((dn=dn||{})[dn.DayPeriods=0]="DayPeriods",dn[dn.Days=1]="Days",dn[dn.Months=2]="Months",dn[dn.Eras=3]="Eras",dn))();function Wr(n,t,e,i){let r=function Ql(n){if(Er(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,a=1]=n.split("-").map(l=>+l);return os(r,s-1,a)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(wn))return function Fc(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const a=Number(n[4]||0)-e,l=Number(n[5]||0)-i,d=Number(n[6]||0),f=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,a,l,d,f),t}(i)}const t=new Date(n);if(!Er(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=An(e,t)||t;let l,a=[];for(;t;){if(l=xs.exec(t),!l){a.push(t);break}{a=a.concat(l.slice(1));const p=a.pop();if(!p)break;t=p}}let d=r.getTimezoneOffset();i&&(d=bs(i,d),r=function Rc(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function Eu(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(bs(t,r)-r))}(r,i,!0));let f="";return a.forEach(p=>{const m=function Tr(n){if(Mn[n])return Mn[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ce(dn.Eras,De.Abbreviated);break;case"GGGG":t=Ce(dn.Eras,De.Wide);break;case"GGGGG":t=Ce(dn.Eras,De.Narrow);break;case"y":t=pe(Jt.FullYear,1,0,!1,!0);break;case"yy":t=pe(Jt.FullYear,2,0,!0,!0);break;case"yyy":t=pe(Jt.FullYear,3,0,!1,!0);break;case"yyyy":t=pe(Jt.FullYear,4,0,!1,!0);break;case"Y":t=Li(1);break;case"YY":t=Li(2,!0);break;case"YYY":t=Li(3);break;case"YYYY":t=Li(4);break;case"M":case"L":t=pe(Jt.Month,1,1);break;case"MM":case"LL":t=pe(Jt.Month,2,1);break;case"MMM":t=Ce(dn.Months,De.Abbreviated);break;case"MMMM":t=Ce(dn.Months,De.Wide);break;case"MMMMM":t=Ce(dn.Months,De.Narrow);break;case"LLL":t=Ce(dn.Months,De.Abbreviated,Le.Standalone);break;case"LLLL":t=Ce(dn.Months,De.Wide,Le.Standalone);break;case"LLLLL":t=Ce(dn.Months,De.Narrow,Le.Standalone);break;case"w":t=Cn(1);break;case"ww":t=Cn(2);break;case"W":t=Cn(1,!0);break;case"d":t=pe(Jt.Date,1);break;case"dd":t=pe(Jt.Date,2);break;case"c":case"cc":t=pe(Jt.Day,1);break;case"ccc":t=Ce(dn.Days,De.Abbreviated,Le.Standalone);break;case"cccc":t=Ce(dn.Days,De.Wide,Le.Standalone);break;case"ccccc":t=Ce(dn.Days,De.Narrow,Le.Standalone);break;case"cccccc":t=Ce(dn.Days,De.Short,Le.Standalone);break;case"E":case"EE":case"EEE":t=Ce(dn.Days,De.Abbreviated);break;case"EEEE":t=Ce(dn.Days,De.Wide);break;case"EEEEE":t=Ce(dn.Days,De.Narrow);break;case"EEEEEE":t=Ce(dn.Days,De.Short);break;case"a":case"aa":case"aaa":t=Ce(dn.DayPeriods,De.Abbreviated);break;case"aaaa":t=Ce(dn.DayPeriods,De.Wide);break;case"aaaaa":t=Ce(dn.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":t=Ce(dn.DayPeriods,De.Abbreviated,Le.Standalone,!0);break;case"bbbb":t=Ce(dn.DayPeriods,De.Wide,Le.Standalone,!0);break;case"bbbbb":t=Ce(dn.DayPeriods,De.Narrow,Le.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ce(dn.DayPeriods,De.Abbreviated,Le.Format,!0);break;case"BBBB":t=Ce(dn.DayPeriods,De.Wide,Le.Format,!0);break;case"BBBBB":t=Ce(dn.DayPeriods,De.Narrow,Le.Format,!0);break;case"h":t=pe(Jt.Hours,1,-12);break;case"hh":t=pe(Jt.Hours,2,-12);break;case"H":t=pe(Jt.Hours,1);break;case"HH":t=pe(Jt.Hours,2);break;case"m":t=pe(Jt.Minutes,1);break;case"mm":t=pe(Jt.Minutes,2);break;case"s":t=pe(Jt.Seconds,1);break;case"ss":t=pe(Jt.Seconds,2);break;case"S":t=pe(Jt.FractionalSeconds,1);break;case"SS":t=pe(Jt.FractionalSeconds,2);break;case"SSS":t=pe(Jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ae($n.Short);break;case"ZZZZZ":t=ae($n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ae($n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ae($n.Long);break;default:return null}return Mn[n]=t,t}(p);f+=m?m(r,e,d):"''"===p?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),f}function os(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function An(n,t){const e=function mn(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(nr[e]=nr[e]||{},nr[e][t])return nr[e][t];let i="";switch(t){case"shortDate":i=Xn(n,Pe.Short);break;case"mediumDate":i=Xn(n,Pe.Medium);break;case"longDate":i=Xn(n,Pe.Long);break;case"fullDate":i=Xn(n,Pe.Full);break;case"shortTime":i=dr(n,Pe.Short);break;case"mediumTime":i=dr(n,Pe.Medium);break;case"longTime":i=dr(n,Pe.Long);break;case"fullTime":i=dr(n,Pe.Full);break;case"short":const r=An(n,"shortTime"),s=An(n,"shortDate");i=gl(Kn(n,Pe.Short),[r,s]);break;case"medium":const a=An(n,"mediumTime"),l=An(n,"mediumDate");i=gl(Kn(n,Pe.Medium),[a,l]);break;case"long":const d=An(n,"longTime"),f=An(n,"longDate");i=gl(Kn(n,Pe.Long),[d,f]);break;case"full":const p=An(n,"fullTime"),m=An(n,"fullDate");i=gl(Kn(n,Pe.Full),[p,m])}return i&&(nr[e][t]=i),i}function gl(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function qr(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let a=String(n);for(;a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),s+a}function pe(n,t,e=0,i=!1,r=!1){return function(s,a){let l=function be(n,t){switch(n){case Jt.FullYear:return t.getFullYear();case Jt.Month:return t.getMonth();case Jt.Date:return t.getDate();case Jt.Hours:return t.getHours();case Jt.Minutes:return t.getMinutes();case Jt.Seconds:return t.getSeconds();case Jt.FractionalSeconds:return t.getMilliseconds();case Jt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||l>-e)&&(l+=e),n===Jt.Hours)0===l&&-12===e&&(l=12);else if(n===Jt.FractionalSeconds)return function Gr(n,t){return qr(n,3).substr(0,t)}(l,t);const d=Gn(a,He.MinusSign);return qr(l,t,d,i,r)}}function Ce(n,t,e=Le.Format,i=!1){return function(r,s){return function ht(n,t,e,i,r,s){switch(e){case dn.Months:return function tn(n,t,e){const i=(0,o.cg1)(n),s=tr([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return tr(s,e)}(t,r,i)[n.getMonth()];case dn.Days:return function qn(n,t,e){const i=(0,o.cg1)(n),s=tr([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return tr(s,e)}(t,r,i)[n.getDay()];case dn.DayPeriods:const a=n.getHours(),l=n.getMinutes();if(s){const f=function ss(n){const t=(0,o.cg1)(n);return Vs(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?di(i):[di(i[0]),di(i[1])])}(t),p=function ln(n,t,e){const i=(0,o.cg1)(n);Vs(i);const s=tr([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return tr(s,e)||[]}(t,r,i),m=f.findIndex(w=>{if(Array.isArray(w)){const[b,T]=w,E=a>=b.hours&&l>=b.minutes,M=a<T.hours||a===T.hours&&l<T.minutes;if(b.hours<T.hours){if(E&&M)return!0}else if(E||M)return!0}else if(w.hours===a&&w.minutes===l)return!0;return!1});if(-1!==m)return p[m]}return function ni(n,t,e){const i=(0,o.cg1)(n),s=tr([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return tr(s,e)}(t,r,i)[a<12?0:1];case dn.Eras:return function zn(n,t){return tr((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function ae(n){return function(t,e,i){const r=-1*i,s=Gn(e,He.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case $n.Short:return(r>=0?"+":"")+qr(a,2,s)+qr(Math.abs(r%60),2,s);case $n.ShortGMT:return"GMT"+(r>=0?"+":"")+qr(a,1,s);case $n.Long:return"GMT"+(r>=0?"+":"")+qr(a,2,s)+":"+qr(Math.abs(r%60),2,s);case $n.Extended:return 0===i?"Z":(r>=0?"+":"")+qr(a,2,s)+":"+qr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function bn(n){return os(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Cn(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();r=1+Math.floor((a+s)/7)}else{const s=bn(e),a=function on(n){const t=os(n,0,1).getDay();return os(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),l=s.getTime()-a.getTime();r=1+Math.round(l/6048e5)}return qr(r,n,Gn(i,He.MinusSign))}}function Li(n,t=!1){return function(e,i){return qr(bn(e).getFullYear(),n,Gn(i,He.MinusSign),t)}}const Mn={};function bs(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Er(n){return n instanceof Date&&!isNaN(n.valueOf())}const Sr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Sn(n,t,e,i,r){const a=function Mi(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],l=a[0],d=a[1]||"";e.posPre=l.substr(0,l.indexOf("#"));for(let p=0;p<d.length;p++){const m=d.charAt(p);"0"===m?e.minFrac=e.maxFrac=p+1:"#"===m?e.maxFrac=p+1:e.posSuf+=m}const f=l.split(",");if(e.gSize=f[1]?f[1].length:0,e.lgSize=f[2]||f[1]?(f[2]||f[1]).length:0,s){const p=r.length-e.posPre.length-e.posSuf.length,m=s.indexOf("#");e.negPre=s.substr(0,m).replace(/'/g,""),e.negSuf=s.substr(m+p).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Bs(n,t){return(0,o.cg1)(n)[o.wAp.NumberFormats][t]}(t,nt.Currency),Gn(t,He.MinusSign));return a.minFrac=function Cr(n){let t;const e=G[n];return e&&(t=e[2]),"number"==typeof t?t:2}(i),a.maxFrac=a.minFrac,function Jl(n,t,e,i,r,s,a=!1){let l="",d=!1;if(isFinite(n)){let f=function Uo(n){let i,r,s,a,l,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(l=t.length))i=[0],r=1;else{for(l--;"0"===t.charAt(l);)l--;for(r-=s,i=[],a=0;s<=l;s++,a++)i[a]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(f=function Hs(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(f));let p=t.minInt,m=t.minFrac,w=t.maxFrac;if(s){const V=s.match(Sr);if(null===V)throw new Error(`${s} is not a valid digit info`);const U=V[1],q=V[3],Q=V[5];null!=U&&(p=so(U)),null!=q&&(m=so(q)),null!=Q?w=so(Q):null!=q&&m>w&&(w=m)}!function _r(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let a=s+n.integerLen,l=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let m=a;m<i.length;m++)i[m]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=s+1),i[0]=0;for(let m=1;m<a;m++)i[m]=0}if(l>=5)if(a-1<0){for(let m=0;m>a;m--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,s);r++)i.push(0);let d=0!==s;const f=t+n.integerLen,p=i.reduceRight(function(m,w,b,T){return T[b]=(w+=m)<10?w:w-10,d&&(0===T[b]&&b>=f?T.pop():d=!1),w>=10?1:0},0);p&&(i.unshift(p),n.integerLen++)}(f,m,w);let b=f.digits,T=f.integerLen;const E=f.exponent;let M=[];for(d=b.every(V=>!V);T<p;T++)b.unshift(0);for(;T<0;T++)b.unshift(0);T>0?M=b.splice(T,b.length):(M=b,b=[0]);const N=[];for(b.length>=t.lgSize&&N.unshift(b.splice(-t.lgSize,b.length).join(""));b.length>t.gSize;)N.unshift(b.splice(-t.gSize,b.length).join(""));b.length&&N.unshift(b.join("")),l=N.join(Gn(e,i)),M.length&&(l+=Gn(e,r)+M.join("")),E&&(l+=Gn(e,He.Exponential)+"+"+E)}else l=Gn(e,He.Infinity);return l=n<0&&!d?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf,l}(n,a,t,He.CurrencyGroup,He.CurrencyDecimal,r).replace("\xa4",e).replace("\xa4","").trim()}function so(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function Xl(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let mi=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class _a{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ii=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new _a(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,a),ml(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ml(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ml(n,t){n.context.$implicit=t.item}let Tn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Nc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Nc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Pi{constructor(){this.$implicit=null,this.ngIf=null}}function Nc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}let Wi=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ir=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[o.TTD]}),n})();function Yr(n,t){return new o.vHH(2100,"")}const Ha=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Md=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var a;if(null==e||""===e||e!=e)return null;try{return Wr(e,i,s||this.locale,null!==(a=null!=r?r:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(l){throw Yr()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(Ha,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),ls=(()=>{class n{constructor(e,i="USD"){this._locale=e,this._defaultCurrencyCode=i}transform(e,i=this._defaultCurrencyCode,r="symbol",s,a){if(!function Zo(n){return!(null==n||""===n||n!=n)}(e))return null;a=a||this._locale,"boolean"==typeof r&&(r=r?"symbol":"code");let l=i||this._defaultCurrencyCode;"code"!==r&&(l="symbol"===r||"symbol-narrow"===r?function Vo(n,t,e="en"){const i=function ro(n){return(0,o.cg1)(n)[o.wAp.Currencies]}(e)[n]||G[n]||[],r=i[1];return"narrow"===t&&"string"==typeof r?r:i[0]||n}(l,"symbol"===r?"wide":"narrow",a):r);try{return Sn(function tc(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),a,l,i,s)}catch(d){throw Yr()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(o.EJc,16))},n.\u0275pipe=o.Yjl({name:"currency",type:n,pure:!0}),n})();let hi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ja="browser";function ic(n){return"server"===n}let Rd=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new rc((0,o.LFG)(Ne),window)}),n})();class rc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Wo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Fd(this.window.history)||Fd(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Fd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wi{}class za extends class sc extends class et{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ve(n){Ie||(Ie=n)}(new za)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vc(){return xi=xi||document.querySelector("base"),xi?xi.getAttribute("href"):null}();return null==e?null:function Wa(n){Za=Za||document.createElement("a"),Za.setAttribute("href",n);const t=Za.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Xl(document.cookie,t)}}let Za,xi=null;const Nr=new o.OlP("TRANSITION_ID"),qi=[{provide:o.ip1,useFactory:function Pd(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=ee(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Nr,Ne,o.zs3],multi:!0}];class Eo{static init(){(0,o.VLi)(new Eo)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,a=!1;const l=function(d){a=a||d,s--,0==s&&i(a)};r.forEach(function(d){d.whenStable(l)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?ee().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Kr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const wa=new o.OlP("EventManagerPlugins");let qo=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wa),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Uc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ee().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let So=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Go=(()=>{class n extends So{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(oc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(oc))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function oc(n){ee().remove(n)}const En={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ac=/%COMP%/g;function ft(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ft(n,r,e):(r=r.replace(ac,n),e.push(r))}return e}function Zn(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Bi=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new _l(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Zc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Bd(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ft(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qo),o.LFG(Go),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class _l{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(En[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=En[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=En[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Zn(i)):this.eventManager.addEventListener(t,e,Zn(i))}}class Zc extends _l{constructor(t,e,i,r){super(t),this.component=i;const s=ft(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Nd(n){return"_ngcontent-%COMP%".replace(ac,n)}(r+"-"+i.id),this.hostAttr=function Ld(n){return"_nghost-%COMP%".replace(ac,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Bd extends _l{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ft(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const l=document.createElement("style");l.textContent=s[a],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Jg=(()=>{class n extends Uc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=["alt","control","meta","shift"],Mu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qc=(()=>{class n extends Uc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ee().onAndCancel(e,s.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="";if(Au.forEach(d=>{const f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=a,l}static getEventFullKey(e){let i="",r=function Ga(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&pr.hasOwnProperty(t)&&(t=pr[t]))}return Mu[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Au.forEach(s=>{s!=r&&xa[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Fu=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:ja},{provide:o.g9A,useValue:function Io(){za.makeCurrent(),Eo.init()},multi:!0},{provide:Ne,useFactory:function cc(){return(0,o.RDi)(document),document},deps:[]}]),Gc=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Ou(){return new o.qLn},deps:[]},{provide:wa,useClass:Jg,multi:!0,deps:[Ne,o.R0b,o.Lbi]},{provide:wa,useClass:qc,multi:!0,deps:[Ne]},{provide:Bi,useClass:Bi,deps:[qo,Go,o.AFp]},{provide:o.FYo,useExisting:Bi},{provide:So,useExisting:Go},{provide:Go,useClass:Go,deps:[Ne]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:qo,useClass:qo,deps:[wa,o.R0b]},{provide:wi,useClass:Kr,deps:[]}];let uc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Nr,useExisting:o.AFp},qi]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Gc,imports:[hi,o.hGG]}),n})();"undefined"!=typeof window&&window;class vp{}const Zi="*";function cs(n,t){return{type:7,name:n,definitions:t,options:{}}}function D(n,t=null){return{type:4,styles:t,timings:n}}function O(n,t=null){return{type:3,steps:n,options:t}}function H(n,t=null){return{type:2,steps:n,options:t}}function re(n){return{type:6,styles:n,offset:null}}function it(n,t,e){return{type:0,name:n,styles:t,options:e}}function fn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function gr(n,t=null){return{type:8,animation:n,options:t}}function $i(n=null){return{type:9,options:n}}function $a(n,t=null){return{type:10,animation:n,options:t}}function Cl(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function tm(n){Promise.resolve(null).then(n)}class Uu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hc{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?tm(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++i==s&&this._onDestroy()}),a.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Hn=!1;function Ts(n){return new o.vHH(3e3,Hn)}function bp(){return"undefined"!=typeof window&&void 0!==window.document}function El(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qu(n){switch(n.length){case 0:return new Uu;case 1:return n[0];default:return new hc(n)}}function sf(n,t,e,i,r={},s={}){const a=[],l=[];let d=-1,f=null;if(i.forEach(p=>{const m=p.offset,w=m==d,b=w&&f||{};Object.keys(p).forEach(T=>{let E=T,M=p[T];if("offset"!==T)switch(E=t.normalizePropertyName(E,a),M){case"!":M=r[T];break;case Zi:M=s[T];break;default:M=t.normalizeStyleValue(T,E,M,a)}b[E]=M}),w||l.push(b),f=b,d=m}),a.length)throw function xp(n){return new o.vHH(3502,Hn)}();return l}function lo(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&co(e,"start",n)));break;case"done":n.onDone(()=>i(e&&co(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&co(e,"destroy",n)))}}function co(n,t,e){const i=e.totalTime,s=Jc(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(s._data=a),s}function Jc(n,t,e,i,r="",s=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function Qr(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function pc(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let gc=(n,t)=>!1,mc=(n,t,e)=>[],Ya=null;function Gu(n){const t=n.parentNode||n.host;return t===Ya?null:t}(El()||"undefined"!=typeof Element)&&(bp()?(Ya=(()=>document.documentElement)(),gc=(n,t)=>{for(;t;){if(t===n)return!0;t=Gu(t)}return!1}):gc=(n,t)=>n.contains(t),mc=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Jr=null,Gd=!1;function Xc(n){Jr||(Jr=function h1(){return"undefined"!=typeof document?document.body:null}()||{},Gd=!!Jr.style&&"WebkitAppearance"in Jr.style);let t=!0;return Jr.style&&!function of(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Jr.style,!t&&Gd&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Jr.style)),t}const Cp=gc,Sl=mc;let af=(()=>{class n{validateStyleProperty(e){return Xc(e)}matchesElement(e,i){return!1}containsElement(e,i){return Cp(e,i)}getParentElement(e){return Gu(e)}query(e,i,r){return Sl(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,a,l=[],d){return new Uu(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Tp=(()=>{class n{}return n.NOOP=new af,n})();const Dl="ng-enter",rm="ng-leave",Al="ng-trigger",_c=".ng-trigger",eu="ng-animating",lf=".ng-animating";function F(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:P(parseFloat(t[1]),t[2])}function P(n,t){return"s"===t?1e3*n:n}function z(n,t,e){return n.hasOwnProperty("duration")?n:function le(n,t,e){let r,s=0,a="";if("string"==typeof n){const l=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(Ts()),{duration:0,delay:0,easing:""};r=P(parseFloat(l[1]),l[2]);const d=l[3];null!=d&&(s=P(parseFloat(d),l[4]));const f=l[5];f&&(a=f)}else r=n;if(!e){let l=!1,d=t.length;r<0&&(t.push(function nm(){return new o.vHH(3100,Hn)}()),l=!0),s<0&&(t.push(function Ud(){return new o.vHH(3101,Hn)}()),l=!0),l&&t.splice(d,0,Ts())}return{duration:r,delay:s,easing:a}}(n,t,e)}function ke(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Et(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else ke(n,e);return e}function Zt(n,t,e){return e?t+":"+e+";":""}function Fn(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Zt(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Zt(0,sm(e),n.style[e]));n.setAttribute("style",t)}function yn(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=fo(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),El()&&Fn(n))}function Wn(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=fo(e);n.style[i]=""}),El()&&Fn(n))}function Dn(n){return Array.isArray(n)?1==n.length?n[0]:H(n):n}const Br=new RegExp("{{\\s*(.+?)\\s*}}","g");function tu(n){let t=[];if("string"==typeof n){let e;for(;e=Br.exec(n);)t.push(e[1]);Br.lastIndex=0}return t}function Ko(n,t,e){const i=n.toString(),r=i.replace(Br,(s,a)=>{let l=t[a];return t.hasOwnProperty(a)||(e.push(function Hd(n){return new o.vHH(3003,Hn)}()),l=""),l.toString()});return r==i?n:r}function ho(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Ml=/-+([a-z0-9])/g;function fo(n){return n.replace(Ml,(...t)=>t[1].toUpperCase())}function sm(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Zs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function yp(n){return new o.vHH(3004,Hn)}()}}function T_(n,t){return window.getComputedStyle(n)[t]}function Zb(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Wb(n,t,e){if(":"==n[0]){const d=function lm(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function rf(n){return new o.vHH(3016,Hn)}()),"* => *"}}(n,e);if("function"==typeof d)return void t.push(d);n=d}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Zu(n){return new o.vHH(3015,Hn)}()),t;const r=i[1],s=i[2],a=i[3];t.push(um(r,a));"<"==s[0]&&!("*"==r&&"*"==a)&&t.push(um(a,r))}(i,e,t)):e.push(n),e}const cm=new Set(["true","1"]),Yd=new Set(["false","0"]);function um(n,t){const e=cm.has(n)||Yd.has(n),i=cm.has(t)||Yd.has(t);return(r,s)=>{let a="*"==n||n==r,l="*"==t||t==s;return!a&&e&&"boolean"==typeof r&&(a=r?cm.has(n):Yd.has(n)),!l&&i&&"boolean"==typeof s&&(l=s?cm.has(t):Yd.has(t)),a&&l}}const qb=new RegExp("s*:selfs*,?","g");function E_(n,t,e,i){return new dm(n).build(t,e,i)}class dm{constructor(t){this._driver=t}build(t,e,i){const r=new p1(e);this._resetContextStyleTimingState(r);const s=Zs(this,Dn(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function ef(){return new o.vHH(3006,Hn)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const d=l,f=d.name;f.toString().split(/\s*,\s*/).forEach(p=>{d.name=p,s.push(this.visitState(d,e))}),d.name=f}else if(1==l.type){const d=this.visitTransition(l,e);i+=d.queryCount,r+=d.depCount,a.push(d)}else e.errors.push(function wp(){return new o.vHH(3007,Hn)}())}),{type:7,name:t.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,a=r||{};i.styles.forEach(l=>{if(kp(l)){const d=l;Object.keys(d).forEach(f=>{tu(d[f]).forEach(p=>{a.hasOwnProperty(p)||s.add(p)})})}}),s.size&&(ho(s.values()),e.errors.push(function jd(n,t){return new o.vHH(3008,Hn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Zs(this,Dn(t.animation),e);return{type:1,matchers:Zb(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:$u(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Zs(this,i,e)),options:$u(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(a=>{e.currentTime=i;const l=Zs(this,a,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:3,steps:s,options:$u(t.options)}}visitAnimate(t,e){const i=function $b(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return S_(z(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=S_(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=z(e,t);return S_(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:re({});if(5==s.type)r=this.visitKeyframes(s,e);else{let a=t.styles,l=!1;if(!a){l=!0;const f={};i.easing&&(f.easing=i.easing),a=re(f)}e.currentTime+=i.duration+i.delay;const d=this.visitStyle(a,e);d.isEmptyStep=l,r=d}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Zi?i.push(a):e.errors.push(function a1(n){return new o.vHH(3002,Hn)}()):i.push(a)}):i.push(t.styles);let r=!1,s=null;return i.forEach(a=>{if(kp(a)){const l=a,d=l.easing;if(d&&(s=d,delete l.easing),!r)for(let f in l)if(l[f].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(l=>{if(!this._driver.validateStyleProperty(l))return delete a[l],void e.unsupportedCSSPropertiesFound.add(l);const d=e.collectedStyles[e.currentQuerySelector],f=d[l];let p=!0;f&&(s!=r&&s>=f.startTime&&r<=f.endTime&&(e.errors.push(function tf(n,t,e,i,r){return new o.vHH(3010,Hn)}()),p=!1),s=f.startTime),p&&(d[l]={startTime:s,endTime:r}),e.options&&function uo(n,t,e){const i=t.params||{},r=tu(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Hu(n){return new o.vHH(3001,Hn)}())})}(a[l],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function zu(){return new o.vHH(3011,Hn)}()),i;let s=0;const a=[];let l=!1,d=!1,f=0;const p=t.steps.map(N=>{const V=this._makeStyleAst(N,e);let U=null!=V.offset?V.offset:function g1(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(kp(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(kp(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(V.styles),q=0;return null!=U&&(s++,q=V.offset=U),d=d||q<0||q>1,l=l||q<f,f=q,a.push(q),V});d&&e.errors.push(function nf(){return new o.vHH(3012,Hn)}()),l&&e.errors.push(function zd(){return new o.vHH(3200,Hn)}());const m=t.steps.length;let w=0;s>0&&s<m?e.errors.push(function Zd(){return new o.vHH(3202,Hn)}()):0==s&&(w=1/(m-1));const b=m-1,T=e.currentTime,E=e.currentAnimateTimings,M=E.duration;return p.forEach((N,V)=>{const U=w>0?V==b?1:w*V:a[V],q=U*M;e.currentTime=T+E.delay+q,E.duration=q,this._validateStyleAst(N,e),N.offset=U,i.styles.push(N)}),i}visitReference(t,e){return{type:8,animation:Zs(this,Dn(t.animation),e),options:$u(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:$u(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:$u(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,a]=function Ip(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(qb,"")),n=n.replace(/@\*/g,_c).replace(/@\w+/g,e=>_c+"-"+e.substr(1)).replace(/:animating/g,lf),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Qr(e.collectedStyles,e.currentQuerySelector,{});const l=Zs(this,Dn(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:t.selector,options:$u(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Qc(){return new o.vHH(3013,Hn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:z(t.timings,e.errors,!0);return{type:12,animation:Zs(this,Dn(t.animation),e),timings:i,options:null}}}class p1{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kp(n){return!Array.isArray(n)&&"object"==typeof n}function $u(n){return n?(n=ke(n)).params&&(n.params=function f1(n){return n?ke(n):null}(n.params)):n={},n}function S_(n,t,e){return{duration:n,delay:t,easing:e}}function I_(n,t,e,i,r,s,a=null,l=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:l}}class hm{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Yb=new RegExp(":enter","g"),ok=new RegExp(":leave","g");function k_(n,t,e,i,r,s={},a={},l,d,f=[]){return(new ak).buildKeyframes(n,t,e,i,r,s,a,l,d,f)}class ak{buildKeyframes(t,e,i,r,s,a,l,d,f,p=[]){f=f||new hm;const m=new fm(t,e,f,r,s,p,[]);m.options=d,m.currentTimeline.setStyles([a],null,m.errors,d),Zs(this,i,m);const w=m.timelines.filter(b=>b.containsAnimation());if(Object.keys(l).length){let b;for(let T=w.length-1;T>=0;T--){const E=w[T];if(E.element===e){b=E;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([l],null,m.errors,d)}return w.length?w.map(b=>b.buildKeyframes()):[I_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const a=null!=i.duration?F(i.duration):null,l=null!=i.delay?F(i.delay):null;return 0!==a&&t.forEach(d=>{const f=e.appendInstructionToTimeline(d,a,l);s=Math.max(s,f.duration+f.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Zs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Dp);const a=F(s.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Zs(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?F(t.options.delay):0;t.steps.forEach(a=>{const l=e.createSubContext(t.options);s&&l.delayNextStep(s),Zs(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return z(e.params?Ko(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,l=e.createSubContext().currentTimeline;l.easing=i.easing,t.styles.forEach(d=>{l.forwardTime((d.offset||0)*s),l.setStyles(d.styles,d.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?F(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Dp);let a=i;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let d=null;l.forEach((f,p)=>{e.currentQueryIndex=p;const m=e.createSubContext(t.options,f);s&&m.delayNextStep(s),f===e.element&&(d=m.currentTimeline),Zs(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,m.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,a=Math.abs(s.duration),l=a*(e.currentQueryTotal-1);let d=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":d=l-d;break;case"full":d=i.currentStaggerTime}const p=e.currentTimeline;d&&p.delayNextStep(d);const m=p.currentTime;Zs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-m+(r.startTime-i.currentTimeline.startTime)}}const Dp={};class fm{constructor(t,e,i,r,s,a,l,d){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new Ap(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=F(i.duration)),null!=i.delay&&(r.delay=F(i.delay));const s=i.params;if(s){let a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=Ko(s[l],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new fm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Dp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new _1(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,a){let l=[];if(r&&l.push(this.element),t.length>0){t=(t=t.replace(Yb,"."+this._enterClassName)).replace(ok,"."+this._leaveClassName);let f=this._driver.query(this.element,t,1!=i);0!==i&&(f=i<0?f.slice(f.length+i,f.length):f.slice(0,i)),l.push(...f)}return!s&&0==l.length&&a.push(function Tl(n){return new o.vHH(3014,Hn)}()),l}}class Ap{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ap(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Zi,this._currentKeyframe[e]=Zi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},a=function Kb(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Zi})):Et(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(l=>{const d=Ko(a[l],s,i);this._pendingStyles[l]=d,this._localTimelineStyles.hasOwnProperty(l)||(this._backFill[l]=this._globalTimelineStyles.hasOwnProperty(l)?this._globalTimelineStyles[l]:Zi),this._updateStyle(l,d)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((l,d)=>{const f=Et(l,!0);Object.keys(f).forEach(p=>{const m=f[p];"!"==m?t.add(p):m==Zi&&e.add(p)}),i||(f.offset=d/this.duration),r.push(f)});const s=t.size?ho(t.values()):[],a=e.size?ho(e.values()):[];if(i){const l=r[0],d=ke(l);l.offset=0,d.offset=1,r=[l,d]}return I_(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}class _1 extends Ap{constructor(t,e,i,r,s,a,l=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],a=i+e,l=e/a,d=Et(t[0],!1);d.offset=0,s.push(d);const f=Et(t[0],!1);f.offset=v1(l),s.push(f);const p=t.length-1;for(let m=1;m<=p;m++){let w=Et(t[m],!1);w.offset=v1((e+w.offset*i)/a),s.push(w)}i=a,e=0,r="",t=s}return I_(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function v1(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class y1{}class w1 extends y1{normalizePropertyName(t,e){return fo(t)}normalizeStyleValue(t,e,i,r){let s="";const a=i.toString().trim();if(vc[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&r.push(function Kc(n,t){return new o.vHH(3005,Hn)}())}return a+s}}const vc=(()=>function Jd(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function D_(n,t,e,i,r,s,a,l,d,f,p,m,w){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:a,timelines:l,queriedElements:d,preStyleProps:f,postStyleProps:p,totalTime:m,errors:w}}const df={};class A_{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function lk(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],a=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):a}build(t,e,i,r,s,a,l,d,f,p){const m=[],w=this.ast.options&&this.ast.options.params||df,T=this.buildStyles(i,l&&l.params||df,m),E=d&&d.params||df,M=this.buildStyles(r,E,m),N=new Set,V=new Map,U=new Map,q="void"===r,Q={params:Object.assign(Object.assign({},w),E)},ue=p?[]:k_(t,e,this.ast.animation,s,a,T,M,Q,f,m);let K=0;if(ue.forEach(de=>{K=Math.max(de.duration+de.delay,K)}),m.length)return D_(e,this._triggerName,i,r,q,T,M,[],[],V,U,K,m);ue.forEach(de=>{const Me=de.element,Fe=Qr(V,Me,{});de.preStyleProps.forEach(bt=>Fe[bt]=!0);const Te=Qr(U,Me,{});de.postStyleProps.forEach(bt=>Te[bt]=!0),Me!==e&&N.add(Me)});const he=ho(N.values());return D_(e,this._triggerName,i,r,q,T,M,ue,he,V,U,K)}}class x1{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=ke(this.defaultParams);return Object.keys(t).forEach(s=>{const a=t[s];null!=a&&(r[s]=a)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const a=s;Object.keys(a).forEach(l=>{let d=a[l];d.length>1&&(d=Ko(d,r,e));const f=this.normalizer.normalizePropertyName(l,e);d=this.normalizer.normalizeStyleValue(l,f,d,e),i[f]=d})}}),i}}class M_{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new x1(r.style,r.options&&r.options.params||{},i)}),pm(this.states,"true","1"),pm(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new A_(t,r,this.states))}),this.fallbackTransition=function Mp(n,t,e){return new A_(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function pm(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const uk=new hm;class dk{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=E_(this._driver,e,i,[]);if(i.length)throw function rr(n){return new o.vHH(3503,Hn)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=sf(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let a;const l=new Map;if(s?(a=k_(this._driver,e,s,Dl,rm,{},{},i,uk,r),a.forEach(p=>{const m=Qr(l,p.element,{});p.postStyleProps.forEach(w=>m[w]=null)})):(r.push(function c1(){return new o.vHH(3300,Hn)}()),a=[]),r.length)throw function Bb(n){return new o.vHH(3504,Hn)}();l.forEach((p,m)=>{Object.keys(p).forEach(w=>{p[w]=this._driver.computeStyle(m,w,Zi)})});const f=qu(a.map(p=>{const m=l.get(p.element);return this._buildPlayer(p,{},m)}));return this._playersById[t]=f,f.onDestroy(()=>this.destroy(t)),this.players.push(f),f}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function Vb(n){return new o.vHH(3301,Hn)}();return e}listen(t,e,i,r){const s=Jc(e,"","","");return lo(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const O_="ng-animate-queued",gm="ng-animate-disabled",hf=[],mm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},F_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ka="__ng_removed";class sr{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function eC(n){return null!=n?n:null}(i?t.value:t),i){const s=ke(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ff="void",P_=new sr(ff);class N_{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yi(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function u1(n,t){return new o.vHH(3302,Hn)}();if(null==i||0==i.length)throw function w_(n){return new o.vHH(3303,Hn)}();if(!function vm(n){return"start"==n||"done"==n}(i))throw function im(n,t){return new o.vHH(3400,Hn)}();const s=Qr(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};s.push(a);const l=Qr(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(Yi(t,Al),Yi(t,Al+"-"+e),l[e]=P_),()=>{this._engine.afterFlush(()=>{const d=s.indexOf(a);d>=0&&s.splice(d,1),this._triggers[e]||delete l[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function d1(n){return new o.vHH(3401,Hn)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),a=new B_(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(Yi(t,Al),Yi(t,Al+"-"+e),this._engine.statesByElement.set(t,l={}));let d=l[e];const f=new sr(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&f.absorbOptions(d.options),l[e]=f,d||(d=P_),f.value!==ff&&d.value===f.value){if(!function Xd(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(d.params,f.params)){const E=[],M=s.matchStyles(d.value,d.params,E),N=s.matchStyles(f.value,f.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{Wn(t,M),yn(t,N)})}return}const w=Qr(this._engine.playersByElement,t,[]);w.forEach(E=>{E.namespaceId==this.id&&E.triggerName==e&&E.queued&&E.destroy()});let b=s.matchTransition(d.value,f.value,t,f.params),T=!1;if(!b){if(!r)return;b=s.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:b,fromState:d,toState:f,player:a,isFallbackTransition:T}),T||(Yi(t,O_),a.onStart(()=>{Ku(t,O_)})),a.onDone(()=>{let E=this.players.indexOf(a);E>=0&&this.players.splice(E,1);const M=this._engine.playersByElement.get(t);if(M){let N=M.indexOf(a);N>=0&&M.splice(N,1)}}),this.players.push(a),w.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,_c,!0);i.forEach(r=>{if(r[Ka])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),a=new Map;if(s){const l=[];if(Object.keys(s).forEach(d=>{if(a.set(d,s[d].value),this._triggers[d]){const f=this.trigger(t,d,ff,r);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&qu(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const a=s.name;if(r.has(a))return;r.add(a);const d=this._triggers[a].fallbackTransition,f=i[a]||P_,p=new sr(ff),m=new B_(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:d,fromState:f,toState:p,player:m,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Ka];(!s||s===mm)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Yi(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,a=this._elementListeners.get(s);a&&a.forEach(l=>{if(l.name==i.triggerName){const d=Jc(s,i.triggerName,i.fromState.value,i.toState.value);d._data=t,lo(i.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class L_{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new N_(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let a=!1;if(void 0!==this.driver.getParentElement){let l=this.driver.getParentElement(e);for(;l;){const d=r.get(l);if(d){const f=i.indexOf(d);i.splice(f+1,0,t),a=!0;break}l=this.driver.getParentElement(l)}}else for(let l=s;l>=0;l--)if(this.driver.containsElement(i[l].hostElement,e)){i.splice(l+1,0,t),a=!0;break}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const a=i[r[s]].namespaceId;if(a){const l=this._fetchNamespace(a);l&&e.add(l)}}}return e}trigger(t,e,i,r){if(_m(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!_m(e))return;const s=e[Ka];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yi(t,gm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ku(t,gm))}removeNode(t,e,i,r){if(_m(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ka]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return _m(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,_c,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,lf,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qu(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Ka];if(i&&i.setForRemoval){if(t[Ka]=mm,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(gm))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Yi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?qu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function qd(n){return new o.vHH(3402,Hn)}()}_flushAnimations(t,e){const i=new hm,r=[],s=new Map,a=[],l=new Map,d=new Map,f=new Map,p=new Set;this.disabledNodes.forEach(Xe=>{p.add(Xe);const gt=this.driver.query(Xe,".ng-animate-queued",!0);for(let Ft=0;Ft<gt.length;Ft++)p.add(gt[Ft])});const m=this.bodyNode,w=Array.from(this.statesByElement.keys()),b=pf(w,this.collectedEnterElements),T=new Map;let E=0;b.forEach((Xe,gt)=>{const Ft=Dl+E++;T.set(gt,Ft),Xe.forEach(Ct=>Yi(Ct,Ft))});const M=[],N=new Set,V=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const gt=this.collectedLeaveElements[Xe],Ft=gt[Ka];Ft&&Ft.setForRemoval&&(M.push(gt),N.add(gt),Ft.hasAnimation?this.driver.query(gt,".ng-star-inserted",!0).forEach(Ct=>N.add(Ct)):V.add(gt))}const U=new Map,q=pf(w,Array.from(N));q.forEach((Xe,gt)=>{const Ft=rm+E++;U.set(gt,Ft),Xe.forEach(Ct=>Yi(Ct,Ft))}),t.push(()=>{b.forEach((Xe,gt)=>{const Ft=T.get(gt);Xe.forEach(Ct=>Ku(Ct,Ft))}),q.forEach((Xe,gt)=>{const Ft=U.get(gt);Xe.forEach(Ct=>Ku(Ct,Ft))}),M.forEach(Xe=>{this.processLeaveNode(Xe)})});const Q=[],ue=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(e).forEach(Ft=>{const Ct=Ft.player,cn=Ft.element;if(Q.push(Ct),this.collectedEnterElements.length){const Bt=cn[Ka];if(Bt&&Bt.setForMove){if(Bt.previousTriggersValues&&Bt.previousTriggersValues.has(Ft.triggerName)){const Nt=Bt.previousTriggersValues.get(Ft.triggerName),Pt=this.statesByElement.get(Ft.element);Pt&&Pt[Ft.triggerName]&&(Pt[Ft.triggerName].value=Nt)}return void Ct.destroy()}}const mt=!m||!this.driver.containsElement(m,cn),fe=U.get(cn),Be=T.get(cn),ge=this._buildInstruction(Ft,i,Be,fe,mt);if(ge.errors&&ge.errors.length)return void ue.push(ge);if(mt)return Ct.onStart(()=>Wn(cn,ge.fromStyles)),Ct.onDestroy(()=>yn(cn,ge.toStyles)),void r.push(Ct);if(Ft.isFallbackTransition)return Ct.onStart(()=>Wn(cn,ge.fromStyles)),Ct.onDestroy(()=>yn(cn,ge.toStyles)),void r.push(Ct);const we=[];ge.timelines.forEach(Bt=>{Bt.stretchStartingKeyframe=!0,this.disabledNodes.has(Bt.element)||we.push(Bt)}),ge.timelines=we,i.append(cn,ge.timelines),a.push({instruction:ge,player:Ct,element:cn}),ge.queriedElements.forEach(Bt=>Qr(l,Bt,[]).push(Ct)),ge.preStyleProps.forEach((Bt,Nt)=>{const Pt=Object.keys(Bt);if(Pt.length){let xt=d.get(Nt);xt||d.set(Nt,xt=new Set),Pt.forEach(Qn=>xt.add(Qn))}}),ge.postStyleProps.forEach((Bt,Nt)=>{const Pt=Object.keys(Bt);let xt=f.get(Nt);xt||f.set(Nt,xt=new Set),Pt.forEach(Qn=>xt.add(Qn))})});if(ue.length){const Xe=[];ue.forEach(gt=>{Xe.push(function yr(n,t){return new o.vHH(3505,Hn)}())}),Q.forEach(gt=>gt.destroy()),this.reportError(Xe)}const K=new Map,he=new Map;a.forEach(Xe=>{const gt=Xe.element;i.has(gt)&&(he.set(gt,gt),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,K))}),r.forEach(Xe=>{const gt=Xe.element;this._getPreviousPlayers(gt,!1,Xe.namespaceId,Xe.triggerName,null).forEach(Ct=>{Qr(K,gt,[]).push(Ct),Ct.destroy()})});const de=M.filter(Xe=>Op(Xe,d,f)),Me=new Map;C1(Me,this.driver,V,f,Zi).forEach(Xe=>{Op(Xe,d,f)&&de.push(Xe)});const Te=new Map;b.forEach((Xe,gt)=>{C1(Te,this.driver,new Set(Xe),d,"!")}),de.forEach(Xe=>{const gt=Me.get(Xe),Ft=Te.get(Xe);Me.set(Xe,Object.assign(Object.assign({},gt),Ft))});const bt=[],qt=[],pt={};a.forEach(Xe=>{const{element:gt,player:Ft,instruction:Ct}=Xe;if(i.has(gt)){if(p.has(gt))return Ft.onDestroy(()=>yn(gt,Ct.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(Ct.totalTime),void r.push(Ft);let cn=pt;if(he.size>1){let fe=gt;const Be=[];for(;fe=fe.parentNode;){const ge=he.get(fe);if(ge){cn=ge;break}Be.push(fe)}Be.forEach(ge=>he.set(ge,cn))}const mt=this._buildAnimation(Ft.namespaceId,Ct,K,s,Te,Me);if(Ft.setRealPlayer(mt),cn===pt)bt.push(Ft);else{const fe=this.playersByElement.get(cn);fe&&fe.length&&(Ft.parentPlayer=qu(fe)),r.push(Ft)}}else Wn(gt,Ct.fromStyles),Ft.onDestroy(()=>yn(gt,Ct.toStyles)),qt.push(Ft),p.has(gt)&&r.push(Ft)}),qt.forEach(Xe=>{const gt=s.get(Xe.element);if(gt&&gt.length){const Ft=qu(gt);Xe.setRealPlayer(Ft)}}),r.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<M.length;Xe++){const gt=M[Xe],Ft=gt[Ka];if(Ku(gt,rm),Ft&&Ft.hasAnimation)continue;let Ct=[];if(l.size){let mt=l.get(gt);mt&&mt.length&&Ct.push(...mt);let fe=this.driver.query(gt,lf,!0);for(let Be=0;Be<fe.length;Be++){let ge=l.get(fe[Be]);ge&&ge.length&&Ct.push(...ge)}}const cn=Ct.filter(mt=>!mt.destroyed);cn.length?T1(this,gt,cn):this.processLeaveNode(gt)}return M.length=0,bt.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const gt=this.players.indexOf(Xe);this.players.splice(gt,1)}),Xe.play()}),bt}elementContainsData(t,e){let i=!1;const r=e[Ka];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let a=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(a=l)}else{const l=this.playersByElement.get(t);if(l){const d=!s||s==ff;l.forEach(f=>{f.queued||!d&&f.triggerName!=r||a.push(f)})}}return(i||r)&&(a=a.filter(l=>!(i&&i!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(t,e,i){const s=e.element,a=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const d of e.timelines){const f=d.element,p=f!==s,m=Qr(i,f,[]);this._getPreviousPlayers(f,p,a,l,e.toState).forEach(b=>{const T=b.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),b.destroy(),m.push(b)})}Wn(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,a){const l=e.triggerName,d=e.element,f=[],p=new Set,m=new Set,w=e.timelines.map(T=>{const E=T.element;p.add(E);const M=E[Ka];if(M&&M.removedBeforeQueried)return new Uu(T.duration,T.delay);const N=E!==d,V=function V_(n){const t=[];return us(n,t),t}((i.get(E)||hf).map(K=>K.getRealPlayer())).filter(K=>!!K.element&&K.element===E),U=s.get(E),q=a.get(E),Q=sf(0,this._normalizer,0,T.keyframes,U,q),ue=this._buildPlayer(T,Q,V);if(T.subTimeline&&r&&m.add(E),N){const K=new B_(t,l,E);K.setRealPlayer(ue),f.push(K)}return ue});f.forEach(T=>{Qr(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>function Xb(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,T.element,T))}),p.forEach(T=>Yi(T,eu));const b=qu(w);return b.onDestroy(()=>{p.forEach(T=>Ku(T,eu)),yn(d,e.toStyles)}),m.forEach(T=>{Qr(r,T,[]).push(b)}),b}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Uu(t.duration,t.delay)}}class B_{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Uu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>lo(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Qr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function _m(n){return n&&1===n.nodeType}function tC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function C1(n,t,e,i,r){const s=[];e.forEach(d=>s.push(tC(d)));const a=[];i.forEach((d,f)=>{const p={};d.forEach(m=>{const w=p[m]=t.computeStyle(f,m,r);(!w||0==w.length)&&(f[Ka]=F_,a.push(f))}),n.set(f,p)});let l=0;return e.forEach(d=>tC(d,s[l++])),a}function pf(n,t){const e=new Map;if(n.forEach(l=>e.set(l,[])),0==t.length)return e;const r=new Set(t),s=new Map;function a(l){if(!l)return 1;let d=s.get(l);if(d)return d;const f=l.parentNode;return d=e.has(f)?f:r.has(f)?1:a(f),s.set(l,d),d}return t.forEach(l=>{const d=a(l);1!==d&&e.get(d).push(l)}),e}function Yi(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Ku(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function T1(n,t,e){qu(e).onDone(()=>n.processLeaveNode(t))}function us(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof hc?us(i.players,t):t.push(i)}}function Op(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class ym{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new L_(t,e,i),this._timelineEngine=new dk(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const a=t+"-"+r;let l=this._triggerCache[a];if(!l){const d=[],p=E_(this._driver,s,d,[]);if(d.length)throw function l1(n,t){return new o.vHH(3404,Hn)}();l=function ck(n,t,e){return new M_(n,t,e)}(r,p,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,a]=pc(i);this._timelineEngine.command(s,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[a,l]=pc(i);return this._timelineEngine.listen(a,e,l,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let E1=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&yn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(yn(this._element,this._initialStyles),this._endStyles&&(yn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wn(this._element,this._endStyles),this._endStyles=null),yn(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ko(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];gf(r)&&(t=t||{},t[r]=n[r])}return t}function gf(n){return"display"===n||"position"===n}class H_{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:T_(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class S1{validateStyleProperty(t){return Xc(t)}matchesElement(t,e){return!1}containsElement(t,e){return Cp(t,e)}getParentElement(t){return Gu(t)}query(t,e,i){return Sl(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,a=[]){const d={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(d.easing=s);const f={},p=a.filter(w=>w instanceof H_);(function C_(n,t){return 0===n||0===t})(i,r)&&p.forEach(w=>{let b=w.currentSnapshot;Object.keys(b).forEach(T=>f[T]=b[T])}),e=function om(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],a=[];if(i.forEach(l=>{s.hasOwnProperty(l)||a.push(l),s[l]=e[l]}),a.length)for(var r=1;r<t.length;r++){let l=t[r];a.forEach(function(d){l[d]=T_(n,d)})}}return t}(t,e=e.map(w=>Et(w,!1)),f);const m=function U_(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ko(t[0]),t.length>1&&(i=ko(t[t.length-1]))):t&&(e=ko(t)),e||i?new E1(n,e,i):null}(t,e);return new H_(t,e,d,m)}}let j_=(()=>{class n extends vp{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?H(e):e;return W_(this._renderer,null,i,"register",[r]),new z_(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class z_ extends class em{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Z_(this._id,t,e||{},this._renderer)}}class Z_{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return W_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function W_(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Ol="@.disabled";let I1=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,a)=>{const l=null==a?void 0:a.parentNode(s);l&&a.removeChild(l,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let p=this._rendererCache.get(s);return p||(p=new k1("",s,this.engine),this._rendererCache.set(s,p)),p}const a=i.id,l=i.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const d=p=>{Array.isArray(p)?p.forEach(d):this.engine.registerTrigger(a,l,e,p.name,p)};return i.data.animation.forEach(d),new xm(this,l,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,l]=s;a(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ym),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class k1{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Ol?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class xm extends k1{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Ol?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function nC(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),a="";return"@"!=s.charAt(0)&&([s,a]=function D1(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,i,l)})}return this.delegate.listen(t,e,i)}}let Qo=(()=>{class n extends ym{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne),o.LFG(Tp),o.LFG(y1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const bm=new o.OlP("AnimationModuleType"),yc=[{provide:vp,useClass:j_},{provide:y1,useFactory:function q_(){return new w1}},{provide:ym,useClass:Qo},{provide:o.FYo,useFactory:function G_(n,t,e){return new I1(n,t,e)},deps:[Bi,ym,o.R0b]}],mf=[{provide:Tp,useFactory:()=>new S1},{provide:bm,useValue:"BrowserAnimations"},...yc],A1=[{provide:Tp,useClass:af},{provide:bm,useValue:"NoopAnimations"},...yc];let M1=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?A1:mf}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:mf,imports:[uc]}),n})();const _f=["Code_inventaire","Designation","Marque","Categorie","Serie","Date","Etat","Facteur","PV","Prix"],iC=["Categorie","Code_inventaire","Designation","Date","Etat","Prix d'origine","Taux Amortissment"," Prix Actuel"],rC=["Nuef","Moyen","Renformer"];var iu=J(4986),Ki=J(8306),C=J(8996),v=J(3269);function y(...n){const t=(0,v.yG)(n);return(0,C.D)(n,t)}var I=J(5813),L=J(8189);function Ee(...n){return function Y(){return(0,L.J)(1)}()((0,C.D)(n,(0,v.yG)(n)))}var ze=J(4482);function Mt(...n){const t=(0,v.yG)(n);return(0,ze.e)((e,i)=>{(t?Ee(n,e,t):Ee(n,e)).subscribe(i)})}var Ot=J(5403);function In(){return(0,ze.e)((n,t)=>{let e,i=!1;n.subscribe((0,Ot.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var It=J(4004);function Vr(n,t,e,i,r){return(s,a)=>{let l=e,d=t,f=0;s.subscribe((0,Ot.x)(a,p=>{const m=f++;d=l?n(d,p,m):(l=!0,p),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function ds(n,t){return(0,ze.e)(Vr(n,t,arguments.length>=2,!0))}var wc=J(4671);function Cm(n,t=wc.y){return n=null!=n?n:Qu,(0,ze.e)((e,i)=>{let r,s=!0;e.subscribe((0,Ot.x)(i,a=>{const l=t(a);(s||!n(r,l))&&(s=!1,r=l,i.next(a))}))})}function Qu(n,t){return n===t}function hs(n,t){return(0,ze.e)((e,i)=>{let r=0;e.subscribe((0,Ot.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var hn,Ws=J(2011),Rp=(J(7092),J(3942)),ot=J(5861),Sa=J(9681),xc=J(4859),Rl=J(1877),X=J(2090),sC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ju={},R1=R1||{},Vn=sC||self;function F1(){}function oC(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Tm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var eh="closure_uid_"+(1e9*Math.random()>>>0),pk=0;function gk(n,t,e){return n.call.apply(n.bind,arguments)}function yR(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Es(n,t,e){return(Es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gk:yR).apply(null,arguments)}function P1(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function po(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[r].apply(i,a)}}function th(){this.s=this.s,this.o=this.o}var aC={};th.prototype.s=!1,th.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function fk(n){return Object.prototype.hasOwnProperty.call(n,eh)&&n[eh]||(n[eh]=++pk)}(this);delete aC[n]}},th.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lC=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},$_=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function cC(n){return Array.prototype.concat.apply([],arguments)}function Y_(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function K_(n){return/^[\s\xa0]*$/.test(n)}var Jo,L1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qs(n,t){return-1!=n.indexOf(t)}function uC(n,t){return n<t?-1:n>t?1:0}e:{var _k=Vn.navigator;if(_k){var vk=_k.userAgent;if(vk){Jo=vk;break e}}Jo=""}function B1(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function V1(n){const t={};for(const e in n)t[e]=n[e];return t}var dC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wR(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<dC.length;s++)e=dC[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function U1(n){return U1[" "](n),n}U1[" "]=F1;var H1,n,yk=qs(Jo,"Opera"),Em=qs(Jo,"Trident")||qs(Jo,"MSIE"),wk=qs(Jo,"Edge"),Fl=wk||Em,xk=qs(Jo,"Gecko")&&!(qs(Jo.toLowerCase(),"webkit")&&!qs(Jo,"Edge"))&&!(qs(Jo,"Trident")||qs(Jo,"MSIE"))&&!qs(Jo,"Edge"),bk=qs(Jo.toLowerCase(),"webkit")&&!qs(Jo,"Edge");function Ck(){var n=Vn.document;return n?n.documentMode:void 0}e:{var hC="",fC=(n=Jo,xk?/rv:([^\);]+)(\)|;)/.exec(n):wk?/Edge\/([\d\.]+)/.exec(n):Em?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bk?/WebKit\/(\S+)/.exec(n):yk?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fC&&(hC=fC?fC[1]:""),Em){var j1=Ck();if(null!=j1&&j1>parseFloat(hC)){H1=String(j1);break e}}H1=hC}var bR={};var Tk=Vn.document&&Em&&(Ck()||parseInt(H1,10))||void 0,Ek=function(){if(!Vn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vn.addEventListener("test",F1,t),Vn.removeEventListener("test",F1,t)}catch(e){}return n}();function Do(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function vf(n,t){if(Do.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(xk){e:{try{U1(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ru[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vf.Z.h.call(this)}}Do.prototype.h=function(){this.defaultPrevented=!0},po(vf,Do);var ru={2:"touch",3:"pen",4:"mouse"};vf.prototype.h=function(){vf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sm="closure_listenable_"+(1e6*Math.random()|0),TR=0;function gC(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++TR,this.ca=this.fa=!1}function bc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Im(n){this.src=n,this.g={},this.h=0}function z1(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=lC(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(bc(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Q_(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}Im.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var a=Q_(n,t,i,r);return-1<a?(t=n[a],e||(t.fa=!1)):((t=new gC(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var Sk="closure_lm_"+(1e6*Math.random()|0),Z1={};function ER(n,t,e,i,r){if(i&&i.once)return q1(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ER(n,t[s],e,i,r);return null}return e=vC(e),n&&n[Sm]?n.N(t,e,Tm(i)?!!i.capture:!!i,r):J_(n,t,e,!1,i,r)}function J_(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var a=Tm(r)?!!r.capture:!!r,l=mC(n);if(l||(n[Sk]=l=new Im(n)),(e=l.add(t,e,i,a,s)).proxy)return e;if(i=function W1(){var t=IR;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Ek||(r=a),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(SR(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function q1(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)q1(n,t[s],e,i,r);return null}return e=vC(e),n&&n[Sm]?n.O(t,e,Tm(i)?!!i.capture:!!i,r):J_(n,t,e,!0,i,r)}function G1(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)G1(n,t[s],e,i,r);else i=Tm(i)?!!i.capture:!!i,e=vC(e),n&&n[Sm]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Q_(s=n.g[t],e,i,r))&&(bc(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=mC(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Q_(t,e,i,r)),(e=-1<n?t[n]:null)&&X_(e))}function X_(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Sm])z1(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(SR(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=mC(t))?(z1(e,n),0==e.h&&(e.src=null,t[Sk]=null)):bc(n)}}}function SR(n){return n in Z1?Z1[n]:Z1[n]="on"+n}function IR(n,t){if(n.ca)n=!0;else{t=new vf(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&X_(n),n=e.call(i,t)}return n}function mC(n){return(n=n[Sk])instanceof Im?n:null}var _C="__closure_events_fn_"+(1e9*Math.random()>>>0);function vC(n){return"function"==typeof n?n:(n[_C]||(n[_C]=function(t){return n.handleEvent(t)}),n[_C])}function Gs(){th.call(this),this.i=new Im(this),this.P=this,this.I=null}function Xo(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Do(t,n);else if(t instanceof Do)t.target=t.target||n;else{var r=t;wR(t=new Do(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var a=t.g=e[s];r=$1(a,i,!0,t)&&r}if(r=$1(a=t.g=n,i,!0,t)&&r,r=$1(a,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=$1(a=t.g=e[s],i,!1,t)&&r}function $1(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.ca&&a.capture==e){var l=a.listener,d=a.ia||a.src;a.fa&&z1(n.i,a),r=!1!==l.call(d,i)&&r}}return r&&!i.defaultPrevented}po(Gs,th),Gs.prototype[Sm]=!0,Gs.prototype.removeEventListener=function(n,t,e,i){G1(this,n,t,e,i)},Gs.prototype.M=function(){if(Gs.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)bc(e[i]);delete n.g[t],n.h--}}this.I=null},Gs.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Gs.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Ik=Vn.JSON.stringify;function kk(){var n=kR;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Ok,Ak=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new yC,n=>n.reset());class yC{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function $4(n){Vn.setTimeout(()=>{throw n},0)}function Mk(n,t){Ok||function Y4(){var n=Vn.Promise.resolve(void 0);Ok=function(){n.then(K4)}}(),Rk||(Ok(),Rk=!0),kR.add(n,t)}var Rk=!1,kR=new class Dk{constructor(){this.h=this.g=null}add(t,e){const i=Ak.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function K4(){for(var n;n=kk();){try{n.h.call(n.g)}catch(e){$4(e)}var t=Ak;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Rk=!1}function wC(n,t){Gs.call(this),this.h=n||1,this.g=t||Vn,this.j=Es(this.kb,this),this.l=Date.now()}function Fk(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Pk(n,t,e){if("function"==typeof n)e&&(n=Es(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Es(n.handleEvent,n)}return 2147483647<Number(t)?-1:Vn.setTimeout(n,t||0)}function nh(n){n.g=Pk(()=>{n.g=null,n.i&&(n.i=!1,nh(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}po(wC,Gs),(hn=wC.prototype).da=!1,hn.S=null,hn.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xo(this,"tick"),this.da&&(Fk(this),this.start()))}},hn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hn.M=function(){wC.Z.M.call(this),Fk(this),delete this.g};class xC extends th{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:nh(this)}M(){super.M(),this.g&&(Vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ev(n){th.call(this),this.h=n,this.g={}}po(ev,th);var bC=[];function Y1(n,t,e,i){Array.isArray(e)||(e&&(bC[0]=e.toString()),e=bC);for(var r=0;r<e.length;r++){var s=ER(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function CC(n){B1(n.g,function(t,e){this.g.hasOwnProperty(e)&&X_(t)},n),n.g={}}function km(){this.g=!0}function Fp(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function TC(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Ik(e)}catch(l){return t}}(n,e)+(i?" "+i:"")})}ev.prototype.M=function(){ev.Z.M.call(this),CC(this)},ev.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},km.prototype.Aa=function(){this.g=!1},km.prototype.info=function(){};var Pp={},EC=null;function K1(){return EC=EC||new Gs}function Nk(n){Do.call(this,Pp.Ma,n)}function ih(n){const t=K1();Xo(t,new Nk(t,n))}function Np(n,t){Do.call(this,Pp.STAT_EVENT,n),this.stat=t}function Ao(n){const t=K1();Xo(t,new Np(t,n))}function Lp(n,t){Do.call(this,Pp.Na,n),this.size=t}function rh(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vn.setTimeout(function(){n()},t)}Pp.Ma="serverreachability",po(Nk,Do),Pp.STAT_EVENT="statevent",po(Np,Do),Pp.Na="timingevent",po(Lp,Do);var sh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Lk={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Q1(){}function J1(){}Q1.prototype.h=null;var IC,Bp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function X1(){Do.call(this,"d")}function Dm(){Do.call(this,"c")}function tv(){}function ew(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new ev(this),this.P=Bk,this.W=new wC(n=Fl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kC}function kC(){this.i=null,this.g="",this.h=!1}po(X1,Do),po(Dm,Do),po(tv,Q1),tv.prototype.g=function(){return new XMLHttpRequest},tv.prototype.i=function(){return{}},IC=new tv;var Bk=45e3,DC={},nv={};function AC(n,t,e){n.K=1,n.v=rw(oh(t)),n.s=e,n.U=!0,Vk(n,null)}function Vk(n,t){n.F=Date.now(),tw(n),n.A=oh(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),FC(e.h,"t",i),n.C=0,e=n.l.H,n.h=new kC,n.g=$R(n.l,e?t:null,!n.s),0<n.O&&(n.L=new xC(Es(n.Ia,n,n.g),n.O)),Y1(n.V,n.g,"readystatechange",n.gb),t=n.H?V1(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),ih(1),function DR(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var a="",l=s.split("&"),d=0;d<l.length;d++){var f=l[d].split("=");if(1<f.length){var p=f[0];f=f[1];var m=p.split("_");a=2<=m.length&&"type"==m[1]?a+(p+"=")+f+"&":a+(p+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+a})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Qa(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Uk(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=MR(n,e),r==nv){4==t&&(n.o=4,Ao(14),i=!1),Fp(n.j,n.m,null,"[Incomplete Response]");break}if(r==DC){n.o=4,Ao(15),Fp(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Fp(n.j,n.m,r,null),rv(n,r)}Qa(n)&&r!=nv&&r!=DC&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ao(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),ZC(t),t.L=!0,Ao(11))):(Fp(n.j,n.m,e,"[Invalid Chunked Response]"),Vp(n),nw(n))}function MR(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?nv:(e=Number(t.substring(e,i)),isNaN(e)?DC:(i+=1)+e>t.length?nv:(t=t.substr(i,e),n.C=i+e,t))}function tw(n){n.Y=Date.now()+n.P,OR(n,n.P)}function OR(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rh(Es(n.eb,n),t)}function iv(n){n.B&&(Vn.clearTimeout(n.B),n.B=null)}function nw(n){0==n.l.G||n.I||GR(n.l,n)}function Vp(n){iv(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Fk(n.W),CC(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function rv(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||lw(e.i,n)))if(e.I=n.N,!n.J&&lw(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(f){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=rh(Es(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;WC(e),lv(e)}gw(e),Ao(18)}if(1>=LC(e.i)&&e.ka){try{e.ka()}catch(f){}e.ka=void 0}}else qp(e,11)}else if((n.J||e.g==n)&&WC(e),!K_(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let f=r[t];if(e.U=f[0],f=f[1],2==e.G)if("c"==f[0]){e.J=f[1],e.la=f[2];const p=f[3];null!=p&&(e.ma=p,e.h.info("VER="+e.ma));const m=f[4];null!=m&&(e.za=m,e.h.info("SVER="+e.za));const w=f[5];null!=w&&"number"==typeof w&&0<w&&(e.K=i=1.5*w,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const b=n.g;if(b){const T=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var s=i.i;!s.g&&(qs(T,"spdy")||qs(T,"quic")||qs(T,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(cw(s,s.h),s.h=null))}if(i.D){const E=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(i.sa=E,mr(i.F,i.D,E))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var a=n;if((i=e).oa=GC(i,i.H?i.la:null,i.W),a.J){BC(i.i,a);var l=a,d=i.K;d&&l.setTimeout(d),l.B&&(iv(l),tw(l)),i.g=a}else qR(i);0<e.l.length&&pw(e)}else"stop"!=f[0]&&"close"!=f[0]||qp(e,7);else 3==e.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?qp(e,7):hw(e):"noop"!=f[0]&&e.j&&e.j.wa(f),e.A=0)}ih(4)}catch(f){}}function MC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(oC(n)||"string"==typeof n)$_(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(oC(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function Hk(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(oC(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function Am(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Am)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function OC(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];wf(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)wf(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function wf(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(hn=ew.prototype).setTimeout=function(n){this.P=n},hn.gb=function(n){n=n.target;const t=this.L;t&&3==ah(n)?t.l():this.Ia(n)},hn.Ia=function(n){try{if(n==this.g)e:{const p=ah(this.g);var t=this.g.Da();const m=this.g.ba();if(!(3>p)&&(3!=p||Fl||this.g&&(this.h.h||this.g.ga()||Kk(this.g)))){this.I||4!=p||7==t||ih(8==t||0>=m?3:2),iv(this);var e=this.g.ba();this.N=e;t:if(Qa(this)){var i=Kk(this.g);n="";var r=i.length,s=4==ah(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vp(this),nw(this);var a="";break t}this.h.i=new Vn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,a=this.h.g}else a=this.g.ga();if(this.i=200==e,function yf(n,t,e,i,r,s,a){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.X,p,e),this.i){if(this.$&&!this.J){t:{if(this.g){var l,d=this.g;if((l=d.g?d.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K_(l)){var f=l;break t}}f=null}if(!(e=f)){this.i=!1,this.o=3,Ao(12),Vp(this),nw(this);break e}Fp(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rv(this,e)}this.U?(Uk(this,p,a),Fl&&this.i&&3==p&&(Y1(this.V,this.W,"tick",this.fb),this.W.start())):(Fp(this.j,this.m,a,null),rv(this,a)),4==p&&Vp(this),this.i&&!this.I&&(4==p?GR(this.l,this):(this.i=!1,tw(this)))}else 400==e&&0<a.indexOf("Unknown SID")?(this.o=3,Ao(12)):(this.o=0,Ao(13)),Vp(this),nw(this)}}}catch(p){}},hn.fb=function(){if(this.g){var n=ah(this.g),t=this.g.ga();this.C<t.length&&(iv(this),Uk(this,n,t),this.i&&4!=n&&tw(this))}},hn.cancel=function(){this.I=!0,Vp(this)},hn.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function AR(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ih(3),Ao(17)),Vp(this),this.o=2,nw(this)):OR(this,this.Y-n)},(hn=Am.prototype).R=function(){OC(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},hn.T=function(){return OC(this),this.g.concat()},hn.get=function(n,t){return wf(this.h,n)?this.h[n]:t},hn.set=function(n,t){wf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},hn.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var jk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Up(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Up){this.g=void 0!==t?t:n.g,sv(this,n.j),this.s=n.s,ov(this,n.i),iw(this,n.m),this.l=n.l,t=n.h;var e=new Hp;e.i=t.i,t.g&&(e.g=new Am(t.g),e.h=t.h),su(this,e),this.o=n.o}else n&&(e=String(n).match(jk))?(this.g=!!t,sv(this,e[1]||"",!0),this.s=Mm(e[2]||""),ov(this,e[3]||"",!0),iw(this,e[4]),this.l=Mm(e[5]||"",!0),su(this,e[6]||"",!0),this.o=Mm(e[7]||"")):(this.g=!!t,this.h=new Hp(null,this.g))}function oh(n){return new Up(n)}function sv(n,t,e){n.j=e?Mm(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function ov(n,t,e){n.i=e?Mm(t,!0):t}function iw(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function su(n,t,e){t instanceof Hp?(n.h=t,function LR(n,t){t&&!n.j&&(xf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(ow(this,i),FC(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=av(t,NR)),n.h=new Hp(t,n.g))}function mr(n,t,e){n.h.set(t,e)}function rw(n){return mr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mm(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function av(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,FR),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FR(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Up.prototype.toString=function(){var n=[],t=this.j;t&&n.push(av(t,Zk,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(av(t,Zk,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(av(e,"/"==e.charAt(0)?PR:RC,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",av(e,sw)),n.join("")};var Zk=/[#\/\?@]/g,RC=/[#\?:]/g,PR=/[#\?]/g,NR=/[#\?@]/g,sw=/#/g;function Hp(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function xf(n){n.g||(n.g=new Am,n.h=0,n.i&&function zk(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ow(n,t){xf(n),t=Om(n,t),wf(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,wf((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&OC(n)))}function aw(n,t){return xf(n),t=Om(n,t),wf(n.g.h,t)}function FC(n,t,e){ow(n,t),0<e.length&&(n.i=null,n.g.set(Om(n,t),Y_(e)),n.h+=e.length)}function Om(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function BR(n){this.l=n||VR,n=Vn.PerformanceNavigationTiming?0<(n=Vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vn.g&&Vn.g.Ea&&Vn.g.Ea()&&Vn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(hn=Hp.prototype).add=function(n,t){xf(this),this.i=null,n=Om(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},hn.forEach=function(n,t){xf(this),this.g.forEach(function(e,i){$_(e,function(r){n.call(t,r,i,this)},this)},this)},hn.T=function(){xf(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},hn.R=function(n){xf(this);var t=[];if("string"==typeof n)aw(this,n)&&(t=cC(t,this.g.get(Om(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=cC(t,n[e])}return t},hn.set=function(n,t){return xf(this),this.i=null,aw(this,n=Om(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},hn.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},hn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var a=r;""!==i[s]&&(a+="="+encodeURIComponent(String(i[s]))),n.push(a)}}return this.i=n.join("&")};var VR=10;function NC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LC(n){return n.h?1:n.g?n.g.size:0}function lw(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function cw(n,t){n.g?n.g.add(t):n.h=t}function BC(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function Xu(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Y_(n.i)}function Rm(){}function UR(){this.g=new Rm}function HR(n,t,e){const i=e||"";try{MC(n,function(r,s){let a=r;Tm(r)&&(a=Ik(r)),t.push(i+s+"="+encodeURIComponent(a))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Fm(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function Pm(n){this.l=n.$b||null,this.j=n.ib||!1}function Nm(n,t){Gs.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=jp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BR.prototype.cancel=function(){if(this.i=Xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Rm.prototype.stringify=function(n){return Vn.JSON.stringify(n,void 0)},Rm.prototype.parse=function(n){return Vn.JSON.parse(n,void 0)},po(Pm,Q1),Pm.prototype.g=function(){return new Nm(this.l,this.j)},Pm.prototype.i=function(n){return function(){return n}}({}),po(Nm,Gs);var jp=0;function Wk(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function zp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lm(n)}function Lm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(hn=Nm.prototype).open=function(n,t){if(this.readyState!=jp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Lm(this)},hn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Vn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},hn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zp(this)),this.readyState=jp},hn.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lm(this)),this.g&&(this.readyState=3,Lm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Vn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Wk(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},hn.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?zp(this):Lm(this),3==this.readyState&&Wk(this)}},hn.Ua=function(n){this.g&&(this.response=this.responseText=n,zp(this))},hn.Ta=function(n){this.g&&(this.response=n,zp(this))},hn.ha=function(){this.g&&zp(this)},hn.setRequestHeader=function(n,t){this.v.append(n,t)},hn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},hn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Nm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qk=Vn.JSON.parse;function fs(n){Gs.call(this),this.headers=new Am,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gk,this.K=this.L=!1}po(fs,Gs);var Gk="",VC=/^https?$/i,jR=["POST","PUT"];function $k(n){return"content-type"==n.toLowerCase()}function Zp(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,UC(n),uw(n)}function UC(n){n.D||(n.D=!0,Xo(n,"complete"),Xo(n,"error"))}function Yk(n){if(n.h&&void 0!==R1&&(!n.C[1]||4!=ah(n)||2!=n.ba()))if(n.v&&4==ah(n))Pk(n.Fa,0,n);else if(Xo(n,"readystatechange"),4==ah(n)){n.h=!1;try{const l=n.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.H).match(jk)[1]||null;if(!r&&Vn.self&&Vn.self.location){var s=Vn.self.location.protocol;r=s.substr(0,s.length-1)}i=!VC.test(r?r.toLowerCase():"")}e=i}if(e)Xo(n,"complete"),Xo(n,"success");else{n.m=6;try{var a=2<ah(n)?n.g.statusText:""}catch(d){a=""}n.j=a+" ["+n.ba()+"]",UC(n)}}finally{uw(n)}}}function uw(n,t){if(n.g){Wp(n);const e=n.g,i=n.C[0]?F1:null;n.g=null,n.C=null,t||Xo(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Wp(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Vn.clearTimeout(n.A),n.A=null)}function ah(n){return n.g?n.g.readyState:0}function Kk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Gk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function HC(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function ZR(n){let t="";return B1(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):mr(n,t,e))}function Ja(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function dw(n){this.za=0,this.l=[],this.h=new km,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ja("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ja("baseRetryDelayMs",5e3,n),this.$a=Ja("retryDelaySeedMs",1e4,n),this.Ya=Ja("forwardChannelMaxRetries",2,n),this.ra=Ja("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new BR(n&&n.concurrentRequestLimit),this.Ca=new UR,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function hw(n){if(jC(n),3==n.G){var t=n.V++,e=oh(n.F);mr(e,"SID",n.J),mr(e,"RID",t),mr(e,"TYPE","terminate"),cv(n,e),(t=new ew(n,n.h,t,void 0)).K=2,t.v=rw(oh(e)),e=!1,Vn.navigator&&Vn.navigator.sendBeacon&&(e=Vn.navigator.sendBeacon(t.v.toString(),"")),!e&&Vn.Image&&((new Image).src=t.v,e=!0),e||(t.g=$R(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tw(t)}qC(n)}function lv(n){n.g&&(ZC(n),n.g.cancel(),n.g=null)}function jC(n){lv(n),n.u&&(Vn.clearTimeout(n.u),n.u=null),WC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vn.clearTimeout(n.m),n.m=null)}function fw(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&pw(n)}function pw(n){NC(n.i)||n.m||(n.m=!0,Mk(n.Ha,n),n.C=0)}function Qk(n,t){var e;e=t?t.m:n.V++;const i=oh(n.F);mr(i,"SID",n.J),mr(i,"RID",e),mr(i,"AID",n.U),cv(n,i),n.o&&n.s&&HC(i,n.o,n.s),e=new ew(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=zC(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),cw(n.i,e),AC(e,i,t)}function cv(n,t){n.j&&MC({},function(e,i){mr(t,i,e)})}function zC(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Es(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const a=["count="+e];-1==s?0<e?(s=r[0].h,a.push("ofs="+s)):s=0:a.push("ofs="+s);let l=!0;for(let d=0;d<e;d++){let f=r[d].h;const p=r[d].g;if(f-=s,0>f)s=Math.max(0,r[d].h-100),l=!1;else try{HR(p,a,"req"+f+"_")}catch(m){i&&i(p)}}if(l){i=a.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function qR(n){n.g||n.u||(n.Y=1,Mk(n.Ga,n),n.A=0)}function gw(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rh(Es(n.Ga,n),mw(n,n.A)),n.A++,0))}function ZC(n){null!=n.B&&(Vn.clearTimeout(n.B),n.B=null)}function Jk(n){n.g=new ew(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=oh(n.oa);mr(t,"RID","rpc"),mr(t,"SID",n.J),mr(t,"CI",n.N?"0":"1"),mr(t,"AID",n.U),cv(n,t),mr(t,"TYPE","xmlhttp"),n.o&&n.s&&HC(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=rw(oh(t)),e.s=null,e.U=!0,Vk(e,n)}function WC(n){null!=n.v&&(Vn.clearTimeout(n.v),n.v=null)}function GR(n,t){var e=null;if(n.g==t){WC(n),ZC(n),n.g=null;var i=2}else{if(!lw(n.i,t))return;e=t.D,BC(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Xo(i=K1(),new Lp(i,e,t,r)),pw(n)}else qR(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function WR(n,t){return!(LC(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rh(Es(n.Ha,n,t),mw(n,n.C)),n.C++,0)))}(n,t)||2==i&&gw(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:qp(n,5);break;case 4:qp(n,10);break;case 3:qp(n,6);break;default:qp(n,2)}}function mw(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function qp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Es(n.jb,n);e||(e=new Up("//www.google.com/images/cleardot.gif"),Vn.location&&"http"==Vn.location.protocol||sv(e,"https"),rw(e)),function J4(n,t){const e=new km;if(Vn.Image){const i=new Image;i.onload=P1(Fm,e,i,"TestLoadImage: loaded",!0,t),i.onerror=P1(Fm,e,i,"TestLoadImage: error",!1,t),i.onabort=P1(Fm,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=P1(Fm,e,i,"TestLoadImage: timeout",!1,t),Vn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ao(2);n.G=0,n.j&&n.j.va(t),qC(n),jC(n)}function qC(n){n.G=0,n.I=-1,n.j&&((0!=Xu(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Y_(n.l),n.l.length=0),n.j.ua())}function GC(n,t,e){let i=function RR(n){return n instanceof Up?oh(n):new Up(n,void 0)}(e);if(""!=i.i)t&&ov(i,t+"."+i.i),iw(i,i.m);else{const r=Vn.location;i=function Q4(n,t,e,i){var r=new Up(null,void 0);return n&&sv(r,n),t&&ov(r,t),e&&iw(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&B1(n.aa,function(r,s){mr(i,s,r)}),e=n.sa,(t=n.D)&&e&&mr(i,t,e),mr(i,"VER",n.ma),cv(n,i),i}function $R(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new fs(e&&n.Ba&&!n.qa?new Pm({ib:!0}):n.qa)).L=n.H,t}function Cc(){}function $C(){if(Em&&!(10<=Number(Tk)))throw Error("Environmental error: no available transport.")}function Tc(n,t){Gs.call(this),this.g=new dw(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!K_(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!K_(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Gp(this)}function YC(n){X1.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function KC(){Dm.call(this),this.status=1}function Gp(n){this.g=n}(hn=fs.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():IC.g(),this.C=function SC(n){return n.h||(n.h=n.i())}(this.u?this.u:IC),this.g.onreadystatechange=Es(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void Zp(this,s)}n=e||"";const r=new Am(this.headers);i&&MC(i,function(s,a){r.set(a,s)}),i=function N1(n){e:{var t=$k;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Vn.FormData&&n instanceof Vn.FormData,!(0<=lC(jR,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,a){this.g.setRequestHeader(a,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wp(this),0<this.B&&((this.K=function zR(n){return Em&&function CR(){return function xR(n){var t=bR;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=L1(String(H1)).split("."),e=L1("9").split("."),i=Math.max(t.length,e.length);for(let a=0;0==n&&a<i;a++){var r=t[a]||"",s=e[a]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=uC(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||uC(0==r[2].length,0==s[2].length)||uC(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Es(this.pa,this)):this.A=Pk(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Zp(this,s)}},hn.pa=function(){void 0!==R1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xo(this,"timeout"),this.abort(8))},hn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xo(this,"complete"),Xo(this,"abort"),uw(this))},hn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uw(this,!0)),fs.Z.M.call(this)},hn.Fa=function(){this.s||(this.F||this.v||this.l?Yk(this):this.cb())},hn.cb=function(){Yk(this)},hn.ba=function(){try{return 2<ah(this)?this.g.status:-1}catch(n){return-1}},hn.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},hn.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),qk(t)}},hn.Da=function(){return this.m},hn.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(hn=dw.prototype).ma=8,hn.G=1,hn.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},hn.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new ew(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=V1(s),wR(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=zC(this,r,t),mr(e=oh(this.F),"RID",n),mr(e,"CVER",22),this.D&&mr(e,"X-HTTP-Session-Id",this.D),cv(this,e),this.o&&s&&HC(e,this.o,s),cw(this.i,r),this.Ra&&mr(e,"TYPE","init"),this.ja?(mr(e,"$req",t),mr(e,"SID","null"),r.$=!0,AC(r,e,null)):AC(r,e,t),this.G=2}}else 3==this.G&&(n?Qk(this,n):0==this.l.length||NC(this.i)||Qk(this))},hn.Ga=function(){if(this.u=null,Jk(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rh(Es(this.bb,this),n)}},hn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ao(10),lv(this),Jk(this))},hn.ab=function(){null!=this.v&&(this.v=null,lv(this),gw(this),Ao(19))},hn.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ao(2)):(this.h.info("Failed to ping google.com"),Ao(1))},(hn=Cc.prototype).xa=function(){},hn.wa=function(){},hn.va=function(){},hn.ua=function(){},hn.Oa=function(){},$C.prototype.g=function(n,t){return new Tc(n,t)},po(Tc,Gs),Tc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Mk(Es(n.hb,n,t))),Ao(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=GC(n,null,n.W),pw(n)},Tc.prototype.close=function(){hw(this.g)},Tc.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,fw(this.g,t)}else this.v?((t={}).__data__=Ik(n),fw(this.g,t)):fw(this.g,n)},Tc.prototype.M=function(){this.g.j=null,delete this.j,hw(this.g),delete this.g,Tc.Z.M.call(this)},po(YC,X1),po(KC,Dm),po(Gp,Cc),Gp.prototype.xa=function(){Xo(this.g,"a")},Gp.prototype.wa=function(n){Xo(this.g,new YC(n))},Gp.prototype.va=function(n){Xo(this.g,new KC(n))},Gp.prototype.ua=function(){Xo(this.g,"b")},$C.prototype.createWebChannel=$C.prototype.g,Tc.prototype.send=Tc.prototype.u,Tc.prototype.open=Tc.prototype.m,Tc.prototype.close=Tc.prototype.close,sh.NO_ERROR=0,sh.TIMEOUT=8,sh.HTTP_ERROR=6,Lk.COMPLETE="complete",J1.EventType=Bp,Bp.OPEN="a",Bp.CLOSE="b",Bp.ERROR="c",Bp.MESSAGE="d",Gs.prototype.listen=Gs.prototype.N,fs.prototype.listenOnce=fs.prototype.O,fs.prototype.getLastError=fs.prototype.La,fs.prototype.getLastErrorCode=fs.prototype.Da,fs.prototype.getStatus=fs.prototype.ba,fs.prototype.getResponseJson=fs.prototype.Qa,fs.prototype.getResponseText=fs.prototype.ga,fs.prototype.send=fs.prototype.ea;var YR=Ju.createWebChannelTransport=function(){return new $C},X4=Ju.getStatEventTarget=function(){return K1()},_w=Ju.ErrorCode=sh,QC=Ju.EventType=Lk,KR=Ju.Event=Pp,vw=Ju.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},QR=Ju.FetchXmlHttpFactory=Pm,yw=Ju.WebChannel=J1,JR=Ju.XhrIo=fs;const Xk="@firebase/firestore";class Mo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Mo.UNAUTHENTICATED=new Mo(null),Mo.GOOGLE_CREDENTIALS=new Mo("google-credentials-uid"),Mo.FIRST_PARTY=new Mo("first-party-uid"),Mo.MOCK_USER=new Mo("mock-user");let Bm="9.8.0";const ou=new Rl.Yd("@firebase/firestore");function bf(){return ou.logLevel}function At(n,...t){if(ou.logLevel<=Rl.in.DEBUG){const e=t.map(dv);ou.debug(`Firestore (${Bm}): ${n}`,...e)}}function Ss(n,...t){if(ou.logLevel<=Rl.in.ERROR){const e=t.map(dv);ou.error(`Firestore (${Bm}): ${n}`,...e)}}function uv(n,...t){if(ou.logLevel<=Rl.in.WARN){const e=t.map(dv);ou.warn(`Firestore (${Bm}): ${n}`,...e)}}function dv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function an(n="Unexpected state"){const t=`FIRESTORE (${Bm}) INTERNAL ASSERTION FAILED: `+n;throw Ss(t),new Error(t)}function Pn(n,t){n||an()}function Yt(n,t){return n}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends X.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class $p{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Vm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Mo.UNAUTHENTICATED))}shutdown(){}}class Um{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Hm{constructor(t){this.t=t,this.currentUser=Mo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=f=>this.i!==r?(r=this.i,e(f)):Promise.resolve();let a=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Is,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;t.enqueueRetryable((0,ot.Z)(function*(){yield f.promise,yield s(i.currentUser)}))},d=f=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Is)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pn("string"==typeof i.accessToken),new $p(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Pn(null===t||"string"==typeof t),new Mo(t)}}class jm{constructor(t,e,i){this.type="FirstParty",this.user=Mo.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class zm{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new jm(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Mo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yp{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zm{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=s=>{null!=s.error&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.p;return this.p=s.token,At("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Pn("string"==typeof e.token),this.p=e.token,new Yp(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Xa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function eD(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Xa.A=-1;class JC{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=eD(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Yn(n,t){return n<t?-1:n>t?1:0}function Kp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function XC(n){return n+"\0"}class Xr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new vt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Xr.fromMillis(Date.now())}static fromDate(t){return Xr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Xr(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yn(this.nanoseconds,t.nanoseconds):Yn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Nn(t)}static min(){return new Nn(new Xr(0,0))}static max(){return new Nn(new Xr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function eT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Qp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function tT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class fv{constructor(t,e,i){void 0===e?e=0:e>t.length&&an(),void 0===i?i=t.length-e:i>t.length-e&&an(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===fv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof fv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),a=e.get(r);if(s<a)return-1;if(s>a)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class bi extends fv{construct(t,e,i){return new bi(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(Ye.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new bi(e)}static emptyPath(){return new bi([])}}const tD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $s extends fv{construct(t,e,i){return new $s(t,e,i)}static isValidIdentifier(t){return tD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$s.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $s(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new vt(Ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if("\\"===l){if(r+1===t.length)throw new vt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if("\\"!==d&&"."!==d&&"`"!==d)throw new vt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else"`"===l?(a=!a,r++):"."!==l||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new vt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $s(e)}static emptyPath(){return new $s([])}}class Wm{constructor(t){this.fields=t,t.sort($s.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Kp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Ys{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ys(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Ys(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ys.EMPTY_BYTE_STRING=new Ys("");const iD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cf(n){if(Pn(!!n),"string"==typeof n){let t=0;const e=iD.exec(n);if(Pn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:es(n.seconds),nanos:es(n.nanos)}}function es(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qm(n){return"string"==typeof n?Ys.fromBase64String(n):Ys.fromUint8Array(n)}function nT(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function ww(n){const t=n.mapValue.fields.__previous_value__;return nT(t)?ww(t):t}function Jp(n){const t=Cf(n.mapValue.fields.__local_write_time__.timestampValue);return new Xr(t.seconds,t.nanos)}class eF{constructor(t,e,i,r,s,a,l,d){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.useFetchStreams=d}}class Tf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Tf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Tf&&t.projectId===this.projectId&&t.database===this.database}}function xw(n){return null==n}function bw(n){return 0===n&&1/n==-1/0}function rD(n){return"number"==typeof n&&Number.isInteger(n)&&!bw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xt{constructor(t){this.path=t}static fromPath(t){return new Xt(bi.fromString(t))}static fromName(t){return new Xt(bi.fromString(t).popFirst(5))}static empty(){return new Xt(bi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===bi.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return bi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xt(new bi(t.slice()))}}const Xp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cw={nullValue:"NULL_VALUE"};function Ec(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nT(n)?4:aD(n)?9007199254740991:10:an()}function ed(n,t){if(n===t)return!0;const e=Ec(n);if(e!==Ec(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jp(n).isEqual(Jp(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Cf(i.timestampValue),a=Cf(r.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,qm(n.bytesValue).isEqual(qm(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return es(i.geoPointValue.latitude)===es(r.geoPointValue.latitude)&&es(i.geoPointValue.longitude)===es(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return es(i.integerValue)===es(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=es(i.doubleValue),a=es(r.doubleValue);return s===a?bw(s)===bw(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Kp(n.arrayValue.values||[],t.arrayValue.values||[],ed);case 10:return function(i,r){const s=i.mapValue.fields||{},a=r.mapValue.fields||{};if(eT(s)!==eT(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ed(s[l],a[l])))return!1;return!0}(n,t);default:return an()}var r}function Gm(n,t){return void 0!==(n.values||[]).find(e=>ed(e,t))}function Ef(n,t){if(n===t)return 0;const e=Ec(n),i=Ec(t);if(e!==i)return Yn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yn(n.booleanValue,t.booleanValue);case 2:return function(r,s){const a=es(r.integerValue||r.doubleValue),l=es(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return iT(n.timestampValue,t.timestampValue);case 4:return iT(Jp(n),Jp(t));case 5:return Yn(n.stringValue,t.stringValue);case 6:return function(r,s){const a=qm(r),l=qm(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const a=r.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){const f=Yn(a[d],l[d]);if(0!==f)return f}return Yn(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const a=Yn(es(r.latitude),es(s.latitude));return 0!==a?a:Yn(es(r.longitude),es(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const a=r.values||[],l=s.values||[];for(let d=0;d<a.length&&d<l.length;++d){const f=Ef(a[d],l[d]);if(f)return f}return Yn(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Xp.mapValue&&s===Xp.mapValue)return 0;if(r===Xp.mapValue)return 1;if(s===Xp.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const m=Yn(l[p],f[p]);if(0!==m)return m;const w=Ef(a[l[p]],d[f[p]]);if(0!==w)return w}return Yn(l.length,f.length)}(n.mapValue,t.mapValue);default:throw an()}}function iT(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Yn(n,t);const e=Cf(n),i=Cf(t),r=Yn(e.seconds,i.seconds);return 0!==r?r:Yn(e.nanos,i.nanos)}function lh(n){return rT(n)}function rT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Cf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qm(n.bytesValue).toBase64():"referenceValue"in n?Xt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const a of i.values||[])s?s=!1:r+=",",r+=rT(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${rT(i.fields[l])}`;return s+"}"}(n.mapValue):an();var t}function Sf(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function sT(n){return!!n&&"integerValue"in n}function pv(n){return!!n&&"arrayValue"in n}function sD(n){return!!n&&"nullValue"in n}function oD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tw(n){return!!n&&"mapValue"in n}function $m(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Qp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=$m(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=$m(n.arrayValue.values[e]);return t}return Object.assign({},n)}function aD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lD(n){return"nullValue"in n?Cw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sf(Tf.empty(),Xt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:an()}function cD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sf(Tf.empty(),Xt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Xp:an()}function Ew(n,t){const e=Ef(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function tF(n,t){const e=Ef(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class go{constructor(t){this.value=t}static empty(){return new go({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Tw(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$m(e)}setAll(t){let e=$s.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!e.isImmediateParentOf(l)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=l.popLast()}a?i[l.lastSegment()]=$m(a):r.push(l.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());Tw(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ed(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Tw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Qp(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new go($m(this.value))}}function uD(n){const t=[];return Qp(n.fields,(e,i)=>{const r=new $s([e]);if(Tw(i)){const s=uD(i.mapValue).fields;if(0===s.length)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Wm(t)}class kr{constructor(t,e,i,r,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=a}static newInvalidDocument(t){return new kr(t,0,Nn.min(),Nn.min(),go.empty(),0)}static newFoundDocument(t,e,i){return new kr(t,1,e,Nn.min(),i,0)}static newNoDocument(t,e){return new kr(t,2,e,Nn.min(),go.empty(),0)}static newUnknownDocument(t,e){return new kr(t,3,e,Nn.min(),go.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=go.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=go.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof kr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class If{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Sw(n){return n.fields.find(t=>2===t.kind)}function ch(n){return n.fields.filter(t=>2!==t.kind)}If.UNKNOWN_ID=-1;class Ym{constructor(t,e){this.fieldPath=t,this.kind=e}}class gv{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new gv(0,Pl.min())}}function mv(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nn.fromTimestamp(1e9===i?new Xr(e+1,0):new Xr(e,i));return new Pl(r,Xt.empty(),t)}function Iw(n){return new Pl(n.readTime,n.key,-1)}class Pl{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Pl(Nn.min(),Xt.empty(),-1)}static max(){return new Pl(Nn.max(),Xt.empty(),-1)}}function nF(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Xt.comparator(n.documentKey,t.documentKey),0!==e?e:Yn(n.largestBatchId,t.largestBatchId))}class ps{constructor(t,e){this.comparator=t,this.root=e||ks.EMPTY}insert(t,e){return new ps(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ks.BLACK,null,null))}remove(t){return new ps(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ks.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eg(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eg(this.root,t,this.comparator,!1)}getReverseIterator(){return new eg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eg(this.root,t,this.comparator,!0)}}class eg{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ks{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:ks.RED,this.left=null!=r?r:ks.EMPTY,this.right=null!=s?s:ks.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new ks(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ks.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ks.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ks.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ks.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw an();const t=this.left.check();if(t!==this.right.check())throw an();return t+(this.isRed()?0:1)}}ks.EMPTY=null,ks.RED=!0,ks.BLACK=!1,ks.EMPTY=new class{constructor(){this.size=0}get key(){throw an()}get value(){throw an()}get color(){throw an()}get left(){throw an()}get right(){throw an()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ks(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qi{constructor(t){this.comparator=t,this.data=new ps(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new oT(this.data.getIterator())}getIteratorFrom(t){return new oT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Qi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Qi(this.comparator);return e.data=t,e}}class oT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kf(n){return n.hasNext()?n.getNext():void 0}class dD{constructor(t,e=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.P=null}}function aT(n,t=null,e=[],i=[],r=null,s=null,a=null){return new dD(n,t,e,i,r,s,a)}function uh(n){const t=Yt(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+lh(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),xw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>lh(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>lh(i)).join(",")),t.P=e}return t.P}function _v(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!vD(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!ed(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!iF(n.startAt,t.startAt)&&iF(n.endAt,t.endAt)}function vv(n){return Xt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function yv(n,t){return n.filters.filter(e=>e instanceof Oo&&e.field.isEqual(t))}function kw(n,t,e){let i=Cw,r=!0;for(const s of yv(n,t)){let a=Cw,l=!0;switch(s.op){case"<":case"<=":a=lD(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=Cw}Ew({value:i,inclusive:r},{value:a,inclusive:l})<0&&(i=a,r=l)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];Ew({value:i,inclusive:r},{value:a,inclusive:e.inclusive})<0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}function cT(n,t,e){let i=Xp,r=!0;for(const s of yv(n,t)){let a=Xp,l=!0;switch(s.op){case">=":case">":a=cD(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=Xp}tF({value:i,inclusive:r},{value:a,inclusive:l})>0&&(i=a,r=l)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const a=e.position[s];tF({value:i,inclusive:r},{value:a,inclusive:e.inclusive})>0&&(i=a,r=e.inclusive);break}return{value:i,inclusive:r}}class Oo extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new hD(t,e,i):"array-contains"===e?new pD(t,i):"in"===e?new gD(t,i):"not-in"===e?new mD(t,i):"array-contains-any"===e?new _D(t,i):new Oo(t,e,i)}static V(t,e,i){return"in"===e?new fD(t,i):new uT(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Ef(e,this.value)):null!==e&&Ec(this.value)===Ec(e)&&this.v(Ef(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return an()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class hD extends Oo{constructor(t,e,i){super(t,e,i),this.key=Xt.fromName(i.referenceValue)}matches(t){const e=Xt.comparator(t.key,this.key);return this.v(e)}}class fD extends Oo{constructor(t,e){super(t,"in",e),this.keys=Dw(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class uT extends Oo{constructor(t,e){super(t,"not-in",e),this.keys=Dw(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Dw(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Xt.fromName(i.referenceValue))}class pD extends Oo{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return pv(e)&&Gm(e.arrayValue,this.value)}}class gD extends Oo{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Gm(this.value.arrayValue,e)}}class mD extends Oo{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Gm(this.value.arrayValue,e)}}class _D extends Oo{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!pv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Gm(this.value.arrayValue,i))}}class dh{constructor(t,e){this.position=t,this.inclusive=e}}class tg{constructor(t,e="asc"){this.field=t,this.dir=e}}function vD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function dT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],a=n.position[r];if(i=s.field.isKeyField()?Xt.comparator(Xt.fromName(a.referenceValue),e.key):Ef(a,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function iF(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ed(n.position[e],t.position[e]))return!1;return!0}class hh{constructor(t,e=null,i=[],r=[],s=null,a="F",l=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=d,this.D=null,this.C=null}}function yD(n,t,e,i,r,s,a,l){return new hh(n,t,e,i,r,s,a,l)}function ng(n){return new hh(n)}function gs(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Aw(n){for(const t of n.filters)if(t.S())return t.field;return null}function hT(n){return null!==n.collectionGroup}function Km(n){const t=Yt(n);if(null===t.D){t.D=[];const e=Aw(t),i=gs(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new tg(e)),t.D.push(new tg($s.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new tg($s.keyField(),s))}}}return t.D}function Nl(n){const t=Yt(n);if(!t.C)if("F"===t.limitType)t.C=aT(t.path,t.collectionGroup,Km(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Km(t))e.push(new tg(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dh(t.startAt.position,t.startAt.inclusive):null;t.C=aT(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function wD(n,t,e){return new hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Qm(n,t){return _v(Nl(n),Nl(t))&&n.limitType===t.limitType}function fT(n){return`${uh(Nl(n))}|lt:${n.limitType}`}function Df(n){return`Query(target=${function lT(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${lh(i.value)}`;var i}).join(", ")}]`),xw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>lh(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>lh(e)).join(",")),`Target(${t})`}(Nl(n))}; limitType=${n.limitType})`}function pT(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Xt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,a){const l=dT(r,s,a);return r.inclusive?l<=0:l<0}(e.startAt,Km(e),i)||e.endAt&&!function(r,s,a){const l=dT(r,s,a);return r.inclusive?l>=0:l>0}(e.endAt,Km(e),i)));var e,i}function xD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gT(n){return(t,e)=>{let i=!1;for(const r of Km(n)){const s=sF(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function sF(n,t,e){const i=n.field.isKeyField()?Xt.comparator(t.key,e.key):function(r,s,a){const l=s.data.field(r),d=a.data.field(r);return null!==l&&null!==d?Ef(l,d):an()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return an()}}function mT(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bw(t)?"-0":t}}function oF(n){return{integerValue:""+n}}function Mw(n,t){return rD(t)?oF(t):mT(n,t)}class Jm{constructor(){this._=void 0}}function td(n,t,e){return n instanceof Ia?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Ro?Sc(n,t):n instanceof Af?vT(n,t):function(i,r){const s=_T(i,r),a=bD(s)+bD(i.k);return sT(s)&&sT(i.k)?oF(a):mT(i.M,a)}(n,t)}function aF(n,t,e){return n instanceof Ro?Sc(n,t):n instanceof Af?vT(n,t):e}function _T(n,t){return n instanceof Xm?sT(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ia extends Jm{}class Ro extends Jm{constructor(t){super(),this.elements=t}}function Sc(n,t){const e=CD(t);for(const i of n.elements)e.some(r=>ed(r,i))||e.push(i);return{arrayValue:{values:e}}}class Af extends Jm{constructor(t){super(),this.elements=t}}function vT(n,t){let e=CD(t);for(const i of n.elements)e=e.filter(r=>!ed(r,i));return{arrayValue:{values:e}}}class Xm extends Jm{constructor(t,e){super(),this.M=t,this.k=e}}function bD(n){return es(n.integerValue||n.doubleValue)}function CD(n){return pv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wv{constructor(t,e){this.field=t,this.transform=e}}class xv{constructor(t,e){this.version=t,this.transformResults=e}}class Ds{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ds}static exists(t){return new Ds(void 0,t)}static updateTime(t){return new Ds(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bv(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class Ow{}function TD(n,t,e){n instanceof e0?function(i,r,s){const a=i.value.clone(),l=Pw(i.fieldTransforms,r,s.transformResults);a.setAll(l),r.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof fh?function(i,r,s){if(!bv(i.precondition,r))return void r.convertToUnknownDocument(s.version);const a=Pw(i.fieldTransforms,r,s.transformResults),l=r.data;l.setAll(Cv(i)),l.setAll(a),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Rw(n,t,e){var r;n instanceof e0?function(i,r,s){if(!bv(i.precondition,r))return;const a=i.value.clone(),l=xT(i.fieldTransforms,s,r);a.setAll(l),r.convertToFoundDocument(wT(r),a).setHasLocalMutations()}(n,t,e):n instanceof fh?function(i,r,s){if(!bv(i.precondition,r))return;const a=xT(i.fieldTransforms,s,r),l=r.data;l.setAll(Cv(i)),l.setAll(a),r.convertToFoundDocument(wT(r),l).setHasLocalMutations()}(n,t,e):bv(n.precondition,r=t)&&r.convertToNoDocument(Nn.min())}function Fw(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=_T(i.transform,r||null);null!=s&&(null==e&&(e=go.empty()),e.set(i.field,s))}return e||null}function ED(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Kp(e,i,(r,s)=>function yT(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Ro&&i instanceof Ro||e instanceof Af&&i instanceof Af?Kp(e.elements,i.elements,ed):e instanceof Xm&&i instanceof Xm?ed(e.k,i.k):e instanceof Ia&&i instanceof Ia);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function wT(n){return n.isFoundDocument()?n.version:Nn.min()}class e0 extends Ow{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class fh extends Ow{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function Cv(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Pw(n,t,e){const i=new Map;Pn(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,aF(a,l,e[r]))}return i}function xT(n,t,e){const i=new Map;for(const r of n){const s=r.transform,a=e.data.field(r.field);i.set(r.field,td(s,a,t))}return i}class t0 extends Ow{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Nw extends Ow{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class SD{constructor(t){this.count=t}}var ms,Ci;function bT(n){switch(n){default:return an();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function ID(n){if(void 0===n)return Ss("GRPC error has no .code"),Ye.UNKNOWN;switch(n){case ms.OK:return Ye.OK;case ms.CANCELLED:return Ye.CANCELLED;case ms.UNKNOWN:return Ye.UNKNOWN;case ms.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case ms.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case ms.INTERNAL:return Ye.INTERNAL;case ms.UNAVAILABLE:return Ye.UNAVAILABLE;case ms.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case ms.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case ms.NOT_FOUND:return Ye.NOT_FOUND;case ms.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case ms.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case ms.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case ms.ABORTED:return Ye.ABORTED;case ms.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case ms.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case ms.DATA_LOSS:return Ye.DATA_LOSS;default:return an()}}(Ci=ms||(ms={}))[Ci.OK=0]="OK",Ci[Ci.CANCELLED=1]="CANCELLED",Ci[Ci.UNKNOWN=2]="UNKNOWN",Ci[Ci.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ci[Ci.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ci[Ci.NOT_FOUND=5]="NOT_FOUND",Ci[Ci.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ci[Ci.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ci[Ci.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ci[Ci.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ci[Ci.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ci[Ci.ABORTED=10]="ABORTED",Ci[Ci.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ci[Ci.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ci[Ci.INTERNAL=13]="INTERNAL",Ci[Ci.UNAVAILABLE=14]="UNAVAILABLE",Ci[Ci.DATA_LOSS=15]="DATA_LOSS";class Mf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Qp(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return tT(this.inner)}size(){return this.innerSize}}const lF=new ps(Xt.comparator);function Ic(){return lF}const cF=new ps(Xt.comparator);function CT(...n){let t=cF;for(const e of n)t=t.insert(e.key,e);return t}function Tv(){return new Mf(n=>n.toString(),(n,t)=>n.isEqual(t))}const uF=new ps(Xt.comparator),dF=new Qi(Xt.comparator);function Vi(...n){let t=dF;for(const e of n)t=t.add(e);return t}const hF=new Qi(Yn);function Lw(){return hF}class Ev{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Sv.createSynthesizedTargetChangeForCurrentChange(t,e)),new Ev(Nn.min(),i,Lw(),Ic(),Vi())}}class Sv{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Sv(Ys.EMPTY_BYTE_STRING,e,Vi(),Vi(),Vi())}}class Bw{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class kD{constructor(t,e){this.targetId=t,this.$=e}}class DD{constructor(t,e,i=Ys.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class AD{constructor(){this.B=0,this.L=ET(),this.U=Ys.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=Vi(),e=Vi(),i=Vi();return this.L.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:an()}}),new Sv(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=ET()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class MD{constructor(t){this.nt=t,this.st=new Map,this.it=Ic(),this.rt=TT(),this.ot=new Qi(Yn)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:an()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const s=r.target;if(vv(s))if(0===i){const a=new Xt(s.path);this.ct(e,a,kr.newNoDocument(a,Nn.min()))}else Pn(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((s,a)=>{const l=this.wt(a);if(l){if(s.current&&vv(l.target)){const d=new Xt(l.target.path);null!==this.it.get(d)||this.It(a,d)||this.ct(a,d,kr.newNoDocument(d,t))}s.j&&(e.set(a,s.H()),s.J())}});let i=Vi();this.rt.forEach((s,a)=>{let l=!0;a.forEachWhile(d=>{const f=this.wt(d);return!f||2===f.purpose||(l=!1,!1)}),l&&(i=i.add(s))}),this.it.forEach((s,a)=>a.setReadTime(t));const r=new Ev(t,e,this.ot,this.it,i);return this.it=Ic(),this.rt=TT(),this.ot=new Qi(Yn),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new AD,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Qi(Yn),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||At("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new AD),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function TT(){return new ps(Xt.comparator)}function ET(){return new ps(Xt.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},RD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class FD{constructor(t,e){this.databaseId=t,this.N=e}}function n0(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ST(n,t){return n.N?t.toBase64():t.toUint8Array()}function PD(n,t){return n0(n,t.toTimestamp())}function As(n){return Pn(!!n),Nn.fromTimestamp(function(t){const e=Cf(t);return new Xr(e.seconds,e.nanos)}(n))}function Iv(n,t){return(e=n,new bi(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Of(n){const t=bi.fromString(n);return Pn(AT(t)),t}function kv(n,t){return Iv(n.databaseId,t.path)}function nd(n,t){const e=Of(t);if(e.get(1)!==n.databaseId.projectId)throw new vt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new vt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Xt(pF(e))}function Rf(n,t){return Iv(n.databaseId,t)}function fF(n){const t=Of(n);return 4===t.length?bi.emptyPath():pF(t)}function ig(n){return new bi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pF(n){return Pn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function IT(n,t,e){return{name:kv(n,t),fields:e.value.mapValue.fields}}function kT(n,t,e){const i=nd(n,t.name),r=As(t.updateTime),s=new go({mapValue:{fields:t.fields}}),a=kr.newFoundDocument(i,r,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Dv(n,t){let e;if(t instanceof e0)e={update:IT(n,t.key,t.value)};else if(t instanceof t0)e={delete:kv(n,t.key)};else if(t instanceof fh)e={update:IT(n,t.key,t.data),updateMask:UD(t.fieldMask)};else{if(!(t instanceof Nw))return an();e={verify:kv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const a=s.transform;if(a instanceof Ia)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Af)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Xm)return{fieldPath:s.field.canonicalString(),increment:a.k};throw an()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:PD(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:an()),e;var r}function DT(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ds.updateTime(As(r.updateTime)):void 0!==r.exists?Ds.exists(r.exists):Ds.none():Ds.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(Pn("REQUEST_TIME"===a.setToServerValue),l=new Ia):"appendMissingElements"in a?l=new Ro(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Af(a.removeAllFromArray.values||[]):"increment"in a?l=new Xm(s,a.increment):an();const d=$s.fromServerFormat(a.fieldPath);return new wv(d,l)}(n,r)):[];var r;if(t.update){const r=nd(n,t.update.name),s=new go({mapValue:{fields:t.update.fields}});if(t.updateMask){const a=new Wm((t.updateMask.fieldPaths||[]).map(f=>$s.fromServerFormat(f)));return new fh(r,s,a,e,i)}return new e0(r,s,e,i)}if(t.delete){const r=nd(n,t.delete);return new t0(r,e)}if(t.verify){const r=nd(n,t.verify);return new Nw(r,e)}return an()}function Av(n,t){return{documents:[Rf(n,t.path)]}}function ND(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Rf(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Rf(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(d){if(0===d.length)return;const f=d.map(p=>function(m){if("=="===m.op){if(oD(m.value))return{unaryFilter:{field:r0(m.field),op:"IS_NAN"}};if(sD(m.value))return{unaryFilter:{field:r0(m.field),op:"IS_NULL"}}}else if("!="===m.op){if(oD(m.value))return{unaryFilter:{field:r0(m.field),op:"IS_NOT_NAN"}};if(sD(m.value))return{unaryFilter:{field:r0(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:r0(m.field),op:LD(m.op),value:m.value}}}(p));return 1===f.length?f[0]:{compositeFilter:{op:"AND",filters:f}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(d){if(0!==d.length)return d.map(f=>{return{field:r0((p=f).field),direction:tB(p.dir)};var p})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=(f=t.limit,n.N||xw(f)?f:{value:f});var f,l,d;return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt={before:!(d=t.endAt).inclusive,values:d.position}),e}function Mv(n){let t=fF(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Pn(1===i);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let s=[];e.where&&(s=Ur(e.where));let a=[];e.orderBy&&(a=e.orderBy.map(p=>{return new tg(s0((m=p).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction));var m}));let l=null;e.limit&&(l=function(p){let m;return m="object"==typeof p?p.value:p,xw(m)?null:m}(e.limit));let d=null;var p;e.startAt&&(d=new dh((p=e.startAt).values||[],!!p.before));let f=null;return e.endAt&&(f=function(p){return new dh(p.values||[],!p.before)}(e.endAt)),yD(t,r,a,s,l,"F",d,f)}function Ur(n){return n?void 0!==n.unaryFilter?[VD(n)]:void 0!==n.fieldFilter?[BD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Ur(t)).reduce((t,e)=>t.concat(e)):an():[]}function tB(n){return OD[n]}function LD(n){return RD[n]}function r0(n){return{fieldPath:n.canonicalString()}}function s0(n){return $s.fromServerFormat(n.fieldPath)}function BD(n){return Oo.create(s0(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return an()}}(n.fieldFilter.op),n.fieldFilter.value)}function VD(n){switch(n.unaryFilter.op){case"IS_NAN":const t=s0(n.unaryFilter.field);return Oo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=s0(n.unaryFilter.field);return Oo.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=s0(n.unaryFilter.field);return Oo.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=s0(n.unaryFilter.field);return Oo.create(r,"!=",{nullValue:"NULL_VALUE"});default:return an()}}function UD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function AT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ka(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=HD(t)),t=mF(n.get(e),t);return HD(t)}function mF(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function HD(n){return n+"\x01\x01"}function el(n){const t=n.length;if(Pn(t>=2),2===t)return Pn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bi.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const a=n.indexOf("\x01",s);switch((a<0||a>e)&&an(),n.charAt(a+1)){case"\x01":const l=n.substring(s,a);let d;0===r.length?d=l:(r+=l,d=r,r=""),i.push(d);break;case"\x10":r+=n.substring(s,a),r+="\0";break;case"\x11":r+=n.substring(s,a+1);break;default:an()}s=a+2}return new bi(i)}const jD=["userId","batchId"];function Uw(n,t){return[n,ka(t)]}function zD(n,t,e){return[n,ka(t),e]}const Hw={},ZD=["prefixPath","collectionGroup","readTime","documentId"],WD=["prefixPath","collectionGroup","documentId"],qD=["collectionGroup","readTime","prefixPath","documentId"],_F=["canonicalId","targetId"],Ov=["targetId","path"],Rv=["path","targetId"],vF=["collectionId","parent"],yF=["indexId","uid"],wF=["uid","sequenceNumber"],GD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$D=["indexId","uid","orderedDocumentKey"],YD=["userId","collectionPath","documentId"],xF=["userId","collectionPath","largestBatchId"],KD=["userId","collectionGroup","largestBatchId"],QD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bF=[...QD,"documentOverlays"],CF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nB=[...CF,"indexConfiguration","indexState","indexEntries"],TF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Je{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&an(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Je((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Je?e:Je.resolve(e)}catch(e){return Je.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Je.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Je.reject(e)}static resolve(t){return new Je((e,i)=>{e(t)})}static reject(t){return new Je((e,i)=>{i(t)})}static waitFor(t){return new Je((e,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&e()},d=>i(d))}),a=!0,s===r&&e()})}static or(t){let e=Je.resolve(!1);for(const i of t)e=e.next(r=>r?Je.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}}class rg{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Is,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new o0(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=MT(i.target.error);this.At.reject(new o0(t,r))}}static open(t,e,i,r){try{return new rg(e,t.transaction(r,i))}catch(s){throw new o0(e,s)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(At("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new IF(e)}}class au{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===au.Vt((0,X.z$)())&&Ss("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return At("SimpleDb","Removing database:",t),sg(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,X.hl)())return!1;if(au.St())return!0;const t=(0,X.z$)(),e=au.Vt(t),i=0<e&&e<10,r=au.Dt(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,ot.Z)(function*(){return e.db||(At("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=a=>{i(a.target.result)},s.onblocked=()=>{r(new o0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const l=a.target.error;r("VersionError"===l.name?new vt(Ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===l.name?new vt(Ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l):new o0(t,l))},s.onupgradeneeded=a=>{At("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',a.oldVersion),e.Pt.kt(a.target.result,s.transaction,a.oldVersion,e.version).next(()=>{At("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,ot.Z)(function*(){const a="readonly"===e;let l=0;for(;;){++l;try{s.db=yield s.Nt(t);const d=rg.open(s.db,t,a?"readonly":"readwrite",i),f=r(d).next(p=>(d.bt(),p)).catch(p=>(d.abort(p),Je.reject(p))).toPromise();return f.catch(()=>{}),yield d.Rt,f}catch(d){const f="FirebaseError"!==d.name&&l<3;if(At("SimpleDb","Transaction failed with error:",d.message,"Retrying:",f),s.close(),!f)return Promise.reject(d)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class SF{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return sg(this.Ft.delete())}}class o0 extends vt{constructor(t,e){super(Ye.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function lu(n){return"IndexedDbTransactionError"===n.name}class IF{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(At("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(At("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),sg(i)}add(t){return At("SimpleDb","ADD",this.store.name,t,t),sg(this.store.add(t))}get(t){return sg(this.store.get(t)).next(e=>(void 0===e&&(e=null),At("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return At("SimpleDb","DELETE",this.store.name,t),sg(this.store.delete(t))}count(){return At("SimpleDb","COUNT",this.store.name),sg(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(a,l)=>{s.push(l)}).next(()=>s)}{const r=this.store.getAll(i.range);return new Je((s,a)=>{r.onerror=l=>{a(l.target.error)},r.onsuccess=l=>{s(l.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Je((r,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{r(a.target.result)}})}Qt(t,e){At("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,a,l)=>l.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new Je((i,r)=>{e.onerror=s=>{const a=MT(s.target.error);r(a)},e.onsuccess=s=>{const a=s.target.result;a?t(a.primaryKey,a.value).next(l=>{l?a.continue():i()}):i()}})}Kt(t,e){const i=[];return new Je((r,s)=>{t.onerror=a=>{s(a.target.error)},t.onsuccess=a=>{const l=a.target.result;if(!l)return void r();const d=new SF(l),f=e(l.primaryKey,l.value,d);if(f instanceof Je){const p=f.catch(m=>(d.done(),Je.reject(m)));i.push(p)}d.isDone?r():null===d.Lt?l.continue():l.continue(d.Lt)}}).next(()=>Je.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function sg(n){return new Je((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=MT(i.target.error);e(r)}})}let JD=!1;function MT(n){const t=au.Vt((0,X.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JD||(JD=!0,setTimeout(()=>{throw i},0)),i}}return n}class XD extends EF{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Ks(n,t){const e=Yt(n);return au.xt(e.Ht,t)}class OT{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&TD(s,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Rw(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Rw(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Nn.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vi())}isEqual(t){return this.batchId===t.batchId&&Kp(this.mutations,t.mutations,(e,i)=>ED(e,i))&&Kp(this.baseMutations,t.baseMutations,(e,i)=>ED(e,i))}}class RT{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Pn(t.mutations.length===i.length);let r=uF;const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new RT(t,e,i,r)}}class Ff{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Pf{constructor(t,e,i,r,s=Nn.min(),a=Nn.min(),l=Ys.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}withSequenceNumber(t){return new Pf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Pf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Pf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class FT{constructor(t){this.Jt=t}}function PT(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:jw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:kv(r=n.Jt,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:n0(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Nf(t.version)};else{if(!t.isUnknownDocument())return an();i.unknownDocument={path:e.path.toArray(),version:Nf(t.version)}}var r,s;return i}function jw(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Nf(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function og(n){const t=new Xr(n.seconds,n.nanoseconds);return Nn.fromTimestamp(t)}function Lf(n,t){const e=(t.baseMutations||[]).map(s=>DT(n.Jt,s));for(let s=0;s<t.mutations.length-1;++s){const a=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(a.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>DT(n.Jt,s)),r=Xr.fromMillis(t.localWriteTimeMs);return new OT(t.batchId,r,e,i)}function Fv(n){const t=og(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?og(n.lastLimboFreeSnapshotVersion):Nn.min();let i;var r;return void 0!==n.query.documents?(Pn(1===(r=n.query).documents.length),i=Nl(ng(fF(r.documents[0])))):i=Nl(Mv(n.query)),new Pf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Ys.fromBase64String(n.resumeToken))}function NT(n,t){const e=Nf(t.snapshotVersion),i=Nf(t.lastLimboFreeSnapshotVersion);let r;r=vv(t.target)?Av(n.Jt,t.target):ND(n.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:uh(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function zw(n){const t=Mv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wD(t,t.limit,"L"):t}function LT(n,t){return new Ff(t.largestBatchId,DT(n.Jt,t.overlayMutation))}function e2(n,t){const e=t.path.lastSegment();return[n,ka(t.path.popLast()),e]}class DF{getBundleMetadata(t,e){return Zw(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:og(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return Zw(t).put({bundleId:(i=e).id,createTime:Nf(As(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return t2(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:zw(r.bundledQuery),readTime:og(r.readTime)};var r})}saveNamedQuery(t,e){return t2(t).put({name:(i=e).name,readTime:Nf(As(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Zw(n){return Ks(n,"bundles")}function t2(n){return Ks(n,"namedQueries")}class Ww{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new Ww(t,e.uid||"")}getOverlay(t,e){return Pv(t).get(e2(this.userId,e)).next(i=>i?LT(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((s,a)=>{const l=new Ff(e,a);r.push(this.Xt(t,l))}),Je.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(a=>r.add(ka(a.getCollectionPath())));const s=[];return r.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,i+1],!1,!0);s.push(Pv(t).Qt("collectionPathOverlayIndex",l))}),Je.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Tv(),s=ka(e),a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Pv(t).qt("collectionPathOverlayIndex",a).next(l=>{for(const d of l){const f=LT(this.M,d);r.set(f.getKey(),f)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Tv();let a;const l=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Pv(t).Wt({index:"collectionGroupOverlayIndex",range:l},(d,f,p)=>{const m=LT(this.M,f);s.size()<r||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):p.done()}).next(()=>s)}Xt(t,e){return Pv(t).put(function(i,r,s){const[a,l,d]=e2(r,s.mutation.key);return{userId:r,collectionPath:l,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Dv(i.Jt,s.mutation)}}(this.M,this.userId,e))}}function Pv(n){return Ks(n,"documentOverlays")}class ag{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(es(t.integerValue));else if("doubleValue"in t){const i=es(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),bw(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(qm(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?aD(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):an()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),Xt.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function AF(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function n2(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=AF(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}ag.fe=new ag;class MF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=n2(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=n2(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class OF{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class RF{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class Nv{constructor(){this.De=new MF,this.Ce=new OF(this.De),this.xe=new RF(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Bf{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Bf(this.indexId,this.documentKey,this.arrayValue,i)}}function Vf(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=r2(n.arrayValue,t.arrayValue),0!==e?e:(e=r2(n.directionalValue,t.directionalValue),0!==e?e:Xt.comparator(n.documentKey,t.documentKey)))}function r2(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class FF{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=Sw(t);if(void 0!==e&&!this.Be(e))return!1;const i=ch(t);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const a=i[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[s++],a))return!1;++r}for(;r<i.length;++r){const a=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],a))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class s2{constructor(){this.qe=new BT}addToCollectionParentIndex(t,e){return this.qe.add(e),Je.resolve()}getCollectionParents(t,e){return Je.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return Je.resolve()}deleteFieldIndex(t,e){return Je.resolve()}getDocumentsMatchingTarget(t,e){return Je.resolve(null)}getIndexType(t,e){return Je.resolve(0)}getFieldIndexes(t,e){return Je.resolve([])}getNextCollectionGroupToUpdate(t){return Je.resolve(null)}getMinOffset(t,e){return Je.resolve(Pl.min())}updateCollectionGroup(t,e,i){return Je.resolve()}updateIndexEntries(t,e){return Je.resolve()}}class BT{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Qi(bi.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Qi(bi.comparator)).toArray()}}const qw=new Uint8Array(0);class PF{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new BT,this.Ge=new Mf(i=>uh(i),(i,r)=>_v(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const s={collectionId:i,parent:ka(r)};return Gw(t).put(s)}return Je.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[XC(e),""],!1,!0);return Gw(t).qt(r).next(s=>{for(const a of s){if(a.collectionId!==e)break;i.push(el(a.parent))}return i})}addFieldIndex(t,e){const i=Lv(t),r={indexId:(s=e).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=Lv(t),r=a0(t),s=lg(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=lg(t);let r=!0;const s=new Map;return Je.forEach(this.Qe(e),a=>this.je(t,a).next(l=>{r&&(r=!!l),s.set(a,l)})).next(()=>{if(r){let a=Vi();const l=[];return Je.forEach(s,(d,f)=>{var p;At("IndexedDbIndexManager",`Using index ${p=d,`id=${p.indexId}|cg=${p.collectionGroup}|f=${p.fields.map(U=>`${U.fieldPath}:${U.kind}`).join(",")}`} to execute ${uh(e)}`);const m=function(U,q){const Q=Sw(q);if(void 0===Q)return null;for(const ue of yv(U,Q.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(f,d),w=function(U,q){const Q=new Map;for(const ue of ch(q))for(const K of yv(U,ue.fieldPath))switch(K.op){case"==":case"in":Q.set(ue.fieldPath.canonicalString(),K.value);break;case"not-in":case"!=":return Q.set(ue.fieldPath.canonicalString(),K.value),Array.from(Q.values())}return null}(f,d),b=function(U,q){const Q=[];let ue=!0;for(const K of ch(q)){const he=0===K.kind?kw(U,K.fieldPath,U.startAt):cT(U,K.fieldPath,U.startAt);Q.push(he.value),ue&&(ue=he.inclusive)}return new dh(Q,ue)}(f,d),T=function(U,q){const Q=[];let ue=!0;for(const K of ch(q)){const he=0===K.kind?cT(U,K.fieldPath,U.endAt):kw(U,K.fieldPath,U.endAt);Q.push(he.value),ue&&(ue=he.inclusive)}return new dh(Q,ue)}(f,d),E=this.We(d,f,b),M=this.We(d,f,T),N=this.ze(d,f,w),V=this.He(d.indexId,m,E,b.inclusive,M,T.inclusive,N);return Je.forEach(V,U=>i.Gt(U,e.limit).next(q=>{q.forEach(Q=>{const ue=Xt.fromSegments(Q.documentKey);a.has(ue)||(a=a.add(ue),l.push(ue))})}))}).next(()=>l)}return Je.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}He(t,e,i,r,s,a,l){const d=(null!=e?e.length:1)*Math.max(i.length,s.length),f=d/(null!=e?e.length:1),p=[];for(let m=0;m<d;++m){const w=e?this.Je(e[m/f]):qw,b=this.Ye(t,w,i[m%f],r),T=this.Xe(t,w,s[m%f],a),E=l.map(M=>this.Ye(t,w,M,!0));p.push(...this.createRange(b,T,E))}return p}Ye(t,e,i,r){const s=new Bf(t,Xt.empty(),e,i);return r?s:s.ke()}Xe(t,e,i,r){const s=new Bf(t,Xt.empty(),e,i);return r?s.ke():s}je(t,e){const i=new FF(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let a=null;for(const l of s)i.$e(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(t,e){let i=2;return Je.forEach(this.Qe(e),r=>this.je(t,r).next(s=>{s?0!==i&&s.fields.length<function(a){let l=new Qi($s.comparator),d=!1;for(const f of a.filters){const p=f;p.field.isKeyField()||("array-contains"===p.op||"array-contains-any"===p.op?d=!0:l=l.add(p.field))}for(const f of a.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(t,e){const i=new Nv;for(const r of ch(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const a=i.Ne(r.kind);ag.fe.Zt(s,a)}return i.Se()}Je(t){const e=new Nv;return ag.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new Nv;return ag.fe.Zt(Sf(this.databaseId,e),i.Ne(function(r){const s=ch(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.Se()}ze(t,e,i){if(null===i)return[];let r=[];r.push(new Nv);let s=0;for(const a of ch(t)){const l=i[s++];for(const d of r)if(this.en(e,a.fieldPath)&&pv(l))r=this.nn(r,a,l);else{const f=d.Ne(a.kind);ag.fe.Zt(l,f)}}return this.sn(r)}We(t,e,i){return this.ze(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],s=[];for(const a of i.arrayValue.values||[])for(const l of r){const d=new Nv;d.seed(l.Se()),ag.fe.Zt(a,d.Ne(e.kind)),s.push(d)}return s}en(t,e){return!!t.filters.find(i=>i instanceof Oo&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Lv(t),r=a0(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(s=>{const a=[];return Je.forEach(s,l=>r.get([l.indexId,this.uid]).next(d=>{a.push(function(f,p){const m=p?new gv(p.sequenceNumber,new Pl(og(p.readTime),new Xt(el(p.documentKey)),p.largestBatchId)):gv.empty(),w=f.fields.map(([b,T])=>new Ym($s.fromServerFormat(b),T));return new If(f.indexId,f.collectionGroup,w,m)}(l,d))})).next(()=>a)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Yn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Lv(t),s=a0(t);return this.rn(t).next(a=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(l=>Je.forEach(l,d=>{return s.put({indexId:d.indexId,uid:this.user.uid||"",sequenceNumber:a,readTime:Nf((w=i).readTime),documentKey:ka(w.documentKey.path),largestBatchId:w.largestBatchId});var w})))}updateIndexEntries(t,e){const i=new Map;return Je.forEach(e,(r,s)=>{const a=i.get(r.collectionGroup);return(a?Je.resolve(a):this.getFieldIndexes(t,r.collectionGroup)).next(l=>(i.set(r.collectionGroup,l),Je.forEach(l,d=>this.on(t,r,d).next(f=>{const p=this.un(s,d);return f.isEqual(p)?Je.resolve():this.an(t,s,d,f,p)}))))})}cn(t,e,i,r){return lg(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return lg(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=lg(t);let s=new Qi(Vf);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(a,l)=>{s=s.add(new Bf(i.indexId,e,l.arrayValue,l.directionalValue))}).next(()=>s)}un(t,e){let i=new Qi(Vf);const r=this.Ze(e,t);if(null==r)return i;const s=Sw(e);if(null!=s){const a=t.data.field(s.fieldPath);if(pv(a))for(const l of a.arrayValue.values||[])i=i.add(new Bf(e.indexId,t.key,this.Je(l),r))}else i=i.add(new Bf(e.indexId,t.key,qw,r));return i}an(t,e,i,r,s){At("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const a=[];return function(l,d,f,p,m){const w=l.getIterator(),b=d.getIterator();let T=kf(w),E=kf(b);for(;T||E;){let M=!1,N=!1;if(T&&E){const V=f(T,E);V<0?N=!0:V>0&&(M=!0)}else null!=T?N=!0:M=!0;M?(p(E),E=kf(b)):N?(m(T),T=kf(w)):(T=kf(w),E=kf(b))}}(r,s,Vf,l=>{a.push(this.cn(t,e,i,l))},l=>{a.push(this.hn(t,e,i,l))}),Je.waitFor(a)}rn(t){let e=1;return a0(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((a,l)=>Vf(a,l)).filter((a,l,d)=>!l||0!==Vf(a,d[l-1]));const r=[];r.push(t);for(const a of i){const l=Vf(a,t),d=Vf(a,e);if(0===l)r[0]=t.ke();else if(l>0&&d<0)r.push(a),r.push(a.ke());else if(d>0)break}r.push(e);const s=[];for(let a=0;a<r.length;a+=2)s.push(IDBKeyRange.bound([r[a].indexId,this.uid,r[a].arrayValue,r[a].directionalValue,qw,[]],[r[a+1].indexId,this.uid,r[a+1].arrayValue,r[a+1].directionalValue,qw,[]]));return s}getMinOffset(t,e){let i;return Je.forEach(this.Qe(e),r=>this.je(t,r).next(s=>{s?(!i||nF(s.indexState.offset,i)<0)&&(i=s.indexState.offset):i=Pl.min()})).next(()=>i)}}function Gw(n){return Ks(n,"collectionParents")}function lg(n){return Ks(n,"indexEntries")}function Lv(n){return Ks(n,"indexConfiguration")}function a0(n){return Ks(n,"indexState")}const o2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tl{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new tl(t,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $w(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],a=IDBKeyRange.only(e.batchId);let l=0;const d=i.Wt({range:a},(p,m,w)=>(l++,w.delete()));s.push(d.next(()=>{Pn(1===l)}));const f=[];for(const p of e.mutations){const m=zD(t,p.key.path,e.batchId);s.push(r.delete(m)),f.push(p.key)}return Je.waitFor(s).next(()=>f)}function Yw(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw an();t=n.noDocument}return JSON.stringify(t).length}tl.DEFAULT_COLLECTION_PERCENTILE=10,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tl.DEFAULT=new tl(41943040,tl.DEFAULT_COLLECTION_PERCENTILE,tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tl.DISABLED=new tl(-1,0,0);class Kw{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Pn(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new Kw(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ph(t).Wt({index:"userMutationsIndex",range:i},(r,s,a)=>{e=!1,a.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=l0(t),a=ph(t);return a.add({}).next(l=>{Pn("number"==typeof l);const d=new OT(l,e,i,r),f=function(w,b,T){const E=T.baseMutations.map(N=>Dv(w.Jt,N)),M=T.mutations.map(N=>Dv(w.Jt,N));return{userId:b,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:E,mutations:M}}(this.M,this.userId,d),p=[];let m=new Qi((w,b)=>Yn(w.canonicalString(),b.canonicalString()));for(const w of r){const b=zD(this.userId,w.key.path,l);m=m.add(w.key.path.popLast()),p.push(a.put(f)),p.push(s.put(b,Hw))}return m.forEach(w=>{p.push(this.indexManager.addToCollectionParentIndex(t,w))}),t.addOnCommittedListener(()=>{this.ln[l]=d.keys()}),Je.waitFor(p).next(()=>d)})}lookupMutationBatch(t,e){return ph(t).get(e).next(i=>i?(Pn(i.userId===this.userId),Lf(this.M,i)):null)}fn(t,e){return this.ln[e]?Je.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ph(t).Wt({index:"userMutationsIndex",range:r},(a,l,d)=>{l.userId===this.userId&&(Pn(l.batchId>=i),s=Lf(this.M,l)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ph(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,s,a)=>{i=s.batchId,a.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ph(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Lf(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Uw(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return l0(t).Wt({range:r},(a,l,d)=>{const[f,p,m]=a,w=el(p);if(f===this.userId&&e.path.isEqual(w))return ph(t).get(m).next(b=>{if(!b)throw an();Pn(b.userId===this.userId),s.push(Lf(this.M,b))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Qi(Yn);const r=[];return e.forEach(s=>{const a=Uw(this.userId,s.path),l=IDBKeyRange.lowerBound(a),d=l0(t).Wt({range:l},(f,p,m)=>{const[w,b,T]=f,E=el(b);w===this.userId&&s.path.isEqual(E)?i=i.add(T):m.done()});r.push(d)}),Je.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=Uw(this.userId,i),a=IDBKeyRange.lowerBound(s);let l=new Qi(Yn);return l0(t).Wt({range:a},(d,f,p)=>{const[m,w,b]=d,T=el(w);m===this.userId&&i.isPrefixOf(T)?T.length===r&&(l=l.add(b)):p.done()}).next(()=>this.dn(t,l))}dn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(ph(t).get(s).next(a=>{if(null===a)throw an();Pn(a.userId===this.userId),i.push(Lf(this.M,a))}))}),Je.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return $w(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),Je.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Je.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return l0(t).Wt({range:i},(s,a,l)=>{if(s[0]===this.userId){const d=el(s[1]);r.push(d)}else l.done()}).next(()=>{Pn(0===r.length)})})}containsKey(t,e){return a2(t,this.userId,e)}wn(t){return VT(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function a2(n,t,e){const i=Uw(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return l0(n).Wt({range:s,jt:!0},(l,d,f)=>{const[p,m,w]=l;p===t&&m===r&&(a=!0),f.done()}).next(()=>a)}function ph(n){return Ks(n,"mutations")}function l0(n){return Ks(n,"documentMutations")}function VT(n){return Ks(n,"mutationQueues")}class c0{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new c0(0)}static yn(){return new c0(-1)}}class NF{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new c0(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>Nn.fromTimestamp(new Xr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gh(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Pn(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return gh(t).Wt((a,l)=>{const d=Fv(l);d.sequenceNumber<=e&&null===i.get(d.targetId)&&(r++,s.push(this.removeTargetData(t,d)))}).next(()=>Je.waitFor(s)).next(()=>r)}forEachTarget(t,e){return gh(t).Wt((i,r)=>{const s=Fv(r);e(s)})}pn(t){return l2(t).get("targetGlobalKey").next(e=>(Pn(null!==e),e))}In(t,e){return l2(t).put("targetGlobalKey",e)}Tn(t,e){return gh(t).put(NT(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=uh(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return gh(t).Wt({range:r,index:"queryTargetsIndex"},(a,l,d)=>{const f=Fv(l);_v(e,f.target)&&(s=f,d.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Ll(t);return e.forEach(a=>{const l=ka(a.path);r.push(s.put({targetId:i,path:l})),r.push(this.referenceDelegate.addReference(t,i,a))}),Je.waitFor(r)}removeMatchingKeys(t,e,i){const r=Ll(t);return Je.forEach(e,s=>{const a=ka(s.path);return Je.waitFor([r.delete([i,a]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Ll(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ll(t);let s=Vi();return r.Wt({range:i,jt:!0},(a,l,d)=>{const f=el(a[1]),p=new Xt(f);s=s.add(p)}).next(()=>s)}containsKey(t,e){const i=ka(e.path),r=IDBKeyRange.bound([i],[XC(i)],!1,!0);let s=0;return Ll(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([a,l],d,f)=>{0!==a&&(s++,f.done())}).next(()=>s>0)}Et(t,e){return gh(t).get(e).next(i=>i?Fv(i):null)}}function gh(n){return Ks(n,"targets")}function l2(n){return Ks(n,"targetGlobal")}function Ll(n){return Ks(n,"targetDocuments")}function cu(n){return UT.apply(this,arguments)}function UT(){return UT=(0,ot.Z)(function*(n){if(n.code!==Ye.FAILED_PRECONDITION||n.message!==TF)throw n;At("LocalStore","Unexpectedly lost primary lease")}),UT.apply(this,arguments)}function LF([n,t],[e,i]){const r=Yn(n,e);return 0===r?Yn(t,i):r}class c2{constructor(t){this.An=t,this.buffer=new Qi(LF),this.Rn=0}bn(){return++this.Rn}Pn(t){const e=[t,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();LF(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class BF{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;At("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ot.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){lu(r)?At("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield cu(r)}yield e.Sn(t)}))}}class VF{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Je.resolve(Xa.A);const i=new c2(e);return this.Dn.forEachTarget(t,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(o2)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o2):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,s,a,l,d,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(t,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(t,i,e))).next(m=>(s=m,d=Date.now(),this.removeOrphanedDocuments(t,i))).next(m=>(f=Date.now(),bf()<=Rl.in.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-p}ms\n\tDetermined least recently used ${r} in `+(l-a)+`ms\n\tRemoved ${s} targets in `+(d-l)+`ms\n\tRemoved ${m} documents in `+(f-d)+`ms\nTotal Duration: ${f-p}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}class UF{constructor(t,e){this.db=t,this.garbageCollector=new VF(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return Qw(t,i)}removeReference(t,e,i){return Qw(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Qw(t,e)}On(t,e){return function(i,r){let s=!1;return VT(i).zt(a=>a2(i,a,r).next(l=>(l&&(s=!0),Je.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(t,(a,l)=>{if(l<=e){const d=this.On(t,a).next(f=>{if(!f)return s++,i.getEntry(t,a).next(()=>(i.removeEntry(a,Nn.min()),Ll(t).delete([0,ka(a.path)])))});r.push(d)}}).next(()=>Je.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Qw(t,e)}Mn(t,e){const i=Ll(t);let r,s=Xa.A;return i.Wt({index:"documentTargetsIndex"},([a,l],{path:d,sequenceNumber:f})=>{0===a?(s!==Xa.A&&e(new Xt(el(r)),s),s=f,r=d):s=Xa.A}).next(()=>{s!==Xa.A&&e(new Xt(el(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Qw(n,t){return Ll(n).put((i=n.currentSequenceNumber,{targetId:0,path:ka(t.path),sequenceNumber:i}));var i}class HT{constructor(){this.changes=new Mf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,kr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Je.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class u2{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return uu(t).put(i)}removeEntry(t,e,i){return uu(t).delete(function(r,s){const a=r.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],jw(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=kr.newInvalidDocument(e);return uu(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vv(e))},(r,s)=>{i=this.$n(e,s)}).next(()=>i)}Bn(t,e){let i={size:0,document:kr.newInvalidDocument(e)};return uu(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vv(e))},(r,s)=>{i={document:this.$n(e,s),size:Yw(s)}}).next(()=>i)}getEntries(t,e){let i=Ic();return this.Ln(t,e,(r,s)=>{const a=this.$n(r,s);i=i.insert(r,a)}).next(()=>i)}Un(t,e){let i=Ic(),r=new ps(Xt.comparator);return this.Ln(t,e,(s,a)=>{const l=this.$n(s,a);i=i.insert(s,l),r=r.insert(s,Yw(a))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return Je.resolve();let r=new Qi(ZT);e.forEach(d=>r=r.add(d));const s=IDBKeyRange.bound(Vv(r.first()),Vv(r.last())),a=r.getIterator();let l=a.getNext();return uu(t).Wt({index:"documentKeyIndex",range:s},(d,f,p)=>{const m=Xt.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;l&&ZT(l,m)<0;)i(l,null),l=a.getNext();l&&l.isEqual(m)&&(i(l,f),l=a.hasNext()?a.getNext():null),l?p.Ut(Vv(l)):p.done()}).next(()=>{for(;l;)i(l,null),l=a.hasNext()?a.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),jw(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return uu(t).qt(IDBKeyRange.bound(r,s,!0)).next(a=>{let l=Ic();for(const d of a){const f=this.$n(Xt.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);l=l.insert(f.key,f)}return l})}getAllFromCollectionGroup(t,e,i,r){let s=Ic();const a=zT(e,i),l=zT(e,Pl.max());return uu(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,l,!0)},(d,f,p)=>{const m=this.$n(Xt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);s=s.insert(m.key,m),s.size===r&&p.done()}).next(()=>s)}newChangeBuffer(t){return new jT(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Bv(t).get("remoteDocumentGlobalKey").next(e=>(Pn(!!e),e))}Fn(t,e){return Bv(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function kF(n,t){let e;if(t.document)e=kT(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Xt.fromSegments(t.noDocument.path),r=og(t.noDocument.readTime);e=kr.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return an();{const i=Xt.fromSegments(t.unknownDocument.path),r=og(t.unknownDocument.version);e=kr.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Xr(i[0],i[1]);return Nn.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(Nn.min()))return i}return kr.newInvalidDocument(t)}}class jT extends HT{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new Mf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Qi((s,a)=>Yn(s.canonicalString(),a.canonicalString()));return this.changes.forEach((s,a)=>{const l=this.Gn.get(s);if(e.push(this.Kn.removeEntry(t,s,l.readTime)),a.isValidDocument()){const d=PT(this.Kn.M,a);r=r.add(s.path.popLast()),i+=Yw(d)-l.size,e.push(this.Kn.addEntry(t,s,d))}else if(i-=l.size,this.trackRemovals){const d=PT(this.Kn.M,a.convertToNoDocument(Nn.min()));e.push(this.Kn.addEntry(t,s,d))}}),r.forEach(s=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Kn.updateMetadata(t,i)),Je.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((s,a)=>{this.Gn.set(s,{size:a,readTime:i.get(s).readTime})}),i))}}function Bv(n){return Ks(n,"remoteDocumentGlobal")}function uu(n){return Ks(n,"remoteDocumentsV14")}function Vv(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function zT(n,t){const e=t.documentKey.path.toArray();return[n,jw(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function ZT(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Yn(e[s],i[s]),r)return r;return r=Yn(e.length,i.length),r||(r=Yn(e[e.length-2],i[i.length-2]),r||Yn(e[e.length-1],i[i.length-1]))}class HF{constructor(t){this.M=t}kt(t,e,i,r){const s=new rg("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jD,{unique:!0}),l.createObjectStore("documentMutations"),d2(t),function(l){l.createObjectStore("remoteDocuments")}(t));let a=Je.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),d2(t)),a=a.next(()=>function(l){const d=l.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nn.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)}(s))),i<4&&r>=4&&(0!==i&&(a=a.next(()=>function(l,d){return d.store("mutations").qt().next(f=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jD,{unique:!0});const p=d.store("mutations"),m=f.map(w=>p.put(w));return Je.waitFor(m)})}(t,s))),a=a.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(a=a.next(()=>this.Qn(s))),i<6&&r>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.jn(s)))),i<7&&r>=7&&(a=a.next(()=>this.Wn(s))),i<8&&r>=8&&(a=a.next(()=>this.zn(t,s))),i<9&&r>=9&&(a=a.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(a=a.next(()=>this.Hn(s))),i<11&&r>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(a=a.next(()=>{!function(l){const d=l.createObjectStore("documentOverlays",{keyPath:YD});d.createIndex("collectionPathOverlayIndex",xF,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",KD,{unique:!1})}(t)})),i<13&&r>=13&&(a=a.next(()=>function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:ZD});d.createIndex("documentKeyIndex",WD),d.createIndex("collectionGroupIndex",qD)}(t)).next(()=>this.Jn(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(a=a.next(()=>{!function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:yF}).createIndex("sequenceNumberIndex",wF,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:GD}).createIndex("documentKeyIndex",$D,{unique:!1})}(t)})),a}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=Yw(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>Je.forEach(r,s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",a).next(l=>Je.forEach(l,d=>{Pn(d.userId===s.userId);const f=Lf(this.M,d);return $w(t,s.userId,f).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((a,l)=>{const d=new bi(a),f=[0,ka(d)];s.push(e.get(f).next(p=>p?Je.resolve():e.put({targetId:0,path:ka(d),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Je.waitFor(s))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:vF});const i=e.store("collectionParents"),r=new BT,s=a=>{if(r.add(a)){const l=a.lastSegment(),d=a.popLast();return i.put({collectionId:l,parent:ka(d)})}};return e.store("remoteDocuments").Wt({jt:!0},(a,l)=>{const d=new bi(a);return s(d.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([a,l,d],f)=>{const p=el(l);return s(p.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const s=Fv(r),a=NT(this.M,s);return e.put(a)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((s,a)=>{const l=e.store("remoteDocumentsV14"),d=(f=a,f.document?new Xt(bi.fromString(f.document.name).popFirst(5)):f.noDocument?Xt.fromSegments(f.noDocument.path):f.unknownDocument?Xt.fromSegments(f.unknownDocument.path):an()).path.toArray();var f;const p={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(l.put(p))}).next(()=>Je.waitFor(r))}}function d2(n){n.createObjectStore("targetDocuments",{keyPath:Ov}).createIndex("documentTargetsIndex",Rv,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_F,{unique:!0}),n.createObjectStore("targetGlobal")}const Uv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class WT{constructor(t,e,i,r,s,a,l,d,f,p,m=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=s,this.window=a,this.document=l,this.Xn=f,this.Zn=p,this.ts=m,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=w=>Promise.resolve(),!WT.vt())throw new vt(Ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UF(this,r),this.hs=e+"main",this.M=new FT(d),this.ls=new au(this.hs,this.ts,new HF(this.M)),this.fs=new NF(this.referenceDelegate,this.M),this.ds=new u2(this.M),this._s=new DF,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===p&&Ss("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(Ye.FAILED_PRECONDITION,Uv);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new Xa(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,ot.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,ot.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,ot.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Xw(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.bs(t).next(()=>!0))).catch(t=>{if(lu(t))return At("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return At("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return Jw(t).get("owner").next(e=>Je.resolve(this.Ps(e)))}Vs(t){return Xw(t).delete(this.clientId)}vs(){var t=this;return(0,ot.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ks(i,"clientMetadata");return r.qt().next(s=>{const a=t.Ds(s,18e5),l=s.filter(d=>-1===a.indexOf(d));return Je.forEach(l,d=>r.delete(d.clientId)).next(()=>l)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?Je.resolve(!0):Jw(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.Ps(e)&&this.networkEnabled)return!0;if(!this.Ps(e)){if(!e.allowTabSynchronization)throw new vt(Ye.FAILED_PRECONDITION,Uv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xw(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const a=!this.inForeground&&r.inForeground,l=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||a&&l)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&At("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ot.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new XD(e,Xa.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>Xw(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return Kw.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new PF(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return Ww.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){At("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=14===(a=this.ts)?nB:13===a?CF:12===a?bF:11===a?QD:void an();var a;let l;return this.ls.runTransaction(t,r,s,d=>(l=new XD(d,this.es?this.es.next():Xa.A),"readwrite-primary"===e?this.Es(l).next(f=>!!f||this.As(l)).next(f=>{if(!f)throw Ss(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new vt(Ye.FAILED_PRECONDITION,TF);return i(l)}).next(f=>this.bs(l).next(()=>f)):this.$s(l).next(()=>i(l)))).then(d=>(l.raiseOnCommittedEvent(),d))}$s(t){return Jw(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.Ps(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new vt(Ye.FAILED_PRECONDITION,Uv)})}bs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jw(t).put("owner",e)}static vt(){return au.vt()}Rs(t){const e=Jw(t);return e.get("owner").next(i=>this.Ps(i)?(At("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Je.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(Ss(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,X.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return At("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ss("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){Ss("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Jw(n){return Ks(n,"owner")}function Xw(n){return Ks(n,"clientMetadata")}function qT(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class u0{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const s of e)s.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return Xt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):hT(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new Xt(e)).next(i=>{let r=CT();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let s=CT();return this.indexManager.getCollectionParents(t,r).next(a=>Je.forEach(a,l=>{const d=(f=e,p=l.child(r),new hh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,p;return this.zs(t,d,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(s=>{for(const a of s)for(const l of a.mutations){const d=l.key;let f=r.get(d);null==f&&(f=kr.newInvalidDocument(d),r=r.insert(d,f)),Rw(l,f,a.localWriteTime),f.isFoundDocument()||(r=r.remove(d))}}).next(()=>(r.forEach((s,a)=>{pT(e,a)||(r=r.remove(s))}),r))}}class ex{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=Vi(),r=Vi();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new ex(t,e.fromCache,i,r)}}class cg{constructor(){this.Xs=!1}initialize(t,e){this.Zs=t,this.indexManager=e,this.Xs=!0}Qs(t,e,i,r){return this.ti(t,e).next(s=>s||this.ei(t,e,r,i)).next(s=>s||this.ni(t,e))}ti(t,e){return Je.resolve(null)}ei(t,e,i,r){return function rF(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(e)||r.isEqual(Nn.min())?this.ni(t,e):this.Zs.Ks(t,i).next(s=>{const a=this.si(e,s);return this.ii(e,a,i,r)?this.ni(t,e):(bf()<=Rl.in.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Df(e)),this.ri(t,a,e,mv(r,-1)))})}si(t,e){let i=new Qi(gT(t));return e.forEach((r,s)=>{pT(t,s)&&(i=i.add(s))}),i}ii(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ni(t,e){return bf()<=Rl.in.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Df(e)),this.Zs.Qs(t,e,Pl.min())}ri(t,e,i,r){return this.Zs.Qs(t,i,r).next(s=>(e.forEach(a=>{s=s.insert(a.key,a)}),s))}}class iB{constructor(t,e,i,r){this.persistence=t,this.oi=e,this.M=r,this.ui=new ps(Yn),this.ai=new Mf(s=>uh(s),_v),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(i)}li(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.fi=new u0(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ui))}}function GT(n,t,e,i){return new iB(n,t,e,i)}function h2(n,t){return f2.apply(this,arguments)}function f2(){return f2=(0,ot.Z)(function*(n,t){const e=Yt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(s=>(r=s,e.li(t),e.Bs.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let d=Vi();for(const f of r){a.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of s){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return e.fi.Ks(i,d).next(f=>({di:f,removedBatchIds:a,addedBatchIds:l}))})})}),f2.apply(this,arguments)}function p2(n,t){const e=Yt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.hi.newChangeBuffer({trackRemovals:!0});return function(a,l,d,f){const p=d.batch,m=p.keys();let w=Je.resolve();return m.forEach(b=>{w=w.next(()=>f.getEntry(l,b)).next(T=>{const E=d.docVersions.get(b);Pn(null!==E),T.version.compareTo(E)<0&&(p.applyToRemoteDocument(T,d),T.isValidDocument()&&(T.setReadTime(d.commitVersion),f.addEntry(T)))})}),w.next(()=>a.Bs.removeMutationBatch(l,p))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.fi.Ks(i,r))})}function jF(n){const t=Yt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function g2(n,t){const e=Yt(n),i=t.snapshotVersion;let r=e.ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=e.hi.newChangeBuffer({trackRemovals:!0});r=e.ui;const l=[];t.targetChanges.forEach((f,p)=>{const m=r.get(p);if(!m)return;l.push(e.fs.removeMatchingKeys(s,f.removedDocuments,p).next(()=>e.fs.addMatchingKeys(s,f.addedDocuments,p)));let w=m.withSequenceNumber(s.currentSequenceNumber);var b,T,E;t.targetMismatches.has(p)?w=w.withResumeToken(Ys.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,i)),r=r.insert(p,w),T=w,E=f,(0===(b=m).resumeToken.approximateByteSize()||T.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0)&&l.push(e.fs.updateTargetData(s,w))});let d=Ic();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(tx(s,a,t.documentUpdates).next(f=>{d=f})),!i.isEqual(Nn.min())){const f=e.fs.getLastRemoteSnapshotVersion(s).next(p=>e.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return Je.waitFor(l).next(()=>a.apply(s)).next(()=>e.fi.Gs(s,d)).next(()=>d)}).then(s=>(e.ui=r,s))}function tx(n,t,e){let i=Vi();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let s=Ic();return e.forEach((a,l)=>{const d=r.get(a);l.isNoDocument()&&l.version.isEqual(Nn.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||0===l.version.compareTo(d.version)&&d.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):At("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),s})}function m2(n,t){const e=Yt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function ug(n,t){const e=Yt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(s=>s?(r=s,Je.resolve(r)):e.fs.allocateTargetId(i).next(a=>(r=new Pf(t,a,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ui=e.ui.insert(i.targetId,i),e.ai.set(t,i.targetId)),i})}function dg(n,t,e){return nx.apply(this,arguments)}function nx(){return nx=(0,ot.Z)(function*(n,t,e){const i=Yt(n),r=i.ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r)))}catch(a){if(!lu(a))throw a;At("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}i.ui=i.ui.remove(t),i.ai.delete(r.target)}),nx.apply(this,arguments)}function Hv(n,t,e){const i=Yt(n);let r=Nn.min(),s=Vi();return i.persistence.runTransaction("Execute query","readonly",a=>function(l,d,f){const p=Yt(l),m=p.ai.get(f);return void 0!==m?Je.resolve(p.ui.get(m)):p.fs.getTargetData(d,f)}(i,a,Nl(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(a,l.targetId).next(d=>{s=d})}).next(()=>i.oi.Qs(a,t,e?r:Nn.min(),e?s:Vi())).next(l=>(KT(i,xD(t),l),{documents:l,_i:s})))}function $T(n,t){const e=Yt(n),i=Yt(e.fs),r=e.ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,t).next(a=>a?a.target:null))}function YT(n,t){const e=Yt(n),i=e.ci.get(t)||Nn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.hi.getAllFromCollectionGroup(r,t,mv(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(KT(e,t,r),r))}function KT(n,t,e){let i=Nn.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ci.set(t,i)}function ix(){return ix=(0,ot.Z)(function*(n,t,e,i){const r=Yt(n);let s=Vi(),a=Ic();for(const f of e){const p=t.wi(f.metadata.name);f.document&&(s=s.add(p));const m=t.mi(f);m.setReadTime(t.gi(f.metadata.readTime)),a=a.insert(p,m)}const l=r.hi.newChangeBuffer({trackRemovals:!0}),d=yield ug(r,(f=i,Nl(ng(bi.fromString(`__bundle__/docs/${f}`)))));var f;return r.persistence.runTransaction("Apply bundle documents","readwrite",f=>tx(f,l,a).next(p=>(l.apply(f),p)).next(p=>r.fs.removeMatchingKeysForTargetId(f,d.targetId).next(()=>r.fs.addMatchingKeys(f,s,d.targetId)).next(()=>r.fi.Gs(f,p)).next(()=>p)))}),ix.apply(this,arguments)}function jv(n,t){return rx.apply(this,arguments)}function rx(){return rx=(0,ot.Z)(function*(n,t,e=Vi()){const i=yield ug(n,Nl(zw(t.bundledQuery))),r=Yt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const a=As(t.readTime);if(i.snapshotVersion.compareTo(a)>=0)return r._s.saveNamedQuery(s,t);const l=i.withResumeToken(Ys.EMPTY_BYTE_STRING,a);return r.ui=r.ui.insert(l.targetId,l),r.fs.updateTargetData(s,l).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,e,i.targetId)).next(()=>r._s.saveNamedQuery(s,t))})}),rx.apply(this,arguments)}class _2{constructor(t){this.M=t,this.yi=new Map,this.pi=new Map}getBundleMetadata(t,e){return Je.resolve(this.yi.get(e))}saveBundleMetadata(t,e){var i;return this.yi.set(e.id,{id:(i=e).id,version:i.version,createTime:As(i.createTime)}),Je.resolve()}getNamedQuery(t,e){return Je.resolve(this.pi.get(e))}saveNamedQuery(t,e){return this.pi.set(e.name,{name:(i=e).name,query:zw(i.bundledQuery),readTime:As(i.readTime)}),Je.resolve();var i}}class v2{constructor(){this.overlays=new ps(Xt.comparator),this.Ii=new Map}getOverlay(t,e){return Je.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.Xt(t,e,s)}),Je.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(i)),Je.resolve()}getOverlaysForCollection(t,e,i){const r=Tv(),s=e.length+1,a=new Xt(e.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const d=l.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===s&&d.largestBatchId>i&&r.set(d.getKey(),d)}return Je.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ps((f,p)=>f-p);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=s.get(f.largestBatchId);null===p&&(p=Tv(),s=s.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const l=Tv(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>l.set(f,p)),!(l.size()>=r)););return Je.resolve(l)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const a=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Ff(e,i));let s=this.Ii.get(e);void 0===s&&(s=Vi(),this.Ii.set(e,s)),this.Ii.set(e,s.add(i.key))}}class sx{constructor(){this.Ti=new Qi(Qs.Ei),this.Ai=new Qi(Qs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(t,e){const i=new Qs(t,e);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Pi(new Qs(t,e))}Vi(t,e){t.forEach(i=>this.removeReference(i,e))}vi(t){const e=new Xt(new bi([])),i=new Qs(e,t),r=new Qs(e,t+1),s=[];return this.Ai.forEachInRange([i,r],a=>{this.Pi(a),s.push(a.key)}),s}Si(){this.Ti.forEach(t=>this.Pi(t))}Pi(t){this.Ti=this.Ti.delete(t),this.Ai=this.Ai.delete(t)}Di(t){const e=new Xt(new bi([])),i=new Qs(e,t),r=new Qs(e,t+1);let s=Vi();return this.Ai.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const e=new Qs(t,0),i=this.Ti.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Qs{constructor(t,e){this.key=t,this.Ci=e}static Ei(t,e){return Xt.comparator(t.key,e.key)||Yn(t.Ci,e.Ci)}static Ri(t,e){return Yn(t.Ci,e.Ci)||Xt.comparator(t.key,e.key)}}class y2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.xi=1,this.Ni=new Qi(Qs.Ei)}checkEmpty(t){return Je.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const s=this.xi;this.xi++;const a=new OT(s,e,i,r);this.Bs.push(a);for(const l of r)this.Ni=this.Ni.add(new Qs(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return Je.resolve(a)}lookupMutationBatch(t,e){return Je.resolve(this.ki(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Mi(e+1),s=r<0?0:r;return Je.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(t){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Qs(e,0),r=new Qs(e,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([i,r],a=>{const l=this.ki(a.Ci);s.push(l)}),Je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Qi(Yn);return e.forEach(r=>{const s=new Qs(r,0),a=new Qs(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,a],l=>{i=i.add(l.Ci)})}),Je.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Xt.isDocumentKey(s)||(s=s.child(""));const a=new Qs(new Xt(s),0);let l=new Qi(Yn);return this.Ni.forEachWhile(d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(l=l.add(d.Ci)),!0)},a),Je.resolve(this.Oi(l))}Oi(t){const e=[];return t.forEach(i=>{const r=this.ki(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Pn(0===this.Fi(e.batchId,"removed")),this.Bs.shift();let i=this.Ni;return Je.forEach(e.mutations,r=>{const s=new Qs(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Ni=i})}_n(t){}containsKey(t,e){const i=new Qs(e,0),r=this.Ni.firstAfterOrEqual(i);return Je.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Je.resolve()}Fi(t,e){return this.Mi(t)}Mi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}ki(t){const e=this.Mi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class ZF{constructor(t){this.$i=t,this.docs=new ps(Xt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,a=this.$i(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Je.resolve(i?i.document.mutableCopy():kr.newInvalidDocument(e))}getEntries(t,e){let i=Ic();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():kr.newInvalidDocument(r))}),Je.resolve(i)}getAllFromCollection(t,e,i){let r=Ic();const s=new Xt(e.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:l,value:{document:d}}=a.getNext();if(!e.isPrefixOf(l.path))break;l.path.length>e.length+1||nF(Iw(d),i)<=0||(r=r.insert(d.key,d.mutableCopy()))}return Je.resolve(r)}getAllFromCollectionGroup(t,e,i,r){an()}Bi(t,e){return Je.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new w2(this)}getSize(t){return Je.resolve(this.size)}}class w2 extends HT{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),Je.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class x2{constructor(t){this.persistence=t,this.Li=new Mf(e=>uh(e),_v),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new sx,this.targetCount=0,this.Ki=c0.gn()}forEachTarget(t,e){return this.Li.forEach((i,r)=>e(r)),Je.resolve()}getLastRemoteSnapshotVersion(t){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Je.resolve(this.Ui)}allocateTargetId(t){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ui&&(this.Ui=e),Je.resolve()}Tn(t){this.Li.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ki=new c0(e),this.highestTargetId=e),t.sequenceNumber>this.Ui&&(this.Ui=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,Je.resolve()}updateTargetData(t,e){return this.Tn(e),Je.resolve()}removeTargetData(t,e){return this.Li.delete(e.target),this.qi.vi(e.targetId),this.targetCount-=1,Je.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Li.forEach((a,l)=>{l.sequenceNumber<=e&&null===i.get(l.targetId)&&(this.Li.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),Je.waitFor(s).next(()=>r)}getTargetCount(t){return Je.resolve(this.targetCount)}getTargetData(t,e){const i=this.Li.get(e)||null;return Je.resolve(i)}addMatchingKeys(t,e,i){return this.qi.bi(e,i),Je.resolve()}removeMatchingKeys(t,e,i){this.qi.Vi(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),Je.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.qi.vi(e),Je.resolve()}getMatchingKeysForTargetId(t,e){const i=this.qi.Di(e);return Je.resolve(i)}containsKey(t,e){return Je.resolve(this.qi.containsKey(e))}}class b2{constructor(t,e){this.Gi={},this.overlays={},this.es=new Xa(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new x2(this),this.indexManager=new s2,this.ds=new ZF(i=>this.referenceDelegate.Qi(i)),this.M=new FT(e),this._s=new _2(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new v2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Gi[t.toKey()];return i||(i=new y2(e,this.referenceDelegate),this.Gi[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){At("MemoryPersistence","Starting transaction:",t);const r=new WF(this.es.next());return this.referenceDelegate.ji(),i(r).next(s=>this.referenceDelegate.Wi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zi(t,e){return Je.or(Object.values(this.Gi).map(i=>()=>i.containsKey(t,e)))}}class WF extends EF{constructor(t){super(),this.currentSequenceNumber=t}}class QT{constructor(t){this.persistence=t,this.Hi=new sx,this.Ji=null}static Yi(t){return new QT(t)}get Xi(){if(this.Ji)return this.Ji;throw an()}addReference(t,e,i){return this.Hi.addReference(i,e),this.Xi.delete(i.toString()),Je.resolve()}removeReference(t,e,i){return this.Hi.removeReference(i,e),this.Xi.add(i.toString()),Je.resolve()}markPotentiallyOrphaned(t,e){return this.Xi.add(e.toString()),Je.resolve()}removeTarget(t,e){this.Hi.vi(e.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Xi.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ji(){this.Ji=new Set}Wi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,i=>{const r=Xt.fromPath(i);return this.Zi(t,r).next(s=>{s||e.removeEntry(r,Nn.min())})}).next(()=>(this.Ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Zi(t,e).next(i=>{i?this.Xi.delete(e.toString()):this.Xi.add(e.toString())})}Qi(t){return 0}Zi(t,e){return Je.or([()=>Je.resolve(this.Hi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.zi(t,e)])}}function d0(n,t){return`firestore_clients_${n}_${t}`}function C2(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function zv(n,t){return`firestore_targets_${n}_${t}`}class Bl{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static tr(t,e,i){const r=JSON.parse(i);let s,a="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(s=new vt(r.error.code,r.error.message))),a?new Bl(t,e,r.state,s):(Ss("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Zv{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static tr(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new vt(i.error.code,i.error.message))),s?new Zv(t,i.state,r):(Ss("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}er(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class h0{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static tr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Lw();for(let a=0;r&&a<i.activeTargetIds.length;++a)r=rD(i.activeTargetIds[a]),s=s.add(i.activeTargetIds[a]);return r?new h0(t,s):(Ss("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class hg{constructor(t,e){this.clientId=t,this.onlineState=e}static tr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new hg(e.clientId,e.onlineState):(Ss("SharedClientState",`Failed to parse online state: ${t}`),null)}}class JT{constructor(){this.activeTargetIds=Lw()}nr(t){this.activeTargetIds=this.activeTargetIds.add(t)}sr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}er(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XT{constructor(t,e,i,r,s){this.window=t,this.Yn=e,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ps(Yn),this.started=!1,this.cr=[];const a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=d0(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new JT),this.dr=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ot.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.ir)continue;const s=t.getItem(d0(t.persistenceKey,r));if(s){const a=h0.tr(r,s);a&&(t.ar=t.ar.insert(a.clientId,a))}}t.yr();const i=t.storage.getItem(t.mr);if(i){const r=t.pr(i);r&&t.Ir(r)}for(const r of t.cr)t.ur(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.lr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(t){let e=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Er(t,"pending")}updateMutationState(t,e,i){this.Er(t,e,i),this.Ar(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(zv(this.persistenceKey,t));if(i){const r=Zv.tr(t,i);r&&(e=r.state)}}return this.Rr.nr(t),this.yr(),e}removeLocalQueryTarget(t){this.Rr.sr(t),this.yr()}isLocalQueryTarget(t){return this.Rr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(zv(this.persistenceKey,t))}updateQueryState(t,e,i){this.br(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ar(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Pr(t)}notifyBundleLoaded(t){this.Vr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return At("SharedClientState","READ",t,e),e}setItem(t,e){At("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){At("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ur(t){var e=this;const i=t;if(i.storageArea===this.storage){if(At("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void Ss("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ot.Z)(function*(){if(e.started){if(null!==i.key)if(e.dr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Sr(r,null)}{const r=e.Dr(i.key,i.newValue);if(r)return e.Sr(r.clientId,r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Cr(i.key,i.newValue);if(r)return e.Nr(r)}}else if(e.wr.test(i.key)){if(null!==i.newValue){const r=e.kr(i.key,i.newValue);if(r)return e.Mr(r)}}else if(i.key===e.mr){if(null!==i.newValue){const r=e.pr(i.newValue);if(r)return e.Ir(r)}}else if(i.key===e.lr){const r=function(s){let a=Xa.A;if(null!=s)try{const l=JSON.parse(s);Pn("number"==typeof l),a=l}catch(l){Ss("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==Xa.A&&e.sequenceNumberHandler(r)}else if(i.key===e.gr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Fr(s)))}}else e.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(t,e,i){const r=new Bl(this.currentUser,t,e,i),s=C2(this.persistenceKey,this.currentUser,t);this.setItem(s,r.er())}Ar(t){const e=C2(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Pr(t){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:t}))}br(t,e,i){const r=zv(this.persistenceKey,t),s=new Zv(t,e,i);this.setItem(r,s.er())}Vr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.gr,e)}vr(t){const e=this.dr.exec(t);return e?e[1]:null}Dr(t,e){const i=this.vr(t);return h0.tr(i,e)}Cr(t,e){const i=this._r.exec(t),r=Number(i[1]);return Bl.tr(new Mo(void 0!==i[2]?i[2]:null),r,e)}kr(t,e){const i=this.wr.exec(t),r=Number(i[1]);return Zv.tr(r,e)}pr(t){return hg.tr(t)}Or(t){return JSON.parse(t)}Nr(t){var e=this;return(0,ot.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.$r(t.batchId,t.state,t.error);At("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Mr(t){return this.syncEngine.Br(t.targetId,t.state,t.error)}Sr(t,e){const i=e?this.ar.insert(t,e):this.ar.remove(t),r=this.Tr(this.ar),s=this.Tr(i),a=[],l=[];return s.forEach(d=>{r.has(d)||a.push(d)}),r.forEach(d=>{s.has(d)||l.push(d)}),this.syncEngine.Lr(a,l).then(()=>{this.ar=i})}Ir(t){this.ar.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Tr(t){let e=Lw();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class T2{constructor(){this.Ur=new JT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Ur.nr(t),this.qr[t]||"not-current"}updateQueryState(t,e,i){this.qr[t]=e}removeLocalQueryTarget(t){this.Ur.sr(t)}isLocalQueryTarget(t){return this.Ur.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(t){return this.Ur.activeTargetIds.has(t)}start(){return this.Ur=new JT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ox{Kr(t){}shutdown(){}}class Wv{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(t){this.zr.push(t)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){At("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.zr)t(0)}Wr(){At("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.zr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class GF{constructor(t){this.Jr=t.Jr,this.Yr=t.Yr}Xr(t){this.Zr=t}eo(t){this.no=t}onMessage(t){this.so=t}close(){this.Yr()}send(t){this.Jr(t)}io(){this.Zr()}ro(t){this.no(t)}oo(t){this.so(t)}}class E2 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.uo=(t.ssl?"https":"http")+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const a=this.ho(t,e);At("RestConnection","Sending: ",a,i);const l={};return this.lo(l,r,s),this.fo(t,a,l,i).then(d=>(At("RestConnection","Received: ",d),d),d=>{throw uv("RestConnection",`${t} failed with error: `,d,"url: ",a,"request:",i),d})}_o(t,e,i,r,s){return this.co(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Bm,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.uo}/v1/${e}:${qF[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,a)=>{const l=new JR;l.listenOnce(QC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _w.NO_ERROR:const f=l.getResponseJson();At("Connection","XHR received:",JSON.stringify(f)),s(f);break;case _w.TIMEOUT:At("Connection",'RPC "'+t+'" timed out'),a(new vt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case _w.HTTP_ERROR:const p=l.getStatus();if(At("Connection",'RPC "'+t+'" failed with status:',p,"response text:",l.getResponseText()),p>0){const m=l.getResponseJson().error;if(m&&m.status&&m.message){const w=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(T)>=0?T:Ye.UNKNOWN}(m.status);a(new vt(w,m.message))}else a(new vt(Ye.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new vt(Ye.UNAVAILABLE,"Connection failed."));break;default:an()}}finally{At("Connection",'RPC "'+t+'" completed.')}});const d=JSON.stringify(r);l.send(e,"POST",d,i,15)})}wo(t,e,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=YR(),a=X4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new QR({})),this.lo(l.initMessageHeaders,e,i),(0,X.uI)()||(0,X.b$)()||(0,X.d)()||(0,X.w1)()||(0,X.Mn)()||(0,X.ru)()||(l.httpHeadersOverwriteParam="$httpHeaders");const d=r.join("");At("Connection","Creating WebChannel: "+d,l);const f=s.createWebChannel(d,l);let p=!1,m=!1;const w=new GF({Jr:T=>{m?At("Connection","Not sending because WebChannel is closed:",T):(p||(At("Connection","Opening WebChannel transport."),f.open(),p=!0),At("Connection","WebChannel sending:",T),f.send(T))},Yr:()=>f.close()}),b=(T,E,M)=>{T.listen(E,N=>{try{M(N)}catch(V){setTimeout(()=>{throw V},0)}})};return b(f,yw.EventType.OPEN,()=>{m||At("Connection","WebChannel transport opened.")}),b(f,yw.EventType.CLOSE,()=>{m||(m=!0,At("Connection","WebChannel transport closed"),w.ro())}),b(f,yw.EventType.ERROR,T=>{m||(m=!0,uv("Connection","WebChannel transport errored:",T),w.ro(new vt(Ye.UNAVAILABLE,"The operation could not be completed")))}),b(f,yw.EventType.MESSAGE,T=>{var E;if(!m){const M=T.data[0];Pn(!!M);const N=M,V=N.error||(null===(E=N[0])||void 0===E?void 0:E.error);if(V){At("Connection","WebChannel received error:",V);const U=V.status;let q=function(ue){const K=ms[ue];if(void 0!==K)return ID(K)}(U),Q=V.message;void 0===q&&(q=Ye.INTERNAL,Q="Unknown error status: "+U+" with message "+V.message),m=!0,w.ro(new vt(q,Q)),f.close()}else At("Connection","WebChannel received:",M),w.oo(M)}}),b(a,KR.STAT_EVENT,T=>{T.stat===vw.PROXY?At("Connection","Detected buffering proxy"):T.stat===vw.NOPROXY&&At("Connection","Detected no buffering proxy")}),setTimeout(()=>{w.io()},0),w}}function eE(){return"undefined"!=typeof window?window:null}function f0(){return"undefined"!=typeof document?document:null}function p0(n){return new FD(n,!0)}class tE{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Yn=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&At("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class S2{constructor(t,e,i,r,s,a,l,d){this.Yn=t,this.Vo=i,this.vo=r,this.So=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=d,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new tE(t,e)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,ot.Z)(function*(){t.ko()&&(yield t.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(t){this.Uo(),this.stream.send(t)}Bo(){var t=this;return(0,ot.Z)(function*(){if(t.Mo())return t.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(t,e){var i=this;return(0,ot.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==t?i.No.reset():e&&e.code===Ye.RESOURCE_EXHAUSTED?(Ss(e.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):e&&e.code===Ye.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.eo(e)})()}Ko(){}auth(){this.state=1;const t=this.Go(this.Do),e=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===e&&this.Qo(i,r)},i=>{t(()=>{const r=new vt(Ye.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(t,e){const i=this.Go(this.Do);this.stream=this.Wo(t,e),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.No.Ro((0,ot.Z)(function*(){t.state=0,t.start()}))}jo(t){return At("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Go(t){return e=>{this.Yn.enqueueAndForget(()=>this.Do===t?e():(At("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rB extends S2{constructor(t,e,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,a),this.M=s}Wo(t,e){return this.So.wo("Listen",t,e)}onMessage(t){this.No.reset();const e=function Rn(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(d=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===d?1:"REMOVE"===d?2:"CURRENT"===d?3:"RESET"===d?4:an(),r=t.targetChange.targetIds||[],s=function(d,f){return d.N?(Pn(void 0===f||"string"==typeof f),Ys.fromBase64String(f||"")):(Pn(void 0===f||f instanceof Uint8Array),Ys.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(d){const f=void 0===d.code?Ye.UNKNOWN:ID(d.code);return new vt(f,d.message||"")}(a);e=new DD(i,r,s,l||null)}else if("documentChange"in t){const i=t.documentChange,r=nd(n,i.document.name),s=As(i.document.updateTime),a=new go({mapValue:{fields:i.document.fields}}),l=kr.newFoundDocument(r,s,a);e=new Bw(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=nd(n,i.document),s=i.readTime?As(i.readTime):Nn.min(),a=kr.newNoDocument(r,s);e=new Bw([],i.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){const i=t.documentRemove,r=nd(n,i.document);e=new Bw([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return an();{const i=t.filter,s=new SD(i.count||0);e=new kD(i.targetId,s)}}var d;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return Nn.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Nn.min():s.readTime?As(s.readTime):Nn.min()}(t);return this.listener.zo(e,i)}Ho(t){const e={};e.database=ig(this.M),e.addTarget=function(r,s){let a;const l=s.target;return a=vv(l)?{documents:Av(r,l)}:{query:ND(r,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?a.resumeToken=ST(r,s.resumeToken):s.snapshotVersion.compareTo(Nn.min())>0&&(a.readTime=n0(r,s.snapshotVersion.toTimestamp())),a}(this.M,t);const i=function Vw(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return an()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Lo(e)}Jo(t){const e={};e.database=ig(this.M),e.removeTarget=t,this.Lo(e)}}class nE extends S2{constructor(t,e,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,a),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(t,e){return this.So.wo("Write",t,e)}onMessage(t){if(Pn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Yo){this.No.reset();const e=function gF(n,t){return n&&n.length>0?(Pn(void 0!==t),n.map(e=>function(i,r){let s=As(i.updateTime?i.updateTime:r);return s.isEqual(Nn.min())&&(s=As(r)),new xv(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=As(t.commitTime);return this.listener.tu(i,e)}return Pn(!t.writeResults||0===t.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const t={};t.database=ig(this.M),this.Lo(t)}Zo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Dv(this.M,i))};this.Lo(e)}}class iE extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new vt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(Ye.UNKNOWN,r.toString())})}_o(t,e,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So._o(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(Ye.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class I2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(t){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.fu(),this.ru=0,"Online"===t&&(this.uu=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}hu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Ss(e),this.uu=!1):At("OnlineStateTracker",e)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class rE{constructor(t,e,i,r,s){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(l=>{i.enqueueAndForget((0,ot.Z)(function*(){var d;mh(a)&&(At("RemoteStore","Restarting streams for network reachability change."),yield(d=(0,ot.Z)(function*(f){const p=Yt(f);p.wu.add(4),yield g0(p),p.yu.set("Unknown"),p.wu.delete(4),yield fg(p)}),function(f){return d.apply(this,arguments)})(a))}))}),this.yu=new I2(i,r)}}function fg(n){return sE.apply(this,arguments)}function sE(){return sE=(0,ot.Z)(function*(n){if(mh(n))for(const t of n.mu)yield t(!0)}),sE.apply(this,arguments)}function g0(n){return oE.apply(this,arguments)}function oE(){return oE=(0,ot.Z)(function*(n){for(const t of n.mu)yield t(!1)}),oE.apply(this,arguments)}function ax(n,t){const e=Yt(n);e._u.has(t.targetId)||(e._u.set(t.targetId,t),cx(e)?lx(e):gg(e).Mo()&&qv(e,t))}function m0(n,t){const e=Yt(n),i=gg(e);e._u.delete(t),i.Mo()&&aE(e,t),0===e._u.size&&(i.Mo()?i.$o():mh(e)&&e.yu.set("Unknown"))}function qv(n,t){n.pu.Z(t.targetId),gg(n).Ho(t)}function aE(n,t){n.pu.Z(t),gg(n).Jo(t)}function lx(n){n.pu=new MD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n._u.get(t)||null}),gg(n).start(),n.yu.au()}function cx(n){return mh(n)&&!gg(n).ko()&&n._u.size>0}function mh(n){return 0===Yt(n).wu.size}function k2(n){n.pu=void 0}function D2(n){return ux.apply(this,arguments)}function ux(){return ux=(0,ot.Z)(function*(n){n._u.forEach((t,e)=>{qv(n,t)})}),ux.apply(this,arguments)}function $F(n,t){return dx.apply(this,arguments)}function dx(){return dx=(0,ot.Z)(function*(n,t){k2(n),cx(n)?(n.yu.lu(t),lx(n)):n.yu.set("Unknown")}),dx.apply(this,arguments)}function A2(n,t,e){return Fo.apply(this,arguments)}function Fo(){return Fo=(0,ot.Z)(function*(n,t,e){if(n.yu.set("Online"),t instanceof DD&&2===t.state&&t.cause)try{yield(i=(0,ot.Z)(function*(r,s){const a=s.cause;for(const l of s.targetIds)r._u.has(l)&&(yield r.remoteSyncer.rejectListen(l,a),r._u.delete(l),r.pu.removeTarget(l))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){At("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield _h(n,i)}else if(t instanceof Bw?n.pu.ut(t):t instanceof kD?n.pu._t(t):n.pu.ht(t),!e.isEqual(Nn.min()))try{const i=yield jF(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const a=r.pu.yt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const f=r._u.get(d);f&&r._u.set(d,f.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach(l=>{const d=r._u.get(l);if(!d)return;r._u.set(l,d.withResumeToken(Ys.EMPTY_BYTE_STRING,d.snapshotVersion)),aE(r,l);const f=new Pf(d.target,l,1,d.sequenceNumber);qv(r,f)}),r.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){At("RemoteStore","Failed to raise snapshot:",i),yield _h(n,i)}var i}),Fo.apply(this,arguments)}function _h(n,t,e){return lE.apply(this,arguments)}function lE(){return lE=(0,ot.Z)(function*(n,t,e){if(!lu(t))throw t;n.wu.add(1),yield g0(n),n.yu.set("Offline"),e||(e=()=>jF(n.localStore)),n.asyncQueue.enqueueRetryable((0,ot.Z)(function*(){At("RemoteStore","Retrying IndexedDB access"),yield e(),n.wu.delete(1),yield fg(n)}))}),lE.apply(this,arguments)}function M2(n,t){return t().catch(e=>_h(n,e,t))}function Gv(n){return pg.apply(this,arguments)}function pg(){return pg=(0,ot.Z)(function*(n){const t=Yt(n),e=Uf(t);let i=t.du.length>0?t.du[t.du.length-1].batchId:-1;for(;YF(t);)try{const r=yield m2(t.localStore,i);if(null===r){0===t.du.length&&e.$o();break}i=r.batchId,cE(t,r)}catch(r){yield _h(t,r)}O2(t)&&uE(t)}),pg.apply(this,arguments)}function YF(n){return mh(n)&&n.du.length<10}function cE(n,t){n.du.push(t);const e=Uf(n);e.Mo()&&e.Xo&&e.Zo(t.mutations)}function O2(n){return mh(n)&&!Uf(n).ko()&&n.du.length>0}function uE(n){Uf(n).start()}function KF(n){return dE.apply(this,arguments)}function dE(){return dE=(0,ot.Z)(function*(n){Uf(n).nu()}),dE.apply(this,arguments)}function hE(n){return hx.apply(this,arguments)}function hx(){return hx=(0,ot.Z)(function*(n){const t=Uf(n);for(const e of n.du)t.Zo(e.mutations)}),hx.apply(this,arguments)}function R2(n,t,e){return _0.apply(this,arguments)}function _0(){return _0=(0,ot.Z)(function*(n,t,e){const i=n.du.shift(),r=RT.from(i,t,e);yield M2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Gv(n)}),_0.apply(this,arguments)}function fE(n,t){return F2.apply(this,arguments)}function F2(){return F2=(0,ot.Z)(function*(n,t){var e;t&&Uf(n).Xo&&(yield(e=(0,ot.Z)(function*(i,r){if(bT(s=r.code)&&s!==Ye.ABORTED){const a=i.du.shift();Uf(i).Fo(),yield M2(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),yield Gv(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),O2(n)&&uE(n)}),F2.apply(this,arguments)}function pE(n,t){return gE.apply(this,arguments)}function gE(){return gE=(0,ot.Z)(function*(n,t){const e=Yt(n);e.asyncQueue.verifyOperationInProgress(),At("RemoteStore","RemoteStore received new credentials");const i=mh(e);e.wu.add(3),yield g0(e),i&&e.yu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.wu.delete(3),yield fg(e)}),gE.apply(this,arguments)}function fx(n,t){return v0.apply(this,arguments)}function v0(){return v0=(0,ot.Z)(function*(n,t){const e=Yt(n);t?(e.wu.delete(2),yield fg(e)):t||(e.wu.add(2),yield g0(e),e.yu.set("Unknown"))}),v0.apply(this,arguments)}function gg(n){return n.Iu||(n.Iu=function(t,e,i){const r=Yt(t);return r.iu(),new rB(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:D2.bind(null,n),eo:$F.bind(null,n),zo:A2.bind(null,n)}),n.mu.push(function(){var t=(0,ot.Z)(function*(e){e?(n.Iu.Fo(),cx(n)?lx(n):n.yu.set("Unknown")):(yield n.Iu.stop(),k2(n))});return function(e){return t.apply(this,arguments)}}())),n.Iu}function Uf(n){return n.Tu||(n.Tu=function(t,e,i){const r=Yt(t);return r.iu(),new nE(e,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:KF.bind(null,n),eo:fE.bind(null,n),eu:hE.bind(null,n),tu:R2.bind(null,n)}),n.mu.push(function(){var t=(0,ot.Z)(function*(e){e?(n.Tu.Fo(),yield Gv(n)):(yield n.Tu.stop(),n.du.length>0&&(At("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(e){return t.apply(this,arguments)}}())),n.Tu}class $v{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}static createAndSchedule(t,e,i,r,s){const a=Date.now()+i,l=new $v(t,e,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(Ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hf(n,t){if(Ss("AsyncQueue",`${t}: ${n}`),lu(n))return new vt(Ye.UNAVAILABLE,`${t}: ${n}`);throw n}class Yv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Xt.comparator(e.key,i.key):(e,i)=>Xt.comparator(e.key,i.key),this.keyedMap=CT(),this.sortedSet=new ps(this.comparator)}static emptySet(t){return new Yv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Yv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Yv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class P2{constructor(){this.Eu=new ps(Xt.comparator)}track(t){const e=t.doc.key,i=this.Eu.get(e);i?0!==t.type&&3===i.type?this.Eu=this.Eu.insert(e,t):3===t.type&&1!==i.type?this.Eu=this.Eu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Eu=this.Eu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Eu=this.Eu.remove(e):1===t.type&&2===i.type?this.Eu=this.Eu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Eu=this.Eu.insert(e,{type:2,doc:t.doc}):an():this.Eu=this.Eu.insert(e,t)}Au(){const t=[];return this.Eu.inorderTraversal((e,i)=>{t.push(i)}),t}}class y0{constructor(t,e,i,r,s,a,l,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=d}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new y0(t,e,Yv.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class N2{constructor(){this.Ru=void 0,this.listeners=[]}}class L2{constructor(){this.queries=new Mf(t=>fT(t),Qm),this.onlineState="Unknown",this.bu=new Set}}function mE(n,t){return px.apply(this,arguments)}function px(){return px=(0,ot.Z)(function*(n,t){const e=Yt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new N2),r)try{s.Ru=yield e.onListen(i)}catch(a){const l=Hf(a,`Initialization of query '${Df(t.query)}' failed`);return void t.onError(l)}e.queries.set(i,s),s.listeners.push(t),t.Pu(e.onlineState),s.Ru&&t.Vu(s.Ru)&&vE(e)}),px.apply(this,arguments)}function gx(n,t){return _E.apply(this,arguments)}function _E(){return _E=(0,ot.Z)(function*(n,t){const e=Yt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const a=s.listeners.indexOf(t);a>=0&&(s.listeners.splice(a,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),_E.apply(this,arguments)}function QF(n,t){const e=Yt(n);let i=!1;for(const r of t){const a=e.queries.get(r.query);if(a){for(const l of a.listeners)l.Vu(r)&&(i=!0);a.Ru=r}}i&&vE(e)}function B2(n,t,e){const i=Yt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function vE(n){n.bu.forEach(t=>{t.next()})}class mx{constructor(t,e,i){this.query=t,this.vu=e,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new y0(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Su?this.Cu(t)&&(this.vu.next(t),e=!0):this.xu(t,this.onlineState)&&(this.Nu(t),e=!0),this.Du=t,e}onError(t){this.vu.error(t)}Pu(t){this.onlineState=t;let e=!1;return this.Du&&!this.Su&&this.xu(this.Du,t)&&(this.Nu(this.Du),e=!0),e}xu(t,e){return!t.fromCache||!(this.options.ku&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Cu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(t){t=y0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Su=!0,this.vu.next(t)}}class V2{constructor(t,e){this.payload=t,this.byteLength=e}Mu(){return"metadata"in this.payload}}class yE{constructor(t){this.M=t}wi(t){return nd(this.M,t)}mi(t){return t.metadata.exists?kT(this.M,t.document,!1):kr.newNoDocument(this.wi(t.metadata.name),this.gi(t.metadata.readTime))}gi(t){return As(t)}}class U2{constructor(t,e,i){this.Ou=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H2(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=bi.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new yE(this.M);for(const r of t)if(r.metadata.queries){const s=i.wi(r.metadata.name);for(const a of r.metadata.queries){const l=(e.get(a)||Vi()).add(s);e.set(a,l)}}return e}complete(){var t=this;return(0,ot.Z)(function*(){const e=yield function zF(n,t,e,i){return ix.apply(this,arguments)}(t.localStore,new yE(t.M),t.documents,t.Ou.id),i=t.$u(t.documents);for(const r of t.queries)yield jv(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function H2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class j2{constructor(t){this.key=t}}class JF{constructor(t){this.key=t}}class wE{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.current=!1,this.Ku=Vi(),this.mutatedKeys=Vi(),this.Gu=gT(t),this.Qu=new Yv(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new P2,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,a=r,l=!1;const d="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,f="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,m)=>{const w=r.get(p),b=pT(this.query,m)?m:null,T=!!w&&this.mutatedKeys.has(w.key),E=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let M=!1;w&&b?w.data.isEqual(b.data)?T!==E&&(i.track({type:3,doc:b}),M=!0):this.Hu(w,b)||(i.track({type:2,doc:b}),M=!0,(d&&this.Gu(b,d)>0||f&&this.Gu(b,f)<0)&&(l=!0)):!w&&b?(i.track({type:0,doc:b}),M=!0):w&&!b&&(i.track({type:1,doc:w}),M=!0,(d||f)&&(l=!0)),M&&(b?(a=a.add(b),s=E?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const p="F"===this.query.limitType?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Qu:a,zu:i,ii:l,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Au();s.sort((f,p)=>function(m,w){const b=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return an()}};return b(m)-b(w)}(f.type,p.type)||this.Gu(f.doc,p.doc)),this.Ju(i);const a=e?this.Yu():[],l=0===this.Ku.size&&this.current?1:0,d=l!==this.qu;return this.qu=l,0!==s.length||d?{snapshot:new y0(this.query,t.Qu,r,s,t.mutatedKeys,0===l,d,!1),Xu:a}:{Xu:a}}Pu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new P2,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Vi(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new JF(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new j2(i))}),e}ta(t){this.Uu=t._i,this.Ku=Vi();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ea(){return y0.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class sB{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class oB{constructor(t){this.key=t,this.na=!1}}class aB{constructor(t,e,i,r,s,a){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.sa={},this.ia=new Mf(l=>fT(l),Qm),this.ra=new Map,this.oa=new Set,this.ua=new ps(Xt.comparator),this.aa=new Map,this.ca=new sx,this.ha={},this.la=new Map,this.fa=c0.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function lB(n,t){return z2.apply(this,arguments)}function z2(){return z2=(0,ot.Z)(function*(n,t){const e=Cx(n);let i,r;const s=e.ia.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const a=yield ug(e.localStore,Nl(t));e.isPrimaryClient&&ax(e.remoteStore,a);const l=e.sharedClientState.addLocalQueryTarget(a.targetId);i=a.targetId,r=yield Z2(e,t,i,"current"===l)}return r}),z2.apply(this,arguments)}function Z2(n,t,e,i){return W2.apply(this,arguments)}function W2(){return W2=(0,ot.Z)(function*(n,t,e,i){n._a=(p,m,w)=>{return(b=(0,ot.Z)(function*(T,E,M,N){let V=E.view.Wu(M);V.ii&&(V=yield Hv(T.localStore,E.query,!1).then(({documents:Q})=>E.view.Wu(Q,V)));const U=N&&N.targetChanges.get(E.targetId),q=E.view.applyChanges(V,T.isPrimaryClient,U);return Y2(T,E.targetId,q.Xu),q.snapshot}),function(T,E,M,N){return b.apply(this,arguments)})(n,p,m,w);var b};const r=yield Hv(n.localStore,t,!0),s=new wE(t,r._i),a=s.Wu(r.documents),l=Sv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),d=s.applyChanges(a,n.isPrimaryClient,l);Y2(n,e,d.Xu);const f=new sB(t,e,s);return n.ia.set(t,f),n.ra.has(e)?n.ra.get(e).push(t):n.ra.set(e,[t]),d.snapshot}),W2.apply(this,arguments)}function cB(n,t){return w0.apply(this,arguments)}function w0(){return w0=(0,ot.Z)(function*(n,t){const e=Yt(n),i=e.ia.get(t),r=e.ra.get(i.targetId);if(r.length>1)return e.ra.set(i.targetId,r.filter(s=>!Qm(s,t))),void e.ia.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dg(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),m0(e.remoteStore,i.targetId),Jv(e,i.targetId)}).catch(cu))):(Jv(e,i.targetId),yield dg(e.localStore,i.targetId,!0))}),w0.apply(this,arguments)}function _x(){return _x=(0,ot.Z)(function*(n,t,e){const i=DE(n);try{const r=yield function(s,a){const l=Yt(s),d=Xr.now(),f=a.reduce((m,w)=>m.add(w.key),Vi());let p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>l.fi.Ks(m,f).next(w=>{p=w;const b=[];for(const T of a){const E=Fw(T,p.get(T.key));null!=E&&b.push(new fh(T.key,E,uD(E.value.mapValue),Ds.exists(!0)))}return l.Bs.addMutationBatch(m,d,b,a)})).then(m=>(m.applyToLocalDocumentSet(p),{batchId:m.batchId,changes:p}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let d=s.ha[s.currentUser.toKey()];d||(d=new ps(Yn)),d=d.insert(a,l),s.ha[s.currentUser.toKey()]=d}(i,r.batchId,e),yield vh(i,r.changes),yield Gv(i.remoteStore)}catch(r){const s=Hf(r,"Failed to persist write");e.reject(s)}}),_x.apply(this,arguments)}function vx(n,t){return yx.apply(this,arguments)}function yx(){return yx=(0,ot.Z)(function*(n,t){const e=Yt(n);try{const i=yield g2(e.localStore,t);t.targetChanges.forEach((r,s)=>{const a=e.aa.get(s);a&&(Pn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?a.na=!0:r.modifiedDocuments.size>0?Pn(a.na):r.removedDocuments.size>0&&(Pn(a.na),a.na=!1))}),yield vh(e,i,t)}catch(i){yield cu(i)}}),yx.apply(this,arguments)}function xE(n,t,e){const i=Yt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ia.forEach((s,a)=>{const l=a.view.Pu(t);l.snapshot&&r.push(l.snapshot)}),function(s,a){const l=Yt(s);l.onlineState=a;let d=!1;l.queries.forEach((f,p)=>{for(const m of p.listeners)m.Pu(a)&&(d=!0)}),d&&vE(l)}(i.eventManager,t),r.length&&i.sa.zo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function dB(n,t,e){return Kv.apply(this,arguments)}function Kv(){return Kv=(0,ot.Z)(function*(n,t,e){const i=Yt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.aa.get(t),s=r&&r.key;if(s){let a=new ps(Xt.comparator);a=a.insert(s,kr.newNoDocument(s,Nn.min()));const l=Vi().add(s),d=new Ev(Nn.min(),new Map,new Qi(Yn),a,l);yield vx(i,d),i.ua=i.ua.remove(s),i.aa.delete(t),EE(i)}else yield dg(i.localStore,t,!1).then(()=>Jv(i,t,e)).catch(cu)}),Kv.apply(this,arguments)}function q2(n,t){return bE.apply(this,arguments)}function bE(){return bE=(0,ot.Z)(function*(n,t){const e=Yt(n),i=t.batch.batchId;try{const r=yield p2(e.localStore,t);TE(e,i,null),Qv(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield vh(e,r)}catch(r){yield cu(r)}}),bE.apply(this,arguments)}function G2(n,t,e){return $2.apply(this,arguments)}function $2(){return $2=(0,ot.Z)(function*(n,t,e){const i=Yt(n);try{const r=yield function(s,a){const l=Yt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.Bs.lookupMutationBatch(d,a).next(p=>(Pn(null!==p),f=p.keys(),l.Bs.removeMutationBatch(d,p))).next(()=>l.Bs.performConsistencyCheck(d)).next(()=>l.fi.Ks(d,f))})}(i.localStore,t);TE(i,t,e),Qv(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield vh(i,r)}catch(r){yield cu(r)}}),$2.apply(this,arguments)}function CE(){return CE=(0,ot.Z)(function*(n,t){const e=Yt(n);mh(e.remoteStore)||At("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Yt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.Bs.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.la.get(i)||[];r.push(t),e.la.set(i,r)}catch(i){const r=Hf(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),CE.apply(this,arguments)}function Qv(n,t){(n.la.get(t)||[]).forEach(e=>{e.resolve()}),n.la.delete(t)}function TE(n,t,e){const i=Yt(n);let r=i.ha[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ha[i.currentUser.toKey()]=r}}function Jv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ra.get(t))n.ia.delete(i),e&&n.sa.wa(i,e);n.ra.delete(t),n.isPrimaryClient&&n.ca.vi(t).forEach(i=>{n.ca.containsKey(i)||eP(n,i)})}function eP(n,t){n.oa.delete(t.path.canonicalString());const e=n.ua.get(t);null!==e&&(m0(n.remoteStore,e),n.ua=n.ua.remove(t),n.aa.delete(e),EE(n))}function Y2(n,t,e){for(const i of e)i instanceof j2?(n.ca.addReference(i.key,t),tP(n,i)):i instanceof JF?(At("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,t),n.ca.containsKey(i.key)||eP(n,i.key)):an()}function tP(n,t){const e=t.key,i=e.path.canonicalString();n.ua.get(e)||n.oa.has(i)||(At("SyncEngine","New document in limbo: "+e),n.oa.add(i),EE(n))}function EE(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const t=n.oa.values().next().value;n.oa.delete(t);const e=new Xt(bi.fromString(t)),i=n.fa.next();n.aa.set(i,new oB(e)),n.ua=n.ua.insert(e,i),ax(n.remoteStore,new Pf(Nl(ng(e.path)),i,2,Xa.A))}}function vh(n,t,e){return K2.apply(this,arguments)}function K2(){return K2=(0,ot.Z)(function*(n,t,e){const i=Yt(n),r=[],s=[],a=[];var l;i.ia.isEmpty()||(i.ia.forEach((l,d)=>{a.push(i._a(d,t,e).then(f=>{if(f){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,f.fromCache?"not-current":"current"),r.push(f);const p=ex.Ys(d.targetId,f);s.push(p)}}))}),yield Promise.all(a),i.sa.zo(r),yield(l=(0,ot.Z)(function*(d,f){const p=Yt(d);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>Je.forEach(f,w=>Je.forEach(w.Hs,b=>p.persistence.referenceDelegate.addReference(m,w.targetId,b)).next(()=>Je.forEach(w.Js,b=>p.persistence.referenceDelegate.removeReference(m,w.targetId,b)))))}catch(m){if(!lu(m))throw m;At("LocalStore","Failed to update sequence numbers: "+m)}for(const m of f){const w=m.targetId;if(!m.fromCache){const b=p.ui.get(w),E=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.ui=p.ui.insert(w,E)}}}),function(d,f){return l.apply(this,arguments)})(i.localStore,s))}),K2.apply(this,arguments)}function nP(n,t){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,ot.Z)(function*(n,t){const e=Yt(n);if(!e.currentUser.isEqual(t)){At("SyncEngine","User change. New user:",t.toKey());const i=yield h2(e.localStore,t);e.currentUser=t,(r=e).la.forEach(a=>{a.forEach(l=>{l.reject(new vt(Ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield vh(e,i.di)}var r}),Xv.apply(this,arguments)}function iP(n,t){const e=Yt(n),i=e.aa.get(t);if(i&&i.na)return Vi().add(i.key);{let r=Vi();const s=e.ra.get(t);if(!s)return r;for(const a of s){const l=e.ia.get(a);r=r.unionWith(l.view.ju)}return r}}function du(n,t){return SE.apply(this,arguments)}function SE(){return SE=(0,ot.Z)(function*(n,t){const e=Yt(n),i=yield Hv(e.localStore,t.query,!0),r=t.view.ta(i);return e.isPrimaryClient&&Y2(e,t.targetId,r.Xu),r}),SE.apply(this,arguments)}function IE(n,t){return kE.apply(this,arguments)}function kE(){return kE=(0,ot.Z)(function*(n,t){const e=Yt(n);return YT(e.localStore,t).then(i=>vh(e,i))}),kE.apply(this,arguments)}function rP(n,t,e,i){return ey.apply(this,arguments)}function ey(){return ey=(0,ot.Z)(function*(n,t,e,i){const r=Yt(n),s=yield function(a,l){const d=Yt(a),f=Yt(d.Bs);return d.persistence.runTransaction("Lookup mutation documents","readonly",p=>f.fn(p,l).next(m=>m?d.fi.Ks(p,m):Je.resolve(null)))}(r.localStore,t);var l;null!==s?("pending"===e?yield Gv(r.remoteStore):"acknowledged"===e||"rejected"===e?(TE(r,t,i||null),Qv(r,t),l=t,Yt(Yt(r.localStore).Bs)._n(l)):an(),yield vh(r,s)):At("SyncEngine","Cannot apply mutation batch with id: "+t)}),ey.apply(this,arguments)}function wx(){return wx=(0,ot.Z)(function*(n,t){const e=Yt(n);if(Cx(e),DE(e),!0===t&&!0!==e.da){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield J2(e,i.toArray());e.da=!0,yield fx(e.remoteStore,!0);for(const s of r)ax(e.remoteStore,s)}else if(!1===t&&!1!==e.da){const i=[];let r=Promise.resolve();e.ra.forEach((s,a)=>{e.sharedClientState.isLocalQueryTarget(a)?i.push(a):r=r.then(()=>(Jv(e,a),dg(e.localStore,a,!0))),m0(e.remoteStore,a)}),yield r,yield J2(e,i),function(s){const a=Yt(s);a.aa.forEach((l,d)=>{m0(a.remoteStore,d)}),a.ca.Si(),a.aa=new Map,a.ua=new ps(Xt.comparator)}(e),e.da=!1,yield fx(e.remoteStore,!1)}}),wx.apply(this,arguments)}function J2(n,t,e){return xx.apply(this,arguments)}function xx(){return xx=(0,ot.Z)(function*(n,t,e){const i=Yt(n),r=[],s=[];for(const a of t){let l;const d=i.ra.get(a);if(d&&0!==d.length){l=yield ug(i.localStore,Nl(d[0]));for(const f of d){const p=i.ia.get(f),m=yield du(i,p);m.snapshot&&s.push(m.snapshot)}}else{const f=yield $T(i.localStore,a);l=yield ug(i.localStore,f),yield Z2(i,X2(f),a,!1)}r.push(l)}return i.sa.zo(s),r}),xx.apply(this,arguments)}function X2(n){return yD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function sP(n){const t=Yt(n);return Yt(Yt(t.localStore).persistence).Fs()}function oP(n,t,e,i){return ty.apply(this,arguments)}function ty(){return ty=(0,ot.Z)(function*(n,t,e,i){const r=Yt(n);if(r.da)return void At("SyncEngine","Ignoring unexpected query state notification.");const s=r.ra.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const a=yield YT(r.localStore,xD(s[0])),l=Ev.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield vh(r,a,l);break}case"rejected":yield dg(r.localStore,t,!0),Jv(r,t,i);break;default:an()}}),ty.apply(this,arguments)}function mg(n,t,e){return bx.apply(this,arguments)}function bx(){return bx=(0,ot.Z)(function*(n,t,e){const i=Cx(n);if(i.da){for(const r of t){if(i.ra.has(r)){At("SyncEngine","Adding an already active target "+r);continue}const s=yield $T(i.localStore,r),a=yield ug(i.localStore,s);yield Z2(i,X2(s),a.targetId,!1),ax(i.remoteStore,a)}for(const r of e)i.ra.has(r)&&(yield dg(i.localStore,r,!1).then(()=>{m0(i.remoteStore,r),Jv(i,r)}).catch(cu))}}),bx.apply(this,arguments)}function Cx(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dB.bind(null,t),t.sa.zo=QF.bind(null,t.eventManager),t.sa.wa=B2.bind(null,t.eventManager),t}function DE(n){const t=Yt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=q2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=G2.bind(null,t),t}class eA{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ot.Z)(function*(){e.M=p0(t.databaseInfo.databaseId),e.sharedClientState=e.ga(t),e.persistence=e.ya(t),yield e.persistence.start(),e.gcScheduler=e.pa(t),e.localStore=e.Ia(t)})()}pa(t){return null}Ia(t){return GT(this.persistence,new cg,t.initialUser,this.M)}ya(t){return new b2(QT.Yi,this.M)}ga(t){return new T2}terminate(){var t=this;return(0,ot.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class tA extends eA{constructor(t,e,i){super(),this.Ta=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ot.Z)(function*(){yield e().call(i,t),yield i.Ta.initialize(i,t),yield DE(i.Ta.syncEngine),yield Gv(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(t){return GT(this.persistence,new cg,t.initialUser,this.M)}pa(t){return new BF(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}ya(t){const e=qT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?tl.withCacheSize(this.cacheSizeBytes):tl.DEFAULT;return new WT(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,eE(),f0(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(t){return new T2}}class aP extends tA{constructor(t,e){super(t,e,!1),this.Ta=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ot.Z)(function*(){yield e().call(i,t);const r=i.Ta.syncEngine;i.sharedClientState instanceof XT&&(i.sharedClientState.syncEngine={$r:rP.bind(null,r),Br:oP.bind(null,r),Lr:mg.bind(null,r),Fs:sP.bind(null,r),Fr:IE.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,ot.Z)(function*(a){yield function Q2(n,t){return wx.apply(this,arguments)}(i.Ta.syncEngine,a),i.gcScheduler&&(a&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):a||i.gcScheduler.stop())});return function(a){return s.apply(this,arguments)}}())})()}ga(t){const e=eE();if(!XT.vt(e))throw new vt(Ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=qT(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new XT(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Tx{initialize(t,e){var i=this;return(0,ot.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>xE(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=nP.bind(null,i.syncEngine),yield fx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new L2}createDatastore(t){const e=p0(t.databaseInfo.databaseId),i=new E2(t.databaseInfo);return new iE(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=l=>xE(this.syncEngine,l,0),a=Wv.vt()?new Wv:new ox,new rE(e,i,r,s,a);var e,i,r,s,a}createSyncEngine(t,e){return function(i,r,s,a,l,d,f){const p=new aB(i,r,s,a,l,d);return f&&(p.da=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ot.Z)(function*(e){const i=Yt(e);At("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield g0(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function nA(n,t=10240){let e=0;return{read:()=>(0,ot.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ot.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ex{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ea(this.observer.next,t)}error(t){this.observer.error?this.Ea(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Aa(){this.muted=!0}Ea(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class fB{constructor(t,e){this.Ra=t,this.M=e,this.metadata=new Is,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var t=this;return(0,ot.Z)(function*(){return t.metadata.promise})()}ma(){var t=this;return(0,ot.Z)(function*(){return yield t.getMetadata(),t.Pa()})()}Pa(){var t=this;return(0,ot.Z)(function*(){const e=yield t.Va();if(null===e)return null;const i=t.ba.decode(e),r=Number(i);isNaN(r)&&t.va(`length string (${i}) is not valid number`);const s=yield t.Sa(r);return new V2(JSON.parse(s),e.length+r)})()}Da(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Va(){var t=this;return(0,ot.Z)(function*(){for(;t.Da()<0&&!(yield t.Ca()););if(0===t.buffer.length)return null;const e=t.Da();e<0&&t.va("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Sa(t){var e=this;return(0,ot.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ca())&&e.va("Reached the end of bundle when more is expected.");const i=e.ba.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}va(t){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${t}`)}Ca(){var t=this;return(0,ot.Z)(function*(){const e=yield t.Ra.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class AE{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ot.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new vt(Ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ot.Z)(function*(s,a){const l=Yt(s),d=ig(l.M)+"/documents",f={documents:a.map(b=>kv(l.M,b))},p=yield l._o("BatchGetDocuments",d,f),m=new Map;p.forEach(b=>{const T=function eB(n,t){return"found"in t?function(e,i){Pn(!!i.found);const r=nd(e,i.found.name),s=As(i.found.updateTime),a=new go({mapValue:{fields:i.found.fields}});return kr.newFoundDocument(r,s,a)}(n,t):"missing"in t?function(e,i){Pn(!!i.missing),Pn(!!i.readTime);const r=nd(e,i.missing),s=As(i.readTime);return kr.newNoDocument(r,s)}(n,t):an()}(l.M,b);m.set(T.key.toString(),T)});const w=[];return a.forEach(b=>{const T=m.get(b.toString());Pn(!!T),w.push(T)}),w}),function(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new t0(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ot.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=Xt.fromPath(r);t.mutations.push(new Nw(s,t.precondition(s)))}),yield(i=(0,ot.Z)(function*(r,s){const a=Yt(r),l=ig(a.M)+"/documents",d={writes:s.map(f=>Dv(a.M,f))};yield a.co("Commit",l,d)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw an();e=Nn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new vt(Ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ds.updateTime(e):Ds.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Nn.min()))throw new vt(Ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ds.updateTime(e)}return Ds.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class iA{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.xa=i.maxAttempts,this.No=new tE(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var t=this;this.No.Ro((0,ot.Z)(function*(){const e=new AE(t.datastore),i=t.ka(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Ma(s)}))}).catch(r=>{t.Ma(r)})}))}ka(t){try{const e=this.updateFunction(t);return!xw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ma(t){this.xa>0&&this.Oa(t)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(t)}Oa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!bT(e)}return!1}}class lP{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Mo.UNAUTHENTICATED,this.clientId=JC.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var a=(0,ot.Z)(function*(l){At("FirestoreClient","Received user=",l.uid),yield s.authCredentialListener(l),s.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(At("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}getConfiguration(){var t=this;return(0,ot.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ot.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Hf(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function rA(n,t){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,ot.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),At("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ot.Z)(function*(s){i.isEqual(s)||(yield h2(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),Sx.apply(this,arguments)}function Ix(n,t){return ny.apply(this,arguments)}function ny(){return ny=(0,ot.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield kx(n);At("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>pE(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>pE(t.remoteStore,s)),n.onlineComponents=t}),ny.apply(this,arguments)}function kx(n){return ME.apply(this,arguments)}function ME(){return ME=(0,ot.Z)(function*(n){return n.offlineComponents||(At("FirestoreClient","Using default OfflineComponentProvider"),yield rA(n,new eA)),n.offlineComponents}),ME.apply(this,arguments)}function iy(n){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,ot.Z)(function*(n){return n.onlineComponents||(At("FirestoreClient","Using default OnlineComponentProvider"),yield Ix(n,new Tx)),n.onlineComponents}),Dx.apply(this,arguments)}function sA(n){return kx(n).then(t=>t.persistence)}function OE(n){return kx(n).then(t=>t.localStore)}function cP(n){return iy(n).then(t=>t.remoteStore)}function oA(n){return iy(n).then(t=>t.syncEngine)}function _g(n){return RE.apply(this,arguments)}function RE(){return RE=(0,ot.Z)(function*(n){const t=yield iy(n),e=t.eventManager;return e.onListen=lB.bind(null,t.syncEngine),e.onUnlisten=cB.bind(null,t.syncEngine),e}),RE.apply(this,arguments)}function hP(n,t,e={}){const i=new Is;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function(r,s,a,l,d){const f=new Ex({next:m=>{s.enqueueAndForget(()=>gx(r,p));const w=m.docs.has(a);!w&&m.fromCache?d.reject(new vt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&l&&"server"===l.source?d.reject(new vt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new mx(ng(a.path),f,{includeMetadataChanges:!0,ku:!0});return mE(r,p)}(yield _g(n),n.asyncQueue,t,e,i)})),i.promise}function fP(n,t,e={}){const i=new Is;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function(r,s,a,l,d){const f=new Ex({next:m=>{s.enqueueAndForget(()=>gx(r,p)),m.fromCache&&"server"===l.source?d.reject(new vt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),p=new mx(a,f,{includeMetadataChanges:!0,ku:!0});return mE(r,p)}(yield _g(n),n.asyncQueue,t,e,i)})),i.promise}const aA=new Map;function Mx(n,t,e){if(!e)throw new vt(Ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function jf(n,t,e,i){if(!0===t&&!0===i)throw new vt(Ye.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function FE(n){if(!Xt.isDocumentKey(n))throw new vt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ox(n){if(Xt.isDocumentKey(n))throw new vt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function x0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":an()}function Ti(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=x0(n);throw new vt(Ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Rx(n,t){if(t<=0)throw new vt(Ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class Fx{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new vt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zf{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fx({}),this._settingsFrozen=!1,t instanceof Tf?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new vt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(r.options.projectId)}(t))}get app(){if(!this._app)throw new vt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new vt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fx(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Vm;switch(e.type){case"gapi":const i=e.client;return Pn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new zm(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new vt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=aA.get(t);e&&(At("ComponentProvider","Removing Datastore"),aA.delete(t),e.terminate())}(this),Promise.resolve()}}class Dr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yh(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dr(this.firestore,t,this._key)}}class Da{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Da(this.firestore,t,this._query)}}class yh extends Da{constructor(t,e,i){super(t,e,ng(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dr(this.firestore,null,new Xt(t))}withConverter(t){return new yh(this.firestore,t,this._path)}}function PE(n,t,...e){if(n=(0,X.m9)(n),Mx("collection","path",t),n instanceof zf){const i=bi.fromString(t,...e);return Ox(i),new yh(n,null,i)}{if(!(n instanceof Dr||n instanceof yh))throw new vt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bi.fromString(t,...e));return Ox(i),new yh(n.firestore,null,i)}}function Px(n,t,...e){if(n=(0,X.m9)(n),1===arguments.length&&(t=JC.R()),Mx("doc","path",t),n instanceof zf){const i=bi.fromString(t,...e);return FE(i),new Dr(n,null,new Xt(i))}{if(!(n instanceof Dr||n instanceof yh))throw new vt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bi.fromString(t,...e));return FE(i),new Dr(n.firestore,n instanceof yh?n.converter:null,new Xt(i))}}function lA(n,t){return n=(0,X.m9)(n),t=(0,X.m9)(t),(n instanceof Dr||n instanceof yh)&&(t instanceof Dr||t instanceof yh)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function cA(n,t){return n=(0,X.m9)(n),t=(0,X.m9)(t),n instanceof Da&&t instanceof Da&&n.firestore===t.firestore&&Qm(n._query,t._query)&&n.converter===t.converter}class uA{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new tE(this,"async_queue_retry"),this.Qa=()=>{const e=f0();e&&At("AsyncQueue","Visibility state changed to "+e.visibilityState),this.No.Po()};const t=f0();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ja(),this.Wa(t)}enterRestrictedMode(t){if(!this.Ba){this.Ba=!0,this.Ka=t||!1;const e=f0();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Qa)}}enqueue(t){if(this.ja(),this.Ba)return new Promise(()=>{});const e=new Is;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.$a.push(t),this.za()))}za(){var t=this;return(0,ot.Z)(function*(){if(0!==t.$a.length){try{yield t.$a[0](),t.$a.shift(),t.No.reset()}catch(e){if(!lu(e))throw e;At("AsyncQueue","Operation failed with retryable error: "+e)}t.$a.length>0&&t.No.Ro(()=>t.za())}})()}Wa(t){const e=this.Fa.then(()=>(this.qa=!0,t().catch(i=>{throw this.Ua=i,this.qa=!1,Ss("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=e,e}enqueueAfterDelay(t,e,i){this.ja(),this.Ga.indexOf(t)>-1&&(e=0);const r=$v.createAndSchedule(this,t,e,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&an()}verifyOperationInProgress(){}Ja(){var t=this;return(0,ot.Z)(function*(){let e;do{e=t.Fa,yield e}while(e!==t.Fa)})()}Ya(t){for(const e of this.La)if(e.timerId===t)return!0;return!1}Xa(t){return this.Ja().then(()=>{this.La.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.La)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Ja()})}Za(t){this.Ga.push(t)}Ha(t){const e=this.La.indexOf(t);this.La.splice(e,1)}}function Nx(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class dA{constructor(){this._progressObserver={},this._taskCompletionResolver=new Is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ar extends zf{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new uA,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||NE(this),this._firestoreClient.terminate()}}function Js(n){return n._firestoreClient||NE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NE(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new eF(n._databaseId,s,n._persistenceKey,(l=e).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams));var s,l;n._firestoreClient=new lP(n._authCredentials,n._appCheckCredentials,n._queue,i)}function fA(n,t,e){const i=new Is;return n.asyncQueue.enqueue((0,ot.Z)(function*(){try{yield rA(n,e),yield Ix(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===Ye.FAILED_PRECONDITION||s.code===Ye.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function bP(n){if(n._initialized||n._terminated)throw new vt(Ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new vt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $s(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wh{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wh(Ys.fromBase64String(t))}catch(e){throw new vt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new wh(Ys.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class b0{constructor(t){this._methodName=t}}class BE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yn(this._lat,t._lat)||Yn(this._long,t._long)}}const CB=/^__.*__$/;class c{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new fh(t,this.data,this.fieldMask,e,this.fieldTransforms):new e0(t,this.data,e,this.fieldTransforms)}}class u{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new fh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function h(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw an()}}class g{constructor(t,e,i,r,s,a){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(t){return new g(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.rc(t),r}oc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(t){return this.nc({path:void 0,ic:!0})}ac(t){return id(t,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}tc(){if(this.path)for(let t=0;t<this.path.length;t++)this.rc(this.path.get(t))}rc(t){if(0===t.length)throw this.ac("Document fields must not be empty");if(h(this.ec)&&CB.test(t))throw this.ac('Document fields cannot begin and end with "__"')}}class _{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||p0(t)}lc(t,e,i,r=!1){return new g({ec:t,methodName:e,hc:i,path:$s.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function x(n){const t=n._freezeSettings(),e=p0(n._databaseId);return new _(n._databaseId,!!t.ignoreUndefinedProperties,e)}function S(n,t,e,i,r,s={}){const a=n.lc(s.merge||s.mergeFields?2:0,t,e,r);kn("Data must be an object, but it was:",a,i);const l=pn(i,a);let d,f;if(s.merge)d=new Wm(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const w=ai(t,m,e);if(!a.contains(w))throw new vt(Ye.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Lx(p,w)||p.push(w)}d=new Wm(p),f=a.fieldTransforms.filter(m=>d.covers(m.field))}else d=null,f=a.fieldTransforms;return new c(new go(l),d,f)}class k extends b0{_toFieldTransform(t){if(2!==t.ec)throw t.ac(1===t.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof k}}function R(n,t,e){return new g({ec:3,hc:t.settings.hc,methodName:n._methodName,ic:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class B extends b0{_toFieldTransform(t){return new wv(t.path,new Ia)}isEqual(t){return t instanceof B}}class j extends b0{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=R(this,t,!0),i=this.fc.map(s=>jt(s,e)),r=new Ro(i);return new wv(t.path,r)}isEqual(t){return this===t}}class ne extends b0{constructor(t,e){super(t),this.fc=e}_toFieldTransform(t){const e=R(this,t,!0),i=this.fc.map(s=>jt(s,e)),r=new Af(i);return new wv(t.path,r)}isEqual(t){return this===t}}class ye extends b0{constructor(t,e){super(t),this.dc=e}_toFieldTransform(t){const e=new Xm(t.M,Mw(t.M,this.dc));return new wv(t.path,e)}isEqual(t){return this===t}}function Ae(n,t,e,i){const r=n.lc(1,t,e);kn("Data must be an object, but it was:",r,i);const s=[],a=go.empty();Qp(i,(d,f)=>{const p=ta(t,d,e);f=(0,X.m9)(f);const m=r.oc(p);if(f instanceof k)s.push(p);else{const w=jt(f,m);null!=w&&(s.push(p),a.set(p,w))}});const l=new Wm(s);return new u(a,l,r.fieldTransforms)}function st(n,t,e,i,r,s){const a=n.lc(1,t,e),l=[ai(t,i,e)],d=[r];if(s.length%2!=0)throw new vt(Ye.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)l.push(ai(t,s[w])),d.push(s[w+1]);const f=[],p=go.empty();for(let w=l.length-1;w>=0;--w)if(!Lx(f,l[w])){const b=l[w];let T=d[w];T=(0,X.m9)(T);const E=a.oc(b);if(T instanceof k)f.push(b);else{const M=jt(T,E);null!=M&&(f.push(b),p.set(b,M))}}const m=new Wm(f);return new u(p,m,a.fieldTransforms)}function Rt(n,t,e,i=!1){return jt(e,n.lc(i?4:3,t))}function jt(n,t){if(wt(n=(0,X.m9)(n)))return kn("Unsupported field value:",t,n),pn(n,t);if(n instanceof b0)return function(e,i){if(!h(i.ec))throw i.ac(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const a of e){let l=jt(a,i.uc(s));null==l&&(l={nullValue:"NULL_VALUE"}),r.push(l),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,X.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Mw(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Xr.fromDate(e);return{timestampValue:n0(i.M,r)}}if(e instanceof Xr){const r=new Xr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:n0(i.M,r)}}if(e instanceof BE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wh)return{bytesValue:ST(i.M,e._byteString)};if(e instanceof Dr){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Iv(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ac(`Unsupported field value: ${x0(e)}`)}(n,t)}function pn(n,t){const e={};return tT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qp(n,(i,r)=>{const s=jt(r,t.sc(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function wt(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xr||n instanceof BE||n instanceof wh||n instanceof Dr||n instanceof b0)}function kn(n,t,e){if(!wt(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=x0(e);throw t.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function ai(n,t,e){if((t=(0,X.m9)(t))instanceof Zf)return t._internalPath;if("string"==typeof t)return ta(n,t);throw id("Field path arguments must be of type string or ",n,!1,void 0,e)}const Ui=new RegExp("[~\\*/\\[\\]]");function ta(n,t,e){if(t.search(Ui)>=0)throw id(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Zf(...t.split("."))._internalPath}catch(i){throw id(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function id(n,t,e,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let d="";return(s||a)&&(d+=" (found",s&&(d+=` in field ${i}`),a&&(d+=` in document ${r}`),d+=")"),new vt(Ye.INVALID_ARGUMENT,l+n+d)}function Lx(n,t){return n.some(e=>e.isEqual(t))}class vg{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new VE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(C0("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class VE extends vg{data(){return super.data()}}function C0(n,t){return"string"==typeof t?ta(n,t):t instanceof Zf?t._internalPath:t._delegate._internalPath}class xh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hu extends vg{constructor(t,e,i,r,s,a){super(t,e,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(C0("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class yg extends hu{data(t={}){return super.data(t)}}class rd{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new yg(this._firestore,this._userDataWriter,i.key,i,new xh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new yg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||3!==a.type).map(a=>{const l=new yg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xh(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return 0!==a.type&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:UE(a.type),doc:l,oldIndex:d,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function UE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return an()}}function TB(n,t){return n instanceof hu&&t instanceof hu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof rd&&t instanceof rd&&n._firestore===t._firestore&&cA(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function EB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HE{}function T0(n,...t){for(const e of t)n=e._apply(n);return n}class mG extends HE{constructor(t,e,i){super(),this._c=t,this.wc=e,this.mc=i,this.type="where"}_apply(t){const e=x(t.firestore),i=function(r,s,a,l,d,f,p){let m;if(d.isKeyField()){if("array-contains"===f||"array-contains-any"===f)throw new vt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if("in"===f||"not-in"===f){MB(p,f);const b=[];for(const T of p)b.push(AB(l,r,T));m={arrayValue:{values:b}}}else m=AB(l,r,p)}else"in"!==f&&"not-in"!==f&&"array-contains-any"!==f||MB(p,f),m=Rt(a,"where",p,"in"===f||"not-in"===f);const w=Oo.create(d,f,m);return function(b,T){if(T.S()){const M=Aw(b);if(null!==M&&!M.isEqual(T.field))throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${M.toString()}' and '${T.field.toString()}'`);const N=gs(b);null!==N&&OB(0,T.field,N)}const E=function(M,N){for(const V of M.filters)if(N.indexOf(V.op)>=0)return V.op;return null}(b,function(M){switch(M){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(T.op));if(null!==E)throw new vt(Ye.INVALID_ARGUMENT,E===T.op?`Invalid query. You cannot use more than one '${T.op.toString()}' filter.`:`Invalid query. You cannot use '${T.op.toString()}' filters with '${E.toString()}' filters.`)}(r,w),w}(t._query,0,e,t.firestore._databaseId,this._c,this.wc,this.mc);return new Da(t.firestore,t.converter,function(r,s){const a=r.filters.concat([s]);return new hh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),a,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class vG extends HE{constructor(t,e){super(),this._c=t,this.gc=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new vt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new tg(r,s);return function(l,d){if(null===gs(l)){const f=Aw(l);null!==f&&OB(0,f,d.field)}}(i,a),a}(t._query,this._c,this.gc);return new Da(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new hh(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class SB extends HE{constructor(t,e,i){super(),this.type=t,this.yc=e,this.Ic=i}_apply(t){return new Da(t.firestore,t.converter,wD(t._query,this.yc,this.Ic))}}class IB extends HE{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=DB(t,this.type,this.Tc,this.Ec);return new Da(t.firestore,t.converter,(r=e,new hh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class kB extends HE{constructor(t,e,i){super(),this.type=t,this.Tc=e,this.Ec=i}_apply(t){const e=DB(t,this.type,this.Tc,this.Ec);return new Da(t.firestore,t.converter,(r=e,new hh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function DB(n,t,e,i){if(e[0]=(0,X.m9)(e[0]),e[0]instanceof vg)return function(r,s,a,l,d){if(!l)throw new vt(Ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const f=[];for(const p of Km(r))if(p.field.isKeyField())f.push(Sf(s,l.key));else{const m=l.data.field(p.field);if(nT(m))throw new vt(Ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===m){const w=p.field.canonicalString();throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}f.push(m)}return new dh(f,d)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=x(n.firestore);return function(s,a,l,d,f,p){const m=s.explicitOrderBy;if(f.length>m.length)throw new vt(Ye.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let b=0;b<f.length;b++){const T=f[b];if(m[b].field.isKeyField()){if("string"!=typeof T)throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof T}`);if(!hT(s)&&-1!==T.indexOf("/"))throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${T}' contains a slash.`);const E=s.path.child(bi.fromString(T));if(!Xt.isDocumentKey(E))throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${E}' is not because it contains an odd number of segments.`);const M=new Xt(E);w.push(Sf(a,M))}else{const E=Rt(l,d,T);w.push(E)}}return new dh(w,p)}(n._query,n.firestore._databaseId,r,t,e,i)}}function AB(n,t,e){if("string"==typeof(e=(0,X.m9)(e))){if(""===e)throw new vt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(t)&&-1!==e.indexOf("/"))throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(bi.fromString(e));if(!Xt.isDocumentKey(i))throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sf(n,new Xt(i))}if(e instanceof Dr)return Sf(n,e._key);throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${x0(e)}.`)}function MB(n,t){if(!Array.isArray(n)||0===n.length)throw new vt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new vt(Ye.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function OB(n,t,e){if(!e.isEqual(t))throw new vt(Ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const SG={maxAttempts:5};class CP{convertValue(t,e="none"){switch(Ec(t)){case 0:return null;case 1:return t.booleanValue;case 2:return es(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(qm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw an()}}convertObject(t,e){const i={};return Qp(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new BE(es(t.latitude),es(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ww(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jp(t));default:return null}}convertTimestamp(t){const e=Cf(t);return new Xr(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=bi.fromString(t);Pn(AT(i));const r=new Tf(i.get(1),i.get(3)),s=new Xt(i.popFirst(5));return r.isEqual(e)||Ss(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function pA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class IG extends CP{constructor(t){super(),this.firestore=t}convertBytes(t){return new wh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dr(this.firestore,null,e)}}class RB{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=x(t)}set(t,e,i){this._verifyNotCommitted();const r=E0(t,this._firestore),s=pA(r.converter,e,i),a=S(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(a.toMutation(r._key,Ds.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=E0(t,this._firestore);let a;return a="string"==typeof(e=(0,X.m9)(e))||e instanceof Zf?st(this._dataReader,"WriteBatch.update",s._key,e,i,r):Ae(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,Ds.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=E0(t,this._firestore);return this._mutations=this._mutations.concat(new t0(e._key,Ds.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function E0(n,t){if((n=(0,X.m9)(n)).firestore!==t)throw new vt(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ry extends CP{constructor(t){super(),this.firestore=t}convertBytes(t){return new wh(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Dr(this.firestore,null,e)}}function FB(n,t,e){n=Ti(n,Dr);const i=Ti(n.firestore,Ar),r=pA(n.converter,t,e);return Bx(i,[S(x(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ds.none())])}function PB(n,t,e,...i){n=Ti(n,Dr);const r=Ti(n.firestore,Ar),s=x(r);let a;return a="string"==typeof(t=(0,X.m9)(t))||t instanceof Zf?st(s,"updateDoc",n._key,t,e,i):Ae(s,"updateDoc",n._key,t),Bx(r,[a.toMutation(n._key,Ds.exists(!0))])}function NB(n,...t){var e,i,r;n=(0,X.m9)(n);let s={includeMetadataChanges:!1},a=0;"object"!=typeof t[a]||Nx(t[a])||(s=t[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges};if(Nx(t[a])){const m=t[a];t[a]=null===(e=m.next)||void 0===e?void 0:e.bind(m),t[a+1]=null===(i=m.error)||void 0===i?void 0:i.bind(m),t[a+2]=null===(r=m.complete)||void 0===r?void 0:r.bind(m)}let d,f,p;if(n instanceof Dr)f=Ti(n.firestore,Ar),p=ng(n._key.path),d={next:m=>{t[a]&&t[a](TP(f,n,m))},error:t[a+1],complete:t[a+2]};else{const m=Ti(n,Da);f=Ti(m.firestore,Ar),p=m._query;const w=new ry(f);d={next:b=>{t[a]&&t[a](new rd(f,w,m,b))},error:t[a+1],complete:t[a+2]},EB(n._query)}return function(m,w,b,T){const E=new Ex(T),M=new mx(w,E,b);return m.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return mE(yield _g(m),M)})),()=>{E.Aa(),m.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return gx(yield _g(m),M)}))}}(Js(f),p,l,d)}function Bx(n,t){return function(e,i){const r=new Is;return e.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function uB(n,t,e){return _x.apply(this,arguments)}(yield oA(e),i,r)})),r.promise}(Js(n),t)}function TP(n,t,e){const i=e.docs.get(t._key),r=new ry(n);return new hu(n,r,t._key,i,new xh(e.hasPendingWrites,e.fromCache),t.converter)}class LG extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=x(t)}get(t){const e=E0(t,this._firestore),i=new IG(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return an();const s=r[0];if(s.isFoundDocument())return new vg(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new vg(this._firestore,i,e._key,null,e.converter);throw an()})}set(t,e,i){const r=E0(t,this._firestore),s=pA(r.converter,e,i),a=S(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,a),this}update(t,e,i,...r){const s=E0(t,this._firestore);let a;return a="string"==typeof(e=(0,X.m9)(e))||e instanceof Zf?st(this._dataReader,"Transaction.update",s._key,e,i,r):Ae(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(t){const e=E0(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=E0(t,this._firestore),i=new ry(this._firestore);return super.get(t).then(r=>new hu(this._firestore,i,e._key,r._document,new xh(!1,!1),e.converter))}}function EP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function BB(){if("undefined"==typeof Uint8Array)throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function VB(){if(!function nD(){return"undefined"!=typeof atob}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Bm=Sa.SDK_VERSION,(0,Sa._registerComponent)(new xc.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),s=new Ar(r,new Hm(e.getProvider("auth-internal")),new Zm(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC")),(0,Sa.registerVersion)(Xk,"3.4.9",n),(0,Sa.registerVersion)(Xk,"3.4.9","esm2017")}();class jE{constructor(t){this._delegate=t}static fromBase64String(t){return VB(),new jE(wh.fromBase64String(t))}static fromUint8Array(t){return BB(),new jE(wh.fromUint8Array(t))}toBase64(){return VB(),this._delegate.toBase64()}toUint8Array(){return BB(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SP(n){return function qG(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class GG{enableIndexedDbPersistence(t,e){return function LE(n,t){bP(n=Ti(n,Ar));const e=Js(n),i=n._freezeSettings(),r=new Tx;return fA(e,r,new tA(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function yP(n){bP(n=Ti(n,Ar));const t=Js(n),e=n._freezeSettings(),i=new Tx;return fA(t,i,new aP(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function vB(n){if(n._initialized&&!n._terminated)throw new vt(Ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Is;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ot.Z)(function*(){try{yield(e=(0,ot.Z)(function*(i){if(!au.vt())return Promise.resolve();const r=i+"main";yield au.delete(r)}),function(i){return e.apply(this,arguments)})(qT(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class UB{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Tf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&uv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function _B(n,t,e,i={}){var r;const s=(n=Ti(n,zf))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&uv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=Mo.MOCK_USER;else{a=(0,X.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new vt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mo(d)}n._authCredentials=new Um(new $p(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function wP(n){return function uP(n){return n.asyncQueue.enqueue((0,ot.Z)(function*(){const t=yield sA(n),e=yield cP(n);return t.setNetworkEnabled(!0),function(i){const r=Yt(i);return r.wu.delete(0),fg(r)}(e)}))}(Js(n=Ti(n,Ar)))}(this._delegate)}disableNetwork(){return function xP(n){return function dP(n){return n.asyncQueue.enqueue((0,ot.Z)(function*(){const t=yield sA(n),e=yield cP(n);return t.setNetworkEnabled(!1),(i=(0,ot.Z)(function*(r){const s=Yt(r);s.wu.add(0),yield g0(s),s.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Js(n=Ti(n,Ar)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,jf("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function yB(n){return function(t){const e=new Is;return t.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return function XF(n,t){return CE.apply(this,arguments)}(yield oA(t),e)})),e.promise}(Js(n=Ti(n,Ar)))}(this._delegate)}onSnapshotsInSync(t){return function NG(n,t){return function mB(n,t){const e=new Ex(t);return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return i=yield _g(n),r=e,Yt(i).bu.add(r),void r.next();var i,r})),()=>{e.Aa(),n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return i=yield _g(n),r=e,void Yt(i).bu.delete(r);var i,r}))}}(Js(n=Ti(n,Ar)),Nx(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Vx(this,PE(this._delegate,t))}catch(e){throw Vl(e,"collection()","Firestore.collection()")}}doc(t){try{return new sd(this,Px(this._delegate,t))}catch(e){throw Vl(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ul(this,function mP(n,t){if(n=Ti(n,zf),Mx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vt(Ye.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Da(n,null,(e=t,new hh(bi.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Vl(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function BG(n,t,e){n=Ti(n,Ar);const i=Object.assign(Object.assign({},SG),e);return function(r){if(r.maxAttempts<1)throw new vt(Ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function pP(n,t,e){const i=new Is;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){const r=yield(s=n,iy(s).then(a=>a.datastore));var s;new iA(n.asyncQueue,r,e,t,i).run()})),i.promise}(Js(n),r=>t(new LG(n,r)),i)}(this._delegate,e=>t(new HB(this,e)))}batch(){return Js(this._delegate),new jB(new RB(this._delegate,t=>Bx(this._delegate,t)))}loadBundle(t){return function wB(n,t){const e=Js(n=Ti(n,Ar)),i=new dA;return function Ax(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?(new TextEncoder).encode(s):s,d=function(d,f){if(d instanceof Uint8Array)return nA(d,f);if(d instanceof ArrayBuffer)return nA(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new fB(d,a);var d}(e,p0(t));n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){!function hB(n,t,e){const i=Yt(n);var r;(r=(0,ot.Z)(function*(s,a,l){try{const d=yield a.getMetadata();if(yield function(w,b){const T=Yt(w),E=As(b.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",M=>T._s.getBundleMetadata(M,b.id)).then(M=>!!M&&M.createTime.compareTo(E)>=0)}(s.localStore,d))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(w=d).totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}),Promise.resolve(new Set);l._updateProgress(H2(d));const f=new U2(d,s.localStore,a.M);let p=yield a.ma();for(;p;){const w=yield f.Fu(p);w&&l._updateProgress(w),p=yield a.ma()}const m=yield f.complete();return yield vh(s,m.Lu,void 0),yield function(w,b){const T=Yt(w);return T.persistence.runTransaction("Save bundle","readwrite",E=>T._s.saveBundleMetadata(E,b))}(s.localStore,d),l._completeWith(m.progress),Promise.resolve(m.Bu)}catch(d){return uv("SyncEngine",`Loading bundle failed with ${d}`),l._failWith(d),Promise.resolve(new Set)}var w}),function(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield oA(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function xB(n,t){return function gP(n,t){return n.asyncQueue.enqueue((0,ot.Z)(function*(){return function(e,i){const r=Yt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield OE(n),t)}))}(Js(n=Ti(n,Ar)),t).then(e=>e?new Da(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ul(this,e):null)}}class gA extends CP{constructor(t){super(),this.firestore=t}convertBytes(t){return new jE(new wh(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return sd.forKey(e,this.firestore,null)}}class HB{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gA(t)}get(t){const e=oy(t);return this._delegate.get(e).then(i=>new zE(this._firestore,new hu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=oy(t);return i?(EP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=oy(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=oy(t);return this._delegate.delete(e),this}}class jB{constructor(t){this._delegate=t}set(t,e,i){const r=oy(t);return i?(EP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=oy(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=oy(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class sy{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new yg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ZE(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=sy.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new sy(t,new gA(t),e),r.set(e,s)),s}}sy.INSTANCES=new WeakMap;class sd{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new sd(e,new Dr(e._delegate,i,new Xt(t)))}static forKey(t,e,i){return new sd(e,new Dr(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Vx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Vx(this.firestore,PE(this._delegate,t))}catch(e){throw Vl(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,X.m9)(t))instanceof Dr&&lA(this._delegate,t)}set(t,e){e=EP("DocumentReference.set",e);try{return e?FB(this._delegate,t,e):FB(this._delegate,t)}catch(i){throw Vl(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?PB(this._delegate,t):PB(this._delegate,t,e,...i)}catch(r){throw Vl(r,"updateDoc()","DocumentReference.update()")}}delete(){return function FG(n){return Bx(Ti(n.firestore,Ar),[new t0(n._key,Ds.none())])}(this._delegate)}onSnapshot(...t){const e=zB(t),i=ZB(t,r=>new zE(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return NB(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function DG(n){n=Ti(n,Dr);const t=Ti(n.firestore,Ar),e=Js(t),i=new ry(t);return function pB(n,t){const e=new Is;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return(i=(0,ot.Z)(function*(r,s,a){try{const l=yield function(d,f){const p=Yt(d);return p.persistence.runTransaction("read document","readonly",m=>p.fi.Ls(m,f))}(r,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new vt(Ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const d=Hf(l,`Failed to get document '${s} from cache`);a.reject(d)}}),function(r,s,a){return i.apply(this,arguments)})(yield OE(n),t,e);var i})),e.promise}(e,n._key).then(r=>new hu(t,i,n._key,r,new xh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function AG(n){n=Ti(n,Dr);const t=Ti(n.firestore,Ar);return hP(Js(t),n._key,{source:"server"}).then(e=>TP(t,n,e))}(this._delegate):function kG(n){n=Ti(n,Dr);const t=Ti(n.firestore,Ar);return hP(Js(t),n._key).then(e=>TP(t,n,e))}(this._delegate),e.then(i=>new zE(this.firestore,new hu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new sd(this.firestore,this._delegate.withConverter(t?sy.getInstance(this.firestore,t):null))}}function Vl(n,t,e){return n.message=n.message.replace(t,e),n}function zB(n){for(const t of n)if("object"==typeof t&&!SP(t))return t;return{}}function ZB(n,t){var e,i;let r;return r=SP(n[0])?n[0]:SP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class zE{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new sd(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return TB(this._delegate,t._delegate)}}class ZE extends zE{data(t){const e=this._delegate.data(t);return function ea(n,t){n||an()}(void 0!==e),e}}class Ul{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gA(t)}where(t,e,i){try{return new Ul(this.firestore,T0(this._delegate,function _G(n,t,e){const i=t,r=C0("where",n);return new mG(r,i,e)}(t,e,i)))}catch(r){throw Vl(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ul(this.firestore,T0(this._delegate,function yG(n,t="asc"){const e=t,i=C0("orderBy",n);return new vG(i,e)}(t,e)))}catch(i){throw Vl(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ul(this.firestore,T0(this._delegate,function wG(n){return Rx("limit",n),new SB("limit",n,"F")}(t)))}catch(e){throw Vl(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ul(this.firestore,T0(this._delegate,function xG(n){return Rx("limitToLast",n),new SB("limitToLast",n,"L")}(t)))}catch(e){throw Vl(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ul(this.firestore,T0(this._delegate,function bG(...n){return new IB("startAt",n,!0)}(...t)))}catch(e){throw Vl(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ul(this.firestore,T0(this._delegate,function CG(...n){return new IB("startAfter",n,!1)}(...t)))}catch(e){throw Vl(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ul(this.firestore,T0(this._delegate,function TG(...n){return new kB("endBefore",n,!1)}(...t)))}catch(e){throw Vl(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ul(this.firestore,T0(this._delegate,function EG(...n){return new kB("endAt",n,!0)}(...t)))}catch(e){throw Vl(e,"endAt()","Query.endAt()")}}isEqual(t){return cA(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function OG(n){n=Ti(n,Da);const t=Ti(n.firestore,Ar),e=Js(t),i=new ry(t);return function gB(n,t){const e=new Is;return n.asyncQueue.enqueueAndForget((0,ot.Z)(function*(){return(i=(0,ot.Z)(function*(r,s,a){try{const l=yield Hv(r,s,!0),d=new wE(s,l._i),f=d.Wu(l.documents),p=d.applyChanges(f,!1);a.resolve(p.snapshot)}catch(l){const d=Hf(l,`Failed to execute query '${s} against cache`);a.reject(d)}}),function(r,s,a){return i.apply(this,arguments)})(yield OE(n),t,e);var i})),e.promise}(e,n._query).then(r=>new rd(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function RG(n){n=Ti(n,Da);const t=Ti(n.firestore,Ar),e=Js(t),i=new ry(t);return fP(e,n._query,{source:"server"}).then(r=>new rd(t,i,n,r))}(this._delegate):function MG(n){n=Ti(n,Da);const t=Ti(n.firestore,Ar),e=Js(t),i=new ry(t);return EB(n._query),fP(e,n._query).then(r=>new rd(t,i,n,r))}(this._delegate),e.then(i=>new IP(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=zB(t),i=ZB(t,r=>new IP(this.firestore,new rd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return NB(this._delegate,e,i)}withConverter(t){return new Ul(this.firestore,this._delegate.withConverter(t?sy.getInstance(this.firestore,t):null))}}class YG{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ZE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ul(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ZE(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new YG(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new ZE(this._firestore,i))})}isEqual(t){return TB(this._delegate,t._delegate)}}class Vx extends Ul{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new sd(this.firestore,t):null}doc(t){try{return new sd(this.firestore,void 0===t?Px(this._delegate):Px(this._delegate,t))}catch(e){throw Vl(e,"doc()","CollectionReference.doc()")}}add(t){return function PG(n,t){const e=Ti(n.firestore,Ar),i=Px(n),r=pA(n.converter,t);return Bx(e,[S(x(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ds.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new sd(this.firestore,e))}isEqual(t){return lA(this._delegate,t._delegate)}withConverter(t){return new Vx(this.firestore,this._delegate.withConverter(t?sy.getInstance(this.firestore,t):null))}}function oy(n){return Ti(n,Dr)}class kP{constructor(...t){this._delegate=new Zf(...t)}static documentId(){return new kP($s.keyField().canonicalString())}isEqual(t){return(t=(0,X.m9)(t))instanceof Zf&&this._delegate._internalPath.isEqual(t._internalPath)}}class ay{constructor(t){this._delegate=t}static serverTimestamp(){const t=function UG(){return new B("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ay(t)}static delete(){const t=function VG(){return new k("deleteField")}();return t._methodName="FieldValue.delete",new ay(t)}static arrayUnion(...t){const e=function HG(...n){return new j("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ay(e)}static arrayRemove(...t){const e=function jG(...n){return new ne("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ay(e)}static increment(t){const e=function zG(n){return new ye("increment",n)}(t);return e._methodName="FieldValue.increment",new ay(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const KG={Firestore:UB,GeoPoint:BE,Timestamp:Xr,Blob:jE,Transaction:HB,WriteBatch:jB,DocumentReference:sd,DocumentSnapshot:zE,Query:Ul,QueryDocumentSnapshot:ZE,QuerySnapshot:IP,CollectionReference:Vx,FieldPath:kP,FieldValue:ay,setLogLevel:function $G(n){!function XR(n){ou.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function JG(n){(function QG(n,t){n.INTERNAL.registerComponent(new xc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},KG)))})(n,(t,e)=>new UB(t,e,new GG)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Rp.Z);var li=J(7579),mA=J(6451),_A=J(5363),S0=J(8421);function Aa(n,t){return(0,ze.e)((e,i)=>{let r=null,s=0,a=!1;const l=()=>a&&!r&&i.complete();e.subscribe((0,Ot.x)(i,d=>{null==r||r.unsubscribe();let f=0;const p=s++;(0,S0.Xf)(n(d,p)).subscribe(r=(0,Ot.x)(i,m=>i.next(t?t(d,m,p,f++):m),()=>{r=null,l()}))},()=>{a=!0,l()}))})}var XG=J(6063);class e$ extends li.x{constructor(t=1/0,e=1/0,i=XG.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:a}=this;e||(i.push(t),!r&&i.push(s.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let a=0;a<s.length&&!t.closed;a+=i?1:2)t.next(s[a]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const a=e.now();let l=0;for(let d=1;d<i.length&&i[d]<=a;d+=2)l=d;l&&i.splice(0,l+1)}}}var WB=J(3099);function DP(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,WB.B)({connector:()=>new e$(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const vA=(0,J(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var I0=J(5698);function qB(n){return(0,ze.e)((t,e)=>{let i=!1;t.subscribe((0,Ot.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function GB(n=n$){return(0,ze.e)((t,e)=>{let i=!1;t.subscribe((0,Ot.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function n$(){return new vA}function ly(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hs((r,s)=>n(r,s,i)):wc.y,(0,I0.q)(1),e?qB(t):GB(()=>new vA))}var od=J(576);function $B(n,t){return(0,od.m)(t)?Aa(()=>n,t):Aa(()=>n)}var AP=J(9468);J(5867);const KB=new Map,a$={activated:!1,tokenObservers:[]},l$={initialized:!1,enabled:!1};function na(n){return KB.get(n)||a$}function bh(n,t){KB.set(n,t)}function wA(){return l$}class f${constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ot.Z)(function*(){e.stop();try{e.pending=new X.BH,yield function p$(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new X.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Hl=new X.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JB(n){if(!na(n).activated)throw Hl.create("use-before-activation",{appName:n.name})}function FP(n,t){return PP.apply(this,arguments)}function PP(){return PP=(0,ot.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const m=yield r.getHeartbeatsHeader();m&&(i["X-Firebase-Client"]=m)}const s={method:"POST",body:JSON.stringify(t),headers:i};let a,l;try{a=yield fetch(n,s)}catch(m){throw Hl.create("fetch-network-error",{originalErrorMessage:m.message})}if(200!==a.status)throw Hl.create("fetch-status-error",{httpStatus:a.status});try{l=yield a.json()}catch(m){throw Hl.create("fetch-parse-error",{originalErrorMessage:m.message})}const d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Hl.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const f=1e3*Number(d[1]),p=Date.now();return{token:l.token,expireTimeMillis:p+f,issuedAtTimeMillis:p}}),PP.apply(this,arguments)}function y$(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const WE="firebase-app-check-store";let CA=null;function e5(){return CA||(CA=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Hl.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(WE,{keyPath:"compositeKey"})}}catch(e){t(Hl.create("storage-open",{originalErrorMessage:e.message}))}}),CA)}function NP(){return NP=(0,ot.Z)(function*(n,t){const i=(yield e5()).transaction(WE,"readwrite"),s=i.objectStore(WE).put({compositeKey:n,value:t});return new Promise((a,l)=>{s.onsuccess=d=>{a()},i.onerror=d=>{var f;l(Hl.create("storage-set",{originalErrorMessage:null===(f=d.target.error)||void 0===f?void 0:f.message}))}})}),NP.apply(this,arguments)}const qE=new Rl.Yd("@firebase/app-check");function s5(n,t){return(0,X.hl)()?function C$(n,t){return function t5(n,t){return NP.apply(this,arguments)}(function r5(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{qE.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function o5(){return wA().enabled}function a5(){return UP.apply(this,arguments)}function UP(){return UP=(0,ot.Z)(function*(){const n=wA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UP.apply(this,arguments)}const D$={error:"UNKNOWN_ERROR"};function A$(n){return X.US.encodeString(JSON.stringify(n),!1)}function TA(n){return HP.apply(this,arguments)}function HP(){return HP=(0,ot.Z)(function*(n,t=!1){const e=n.app;JB(e);const i=na(e);let s,r=i.token;if(!r){const d=yield i.cachedTokenPromise;d&&EA(d)&&(r=d)}if(!t&&r&&EA(r))return{token:r.token};let l,a=!1;if(o5()){i.exchangeTokenPromise||(i.exchangeTokenPromise=FP(y$(e,yield a5()),n.heartbeatServiceProvider).then(f=>(i.exchangeTokenPromise=void 0,f)),a=!0);const d=yield i.exchangeTokenPromise;return yield s5(e,d),bh(e,Object.assign(Object.assign({},i),{token:d})),{token:d.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(d=>(i.exchangeTokenPromise=void 0,d)),a=!0),r=yield i.exchangeTokenPromise}catch(d){"appCheck/throttled"===d.code?qE.warn(d.message):qE.error(d),s=d}return r?(l={token:r.token},bh(e,Object.assign(Object.assign({},i),{token:r})),yield s5(e,r)):l=O$(s),a&&c5(e,l),l}),HP.apply(this,arguments)}function zP(n,t){const e=na(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),bh(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function l5(n){const{app:t}=n,e=na(t);let i=e.tokenRefresher;i||(i=function M$(n){const{app:t}=n;return new f$((0,ot.Z)(function*(){let i;if(i=na(t).token?yield TA(n,!0):yield TA(n),i.error)throw i.error}),()=>!0,()=>{const e=na(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),bh(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function c5(n,t){const e=na(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function EA(n){return n.expireTimeMillis-Date.now()>0}function O$(n){return{token:A$(D$),error:n}}class R${constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=na(this.app);for(const e of t)zP(this.app,e.next);return Promise.resolve()}}const _5="app-check-internal";!function G$(){(0,Sa._registerComponent)(new xc.wA("app-check",n=>function F$(n,t){return new R$(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(_5).initialize()})),(0,Sa._registerComponent)(new xc.wA(_5,n=>function P$(n){return{getToken:t=>TA(n,t),addTokenListener:t=>function jP(n,t,e,i){const{app:r}=n,s=na(r),a={next:e,error:i,type:t};if(bh(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,a]})),s.token&&EA(s.token)){const l=s.token;Promise.resolve().then(()=>{e({token:l.token}),l5(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>l5(n))}(n,"INTERNAL",t),removeTokenListener:t=>zP(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Sa.registerVersion)("@firebase/app-check","0.5.8")}();class IA{constructor(){return(0,I.vb)("app-check")}}"undefined"!=typeof window&&window;var $P=J(127);const YP=new o.OlP("angularfire2.auth.use-emulator"),KP=new o.OlP("angularfire2.auth.settings"),QP=new o.OlP("angularfire2.auth.tenant-id"),JP=new o.OlP("angularfire2.auth.langugage-code"),XP=new o.OlP("angularfire2.auth.use-device-language"),eN=new o.OlP("angularfire.auth.persistence"),tN=(n,t,e,i,r,s,a,l)=>(0,Ws.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const d=t.runOutsideAngular(()=>n.auth());if(e&&d.useEmulator(...e),i&&(d.tenantId=i),d.languageCode=r,s&&d.useDeviceLanguage(),a)for(const[f,p]of Object.entries(a))d.settings[f]=p;return l&&d.setPersistence(l),d},[e,i,r,s,a,l]);let Ux=(()=>{class n{constructor(e,i,r,s,a,l,d,f,p,m,w,b){const T=new li.x,E=y(void 0).pipe((0,_A.Q)(a.outsideAngular),Aa(()=>s.runOutsideAngular(()=>Promise.resolve().then(J.bind(J,7092)))),(0,It.U)(()=>(0,Ws.on)(e,s,i)),(0,It.U)(M=>tN(M,s,l,f,p,m,d,w)),DP({bufferSize:1,refCount:!1}));if(ic(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=y(null);else{E.pipe(ly()).subscribe();const N=E.pipe(Aa(q=>q.getRedirectResult().then(Q=>Q,()=>null)),I.iC,DP({bufferSize:1,refCount:!1})),V=E.pipe(Aa(q=>new Ki.y(Q=>({unsubscribe:s.runOutsideAngular(()=>q.onAuthStateChanged(ue=>Q.next(ue),ue=>Q.error(ue),()=>Q.complete()))})))),U=E.pipe(Aa(q=>new Ki.y(Q=>({unsubscribe:s.runOutsideAngular(()=>q.onIdTokenChanged(ue=>Q.next(ue),ue=>Q.error(ue),()=>Q.complete()))}))));this.authState=N.pipe($B(V),(0,AP.R)(a.outsideAngular),(0,_A.Q)(a.insideAngular)),this.user=N.pipe($B(U),(0,AP.R)(a.outsideAngular),(0,_A.Q)(a.insideAngular)),this.idToken=this.user.pipe(Aa(q=>q?(0,C.D)(q.getIdToken()):y(null))),this.idTokenResult=this.user.pipe(Aa(q=>q?(0,C.D)(q.getIdTokenResult()):y(null))),this.credential=(0,mA.T)(N,T,this.authState.pipe(hs(q=>!q))).pipe((0,It.U)(q=>(null==q?void 0:q.user)?q:null),(0,AP.R)(a.outsideAngular),(0,_A.Q)(a.insideAngular))}return(0,Ws.pX)(this,E,s,{spy:{apply:(M,N,V)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&V.then(U=>T.next(U))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ws.Dh),o.LFG(Ws.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(I.HU),o.LFG(YP,8),o.LFG(KP,8),o.LFG(QP,8),o.LFG(JP,8),o.LFG(XP,8),o.LFG(eN,8),o.LFG(IA,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),X$=(()=>{class n{constructor(){$P.Z.registerVersion("angularfire",I.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ux]}),n})();function y5(n,t){return function eY(n,t=iu.z){return new Ki.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function nN(n,t){return y5(n,t).pipe((0,It.U)(e=>({payload:e,type:"query"})))}function kA(n,t){return nN(n,t).pipe(Mt(void 0),In(),(0,It.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const d=r.find(p=>p.doc.ref.isEqual(a.ref)),f=null==e?void 0:e.payload.docs.find(p=>p.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&f&&JSON.stringify(f.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function w5(n,t,e){return kA(n,e).pipe(ds((i,r)=>function nY(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function iY(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return iN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return iN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return iN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Cm(),(0,It.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function iN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function x5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class b5{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=kA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,It.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Mt(void 0),In(),hs(([i,r])=>r.length>0||!i),(0,It.U)(([i,r])=>r),I.iC)}auditTrail(t){return this.stateChanges(t).pipe(ds((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=x5(t);return w5(this.query,e,this.afs.schedulers.outsideAngular).pipe(I.iC)}valueChanges(t={}){return nN(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),I.iC)}get(t){return(0,C.D)(this.query.get(t)).pipe(I.iC)}add(t){return this.ref.add(t)}doc(t){return new C5(this.ref.doc(t),this.afs)}}class C5{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=S5(i,e);return new b5(r,s,this.afs)}snapshotChanges(){return function tY(n,t){return y5(n,t).pipe(Mt(void 0),In(),(0,It.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(I.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,It.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,C.D)(this.ref.get(t)).pipe(I.iC)}}class rY{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kA(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),hs(e=>e.length>0),I.iC):kA(this.query,this.afs.schedulers.outsideAngular).pipe(I.iC)}auditTrail(t){return this.stateChanges(t).pipe(ds((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=x5(t);return w5(this.query,e,this.afs.schedulers.outsideAngular).pipe(I.iC)}valueChanges(t={}){return nN(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),I.iC)}get(t){return(0,C.D)(this.query.get(t)).pipe(I.iC)}}const T5=new o.OlP("angularfire2.enableFirestorePersistence"),E5=new o.OlP("angularfire2.firestore.persistenceSettings"),sY=new o.OlP("angularfire2.firestore.settings"),oY=new o.OlP("angularfire2.firestore.use-emulator");function S5(n,t=(e=>e)){return{query:t(n),ref:n}}let DA=(()=>{class n{constructor(e,i,r,s,a,l,d,f,p,m,w,b,T,E,M,N,V){this.schedulers=d;const U=(0,Ws.on)(e,l,i),q=p;m&&tN(U,l,w,T,E,M,b,N),[this.firestore,this.persistenceEnabled$]=(0,Ws.cc)(`${U.name}.firestore`,"AngularFirestore",U.name,()=>{const Q=l.runOutsideAngular(()=>U.firestore());if(s&&Q.settings(s),q&&Q.useEmulator(...q),r&&!ic(a)){const ue=()=>{try{return(0,C.D)(Q.enablePersistence(f||void 0).then(()=>!0,()=>!1))}catch(K){return"undefined"!=typeof console&&console.warn(K),y(!1)}};return[Q,l.runOutsideAngular(ue)]}return[Q,y(!1)]},[s,q,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:a}=S5(r,i),l=this.schedulers.ngZone.run(()=>s);return new b5(l,a,this)}collectionGroup(e,i){const r=i||(a=>a),s=this.firestore.collectionGroup(e);return new rY(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new C5(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ws.Dh),o.LFG(Ws.xv,8),o.LFG(T5,8),o.LFG(sY,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(I.HU),o.LFG(E5,8),o.LFG(oY,8),o.LFG(Ux,8),o.LFG(YP,8),o.LFG(KP,8),o.LFG(QP,8),o.LFG(JP,8),o.LFG(XP,8),o.LFG(eN,8),o.LFG(IA,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aY=(()=>{class n{constructor(){$P.Z.registerVersion("angularfire",I.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:T5,useValue:!0},{provide:E5,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[DA]}),n})();var lY=J(5226),cY=J.n(lY);let k0=(()=>{class n{constructor(){this.Toast=cY().mixin({toast:!0,position:"top",showConfirmButton:!1,timer:2e3,timerProgressBar:!0})}success(e){this.Toast.fire({icon:"success",title:e})}error(e){this.Toast.fire({icon:"error",title:e})}info(e){this.Toast.fire({icon:"info",title:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fu=(()=>{class n{constructor(e,i){this.FireStore=e,this.alert=i}Add(e,i){this.FireStore.collection(e).doc(i.numero).get().subscribe(r=>{r.exists?this.alert.info(e+" "+i.numero+" est d\xe9ja existe"):this.FireStore.collection(e).doc(i.numero).set(i).then(()=>{this.alert.success(e+" "+i.numero+" est ajouter")})})}AddSub(e,i,r,s){return this.FireStore.collection(e).doc(i).collection(r).doc(s.numero).get().subscribe(a=>{a.exists?this.alert.error(e+" "+s.numero+" est d\xe9ja existe"):this.FireStore.collection(e).doc(i).collection(r).doc(s.numero).set(s)})}AddMateriel(e){for(let i=0;i<e.quantite;i++){let r=parseInt(e.numero)+1;e.numero=r.toString(),this.FireStore.collection("Materiel").doc(e.numero).set(e)}}Delete(e,i){this.FireStore.collection(e).doc(i.numero).delete().then(()=>{this.alert.success(e+" "+i.numero+" a \xe9t\xe9 supprimer")})}DeleteSub(e,i,r,s){this.FireStore.collection(e).doc(i).collection(r).doc(s.numero).delete().then(()=>{this.alert.success(r+" : "+s.numero+" a \xe9t\xe9 supprimer")})}Update(e,i){this.FireStore.collection(e).doc(i.numero).update(i).then(()=>{this.alert.success(e+" : "+i.numero+" est mise a jour")})}UpdateSub(e,i,r,s){return this.FireStore.collection(e).doc(i).collection(r).doc(s.numero).set(s).then(()=>{this.alert.success(e+" : "+s.numero+" est mise a jour")})}Get(e){return this.Collection="Fournisseur"==e?this.FireStore.collection(e,i=>i.orderBy("priorite","desc")).valueChanges():this.FireStore.collection(e).valueChanges(),this.Collection}GetWithCond(e,i,r){return this.Collection=this.FireStore.collection(e,s=>s.where(i,"==",r)).valueChanges(),this.Collection}GetSub(e,i,r){return this.Collection=this.FireStore.collection(e).doc(r.numero).collection(i).valueChanges(),this.Collection}set(e,i){i.forEach(r=>{this.setfirebase(e,r),console.log("message 1")})}setfirebase(e,i){this.FireStore.collection(e).doc(i.numero).set(i).then(()=>{this.alert.success(e+" "+i.numero+" a \xe9t\xe9 Ajouter")})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(DA),o.LFG(k0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ad extends li.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:uY}=Array,{getPrototypeOf:dY,prototype:hY,keys:fY}=Object;function I5(n){if(1===n.length){const t=n[0];if(uY(t))return{args:t,keys:null};if(function pY(n){return n&&"object"==typeof n&&dY(n)===hY}(t)){const e=fY(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:gY}=Array;function rN(n){return(0,It.U)(t=>function mY(n,t){return gY(t)?n(...t):n(t)}(n,t))}function k5(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var _Y=J(9672);function D5(n,t,e){n?(0,_Y.f)(e,n,t):t()}function AA(n,t){const e=(0,od.m)(n)?n:()=>n,i=r=>r.error(e());return new Ki.y(t?r=>t.schedule(i,0,r):i)}function sN(n){return new Ki.y(t=>{(0,S0.Xf)(n()).subscribe(t)})}var Hx=J(515),jx=J(727);function A5(){return(0,ze.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Ot.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class wY extends Ki.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ze.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new jx.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Ot.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=jx.w0.EMPTY)}return t}refCount(){return A5()(this)}}function D0(n){return(0,ze.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Ot.x)(e,void 0,void 0,a=>{s=(0,S0.Xf)(n(a,D0(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}var Ma=J(5577);function zx(n,t){return(0,od.m)(t)?(0,Ma.z)(n,t,1):(0,Ma.z)(n,1)}function oN(n){return n<=0?()=>Hx.E:(0,ze.e)((t,e)=>{let i=[];t.subscribe((0,Ot.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}var pu=J(8505);class wg{constructor(t,e){this.id=t,this.url=e}}class aN extends wg{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class GE extends wg{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class M5 extends wg{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class CY extends wg{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TY extends wg{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EY extends wg{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SY extends wg{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class IY extends wg{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kY extends wg{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O5{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class R5{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class DY{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AY{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MY{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OY{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F5{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _i="primary";class RY{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zx(n){return new RY(n)}const P5="ngNavigationCancelingError";function lN(n){const t=Error("NavigationCancelingError: "+n);return t[P5]=!0,t}function PY(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],l=n[s];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Wf(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!N5(n[r],t[r]))return!1;return!0}function N5(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function L5(n){return Array.prototype.concat.apply([],n)}function B5(n){return n.length>0?n[n.length-1]:null}function Oa(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function qf(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,C.D)(Promise.resolve(n)):y(n)}const BY={exact:function H5(n,t,e){if(!uy(n.segments,t.segments)||!MA(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!H5(n.children[i],t.children[i],e))return!1;return!0},subset:j5},V5={exact:function VY(n,t){return Wf(n,t)},subset:function UY(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>N5(n[e],t[e]))},ignored:()=>!0};function U5(n,t,e){return BY[e.paths](n.root,t.root,e.matrixParams)&&V5[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function j5(n,t,e){return z5(n,t,t.segments,e)}function z5(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!uy(r,e)||t.hasChildren()||!MA(r,e,i))}if(n.segments.length===e.length){if(!uy(n.segments,e)||!MA(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!j5(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(uy(n.segments,r)&&MA(n.segments,r,i)&&n.children[_i])&&z5(n.children[_i],t,s,i)}}function MA(n,t,e){return t.every((i,r)=>V5[e](n[r].parameters,i.parameters))}class cy{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zx(this.queryParams)),this._queryParamMap}toString(){return zY.serialize(this)}}class ki{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Oa(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return OA(this)}}class $E{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zx(this.parameters)),this._parameterMap}toString(){return $5(this)}}function uy(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Z5{}class W5{parse(t){const e=new JY(t);return new cy(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${YE(t.root,!0)}`,i=function qY(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${RA(e)}=${RA(r)}`).join("&"):`${RA(e)}=${RA(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function ZY(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const zY=new W5;function OA(n){return n.segments.map(t=>$5(t)).join("/")}function YE(n,t){if(!n.hasChildren())return OA(n);if(t){const e=n.children[_i]?YE(n.children[_i],!1):"",i=[];return Oa(n.children,(r,s)=>{s!==_i&&i.push(`${s}:${YE(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function jY(n,t){let e=[];return Oa(n.children,(i,r)=>{r===_i&&(e=e.concat(t(i,r)))}),Oa(n.children,(i,r)=>{r!==_i&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===_i?[YE(n.children[_i],!1)]:[`${r}:${YE(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_i]?`${OA(n)}/${e[0]}`:`${OA(n)}/(${e.join("//")})`}}function q5(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function RA(n){return q5(n).replace(/%3B/gi,";")}function cN(n){return q5(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function FA(n){return decodeURIComponent(n)}function G5(n){return FA(n.replace(/\+/g,"%20"))}function $5(n){return`${cN(n.path)}${function WY(n){return Object.keys(n).map(t=>`;${cN(t)}=${cN(n[t])}`).join("")}(n.parameters)}`}const GY=/^[^\/()?;=#]+/;function PA(n){const t=n.match(GY);return t?t[0]:""}const $Y=/^[^=?&#]+/,KY=/^[^&#]+/;class JY{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ki([],{}):new ki([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[_i]=new ki(t,e)),i}parseSegment(){const t=PA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new $E(FA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=PA(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=PA(this.remaining);r&&(i=r,this.capture(i))}t[FA(e)]=FA(i)}parseQueryParam(t){const e=function YY(n){const t=n.match($Y);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function QY(n){const t=n.match(KY);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=G5(e),s=G5(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=PA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=_i);const a=this.parseChildren();e[s]=1===Object.keys(a).length?a[_i]:new ki([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Y5{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=uN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=uN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=dN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return dN(t,this._root).map(e=>e.value)}}function uN(n,t){if(n===t.value)return t;for(const e of t.children){const i=uN(n,e);if(i)return i}return null}function dN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=dN(n,e);if(i.length)return i.unshift(t),i}return[]}class xg{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wx(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class K5 extends Y5{constructor(t,e){super(t),this.snapshot=e,hN(this,t)}toString(){return this.snapshot.toString()}}function Q5(n,t){const e=function XY(n,t){const a=new NA([],{},{},"",{},_i,t,null,n.root,-1,{});return new X5("",new xg(a,[]))}(n,t),i=new ad([new $E("",{})]),r=new ad({}),s=new ad({}),a=new ad({}),l=new ad(""),d=new qx(i,r,a,l,s,_i,t,e.root);return d.snapshot=e.root,new K5(new xg(d,[]),e)}class qx{constructor(t,e,i,r,s,a,l,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(t=>Zx(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(t=>Zx(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function J5(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function eK(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class NA{constructor(t,e,i,r,s,a,l,d,f,p,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=l,this.routeConfig=d,this._urlSegment=f,this._lastPathIndex=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zx(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zx(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class X5 extends Y5{constructor(t,e){super(e),this.url=t,hN(this,e)}toString(){return eV(this._root)}}function hN(n,t){t.value._routerState=n,t.children.forEach(e=>hN(n,e))}function eV(n){const t=n.children.length>0?` { ${n.children.map(eV).join(", ")} } `:"";return`${n.value}${t}`}function fN(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Wf(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Wf(t.params,e.params)||n.params.next(e.params),function NY(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Wf(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Wf(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function pN(n,t){const e=Wf(n.params,t.params)&&function HY(n,t){return uy(n,t)&&n.every((e,i)=>Wf(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||pN(n.parent,t.parent))}function KE(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function nK(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return KE(n,i,r);return KE(n,i)})}(n,t,e);return new xg(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(l=>KE(n,l)),a}}const i=function iK(n){return new qx(new ad(n.url),new ad(n.params),new ad(n.queryParams),new ad(n.fragment),new ad(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>KE(n,s));return new xg(i,r)}}function LA(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function QE(n){return"object"==typeof n&&null!=n&&n.outlets}function gN(n,t,e,i,r){let s={};if(i&&Oa(i,(l,d)=>{s[d]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),n===t)return new cy(e,s,r);const a=tV(n,t,e);return new cy(a,s,r)}function tV(n,t,e){const i={};return Oa(n.children,(r,s)=>{i[s]=r===t?e:tV(r,t,e)}),new ki(n.segments,i)}class nV{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&LA(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(QE);if(r&&r!==B5(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mN{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function iV(n,t,e){if(n||(n=new ki([],{})),0===n.segments.length&&n.hasChildren())return BA(n,t,e);const i=function cK(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const a=n.segments[r],l=e[i];if(QE(l))break;const d=`${l}`,f=i<e.length-1?e[i+1]:null;if(r>0&&void 0===d)break;if(d&&f&&"object"==typeof f&&void 0===f.outlets){if(!sV(d,f,a))return s;i+=2}else{if(!sV(d,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ki(n.segments.slice(0,i.pathIndex),{});return s.children[_i]=new ki(n.segments.slice(i.pathIndex),n.children),BA(s,0,r)}return i.match&&0===r.length?new ki(n.segments,{}):i.match&&!n.hasChildren()?_N(n,t,e):i.match?BA(n,0,r):_N(n,t,e)}function BA(n,t,e){if(0===e.length)return new ki(n.segments,{});{const i=function lK(n){return QE(n[0])?n[0].outlets:{[_i]:n}}(e),r={};return Oa(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=iV(n.children[a],t,s))}),Oa(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new ki(n.segments,r)}}function _N(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(QE(s)){const d=uK(s.outlets);return new ki(i,d)}if(0===r&&LA(e[0])){i.push(new $E(n.segments[t].path,rV(e[0]))),r++;continue}const a=QE(s)?s.outlets[_i]:`${s}`,l=r<e.length-1?e[r+1]:null;a&&l&&LA(l)?(i.push(new $E(a,rV(l))),r+=2):(i.push(new $E(a,{})),r++)}return new ki(i,{})}function uK(n){const t={};return Oa(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=_N(new ki([],{}),0,e))}),t}function rV(n){const t={};return Oa(n,(e,i)=>t[i]=`${e}`),t}function sV(n,t,e){return n==e.path&&Wf(t,e.parameters)}class hK{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),fN(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Wx(e);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Oa(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Wx(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Wx(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Wx(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new OY(s.value.snapshot))}),t.children.length&&this.forwardEvent(new AY(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(fN(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),fN(l.route.value),this.activateChildRoutes(t,null,a.children)}else{const l=function fK(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),d=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=d,a.outlet&&a.outlet.activateWith(r,d),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class vN{constructor(t,e){this.routes=t,this.module=e}}function A0(n){return"function"==typeof n}function dy(n){return n instanceof cy}const JE=Symbol("INITIAL_VALUE");function XE(){return Aa(n=>function vY(...n){const t=(0,v.yG)(n),e=(0,v.jO)(n),{args:i,keys:r}=I5(n);if(0===i.length)return(0,C.D)([],t);const s=new Ki.y(function yY(n,t,e=wc.y){return i=>{D5(t,()=>{const{length:r}=n,s=new Array(r);let a=r,l=r;for(let d=0;d<r;d++)D5(t,()=>{const f=(0,C.D)(n[d],t);let p=!1;f.subscribe((0,Ot.x)(i,m=>{s[d]=m,p||(p=!0,l--),l||i.next(e(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>k5(r,a):wc.y));return e?s.pipe(rN(e)):s}(n.map(t=>t.pipe((0,I0.q)(1),Mt(JE)))).pipe(ds((t,e)=>{let i=!1;return e.reduce((r,s,a)=>r!==JE?r:(s===JE&&(i=!0),i||!1!==s&&a!==e.length-1&&!dy(s)?r:s),t)},JE),hs(t=>t!==JE),(0,It.U)(t=>dy(t)?t:!0===t),(0,I0.q)(1)))}class yK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new eS,this.attachRef=null}}class eS{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yK,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let tS=(()=>{class n{constructor(e,i,r,s,a){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||_i,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),l=this.parentContexts.getOrCreateContext(this.name).children,d=new wK(e,l,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,d),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(eS),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class wK{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===qx?this.route:t===eS?this.childContexts:this.parent.get(t,e)}}let oV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[tS],encapsulation:2}),n})();function aV(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];xK(i,bK(t,i))}}function xK(n,t){n.children&&aV(n.children,t)}function bK(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function yN(n){const t=n.children&&n.children.map(yN),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==_i&&(e.component=oV),e}function ld(n){return n.outlet||_i}function lV(n,t){const e=n.filter(i=>ld(i)===t);return e.push(...n.filter(i=>ld(i)!==t)),e}const cV={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VA(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},cV):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(t.matcher||PY)(e,n,t);if(!s)return Object.assign({},cV);const a={};Oa(s.posParams,(d,f)=>{a[f]=d.path});const l=s.consumed.length>0?Object.assign(Object.assign({},a),s.consumed[s.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:l,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function UA(n,t,e,i,r="corrected"){if(e.length>0&&function EK(n,t,e){return e.some(i=>HA(n,t,i)&&ld(i)!==_i)}(n,e,i)){const a=new ki(t,function TK(n,t,e,i){const r={};r[_i]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ld(s)!==_i){const a=new ki([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[ld(s)]=a}return r}(n,t,i,new ki(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function SK(n,t,e){return e.some(i=>HA(n,t,i))}(n,e,i)){const a=new ki(n.segments,function CK(n,t,e,i,r,s){const a={};for(const l of i)if(HA(n,e,l)&&!r[ld(l)]){const d=new ki([],{});d._sourceSegment=n,d._segmentIndexShift="legacy"===s?n.segments.length:t.length,a[ld(l)]=d}return Object.assign(Object.assign({},r),a)}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const s=new ki(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function HA(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function uV(n,t,e,i){return!!(ld(n)===i||i!==_i&&HA(t,e,n))&&("**"===n.path||VA(t,n,e).matched)}function dV(n,t,e){return 0===t.length&&!n.children[e]}class jA{constructor(t){this.segmentGroup=t||null}}class hV{constructor(t){this.urlTree=t}}function nS(n){return AA(new jA(n))}function fV(n){return AA(new hV(n))}function IK(n){return AA(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class AK{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=UA(this.urlTree.root,[],[],this.config).segmentGroup,e=new ki(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_i).pipe((0,It.U)(s=>this.createUrlTree(wN(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(D0(s=>{if(s instanceof hV)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof jA?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_i).pipe((0,It.U)(r=>this.createUrlTree(wN(r),t.queryParams,t.fragment))).pipe(D0(r=>{throw r instanceof jA?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new ki([],{[_i]:t}):t;return new cy(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,It.U)(s=>new ki([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,C.D)(r).pipe(zx(s=>{const a=i.children[s],l=lV(e,s);return this.expandSegmentGroup(t,l,a,s).pipe((0,It.U)(d=>({segment:d,outlet:s})))}),ds((s,a)=>(s[a.outlet]=a.segment,s),{}),function xY(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hs((r,s)=>n(r,s,i)):wc.y,oN(1),e?qB(t):GB(()=>new vA))}())}expandSegment(t,e,i,r,s,a){return(0,C.D)(i).pipe(zx(l=>this.expandSegmentAgainstRoute(t,e,i,l,r,s,a).pipe(D0(f=>{if(f instanceof jA)return y(null);throw f}))),ly(l=>!!l),D0((l,d)=>{if(l instanceof vA||"EmptyError"===l.name)return dV(e,r,s)?y(new ki([],{})):nS(e);throw l}))}expandSegmentAgainstRoute(t,e,i,r,s,a,l){return uV(r,e,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,a):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a):nS(e):nS(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?fV(s):this.lineralizeSegments(i,s).pipe((0,Ma.z)(a=>{const l=new ki(a,{});return this.expandSegment(t,l,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,a){const{matched:l,consumedSegments:d,remainingSegments:f,positionalParamSegments:p}=VA(e,r,s);if(!l)return nS(e);const m=this.applyRedirectCommands(d,r.redirectTo,p);return r.redirectTo.startsWith("/")?fV(m):this.lineralizeSegments(r,m).pipe((0,Ma.z)(w=>this.expandSegment(t,e,i,w.concat(f),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?y(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,It.U)(m=>(i._loadedConfig=m,new ki(r,{})))):y(new ki(r,{}));const{matched:a,consumedSegments:l,remainingSegments:d}=VA(e,i,r);return a?this.getChildConfig(t,i,r).pipe((0,Ma.z)(p=>{const m=p.module,w=p.routes,{segmentGroup:b,slicedSegments:T}=UA(e,l,d,w),E=new ki(b.segments,b.children);if(0===T.length&&E.hasChildren())return this.expandChildren(m,w,E).pipe((0,It.U)(U=>new ki(l,U)));if(0===w.length&&0===T.length)return y(new ki(l,{}));const M=ld(i)===s;return this.expandSegment(m,E,w,T,M?_i:s,!0).pipe((0,It.U)(V=>new ki(l.concat(V.segments),V.children)))})):nS(e)}getChildConfig(t,e,i){return e.children?y(new vN(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?y(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,Ma.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,It.U)(s=>(e._loadedConfig=s,s))):function kK(n){return AA(lN(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):y(new vN([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return y(!0);const s=r.map(a=>{const l=t.get(a);let d;if(function gK(n){return n&&A0(n.canLoad)}(l))d=l.canLoad(e,i);else{if(!A0(l))throw new Error("Invalid CanLoad guard");d=l(e,i)}return qf(d)});return y(s).pipe(XE(),(0,pu.b)(a=>{if(!dy(a))return;const l=lN(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw l.url=a,l}),(0,It.U)(a=>!0===a))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return y(i);if(r.numberOfChildren>1||!r.children[_i])return IK(t.redirectTo);r=r.children[_i]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new cy(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Oa(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=e[l]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let a={};return Oa(e.children,(l,d)=>{a[d]=this.createSegmentGroup(t,l,i,r)}),new ki(s,a)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function wN(n){const t={};for(const i of Object.keys(n.children)){const s=wN(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function MK(n){if(1===n.numberOfChildren&&n.children[_i]){const t=n.children[_i];return new ki(n.segments.concat(t.segments),t.children)}return n}(new ki(n.segments,t))}class pV{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zA{constructor(t,e){this.component=t,this.route=e}}function RK(n,t,e){const i=n._root;return iS(i,t?t._root:null,e,[i.value])}function ZA(n,t,e){const i=function PK(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function iS(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wx(t);return n.children.forEach(a=>{(function NK(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const d=function LK(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!uy(n.url,t.url);case"pathParamsOrQueryParamsChange":return!uy(n.url,t.url)||!Wf(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pN(n,t)||!Wf(n.queryParams,t.queryParams);default:return!pN(n,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new pV(i)):(s.data=a.data,s._resolvedData=a._resolvedData),iS(n,t,s.component?l?l.children:null:e,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new zA(l.outlet.component,a))}else a&&rS(t,l,r),r.canActivateChecks.push(new pV(i)),iS(n,null,s.component?l?l.children:null:e,i,r)})(a,s[a.value.outlet],e,i.concat([a.value]),r),delete s[a.value.outlet]}),Oa(s,(a,l)=>rS(a,e.getContext(l),r)),r}function rS(n,t,e){const i=Wx(n),r=n.value;Oa(i,(s,a)=>{rS(s,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new zA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class qK{}function gV(n){return new Ki.y(t=>t.error(n))}class $K{constructor(t,e,i,r,s,a){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}recognize(){const t=UA(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_i);if(null===e)return null;const i=new NA([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_i,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xg(i,e),s=new X5(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=J5(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const a=e.children[s],l=lV(t,s),d=this.processSegmentGroup(l,a,s);if(null===d)return null;i.push(...d)}const r=mV(i);return function YK(n){n.sort((t,e)=>t.value.outlet===_i?-1:e.value.outlet===_i?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const a=this.processSegmentAgainstRoute(s,e,i,r);if(null!==a)return a}return dV(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!uV(t,e,i,r))return null;let s,a=[],l=[];if("**"===t.path){const b=i.length>0?B5(i).parameters:{};s=new NA(i,b,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yV(t),ld(t),t.component,t,_V(e),vV(e)+i.length,wV(t))}else{const b=VA(e,t,i);if(!b.matched)return null;a=b.consumedSegments,l=b.remainingSegments,s=new NA(a,b.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yV(t),ld(t),t.component,t,_V(e),vV(e)+a.length,wV(t))}const d=function KK(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:f,slicedSegments:p}=UA(e,a,l,d.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren()){const b=this.processChildren(d,f);return null===b?null:[new xg(s,b)]}if(0===d.length&&0===p.length)return[new xg(s,[])];const m=ld(t)===r,w=this.processSegment(d,f,p,m?_i:r);return null===w?null:[new xg(s,w)]}}function QK(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function mV(n){const t=[],e=new Set;for(const i of n){if(!QK(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=mV(i.children);t.push(new xg(i.value,r))}return t.filter(i=>!e.has(i))}function _V(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function vV(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function yV(n){return n.data||{}}function wV(n){return n.resolve||{}}function xV(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xN(n){return Aa(t=>{const e=n(t);return e?(0,C.D)(e).pipe((0,It.U)(()=>t)):y(t)})}class sQ extends class rQ{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const bN=new o.OlP("ROUTES");class bV{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,It.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=s.create(t);return new vN(L5(a.injector.get(bN,void 0,o.XFs.Self|o.XFs.Optional)).map(yN),a)}),D0(s=>{throw e._loader$=void 0,s}));return e._loader$=new wY(r,()=>new li.x).pipe(A5()),e._loader$}loadModuleFactory(t){return qf(t()).pipe((0,Ma.z)(e=>e instanceof o.YKP?y(e):(0,C.D)(this.compiler.compileModuleAsync(e))))}}class aQ{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function lQ(n){throw n}function cQ(n,t,e){return t.parse("/")}function CV(n,t){return y(null)}const uQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jl=(()=>{class n{constructor(e,i,r,s,a,l,d){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new li.x,this.errorHandler=lQ,this.malformedUriErrorHandler=cQ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:CV,afterPreactivation:CV},this.urlHandlingStrategy=new aQ,this.routeReuseStrategy=new sQ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(o.h0i),this.console=a.get(o.c2e);const m=a.get(o.R0b);this.isNgZoneEnabled=m instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function LY(){return new cy(new ki([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bV(a,l,w=>this.triggerEvent(new O5(w)),w=>this.triggerEvent(new R5(w))),this.routerState=Q5(this.currentUrlTree,this.rootComponentType),this.transitions=new ad({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(hs(r=>0!==r.id),(0,It.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Aa(r=>{let s=!1,a=!1;return y(r).pipe((0,pu.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.currentRawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Aa(l=>{const d=this.browserUrlTree.toString(),f=!this.navigated||l.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return TV(l.source)&&(this.browserUrlTree=l.extractedUrl),y(l).pipe(Aa(m=>{const w=this.transitions.getValue();return i.next(new aN(m.id,this.serializeUrl(m.extractedUrl),m.source,m.restoredState)),w!==this.transitions.getValue()?Hx.E:Promise.resolve(m)}),function OK(n,t,e,i){return Aa(r=>function DK(n,t,e,i,r){return new AK(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,It.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pu.b)(m=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:m.urlAfterRedirects})}),function JK(n,t,e,i,r){return(0,Ma.z)(s=>function GK(n,t,e,i,r="emptyOnly",s="legacy"){try{const a=new $K(n,t,e,i,r,s).recognize();return null===a?gV(new qK):y(a)}catch(a){return gV(a)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,It.U)(a=>Object.assign(Object.assign({},s),{targetSnapshot:a}))))}(this.rootComponentType,this.config,m=>this.serializeUrl(m),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pu.b)(m=>{if("eager"===this.urlUpdateStrategy){if(!m.extras.skipLocationChange){const b=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);this.setBrowserUrl(b,m)}this.browserUrlTree=m.urlAfterRedirects}const w=new TY(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);i.next(w)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:b,source:T,restoredState:E,extras:M}=l,N=new aN(w,this.serializeUrl(b),T,E);i.next(N);const V=Q5(b,this.rootComponentType).snapshot;return y(Object.assign(Object.assign({},l),{targetSnapshot:V,urlAfterRedirects:b,extras:Object.assign(Object.assign({},M),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=l.rawUrl,l.resolve(null),Hx.E}),xN(l=>{const{targetSnapshot:d,id:f,extractedUrl:p,rawUrl:m,extras:{skipLocationChange:w,replaceUrl:b}}=l;return this.hooks.beforePreactivation(d,{navigationId:f,appliedUrlTree:p,rawUrlTree:m,skipLocationChange:!!w,replaceUrl:!!b})}),(0,pu.b)(l=>{const d=new EY(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),(0,It.U)(l=>Object.assign(Object.assign({},l),{guards:RK(l.targetSnapshot,l.currentSnapshot,this.rootContexts)})),function BK(n,t){return(0,Ma.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return 0===a.length&&0===s.length?y(Object.assign(Object.assign({},e),{guardsResult:!0})):function VK(n,t,e,i){return(0,C.D)(n).pipe((0,Ma.z)(r=>function WK(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?y(s.map(l=>{const d=ZA(l,t,r);let f;if(function vK(n){return n&&A0(n.canDeactivate)}(d))f=qf(d.canDeactivate(n,t,e,i));else{if(!A0(d))throw new Error("Invalid CanDeactivate guard");f=qf(d(n,t,e,i))}return f.pipe(ly())})).pipe(XE()):y(!0)}(r.component,r.route,e,t,i)),ly(r=>!0!==r,!0))}(a,i,r,n).pipe((0,Ma.z)(l=>l&&function pK(n){return"boolean"==typeof n}(l)?function UK(n,t,e,i){return(0,C.D)(t).pipe(zx(r=>Ee(function jK(n,t){return null!==n&&t&&t(new DY(n)),y(!0)}(r.route.parent,i),function HK(n,t){return null!==n&&t&&t(new MY(n)),y(!0)}(r.route,i),function ZK(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function FK(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>sN(()=>y(a.guards.map(d=>{const f=ZA(d,a.node,e);let p;if(function _K(n){return n&&A0(n.canActivateChild)}(f))p=qf(f.canActivateChild(i,n));else{if(!A0(f))throw new Error("Invalid CanActivateChild guard");p=qf(f(i,n))}return p.pipe(ly())})).pipe(XE())));return y(s).pipe(XE())}(n,r.path,e),function zK(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return y(!0);const r=i.map(s=>sN(()=>{const a=ZA(s,t,e);let l;if(function mK(n){return n&&A0(n.canActivate)}(a))l=qf(a.canActivate(t,n));else{if(!A0(a))throw new Error("Invalid CanActivate guard");l=qf(a(t,n))}return l.pipe(ly())}));return y(r).pipe(XE())}(n,r.route,e))),ly(r=>!0!==r,!0))}(i,s,n,t):y(l)),(0,It.U)(l=>Object.assign(Object.assign({},e),{guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),(0,pu.b)(l=>{if(dy(l.guardsResult)){const f=lN(`Redirecting to "${this.serializeUrl(l.guardsResult)}"`);throw f.url=l.guardsResult,f}const d=new SY(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(d)}),hs(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,""),!1)),xN(l=>{if(l.guards.canActivateChecks.length)return y(l).pipe((0,pu.b)(d=>{const f=new IY(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),Aa(d=>{let f=!1;return y(d).pipe(function XK(n,t){return(0,Ma.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return y(e);let s=0;return(0,C.D)(r).pipe(zx(a=>function eQ(n,t,e,i){return function tQ(n,t,e,i){const r=xV(n);if(0===r.length)return y({});const s={};return(0,C.D)(r).pipe((0,Ma.z)(a=>function nQ(n,t,e,i){const r=ZA(n,t,i);return qf(r.resolve?r.resolve(t,e):r(t,e))}(n[a],t,e,i).pipe((0,pu.b)(l=>{s[a]=l}))),oN(1),(0,Ma.z)(()=>xV(s).length===r.length?y(s):Hx.E))}(n._resolve,n,t,i).pipe((0,It.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),J5(n,e).resolve),null)))}(a.route,i,n,t)),(0,pu.b)(()=>s++),oN(1),(0,Ma.z)(a=>s===r.length?y(e):Hx.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pu.b)({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),(0,pu.b)(d=>{const f=new kY(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}))}),xN(l=>{const{targetSnapshot:d,id:f,extractedUrl:p,rawUrl:m,extras:{skipLocationChange:w,replaceUrl:b}}=l;return this.hooks.afterPreactivation(d,{navigationId:f,appliedUrlTree:p,rawUrlTree:m,skipLocationChange:!!w,replaceUrl:!!b})}),(0,It.U)(l=>{const d=function tK(n,t,e){const i=KE(n,t._root,e?e._root:void 0);return new K5(i,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return Object.assign(Object.assign({},l),{targetRouterState:d})}),(0,pu.b)(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>(0,It.U)(i=>(new hK(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),(0,pu.b)({next(){s=!0},complete(){s=!0}}),function bY(n){return(0,ze.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var l;s||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(l=this.currentNavigation)||void 0===l?void 0:l.id)===r.id&&(this.currentNavigation=null)}),D0(l=>{if(a=!0,function FY(n){return n&&n[P5]}(l)){const d=dy(l.url);d||(this.navigated=!0,this.restoreHistory(r,!0));const f=new M5(r.id,this.serializeUrl(r.extractedUrl),l.message);i.next(f),d?setTimeout(()=>{const p=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),m={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||TV(r.source)};this.scheduleNavigation(p,"imperative",null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const d=new CY(r.id,this.serializeUrl(r.extractedUrl),l);i.next(d);try{r.resolve(this.errorHandler(l))}catch(f){r.reject(f)}}return Hx.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},a=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(a){const d=Object.assign({},a);delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const l=this.parseUrl(e.url);this.scheduleNavigation(l,i,a,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){aV(e),this.config=e.map(yN),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=i,f=r||this.routerState.root,p=d?this.currentUrlTree.fragment:a;let m=null;switch(l){case"merge":m=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}return null!==m&&(m=this.removeEmptyProps(m)),function rK(n,t,e,i,r){if(0===e.length)return gN(t.root,t.root,t.root,i,r);const s=function sK(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new nV(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Oa(s.outlets,(d,f)=>{l[f]="string"==typeof d?d.split("/"):d}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((l,d)=>{0==d&&"."===l||(0==d&&""===l?e=!0:".."===l?t++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new nV(e,t,i)}(e);if(s.toRoot())return gN(t.root,t.root,new ki([],{}),i,r);const a=function oK(n,t,e){if(n.isAbsolute)return new mN(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new mN(s,s===t.root,0)}const i=LA(n.commands[0])?0:1;return function aK(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new mN(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),l=a.processChildren?BA(a.segmentGroup,a.index,s.commands):iV(a.segmentGroup,a.index,s.commands);return gN(t.root,a.segmentGroup,l,i,r)}(f,this.currentUrlTree,e,m,null!=p?p:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=dy(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function hQ(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},uQ):!1===i?Object.assign({},dQ):i,dy(e))return U5(this.currentUrlTree,e,r);const s=this.parseUrl(e);return U5(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new GE(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,a){var l,d;if(this.disposed)return Promise.resolve(!1);let f,p,m;a?(f=a.resolve,p=a.reject,m=a.promise):m=new Promise((T,E)=>{f=T,p=E});const w=++this.navigationId;let b;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),b=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(d=this.browserPageId)&&void 0!==d?d:0)+1):b=0,this.setTransition({id:w,targetPageId:b,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:f,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(T=>Promise.reject(T))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===a?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new M5(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function TV(n){return"imperative"!==n}let WA=(()=>{class n{constructor(e,i,r,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.commands=null,this.onChanges=new li.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:$x(this.skipLocationChange),replaceUrl:$x(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$x(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(jl),o.Y36(qx),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),Gx=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new li.x,this.subscription=e.events.subscribe(s=>{s instanceof GE&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,a){if(0!==e||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const l={skipLocationChange:$x(this.skipLocationChange),replaceUrl:$x(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$x(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(jl),o.Y36(qx),o.Y36(Qe))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function $x(n){return""===n||!!n}let EV=(()=>{class n{constructor(e,i,r,s,a,l){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof GE&&this.update()})}ngAfterContentInit(){y(this.links.changes,this.linksWithHrefs.changes,y(null)).pipe((0,L.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,C.D)(i).pipe((0,L.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function fQ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(jl),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(WA,8),o.Y36(Gx,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,WA,5),o.Suo(r,Gx,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[o.TTD]}),n})();class SV{}class IV{preload(t,e){return y(null)}}let kV=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new bV(r,i,d=>e.triggerEvent(new O5(d)),d=>e.triggerEvent(new R5(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(hs(e=>e instanceof GE),zx(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const a=s._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,C.D)(r).pipe((0,L.J)(),(0,It.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?y(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,Ma.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(jl),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(SV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),CN=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof aN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof GE&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof F5&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new F5(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const hy=new o.OlP("ROUTER_CONFIGURATION"),DV=new o.OlP("ROUTER_FORROOT_GUARD"),gQ=[rt,{provide:Z5,useClass:W5},{provide:jl,useFactory:function wQ(n,t,e,i,r,s,a={},l,d){const f=new jl(null,n,t,e,i,r,L5(s));return l&&(f.urlHandlingStrategy=l),d&&(f.routeReuseStrategy=d),function xQ(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,f),a.enableTracing&&f.events.subscribe(p=>{var m,w;null===(m=console.group)||void 0===m||m.call(console,`Router Event: ${p.constructor.name}`),console.log(p.toString()),console.log(p),null===(w=console.groupEnd)||void 0===w||w.call(console)}),f},deps:[Z5,eS,rt,o.zs3,o.Sil,bN,hy,[class oQ{},new o.FiY],[class iQ{},new o.FiY]]},eS,{provide:qx,useFactory:function bQ(n){return n.routerState.root},deps:[jl]},kV,IV,class pQ{preload(t,e){return e().pipe(D0(()=>y(null)))}},{provide:hy,useValue:{enableTracing:!1}}];function mQ(){return new o.PXZ("Router",jl)}let AV=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[gQ,MV(e),{provide:DV,useFactory:yQ,deps:[[jl,new o.FiY,new o.tp0]]},{provide:hy,useValue:i||{}},{provide:Qe,useFactory:vQ,deps:[Ze,[new o.tBr(Gt),new o.FiY],hy]},{provide:CN,useFactory:_Q,deps:[jl,Rd,hy]},{provide:SV,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:IV},{provide:o.PXZ,multi:!0,useFactory:mQ},[TN,{provide:o.ip1,multi:!0,useFactory:CQ,deps:[TN]},{provide:OV,useFactory:TQ,deps:[TN]},{provide:o.tb,multi:!0,useExisting:OV}]]}}static forChild(e){return{ngModule:n,providers:[MV(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(DV,8),o.LFG(jl,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function _Q(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new CN(n,t,e)}function vQ(n,t,e={}){return e.useHash?new _t(n,t):new rn(n,t)}function yQ(n){return"guarded"}function MV(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:bN,multi:!0,useValue:n}]}let TN=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new li.x}appInitializer(){return this.injector.get(_e,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(l=>i=l),s=this.injector.get(jl),a=this.injector.get(hy);return"disabled"===a.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?y(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(hy),r=this.injector.get(kV),s=this.injector.get(CN),a=this.injector.get(jl),l=this.injector.get(o.z2F);e===l.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),r.setUpPreloading(),s.init(),a.resetRootComponentType(l.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function CQ(n){return n.appInitializer.bind(n)}function TQ(n){return n.bootstrapListener.bind(n)}const OV=new o.OlP("Router Initializer");let Po=(()=>{class n{constructor(e,i,r,s){this.FireStore=e,this.FireAuth=i,this.alert=r,this.router=s,this.user={host:"",email:"",password:"",role:"",etat:!1,id:""},this.isLogin=!1,null!==localStorage.getItem("user")&&(this.GetUserLive(),this.isLogin=!0)}login(e,i){this.FireAuth.signInWithEmailAndPassword(e,i).then(r=>{var s;this.isLogin=!0,localStorage.setItem("user",JSON.parse(JSON.stringify(r.user))),localStorage.setItem("uid",JSON.parse(JSON.stringify(null===(s=r.user)||void 0===s?void 0:s.uid))),this.GetUserLive(),this.ChangeEtatLogin(!0),this.router.navigate(["../admin"])}).catch(r=>{""==e&&this.alert.error("l'email est vide"),this.alert.error(""==i?"le mote de pass est vide":"verifier votre information"),console.log(r)})}signup(e){this.FireAuth.createUserWithEmailAndPassword(e.email,e.password).then(i=>{var r;this.FireStore.collection("User").doc(null===(r=i.user)||void 0===r?void 0:r.uid).set(e),this.alert.success("succcessfuly")}).catch(i=>{this.alert.error(i.email)})}logout(){this.FireAuth.signOut().then(()=>{localStorage.clear(),this.router.navigate(["home"]),this.isLogin=!1,this.ChangeEtatLogin(!1)})}DeleteUser(){var e=this;return(0,ot.Z)(function*(){var i;null===(i=yield e.FireAuth.currentUser)||void 0===i||i.delete()})()}GetUserLive(){this.uid=localStorage.getItem("uid"),this.FireStore.collection("User").doc(this.uid).get().subscribe(e=>{this.user=JSON.parse(JSON.stringify(e.data())),localStorage.setItem("Usercurrant",JSON.stringify(this.user))})}ChekRole(e){return this.user.role==e}ChekLogin(){return this.isLogin}ChangeEtatLogin(e){this.FireStore.collection("User").doc(this.uid).update({etat:e})}NavigateAuth(){null==localStorage.getItem("user")&&this.router.navigate(["home"])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(DA),o.LFG(Ux),o.LFG(k0),o.LFG(jl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SQ=["Admin","Gestionnaire","Comptable"];let RV=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),fy=(()=>{class n extends RV{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const ia=new o.OlP("NgValueAccessor"),DQ={provide:ia,useExisting:(0,o.Gpc)(()=>bg),multi:!0},MQ=new o.OlP("CompositionEventMode");let bg=(()=>{class n extends RV{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AQ(){const n=ee()?ee().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(MQ,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([DQ]),o.qOj]}),n})();const Ra=new o.OlP("NgValidators"),O0=new o.OlP("NgAsyncValidators");function BV(n){return function M0(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function qA(n){return null}function ZV(n){return null!=n}function WV(n){const t=(0,o.QGY)(n)?(0,C.D)(n):n;return(0,o.CqO)(t),t}function qV(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function GV(n,t){return t.map(e=>e(n))}function $V(n){return n.map(t=>function RQ(n){return!n.validate}(t)?t:e=>t.validate(e))}function EN(n){return null!=n?function YV(n){if(!n)return null;const t=n.filter(ZV);return 0==t.length?null:function(e){return qV(GV(e,t))}}($V(n)):null}function SN(n){return null!=n?function KV(n){if(!n)return null;const t=n.filter(ZV);return 0==t.length?null:function(e){return function IQ(...n){const t=(0,v.jO)(n),{args:e,keys:i}=I5(n),r=new Ki.y(s=>{const{length:a}=e;if(!a)return void s.complete();const l=new Array(a);let d=a,f=a;for(let p=0;p<a;p++){let m=!1;(0,S0.Xf)(e[p]).subscribe((0,Ot.x)(s,w=>{m||(m=!0,f--),l[p]=w},()=>d--,void 0,()=>{(!d||!m)&&(f||s.next(i?k5(i,l):l),s.complete())}))}});return t?r.pipe(rN(t)):r}(GV(e,t).map(WV)).pipe((0,It.U)(qV))}}($V(n)):null}function QV(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function IN(n){return n?Array.isArray(n)?n:[n]:[]}function GA(n,t){return Array.isArray(n)?n.includes(t):n===t}function e8(n,t){const e=IN(t);return IN(n).forEach(r=>{GA(e,r)||e.push(r)}),e}function t8(n,t){return IN(t).filter(e=>!GA(n,e))}class n8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=EN(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=SN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cg extends n8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zl extends n8{get formDirective(){return null}get path(){return null}}class r8{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Tg=(()=>{class n extends r8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Cg,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),Eg=(()=>{class n extends r8{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zl,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function sS(n,t){AN(n,t),t.valueAccessor.writeValue(n.value),function HQ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&o8(n,t)})}(n,t),function zQ(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function jQ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&o8(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function UQ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function QA(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function AN(n,t){const e=function JV(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(QV(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function XV(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(QV(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();QA(t._rawValidators,r),QA(t._rawAsyncValidators,r)}function o8(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RN(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const oS="VALID",XA="INVALID",Yx="PENDING",aS="DISABLED";function PN(n){return(eM(n)?n.validators:n)||null}function u8(n){return Array.isArray(n)?EN(n):n||null}function NN(n,t){return(eM(t)?t.asyncValidators:n)||null}function d8(n){return Array.isArray(n)?SN(n):n||null}function eM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const LN=n=>n instanceof VN;function f8(n){return(n=>n instanceof m8)(n)?n.value:n.getRawValue()}function p8(n,t){const e=LN(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")}function g8(n,t){LN(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})}class BN{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=u8(this._rawValidators),this._composedAsyncValidatorFn=d8(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===oS}get invalid(){return this.status===XA}get pending(){return this.status==Yx}get disabled(){return this.status===aS}get enabled(){return this.status!==aS}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=u8(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=d8(t)}addValidators(t){this.setValidators(e8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(e8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(t8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(t8(t,this._rawAsyncValidators))}hasValidator(t){return GA(this._rawValidators,t)}hasAsyncValidator(t){return GA(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Yx,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=aS,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=oS,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===oS||this.status===Yx)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?aS:oS}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Yx,this._hasOwnPendingAsyncValidator=!0;const e=WV(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function GQ(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=LN(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof YQ)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?aS:this.errors?XA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yx)?Yx:this._anyControlsHaveStatus(XA)?XA:oS}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){eM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class m8 extends BN{constructor(t=null,e,i){super(PN(e),NN(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),eM(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RN(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RN(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class VN extends BN{constructor(t,e,i){super(PN(e),NN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){g8(this,t),Object.keys(t).forEach(i=>{p8(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=f8(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class YQ extends BN{constructor(t,e,i){super(PN(e),NN(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){g8(this,t),t.forEach((i,r)=>{p8(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>f8(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const KQ={provide:zl,useExisting:(0,o.Gpc)(()=>Ch)},lS=(()=>Promise.resolve(null))();let Ch=(()=>{class n extends zl{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new VN({},EN(e),SN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){lS.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),sS(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){lS.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){lS.then(()=>{const i=this._findContainer(e.path),r=new VN({});(function a8(n,t){AN(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){lS.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){lS.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function c8(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ra,10),o.Y36(O0,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([KQ]),o.qOj]}),n})();const JQ={provide:Cg,useExisting:(0,o.Gpc)(()=>Th)},y8=(()=>Promise.resolve(null))();let Th=(()=>{class n extends Cg{constructor(e,i,r,s,a){super(),this._changeDetectorRef=a,this.control=new m8,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ON(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===bg?e=s:function qQ(n){return Object.getPrototypeOf(n.constructor)===fy}(s)?i=s:r=s}),r||i||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function MN(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sS(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){y8.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;y8.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?function YA(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zl,9),o.Y36(Ra,10),o.Y36(O0,10),o.Y36(ia,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([JQ]),o.qOj,o.TTD]}),n})(),Sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const XQ={provide:ia,useExisting:(0,o.Gpc)(()=>Kx),multi:!0};let Kx=(()=>{class n extends fy{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[o._Bn([XQ]),o.qOj]}),n})(),w8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const UN=new o.OlP("NgModelWithFormControlWarning");let py=(()=>{class n{constructor(){this._validator=qA}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):qA,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const _J={provide:Ra,useExisting:(0,o.Gpc)(()=>tM),multi:!0};let tM=(()=>{class n extends py{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function pJ(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>BV}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([_J]),o.qOj]}),n})(),L8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[w8]]}),n})(),nM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[L8]}),n})(),CJ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:UN,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[L8]}),n})(),Eh=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Th,8),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onInput(s)}),2&e&&o.ekj("p-filled",i.filled)}}),n})(),cS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})();function iM(n,t=0){return function EJ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function B8(n){return Array.isArray(n)?n:[n]}function mo(n){return null==n?"":"string"==typeof n?n:`${n}px`}function rM(n){return n instanceof o.SBq?n.nativeElement:n}var SJ=J(1144);const IJ=["addListener","removeListener"],kJ=["addEventListener","removeEventListener"],DJ=["on","off"];function sM(n,t,e,i){if((0,od.m)(e)&&(i=e,e=void 0),i)return sM(n,t,e).pipe(rN(i));const[r,s]=function OJ(n){return(0,od.m)(n.addEventListener)&&(0,od.m)(n.removeEventListener)}(n)?kJ.map(a=>l=>n[a](t,l,e)):function AJ(n){return(0,od.m)(n.addListener)&&(0,od.m)(n.removeListener)}(n)?IJ.map(V8(n,t)):function MJ(n){return(0,od.m)(n.on)&&(0,od.m)(n.off)}(n)?DJ.map(V8(n,t)):[];if(!r&&(0,SJ.z)(n))return(0,Ma.z)(a=>sM(a,t,e))((0,S0.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Ki.y(a=>{const l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>s(l)})}function V8(n,t){return e=>i=>n[e](t,i)}var U8=J(4408);const uS={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=uS;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new jx.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=uS;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=uS;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var H8=J(7565);const PJ=new class FJ extends H8.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class RJ extends U8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=uS.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(uS.cancelAnimationFrame(e),t._scheduled=void 0)}});let qN,NJ=1;const oM={};function j8(n){return n in oM&&(delete oM[n],!0)}const LJ={setImmediate(n){const t=NJ++;return oM[t]=!0,qN||(qN=Promise.resolve()),qN.then(()=>j8(t)&&n()),t},clearImmediate(n){j8(n)}},{setImmediate:BJ,clearImmediate:VJ}=LJ,aM={setImmediate(...n){const{delegate:t}=aM;return((null==t?void 0:t.setImmediate)||BJ)(...n)},clearImmediate(n){const{delegate:t}=aM;return((null==t?void 0:t.clearImmediate)||VJ)(n)},delegate:void 0},jJ=new class HJ extends H8.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class UJ extends U8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=aM.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(aM.clearImmediate(e),t._scheduled=void 0)}});function z8(n){return!!n&&(n instanceof Ki.y||(0,od.m)(n.lift)&&(0,od.m)(n.subscribe))}var ZJ=J(3532);function GN(n,t=iu.z){return function zJ(n){return(0,ze.e)((t,e)=>{let i=!1,r=null,s=null,a=!1;const l=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const f=r;r=null,e.next(f)}a&&e.complete()},d=()=>{s=null,a&&e.complete()};t.subscribe((0,Ot.x)(e,f=>{i=!0,r=f,s||(0,S0.Xf)(n(f)).subscribe(s=(0,Ot.x)(e,l,d))},()=>{a=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function qJ(n=0,t,e=iu.P){let i=-1;return null!=t&&((0,ZJ.K)(t)?e=t:i=t),new Ki.y(r=>{let s=function WJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}var Z8=J(5032);function dS(n){return(0,ze.e)((t,e)=>{(0,S0.Xf)(n).subscribe((0,Ot.x)(e,()=>e.complete(),Z8.Z)),!e.closed&&t.subscribe(e)})}let $N;try{$N="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){$N=!1}let hS,lM,gy,KN,Gf=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function fr(n){return n===ja}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$N)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YN(n){return function GJ(){if(null==hS&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hS=!0}))}finally{hS=hS||!1}return hS}()?n:!!n.capture}function q8(){if(null==gy){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gy=!1,gy;if("scrollBehavior"in document.documentElement.style)gy=!0;else{const n=Element.prototype.scrollTo;gy=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return gy}function fS(){if("object"!=typeof document||!document)return 0;if(null==lM){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),lM=0,0===n.scrollLeft&&(n.scrollLeft=1,lM=0===n.scrollLeft?1:2),n.remove()}return lM}function QN(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function my(n){return n.composedPath?n.composedPath()[0]:n.target}function JN(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const KJ=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function QJ(){return(0,o.f3M)(Ne)}}),JJ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pS=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function XJ(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?JJ.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(KJ,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class nX extends class eX{}{constructor(t){super(),this._data=t}connect(){return z8(this._data)?this._data:y(this._data)}disconnect(){}}class iX{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,s){t.forEachOperation((a,l,d)=>{let f,p;null==a.previousIndex?(f=this._insertView(()=>i(a,l,d),d,e,r(a)),p=f?1:0):null==d?(this._detachAndCacheView(l,e),p=3):(f=this._moveView(l,d,e,r(a)),p=2),s&&s({context:null==f?void 0:f.context,operation:p,record:a})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const s=this._insertViewFromCache(e,i);if(s)return void(s.context.$implicit=r);const a=t();return i.createEmbeddedView(a.templateRef,a.context,a.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const s=i.get(t);return i.move(s,e),s.context.$implicit=r,s}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const G8=new o.OlP("_ViewRepeater"),rX=["contentWrapper"],sX=["*"],$8=new o.OlP("VIRTUAL_SCROLL_STRATEGY");class oX{constructor(t,e,i){this._scrolledIndexChange=new li.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe(Cm()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),a=this._itemSize>0?s/this._itemSize:0;if(e.end>r){const d=Math.ceil(i/this._itemSize),f=Math.max(0,Math.min(a,r-d));a!=f&&(a=f,s=f*this._itemSize,e.start=Math.floor(a)),e.end=Math.max(0,Math.min(r,e.start+d))}const l=s-e.start*this._itemSize;if(l<this._minBufferPx&&0!=e.start){const d=Math.ceil((this._maxBufferPx-l)/this._itemSize);e.start=Math.max(0,e.start-d),e.end=Math.min(r,Math.ceil(a+(i+this._minBufferPx)/this._itemSize))}else{const d=e.end*this._itemSize-(s+i);if(d<this._minBufferPx&&e.end!=r){const f=Math.ceil((this._maxBufferPx-d)/this._itemSize);f>0&&(e.end=Math.min(r,e.end+f),e.start=Math.max(0,Math.floor(a-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(a))}}function aX(n){return n._scrollStrategy}let Y8=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new oX(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=iM(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=iM(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=iM(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[o._Bn([{provide:$8,useFactory:aX,deps:[(0,o.Gpc)(()=>n)]}]),o.TTD]}),n})(),XN=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new li.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ki.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(GN(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(hs(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=rM(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>sM(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Gf),o.LFG(Ne,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K8=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new li.x,this._elementScrolled=new Ki.y(a=>this.ngZone.runOutsideAngular(()=>sM(this.elementRef.nativeElement,"scroll").pipe(dS(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=fS()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==fS()?e.left=e.right:1==fS()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;q8()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?r:i:"end"==e&&(e=a?i:r),a&&2==fS()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&1==fS()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(XN),o.Y36(o.R0b),o.Y36(pS,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),eL=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new li.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(GN(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gf),o.LFG(o.R0b),o.LFG(Ne,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dX="undefined"!=typeof requestAnimationFrame?PJ:jJ;let mS=(()=>{class n extends K8{constructor(e,i,r,s,a,l,d){super(e,l,r,a),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this._detachedSubject=new li.x,this._renderedRangeSubject=new li.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Ki.y(f=>this._scrollStrategy.scrolledIndexChange.subscribe(p=>Promise.resolve().then(()=>this.ngZone.run(()=>f.next(p))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=jx.w0.EMPTY,this._viewportChanges=d.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function TJ(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(Mt(null),GN(0,dX)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(dS(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function uX(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const s="horizontal"==this.orientation,a=s?"X":"Y";let d=`translate${a}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(d+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=d&&(this._renderedContentTransform=d,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36($8,8),o.Y36(pS,8),o.Y36(XN),o.Y36(eL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&o.Gf(rX,7),2&e){let r;o.iGM(r=o.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[o._Bn([{provide:K8,useExisting:n}]),o.qOj],ngContentSelectors:sX,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA(),o._UZ(3,"div",2)),2&e&&(o.xp6(3),o.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function Q8(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let J8=(()=>{class n{constructor(e,i,r,s,a,l){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=s,this._viewport=a,this.viewChange=new li.x,this._dataSourceChanges=new li.x,this.dataStream=this._dataSourceChanges.pipe(Mt(null),In(),Aa(([d,f])=>this._changeDataSource(d,f)),DP(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new li.x,this.dataStream.subscribe(d=>{this._data=d,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(dS(this._destroyed)).subscribe(d=>{this._renderedRange=d,this.viewChange.observers.length&&l.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function tX(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new nX(z8(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=iM(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,s=e.end-e.start;let a,l;for(let d=0;d<s;d++){const f=this._viewContainerRef.get(d+r);if(f&&f.rootNodes.length){a=l=f.rootNodes[0];break}}for(let d=s-1;d>-1;d--){const f=this._viewContainerRef.get(d+r);if(f&&f.rootNodes.length){l=f.rootNodes[f.rootNodes.length-1];break}}return a&&l?Q8(i,"end",l)-Q8(i,"start",a):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):y()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(s,a,l)=>this._getEmbeddedViewArgs(s,l),s=>s.item),e.forEachIdentityChange(s=>{this._viewContainerRef.get(s.currentIndex).context.$implicit=s.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const s=this._viewContainerRef.get(r);s.context.index=this._renderedRange.start+r,s.context.count=i,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(G8),o.Y36(mS,4),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[o._Bn([{provide:G8,useClass:iX}])]}),n})(),X8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[gS,X8],gS,X8]}),n})();class xn{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,a,l,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((a=t.length)!=e.length)return!1;for(s=a;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var d=t instanceof Date,f=e instanceof Date;if(d!=f)return!1;if(d&&f)return t.getTime()==e.getTime();var p=t instanceof RegExp,m=e instanceof RegExp;if(p!=m)return!1;if(p&&m)return t.toString()==e.toString();var w=Object.keys(t);if((a=w.length)!==Object.keys(e).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,w[s]))return!1;for(s=a;0!=s--;)if(!this.equalsByValue(t[l=w[s]],e[l]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,a=i.length;s<a;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let a=0;a<i.length;a++)if(this.findIndexInList(i[a],r)>e){i.splice(a,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!(t instanceof Date)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}}var eU=0;function _S(){return"pr_id_"+ ++eU}var No=function hX(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,a,l)=>{a&&(a.style.zIndex=String(((s,a)=>{let l=n.length>0?n[n.length-1]:{key:s,value:a},d=l.value+(l.key===s?0:a)+1;return n.push({key:s,value:d}),d})(s,l)))},clear:s=>{s&&((s=>{n=n.filter(a=>a.value!==s)})(r(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const tU=["*"];let Fa=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),_y=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Fa.STARTS_WITH,Fa.CONTAINS,Fa.NOT_CONTAINS,Fa.ENDS_WITH,Fa.EQUALS,Fa.NOT_EQUALS],numeric:[Fa.EQUALS,Fa.NOT_EQUALS,Fa.LESS_THAN,Fa.LESS_THAN_OR_EQUAL_TO,Fa.GREATER_THAN,Fa.GREATER_THAN_OR_EQUAL_TO],date:[Fa.DATE_IS,Fa.DATE_IS_NOT,Fa.DATE_BEFORE,Fa.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new li.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ra=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.FIRST_DAY_OF_WEEK="firstDayOfWeek",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})();var R0=(()=>(function(n){n[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL"}(R0||(R0={})),R0))();let tL=(()=>{class n{constructor(){this.requireConfirmationSource=new li.x,this.acceptConfirmationSource=new li.x,this.requireConfirmation$=this.requireConfirmationSource.asObservable(),this.accept=this.acceptConfirmationSource.asObservable()}confirm(e){return this.requireConfirmationSource.next(e),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),nU=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=xn.removeAccents(i.toString()).toLocaleLowerCase(r);return xn.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=xn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==xn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=xn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===xn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=xn.removeAccents(i.toString()).toLocaleLowerCase(r),a=xn.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==a.indexOf(s,a.length-s.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():xn.removeAccents(e.toString()).toLocaleLowerCase(r)==xn.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():xn.removeAccents(e.toString()).toLocaleLowerCase(r)==xn.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(xn.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,s,a){let l=[];if(e)for(let d of e)for(let f of i){let p=xn.resolveFieldData(d,f);if(this.filters[s](p,r,a)){l.push(d);break}}return l}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vS=(()=>{class n{constructor(){this.clickSource=new li.x,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{}return n.AND="and",n.OR="or",n})(),fX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-header"]],ngContentSelectors:tU,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-footer"]],ngContentSelectors:tU,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2}),n})(),Mr=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})(),Se=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var a=0;a<r.length;a++){if(r[a]==e)return s;r[a].attributes&&r[a].attributes[i]&&1==r[a].nodeType&&s++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const s=i.offsetHeight,a=i.getBoundingClientRect(),l=this.getViewport();let d,f;a.top+s+r.height>l.height?(d=-1*r.height,e.style.transformOrigin="bottom",a.top+d<0&&(d=-1*a.top)):(d=s,e.style.transformOrigin="top"),f=r.width>l.width?-1*a.left:a.left+r.width>l.width?-1*(a.left+r.width-l.width):0,e.style.top=d+"px",e.style.left=f+"px"}static absolutePosition(e,i){let b,T,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,a=r.width,l=i.offsetHeight,d=i.offsetWidth,f=i.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),w=this.getViewport();f.top+l+s>w.height?(b=f.top+p-s,e.style.transformOrigin="bottom",b<0&&(b=p)):(b=l+f.top+p,e.style.transformOrigin="top"),T=f.left+a>w.width?Math.max(0,f.left+m+d-a):f.left+m,e.style.top=b+"px",e.style.left=T+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,a=l=>{let d=window.getComputedStyle(l,null);return s.test(d.getPropertyValue("overflow"))||s.test(d.getPropertyValue("overflowX"))||s.test(d.getPropertyValue("overflowY"))};for(let l of r){let d=1===l.nodeType&&l.dataset.scrollselectors;if(d){let f=d.split(",");for(let p of f){let m=this.findSingle(l,p);m&&a(m)&&i.push(m)}}9!==l.nodeType&&a(l)&&i.push(l)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,a=getComputedStyle(e).getPropertyValue("paddingTop"),l=a?parseFloat(a):0,d=e.getBoundingClientRect(),p=i.getBoundingClientRect().top+document.body.scrollTop-(d.top+document.body.scrollTop)-s-l,m=e.scrollTop,w=e.clientHeight,b=this.getOuterHeight(i);p<0?e.scrollTop=m+p:p+b>w&&(e.scrollTop=m+p-w+b)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,a=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16))};a()}static fadeOut(e,i){var r=1,l=50/i;let d=setInterval(()=>{(r-=l)<=0&&(r=0,clearInterval(d)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(a){return-1!==[].indexOf.call(document.querySelectorAll(a),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let s of i)"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&r.push(s);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class yS{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=Se.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}let sU=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?Se.appendChild(this.container,this.el.nativeElement):Se.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),Se.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?No.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&No.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+Se.getWindowScrollLeft(),top:e.top+Se.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+Se.getOuterWidth(this.el.nativeElement),r=e.top+(Se.getOuterHeight(this.el.nativeElement)-Se.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-Se.getOuterWidth(this.container),r=e.top+(Se.getOuterHeight(this.el.nativeElement)-Se.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(Se.getOuterWidth(this.el.nativeElement)-Se.getOuterWidth(this.container))/2,r=e.top-Se.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(Se.getOuterWidth(this.el.nativeElement)-Se.getOuterWidth(this.container))/2,r=e.top+Se.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,s=Se.getOuterWidth(this.container),a=Se.getOuterHeight(this.container),l=Se.getViewport();return r+s>l.width||r<0||i<0||i+a>l.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):Se.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&No.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(_y))},n.\u0275dir=o.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[o.TTD]}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})(),Sh=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(Se.removeClass(i,"p-ink-active"),!Se.getHeight(i)&&!Se.getWidth(i)){let l=Math.max(Se.getOuterWidth(this.el.nativeElement),Se.getOuterHeight(this.el.nativeElement));i.style.height=l+"px",i.style.width=l+"px"}let r=Se.getOffset(this.el.nativeElement),s=e.pageX-r.left+document.body.scrollTop-Se.getWidth(i)/2,a=e.pageY-r.top+document.body.scrollLeft-Se.getHeight(i)/2;i.style.top=a+"px",i.style.left=s+"px",Se.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&Se.removeClass(e,"p-ink-active")}onAnimationEnd(e){Se.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),Se.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(_y,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),cd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})();function pX(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.label||"empty")}}function gX(n,t){1&n&&o.GkF(0)}const oU=function(n){return{height:n}},mX=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},iL=function(n){return{$implicit:n}},_X=["container"],vX=["filter"],yX=["in"],wX=["editableInput"];function xX(n,t){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.label||"empty")}}function bX(n,t){1&n&&o.GkF(0)}const CX=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function TX(n,t){if(1&n&&(o.TgZ(0,"span",12),o.YNc(1,xX,2,1,"ng-container",13),o.YNc(2,bX,1,0,"ng-container",14),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngClass",o.VKq(9,CX,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.uIk("id",e.labelId),o.xp6(1),o.Q6J("ngIf",!e.selectedItemTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",o.VKq(11,iL,e.selectedOption))}}const EX=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function SX(n,t){if(1&n&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngClass",o.VKq(2,EX,null==e.placeholder||0===e.placeholder.length)),o.xp6(1),o.Oqu(e.placeholder||"empty")}}function IX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",16,17),o.NdJ("click",function(){return o.CHM(e),o.oxw().onEditableInputClick()})("input",function(r){return o.CHM(e),o.oxw().onEditableInputChange(r)})("focus",function(r){return o.CHM(e),o.oxw().onEditableInputFocus(r)})("blur",function(r){return o.CHM(e),o.oxw().onInputBlur(r)}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("disabled",e.disabled),o.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function kX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",18),o.NdJ("click",function(r){return o.CHM(e),o.oxw().clear(r)}),o.qZA()}}function DX(n,t){1&n&&o.GkF(0)}function AX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",26)(1,"div",27),o.NdJ("click",function(r){return r.stopPropagation()}),o.TgZ(2,"input",28,29),o.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return o.CHM(e),o.oxw(2).onKeydown(r,!1)})("input",function(r){return o.CHM(e),o.oxw(2).onFilterInputChange(r)}),o.qZA(),o._UZ(4,"span",30),o.qZA()()}if(2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("value",e.filterValue||""),o.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function MX(n,t){if(1&n&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw(3);o.xp6(1),o.Oqu(i.getOptionGroupLabel(e)||"empty")}}function OX(n,t){1&n&&o.GkF(0)}function RX(n,t){1&n&&o.GkF(0)}const aU=function(n,t){return{$implicit:n,selectedOption:t}};function FX(n,t){if(1&n&&(o.TgZ(0,"li",32),o.YNc(1,MX,2,1,"span",13),o.YNc(2,OX,1,0,"ng-container",14),o.qZA(),o.YNc(3,RX,1,0,"ng-container",14)),2&n){const e=t.$implicit;o.oxw(2);const i=o.MAs(8),r=o.oxw();o.xp6(1),o.Q6J("ngIf",!r.groupTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",o.VKq(5,iL,e)),o.xp6(1),o.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",o.WLB(7,aU,r.getOptionGroupChildren(e),r.selectedOption))}}function PX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,FX,4,10,"ng-template",31),o.BQk()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.optionsToDisplay)}}function NX(n,t){1&n&&o.GkF(0)}function LX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,NX,1,0,"ng-container",14),o.BQk()),2&n){o.oxw();const e=o.MAs(8),i=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",o.WLB(2,aU,i.optionsToDisplay,i.selectedOption))}}function BX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p-dropdownItem",35),o.NdJ("onClick",function(r){return o.CHM(e),o.oxw(4).onItemClick(r)}),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw(2).selectedOption,r=o.oxw(2);o.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function VX(n,t){if(1&n&&(o.ynx(0),o.YNc(1,BX,1,5,"ng-template",31),o.BQk()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",e)}}function UX(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"p-dropdownItem",35),o.NdJ("onClick",function(r){return o.CHM(e),o.oxw(5).onItemClick(r)}),o.qZA(),o.BQk()}if(2&n){const e=t.$implicit,i=o.oxw(3).selectedOption,r=o.oxw(2);o.xp6(1),o.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function HX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",37,38),o.NdJ("scrolledIndexChange",function(){return o.CHM(e),o.oxw(4).scrollToSelectedVirtualScrollElement()}),o.YNc(2,UX,2,5,"ng-container",39),o.qZA()}if(2&n){const e=o.oxw(2).$implicit,i=o.oxw(2);o.Q6J("ngStyle",o.VKq(3,oU,i.scrollHeight))("itemSize",i.itemSize),o.xp6(2),o.Q6J("cdkVirtualForOf",e)}}function jX(n,t){if(1&n&&o.YNc(0,HX,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=o.oxw(3);o.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function zX(n,t){if(1&n&&(o.YNc(0,VX,2,1,"ng-container",33),o.YNc(1,jX,1,1,"ng-template",null,34,o.W1O)),2&n){const e=o.MAs(2),i=o.oxw(2);o.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function ZX(n,t){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyFilterMessageLabel," ")}}function WX(n,t){1&n&&o.GkF(0,null,41)}function qX(n,t){if(1&n&&(o.TgZ(0,"li",40),o.YNc(1,ZX,2,1,"ng-container",33),o.YNc(2,WX,2,0,"ng-container",20),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function GX(n,t){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const e=o.oxw(3);o.xp6(1),o.hij(" ",e.emptyMessageLabel," ")}}function $X(n,t){1&n&&o.GkF(0,null,42)}function YX(n,t){if(1&n&&(o.TgZ(0,"li",40),o.YNc(1,GX,2,1,"ng-container",33),o.YNc(2,$X,2,0,"ng-container",20),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),o.xp6(1),o.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function KX(n,t){1&n&&o.GkF(0)}const QX=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},JX=function(n){return{value:"visible",params:n}},XX=function(n){return{"p-dropdown-virtualscroll":n}};function eee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("click",function(r){return o.CHM(e),o.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return o.CHM(e),o.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return o.CHM(e),o.oxw().onOverlayAnimationEnd(r)}),o.YNc(1,DX,1,0,"ng-container",20),o.YNc(2,AX,5,4,"div",21),o.TgZ(3,"div",22)(4,"ul",23),o.YNc(5,PX,2,1,"ng-container",13),o.YNc(6,LX,2,5,"ng-container",13),o.YNc(7,zX,3,2,"ng-template",null,24,o.W1O),o.YNc(9,qX,3,3,"li",25),o.YNc(10,YX,3,3,"li",25),o.qZA()(),o.YNc(11,KX,1,0,"ng-container",20),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",o.VKq(19,JX,o.WLB(16,QX,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.filter),o.xp6(1),o.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),o.xp6(1),o.Q6J("ngClass",o.VKq(21,XX,e.virtualScroll)),o.uIk("id",e.listId),o.xp6(1),o.Q6J("ngIf",e.group),o.xp6(1),o.Q6J("ngIf",!e.group),o.xp6(3),o.Q6J("ngIf",e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngIf",!e.filterValue&&e.isEmpty()),o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const tee=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},nee={provide:ia,useExisting:(0,o.Gpc)(()=>wS),multi:!0};let iee=(()=>{class n{constructor(){this.onClick=new o.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(o.TgZ(0,"li",0),o.NdJ("click",function(s){return i.onOptionClick(s)}),o.YNc(1,pX,2,1,"span",1),o.YNc(2,gX,1,0,"ng-container",2),o.qZA()),2&e&&(o.Q6J("ngStyle",o.VKq(8,oU,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",o.WLB(10,mX,i.selected,i.disabled)),o.uIk("aria-label",i.label)("aria-selected",i.selected),o.xp6(1),o.Q6J("ngIf",!i.template),o.xp6(1),o.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",o.VKq(13,iL,i.option)))},directives:[Sh,Wi,mi,Tn,ir],encapsulation:2}),n})(),wS=(()=>{class n{constructor(e,i,r,s,a,l,d){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.filterService=a,this.config=l,this.overlayService=d,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new o.vpe,this.onFilter=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClick=new o.vpe,this.onShow=new o.vpe,this.onHide=new o.vpe,this.onClear=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=_S()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ra.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(ra.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?xn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?xn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?xn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?xn.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?xn.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e.originalEvent,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Se.findSingle(this.overlay,"li.p-highlight")&&Se.scrollInView(this.itemsWrapper,Se.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable?(this.selectedOption=this.group?this.optionsToDisplay[0].items[0]:this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)):this.selectedOption||(this.value=null,this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return Se.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=Se.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&No.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=Se.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&No.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Se.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Se.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?Se.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Se.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=0;r<e;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex+1;s<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findNextEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex-1;if(s>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0;else if(s<0){let a=this.optionsToDisplay[r.groupIndex-1];a&&(this.selectItem(e,this.getOptionGroupChildren(a)[this.getOptionGroupChildren(a).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findPrevEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(s)}else{let s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++s)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let s=this.optionsToDisplay[r];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let s=e.groupIndex===r?e.itemIndex+1:0;s<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;s++){let a=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}for(let r=0;r<=e.groupIndex;r++)for(let s=0;s<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);s++){let a=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let s=0;s<i.length;s++)if(null==e&&null==this.getOptionValue(i[s])||xn.equals(e,this.getOptionValue(i[s]),this.dataKey)){r=s;break}return r}findOptionGroupIndex(e,i){let r,s;if(i)for(let a=0;a<i.length&&(r=a,s=this.findOptionIndex(e,this.getOptionGroupChildren(i[a])),-1===s);a++);return-1!==s?{groupIndex:r,itemIndex:s}:-1}findOption(e,i,r){if(this.group&&!r){let s;if(i&&i.length)for(let a of i)if(s=this.findOption(e,this.getOptionGroupChildren(a),!0),s)break;return s}{let s=this.findOptionIndex(e,i);return-1!=s?i[s]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:s}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Se.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Se.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{!this.preventDocumentDefault&&this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Se.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&No.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(nU),o.Y36(_y),o.Y36(vS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(_X,5),o.Gf(vX,5),o.Gf(yX,5),o.Gf(mS,5),o.Gf(wX,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.containerViewChild=r.first),o.iGM(r=o.CRH())&&(i.filterViewChild=r.first),o.iGM(r=o.CRH())&&(i.accessibleViewChild=r.first),o.iGM(r=o.CRH())&&(i.viewPort=r.first),o.iGM(r=o.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[o._Bn([nee])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1),o.NdJ("click",function(s){return i.onMouseclick(s)}),o.TgZ(2,"div",2)(3,"input",3,4),o.NdJ("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keydown",function(s){return i.onKeydown(s,!0)}),o.qZA()(),o.YNc(5,TX,3,13,"span",5),o.YNc(6,SX,2,4,"span",6),o.YNc(7,IX,2,4,"input",7),o.YNc(8,kX,1,0,"i",8),o.TgZ(9,"div",9),o._UZ(10,"span",10),o.qZA(),o.YNc(11,eee,12,23,"div",11),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass",o.l5B(20,tee,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),o.xp6(3),o.Q6J("disabled",i.disabled),o.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-label",i.ariaLabel)("aria-expanded",!1)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?i.labelId:null),o.xp6(2),o.Q6J("ngIf",!i.editable&&null!=i.label),o.xp6(1),o.Q6J("ngIf",!i.editable&&null==i.label),o.xp6(1),o.Q6J("ngIf",i.editable),o.xp6(1),o.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),o.xp6(1),o.uIk("aria-expanded",i.overlayVisible),o.xp6(1),o.Q6J("ngClass",i.dropdownIcon),o.xp6(1),o.Q6J("ngIf",i.overlayVisible))},directives:[iee,mS,mi,Wi,Tn,sU,ir,ii,Y8,J8],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[cs("overlayAnimation",[fn(":enter",[re({opacity:0,transform:"scaleY(0.8)"}),D("{{showTransitionParams}}")]),fn(":leave",[D("{{hideTransitionParams}}",re({opacity:0}))])])]},changeDetection:0}),n})(),cM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,sa,Jx,nL,cd],sa,Jx]}),n})();function ree(n,t){1&n&&o.GkF(0)}const see=function(n,t,e,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":t,"p-button-icon-top":e,"p-button-icon-bottom":i}};function oee(n,t){if(1&n&&o._UZ(0,"span",4),2&n){const e=o.oxw();o.Tol(e.loading?"p-button-loading-icon "+e.loadingIcon:e.icon),o.Q6J("ngClass",o.l5B(4,see,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),o.uIk("aria-hidden",!0)}}function aee(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.uIk("aria-hidden",e.icon&&!e.label),o.xp6(1),o.Oqu(e.label||"\xa0")}}function lee(n,t){if(1&n&&(o.TgZ(0,"span",4),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.Tol(e.badgeClass),o.Q6J("ngClass",e.badgeStyleClass()),o.xp6(1),o.Oqu(e.badge)}}const cee=function(n,t,e,i,r){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":t,"p-disabled":e,"p-button-loading":i,"p-button-loading-label-only":r}},uee=["*"];let Zl=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,Se.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&Se.addClass(e,i);let r=this.getIconClass();r&&Se.addMultipleClasses(e,r);let s=Se.findSingle(this.el.nativeElement,".p-button-label");s?this.el.nativeElement.insertBefore(e,s):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=Se.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=Se.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(Se.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),vy=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:uee,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"button",0),o.NdJ("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),o.Hsn(1),o.YNc(2,ree,1,0,"ng-container",1),o.YNc(3,oee,1,9,"span",2),o.YNc(4,aee,2,2,"span",3),o.YNc(5,lee,2,4,"span",2),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",o.qbA(11,cee,i.icon&&!i.label,("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,i.disabled||i.loading,i.loading,i.loading&&!i.icon&&i.label)),o.uIk("type",i.type)("aria-label",i.ariaLabel),o.xp6(2),o.Q6J("ngTemplateOutlet",i.contentTemplate),o.xp6(1),o.Q6J("ngIf",!i.contentTemplate&&(i.icon||i.loading)),o.xp6(1),o.Q6J("ngIf",!i.contentTemplate),o.xp6(1),o.Q6J("ngIf",!i.contentTemplate&&i.badge))},directives:[Sh,Wi,mi,ir,Tn],encapsulation:2,changeDetection:0}),n})(),yy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cd]]}),n})();class rL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class sL extends rL{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class lU extends rL{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class dee extends rL{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class oL{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof sL?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof lU?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof dee?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hee extends oL{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const l=a.element,d=this._document.createComment("dom-portal");l.parentNode.insertBefore(d,l),this.outletElement.appendChild(l),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(l,d)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let cU=(()=>{class n extends oL{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(Ne))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),uU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const dU=q8();class fee{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mo(-this._previousScrollPosition.left),t.style.top=mo(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),dU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dU&&(i.scrollBehavior=s,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class pee{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class hU{enable(){}disable(){}attach(){}}function aL(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function fU(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class gee{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();aL(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let mee=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new hU,this.close=a=>new pee(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new fee(this._viewportRuler,this._document),this.reposition=a=>new gee(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(XN),o.LFG(eL),o.LFG(o.R0b),o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pU{constructor(t){if(this.scrollStrategy=new hU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class _ee{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class vee{constructor(t,e,i,r,s,a,l,d,f){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=a,this._document=l,this._location=d,this._outsideClickDispatcher=f,this._backdropElement=null,this._backdropClick=new li.x,this._attachments=new li.x,this._detachments=new li.x,this._locationChanges=jx.w0.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new li.x,this._outsidePointerEvents=new li.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,I0.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mo(this._config.width),t.height=mo(this._config.height),t.minWidth=mo(this._config.minWidth),t.minHeight=mo(this._config.minHeight),t.maxWidth=mo(this._config.maxWidth),t.maxHeight=mo(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=B8(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(dS((0,mA.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let lL=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||JN()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),JN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne),o.LFG(Gf))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gU="cdk-overlay-connected-position-bounding-box",yee=/([A-Za-z%]+)$/;class wee{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new li.x,this._resizeSubscription=jx.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(gU),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let a;for(let l of this._preferredPositions){let d=this._getOriginPoint(t,r,l),f=this._getOverlayPoint(d,e,l),p=this._getOverlayFit(f,e,i,l);if(p.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,d);this._canFitWithFlexibleDimensions(p,f,i)?s.push({position:l,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,l)}):(!a||a.overlayFit.visibleArea<p.visibleArea)&&(a={overlayFit:p,overlayPoint:f,originPoint:d,position:l,overlayRect:e})}if(s.length){let l=null,d=-1;for(const f of s){const p=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);p>d&&(d=p,l=f)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&wy(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r="start"==i.originX?a:l}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=_U(e);let{x:a,y:l}=t,d=this._getOffset(r,"x"),f=this._getOffset(r,"y");d&&(a+=d),f&&(l+=f);let w=0-l,b=l+s.height-i.height,T=this._subtractOverflows(s.width,0-a,a+s.width-i.width),E=this._subtractOverflows(s.height,w,b),M=T*E;return{visibleArea:M,isCompletelyWithinViewport:s.width*s.height===M,fitsInViewportVertically:E===s.height,fitsInViewportHorizontally:T==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,a=mU(this._overlayRef.getConfig().minHeight),l=mU(this._overlayRef.getConfig().minWidth),f=t.fitsInViewportHorizontally||null!=l&&l<=s;return(t.fitsInViewportVertically||null!=a&&a<=r)&&f}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=_U(e),s=this._viewportRect,a=Math.max(t.x+r.width-s.width,0),l=Math.max(t.y+r.height-s.height,0),d=Math.max(s.top-i.top-t.y,0),f=Math.max(s.left-i.left-t.x,0);let p=0,m=0;return p=r.width<=s.width?f||-a:t.x<this._viewportMargin?s.left-i.left-t.x:0,m=r.height<=s.height?d||-l:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:p,y:m},{x:t.x+p,y:t.y+m}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new _ee(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,a,l,p,m,w;if("top"===e.overlayY)a=t.y,s=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)l=i.height-t.y+2*this._viewportMargin,s=i.height-l+this._viewportMargin;else{const b=Math.min(i.bottom-t.y+i.top,t.y),T=this._lastBoundingBoxSize.height;s=2*b,a=t.y-b,s>T&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-T/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)w=i.width-t.x+this._viewportMargin,p=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)m=t.x,p=i.right-t.x;else{const b=Math.min(i.right-t.x+i.left,t.x),T=this._lastBoundingBoxSize.width;p=2*b,m=t.x-b,p>T&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.x-T/2)}return{top:a,left:m,bottom:l,right:w,width:p,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=mo(i.height),r.top=mo(i.top),r.bottom=mo(i.bottom),r.width=mo(i.width),r.left=mo(i.left),r.right=mo(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=mo(s)),a&&(r.maxWidth=mo(a))}this._lastBoundingBoxSize=i,wy(this._boundingBox.style,r)}_resetBoundingBoxStyles(){wy(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){wy(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const p=this._viewportRuler.getViewportScrollPosition();wy(i,this._getExactOverlayY(e,t,p)),wy(i,this._getExactOverlayX(e,t,p))}else i.position="static";let l="",d=this._getOffset(e,"x"),f=this._getOffset(e,"y");d&&(l+=`translateX(${d}px) `),f&&(l+=`translateY(${f}px)`),i.transform=l.trim(),a.maxHeight&&(r?i.maxHeight=mo(a.maxHeight):s&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=mo(a.maxWidth):s&&(i.maxWidth="")),wy(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=mo(s.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=mo(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fU(t,i),isOriginOutsideView:aL(t,i),isOverlayClipped:fU(e,i),isOverlayOutsideView:aL(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&B8(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function wy(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function mU(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(yee);return e&&"px"!==e?null:parseFloat(t)}return n||null}function _U(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vU="cdk-global-overlay-wrapper";class xee{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vU),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:a,maxHeight:l}=i,d=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),f=!("100%"!==s&&"100vh"!==s||l&&"100%"!==l&&"100vh"!==l);t.position=this._cssPosition,t.marginLeft=d?"0":this._leftOffset,t.marginTop=f?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,d?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=f?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(vU),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let bee=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new xee}flexibleConnectedTo(e){return new wee(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(eL),o.LFG(Ne),o.LFG(Gf),o.LFG(lL))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yU=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cee=(()=>{class n extends yU{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tee=(()=>{class n extends yU{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=my(s)},this._clickListener=s=>{const a=my(s),l="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let f=d.length-1;f>-1;f--){const p=d[f];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(a)||p.overlayElement.contains(l))break;const m=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(s)):m.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne),o.LFG(Gf),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eee=0,uM=(()=>{class n{constructor(e,i,r,s,a,l,d,f,p,m,w){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=d,this._document=f,this._directionality=p,this._location=m,this._outsideClickDispatcher=w}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),a=new pU(e);return a.direction=a.direction||this._directionality.value,new vee(s,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Eee++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new hee(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mee),o.LFG(lL),o.LFG(o._Vd),o.LFG(bee),o.LFG(Cee),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(Ne),o.LFG(pS),o.LFG(rt),o.LFG(Tee))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const kee={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[uM],useFactory:function Iee(n){return()=>n.scrollStrategies.reposition()}};let Dee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[uM,kee],imports:[[gS,uU,Jx],Jx]}),n})(),CU=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Hee(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Uee(n){try{return n.frameElement}catch(t){return null}}(function Yee(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===EU(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=EU(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Gee(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function $ee(n){return!function zee(n){return function Wee(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jee(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Zee(n){return function qee(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||TU(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gf))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TU(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function EU(n){if(!TU(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Kee{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,I0.q)(1)).subscribe(t)}}let Qee=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Kee(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(CU),o.LFG(o.R0b),o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ete=new o.OlP("cdk-input-modality-detector-options"),tte={ignoreKeys:[18,17,224,91,16]},Xx=YN({passive:!0,capture:!0});let nte=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new ad(null),this._lastTouchMs=0,this._onKeydown=a=>{var l,d;(null===(d=null===(l=this._options)||void 0===l?void 0:l.ignoreKeys)||void 0===d?void 0:d.some(f=>f===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=my(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function Jee(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(a)?"keyboard":"mouse"),this._mostRecentTarget=my(a))},this._onTouchstart=a=>{!function Xee(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(a)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=my(a)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},tte),s),this.modalityDetected=this._modality.pipe(function Lee(n){return hs((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Cm()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Xx),r.addEventListener("mousedown",this._onMousedown,Xx),r.addEventListener("touchstart",this._onTouchstart,Xx)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xx),document.removeEventListener("mousedown",this._onMousedown,Xx),document.removeEventListener("touchstart",this._onTouchstart,Xx))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gf),o.LFG(o.R0b),o.LFG(Ne),o.LFG(ete,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rte=new o.OlP("cdk-focus-monitor-default-options"),dM=YN({passive:!0,capture:!0});let ste=(()=>{class n{constructor(e,i,r,s,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new li.x,this._rootNodeFocusAndBlurListener=l=>{const d=my(l),f="focus"===l.type?this._onFocus:this._onBlur;for(let p=d;p;p=p.parentElement)f.call(this,l,p)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,i=!1){const r=rM(e);if(!this._platform.isBrowser||1!==r.nodeType)return y(null);const s=function YJ(n){if(function $J(){if(null==KN){const n="undefined"!=typeof document?document.head:null;KN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return KN}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const l={checkChildren:i,subject:new li.x,rootNode:s};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const i=rM(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=rM(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,i,d)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=my(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,dM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,dM)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dS(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Gf),o.LFG(nte),o.LFG(Ne,8),o.LFG(rte,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IU="cdk-high-contrast-black-on-white",kU="cdk-high-contrast-white-on-black",cL="cdk-high-contrast-active";let ote=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(cL),e.remove(IU),e.remove(kU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(cL),e.add(IU)):2===i&&(e.add(cL),e.add(kU))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Gf),o.LFG(Ne))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lte=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function ate(){return!0}});let hM=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!JN()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ote),o.LFG(lte,8),o.LFG(Ne))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[gS],gS]}),n})();function cte(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function gte(n,t){}class dL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const mte={dialogContainer:cs("dialogContainer",[it("void, exit",re({opacity:0,transform:"scale(0.7)"})),it("enter",re({transform:"none"})),fn("* => enter",O([D("150ms cubic-bezier(0, 0, 0.2, 1)",re({transform:"none",opacity:1})),Cl("@*",$i(),{optional:!0})])),fn("* => void, * => exit",O([D("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",re({opacity:0})),Cl("@*",$i(),{optional:!0})]))])};let _te=(()=>{class n extends oL{constructor(e,i,r,s,a,l,d,f){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=a,this._interactivityChecker=l,this._ngZone=d,this._focusMonitor=f,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=p=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(p)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=QN())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=QN(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=QN();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Qee),o.Y36(o.sBO),o.Y36(Ne,8),o.Y36(dL),o.Y36(CU),o.Y36(o.R0b),o.Y36(ste))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(cU,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),vte=(()=>{class n extends _te{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,gte,0,0,"ng-template",0)},directives:[cU],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[mte.dialogContainer]}}),n})(),yte=0;class RU{constructor(t,e,i="mat-dialog-"+yte++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new li.x,this._afterClosed=new li.x,this._beforeClosed=new li.x,this._state=0,e._id=i,e._animationStateChanged.pipe(hs(r=>"opened"===r.state),(0,I0.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(hs(r=>"closed"===r.state),(0,I0.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(hs(r=>27===r.keyCode&&!this.disableClose&&!function Nee(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),hL(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():hL(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(hs(e=>"closing"===e.state),(0,I0.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function hL(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const eb=new o.OlP("MatDialogData"),wte=new o.OlP("mat-dialog-default-options"),FU=new o.OlP("mat-dialog-scroll-strategy"),bte={provide:FU,deps:[uM],useFactory:function xte(n){return()=>n.scrollStrategies.block()}};let Cte=(()=>{class n{constructor(e,i,r,s,a,l,d,f,p,m){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=a,this._dialogRefConstructor=d,this._dialogContainerType=f,this._dialogDataToken=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new li.x,this._afterOpenedAtThisLevel=new li.x,this._ariaHiddenElements=new Map,this.afterAllClosed=sN(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mt(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function Tte(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new dL),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),a=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),s._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new pU({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:dL,useValue:i}]}),a=new sL(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(a).instance}_attachDialogContent(e,i,r,s){const a=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new lU(e,null,{$implicit:s.data,dialogRef:a}));else{const l=this._createInjector(s,a,i),d=i.attachComponentPortal(new sL(e,s.viewContainerRef,l,s.componentFactoryResolver));a.componentInstance=d.instance}return a.updateSize(s.width,s.height).updatePosition(s.position),a}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(pS,null,o.XFs.Optional))&&a.push({provide:pS,useValue:{value:e.direction,change:y()}}),o.zs3.create({parent:s||this._injector,providers:a})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),fL=(()=>{class n extends Cte{constructor(e,i,r,s,a,l,d,f){super(e,i,s,l,d,a,RU,vte,eb,f)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(uM),o.LFG(o.zs3),o.LFG(rt,8),o.LFG(wte,8),o.LFG(FU),o.LFG(n,12),o.LFG(lL),o.LFG(bm,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),F0=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Ete(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){hL(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(RU,8),o.Y36(o.SBq),o.Y36(fL))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&o.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),n})(),Ste=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fL,bte],imports:[[Dee,uU,hM],hM]}),n})();function Ite(n,t){1&n&&o._uU(0),2&n&&o.hij(" ",t.$implicit," ")}let kte=(()=>{class n{constructor(e,i){this.authService=e,this.alert=i,this.roles=SQ}ngOnInit(){}onSignup(e,i,r,s){let a={id:"",host:"",email:"",password:"",role:"",etat:!1};a.email=i,a.host=e,a.password=r,a.role=s,this.authService.signup(a)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Po),o.Y36(k0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-signup"]],decls:31,vars:1,consts:[[1,"form-container"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user"],["type","text","pInputText","","name","host"],["host",""],["for","inputtext-left"],[1,"pi","pi-envelope"],["type","text","pInputText","","name","email"],["email",""],[1,"pi","pi-lock"],["type","text","pInputText","","name","password"],["password",""],[1,"p-float-label"],["name","role",3,"options"],["role",""],["pTemplate","selectedItem"],["for","dropdown"],["mat-dialog-close","","type","submit",3,"click"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h1"),o._uU(2,"creer un compte"),o.qZA(),o.TgZ(3,"form")(4,"div",1),o._UZ(5,"i",2)(6,"input",3,4),o.TgZ(8,"label",5),o._uU(9,"Host"),o.qZA()(),o.TgZ(10,"div",1),o._UZ(11,"i",6)(12,"input",7,8),o.TgZ(14,"label",5),o._uU(15,"Email Address"),o.qZA()(),o.TgZ(16,"div",1),o._UZ(17,"i",9)(18,"input",10,11),o.TgZ(20,"label",5),o._uU(21,"Mot de passe"),o.qZA()(),o.TgZ(22,"div",12)(23,"p-dropdown",13,14),o.YNc(25,Ite,1,1,"ng-template",15),o.qZA(),o.TgZ(26,"label",16),o._uU(27,"Dropdown"),o.qZA()(),o.TgZ(28,"div",12)(29,"p-button",17),o.NdJ("click",function(){o.CHM(r);const a=o.MAs(7),l=o.MAs(13),d=o.MAs(19),f=o.MAs(24);return i.onSignup(a.value,l.value,d.value,f.value)}),o._uU(30,"SIGN UP"),o.qZA()()()()}2&e&&(o.xp6(23),o.Q6J("options",i.roles))},directives:[Sg,Eg,Ch,Eh,wS,Mr,vy,F0],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:400px;height:600px;margin:auto;padding:20px;border-radius:20px}.p-float-label[_ngcontent-%COMP%]{margin-top:25px}form[_ngcontent-%COMP%]{margin-left:4rem}"]}),n})(),Dte=(()=>{class n{constructor(e,i,r){this.FireStore=e,this.FireAuth=i,this.alert=r}GetAllUsers(){return this.users=this.FireStore.collection("User").valueChanges(),this.users}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(DA),o.LFG(Ux),o.LFG(k0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ate=["input"];function Mte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().clear()}),o.qZA()}}const PU=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},NU=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function Ote(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",7)(1,"button",8),o.NdJ("mousedown",function(r){return o.CHM(e),o.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(r){return o.CHM(e),o.oxw().onUpButtonKeyDown(r)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA(),o.TgZ(2,"button",8),o.NdJ("mousedown",function(r){return o.CHM(e),o.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(r){return o.CHM(e),o.oxw().onDownButtonKeyDown(r)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(1),o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(10,PU))("icon",e.incrementButtonIcon)("disabled",e.disabled),o.xp6(1),o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(11,NU))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function Rte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",8),o.NdJ("mousedown",function(r){return o.CHM(e),o.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return o.CHM(e),o.oxw().onUpButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onUpButtonMouseLeave()})("keydown",function(r){return o.CHM(e),o.oxw().onUpButtonKeyDown(r)})("keyup",function(){return o.CHM(e),o.oxw().onUpButtonKeyUp()}),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.incrementButtonClass),o.Q6J("ngClass",o.DdM(5,PU))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function Fte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",8),o.NdJ("mousedown",function(r){return o.CHM(e),o.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return o.CHM(e),o.oxw().onDownButtonMouseUp()})("mouseleave",function(){return o.CHM(e),o.oxw().onDownButtonMouseLeave()})("keydown",function(r){return o.CHM(e),o.oxw().onDownButtonKeyDown(r)})("keyup",function(){return o.CHM(e),o.oxw().onDownButtonKeyUp()}),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.decrementButtonClass),o.Q6J("ngClass",o.DdM(5,NU))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const Pte=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},Nte={provide:ia,useExisting:(0,o.Gpc)(()=>LU),multi:!0};let LU=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.showClear=!1,this.onInput=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onKeyDown=new o.vpe,this.onClear=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let s=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},s),this.spin(e,r)}spin(e,i){let r=this.step*i,s=this.parseValue(this.input.nativeElement.value)||0,a=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(a).length||(this.updateInput(a,null,"spin",null),this.updateModel(e,a),this.handleOnInput(e,s,a))}clear(){this.value=null,this.onModelChange(this.value),this.onClear.emit()}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.readonly||(this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(e){if(this.readonly)return;if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,s=e.target.value,a=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(s.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(s.charAt(i))||e.preventDefault();break;case 13:a=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(a),this.input.nativeElement.setAttribute("aria-valuenow",a),this.updateModel(e,a);break;case 8:if(e.preventDefault(),i===r){const l=s.charAt(i-1),{decimalCharIndex:d,decimalCharIndexWithoutPrefix:f}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(l)){const p=this.getDecimalLength(s);if(this._group.test(l))this._group.lastIndex=0,a=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(l))this._decimal.lastIndex=0,p?this.input.nativeElement.setSelectionRange(i-1,i-1):a=s.slice(0,i-1)+s.slice(i);else if(d>0&&i>d){const m=this.isDecimalMode()&&(this.minFractionDigits||0)<p?"":"0";a=s.slice(0,i-1)+m+s.slice(i)}else 1===f?(a=s.slice(0,i-1)+"0"+s.slice(i),a=this.parseValue(a)>0?a:""):a=s.slice(0,i-1)+s.slice(i)}this.updateValue(e,a,null,"delete-single")}else a=this.deleteRange(s,i,r),this.updateValue(e,a,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const l=s.charAt(i),{decimalCharIndex:d,decimalCharIndexWithoutPrefix:f}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(l)){const p=this.getDecimalLength(s);if(this._group.test(l))this._group.lastIndex=0,a=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(l))this._decimal.lastIndex=0,p?this.input.nativeElement.setSelectionRange(i+1,i+1):a=s.slice(0,i)+s.slice(i+1);else if(d>0&&i>d){const m=this.isDecimalMode()&&(this.minFractionDigits||0)<p?"":"0";a=s.slice(0,i)+m+s.slice(i+1)}else 1===f?(a=s.slice(0,i)+"0"+s.slice(i+1),a=this.parseValue(a)>0?a:""):a=s.slice(0,i)+s.slice(i+1)}this.updateValue(e,a,null,"delete-back-single")}else a=this.deleteRange(s,i,r),this.updateValue(e,a,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){if(this.readonly)return;e.preventDefault();let i=e.which||e.keyCode,r=String.fromCharCode(i);const s=this.isDecimalSign(r),a=this.isMinusSign(r);(48<=i&&i<=57||a||s)&&this.insert(e,r,{isDecimalSign:s,isMinusSign:a})}onPaste(e){if(!this.disabled&&!this.readonly){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const s=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const s=e.search(this._suffix);this._suffix.lastIndex=0;const a=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:a}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==s)return;let a=this.input.nativeElement.selectionStart,l=this.input.nativeElement.selectionEnd,d=this.input.nativeElement.value.trim();const{decimalCharIndex:f,minusCharIndex:p,suffixCharIndex:m,currencyCharIndex:w}=this.getCharIndexes(d);let b;if(r.isMinusSign)0===a&&(b=d,(-1===p||0!==l)&&(b=this.insertText(d,i,0,l)),this.updateValue(e,b,i,"insert"));else if(r.isDecimalSign)f>0&&a===f?this.updateValue(e,d,i,"insert"):(f>a&&f<l||-1===f&&this.maxFractionDigits)&&(b=this.insertText(d,i,a,l),this.updateValue(e,b,i,"insert"));else{const T=this.numberFormat.resolvedOptions().maximumFractionDigits,E=a!==l?"range-insert":"insert";if(f>0&&a>f){if(a+i.length-(f+1)<=T){const M=w>=a?w-1:m>=a?m:d.length;b=d.slice(0,a)+i+d.slice(a+i.length,M)+d.slice(M),this.updateValue(e,b,i,E)}}else b=this.insertText(d,i,a,l),this.updateValue(e,b,i,E)}}insertText(e,i,r,s){if(2===("."===i?i:i.split(".")).length){const l=e.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,l>0?e.slice(0,r)+this.formatValue(i)+e.slice(s):e||this.formatValue(i)}return s-r===e.length?this.formatValue(i):0===r?i+e.slice(s):s===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(s)}deleteRange(e,i,r){let s;return s=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),s}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,s=null,a=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=a;let l=i.charAt(e);if(this.isNumeralChar(l))return e+a;let d=e-1;for(;d>=0;){if(l=i.charAt(d),this.isNumeralChar(l)){s=d+a;break}d--}if(null!==s)this.input.nativeElement.setSelectionRange(s+1,s+1);else{for(d=e;d<r;){if(l=i.charAt(d),this.isNumeralChar(l)){s=d+a;break}d++}null!==s&&this.input.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,s){let a=this.input.nativeElement.value,l=null;null!=i&&(l=this.parseValue(i),l=l||this.allowEmpty?l:0,this.updateInput(l,r,s,i),this.handleOnInput(e,a,l))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,s){i=i||"";let a=this.input.nativeElement.value,l=this.formatValue(e),d=a.length;if(l!==s&&(l=this.concatValues(l,s)),0===d){this.input.nativeElement.value=l,this.input.nativeElement.setSelectionRange(0,0);const p=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(p,p)}else{let f=this.input.nativeElement.selectionStart,p=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<l.length)return;this.input.nativeElement.value=l;let m=l.length;if("range-insert"===r){const w=this.parseValue((a||"").slice(0,f)),T=(null!==w?w.toString():"").split("").join(`(${this.groupChar})?`),E=new RegExp(T,"g");E.test(l);const M=i.split("").join(`(${this.groupChar})?`),N=new RegExp(M,"g");N.test(l.slice(E.lastIndex)),p=E.lastIndex+N.lastIndex,this.input.nativeElement.setSelectionRange(p,p)}else if(m===d)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(p+1,p+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(p-1,p-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(p,p);else if("delete-back-single"===r){let w=a.charAt(p-1),b=a.charAt(p),T=d-m,E=this._group.test(b);E&&1===T?p+=1:!E&&this.isNumeralChar(w)&&(p+=-1*T+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(p,p)}else if("-"===a&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const b=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(b,b)}else p+=m-d,this.input.nativeElement.setSelectionRange(p,p)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&o.Gf(Ate,5),2&e){let r;o.iGM(r=o.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputnumber-clearable",i.showClear&&"vertical"!=i.buttonLayout)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",showClear:"showClear",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClear:"onClear"},features:[o._Bn([Nte]),o.TTD],decls:7,vars:32,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-clear-icon pi pi-times",3,"click",4,"ngIf"],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-clear-icon","pi","pi-times",3,"click"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0)(1,"input",1,2),o.NdJ("input",function(s){return i.onUserInput(s)})("keydown",function(s){return i.onInputKeyDown(s)})("keypress",function(s){return i.onInputKeyPress(s)})("paste",function(s){return i.onPaste(s)})("click",function(){return i.onInputClick()})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),o.qZA(),o.YNc(3,Mte,1,0,"i",3),o.YNc(4,Ote,3,12,"span",4),o.YNc(5,Rte,1,6,"button",5),o.YNc(6,Fte,1,6,"button",5),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass",o.kEZ(28,Pte,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),o.xp6(1),o.Tol(i.inputStyleClass),o.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),o.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("min",i.min)("max",i.max),o.xp6(2),o.Q6J("ngIf","vertical"!=i.buttonLayout&&i.showClear&&i.value),o.xp6(1),o.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),o.xp6(1),o.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),o.xp6(1),o.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[mi,Wi,Eh,Tn,Zl],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}.p-inputnumber-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputnumber-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),fM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cS,yy]]}),n})();function Lte(n,t){1&n&&o.GkF(0)}const pL=function(n){return{$implicit:n}};function Bte(n,t){if(1&n&&(o.TgZ(0,"div",15),o.YNc(1,Lte,1,0,"ng-container",16),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",o.VKq(2,pL,e.paginatorState))}}function Vte(n,t){if(1&n&&(o.TgZ(0,"span",17),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.currentPageReport)}}const pM=function(n){return{"p-disabled":n}};function Ute(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(r){return o.CHM(e),o.oxw(2).changePageToFirst(r)}),o._UZ(1,"span",19),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",o.VKq(2,pM,e.isFirstPage()||e.empty()))}}const Hte=function(n){return{"p-highlight":n}};function jte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",22),o.NdJ("click",function(r){const a=o.CHM(e).$implicit;return o.oxw(3).onPageLinkClick(r,a-1)}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw(3);o.Q6J("ngClass",o.VKq(2,Hte,e-1==i.getPage())),o.xp6(1),o.Oqu(e)}}function zte(n,t){if(1&n&&(o.TgZ(0,"span",20),o.YNc(1,jte,2,4,"button",21),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.pageLinks)}}function Zte(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw(3);o.Oqu(e.currentPageReport)}}function Wte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p-dropdown",23),o.NdJ("onChange",function(r){return o.CHM(e),o.oxw(2).onPageDropdownChange(r)}),o.YNc(1,Zte,1,1,"ng-template",24),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function qte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",25),o.NdJ("click",function(r){return o.CHM(e),o.oxw(2).changePageToLast(r)}),o._UZ(1,"span",26),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",o.VKq(2,pM,e.isLastPage()||e.empty()))}}function Gte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p-inputNumber",27),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw(2).changePage(r-1)}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function $te(n,t){1&n&&o.GkF(0)}function Yte(n,t){if(1&n&&o.YNc(0,$te,1,0,"ng-container",16),2&n){const e=t.$implicit,i=o.oxw(4);o.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",o.VKq(2,pL,e))}}function Kte(n,t){1&n&&(o.ynx(0),o.YNc(1,Yte,1,4,"ng-template",30),o.BQk())}function Qte(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p-dropdown",28),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw(2).rows=r})("onChange",function(r){return o.CHM(e),o.oxw(2).onRppChange(r)}),o.YNc(1,Kte,2,0,"ng-container",29),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),o.xp6(1),o.Q6J("ngIf",e.dropdownItemTemplate)}}function Jte(n,t){1&n&&o.GkF(0)}function Xte(n,t){if(1&n&&(o.TgZ(0,"div",31),o.YNc(1,Jte,1,0,"ng-container",16),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",o.VKq(2,pL,e.paginatorState))}}function ene(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.YNc(1,Bte,2,4,"div",2),o.YNc(2,Vte,2,1,"span",3),o.YNc(3,Ute,2,4,"button",4),o.TgZ(4,"button",5),o.NdJ("click",function(r){return o.CHM(e),o.oxw().changePageToPrev(r)}),o._UZ(5,"span",6),o.qZA(),o.YNc(6,zte,2,1,"span",7),o.YNc(7,Wte,2,5,"p-dropdown",8),o.TgZ(8,"button",9),o.NdJ("click",function(r){return o.CHM(e),o.oxw().changePageToNext(r)}),o._UZ(9,"span",10),o.qZA(),o.YNc(10,qte,2,4,"button",11),o.YNc(11,Gte,1,2,"p-inputNumber",12),o.YNc(12,Qte,2,6,"p-dropdown",13),o.YNc(13,Xte,2,4,"div",14),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),o.xp6(1),o.Q6J("ngIf",e.templateLeft),o.xp6(1),o.Q6J("ngIf",e.showCurrentPageReport),o.xp6(1),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",o.VKq(17,pM,e.isFirstPage()||e.empty())),o.xp6(2),o.Q6J("ngIf",e.showPageLinks),o.xp6(1),o.Q6J("ngIf",e.showJumpToPageDropdown),o.xp6(1),o.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",o.VKq(19,pM,e.isLastPage()||e.empty())),o.xp6(2),o.Q6J("ngIf",e.showFirstLastIcon),o.xp6(1),o.Q6J("ngIf",e.showJumpToPageInput),o.xp6(1),o.Q6J("ngIf",e.rowsPerPageOptions),o.xp6(1),o.Q6J("ngIf",e.templateRight)}}let tne=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new o.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(s-r+1))),[r,s]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let s=e[0];s<=r;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let s=0;s<this.getPageCount();s++)this.pageItems.push({label:String(s+1),value:s})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[o.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&o.YNc(0,ene,14,21,"div",0),2&e&&o.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[wS,LU,Tn,Wi,mi,ir,Sh,ii,Tg,Th,Mr],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cM,fM,nM,sa,cd],cM,fM,nM,sa]}),n})();function nne(n,t){if(1&n&&o._UZ(0,"span",8),2&n){const e=o.oxw(2).$implicit;o.Tol(e.icon),o.Q6J("ngClass","p-button-icon p-button-icon-left")}}function ine(n,t){if(1&n&&(o.ynx(0),o.YNc(1,nne,1,3,"span",6),o.TgZ(2,"span",7),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",e.icon),o.xp6(2),o.Oqu(i.getOptionLabel(e))}}function rne(n,t){1&n&&o.GkF(0)}const sne=function(n,t){return{$implicit:n,index:t}};function one(n,t){if(1&n&&o.YNc(0,rne,1,0,"ng-container",9),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw();o.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",o.WLB(2,sne,i,r))}}const ane=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function lne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2,3),o.NdJ("click",function(r){const s=o.CHM(e),a=s.$implicit,l=s.index;return o.oxw().onItemClick(r,a,l)})("keydown.enter",function(r){const s=o.CHM(e),a=s.$implicit,l=s.index;return o.oxw().onItemClick(r,a,l)})("blur",function(){return o.CHM(e),o.oxw().onBlur()}),o.YNc(2,ine,4,2,"ng-container",4),o.YNc(3,one,1,5,"ng-template",null,5,o.W1O),o.qZA()}if(2&n){const e=t.$implicit,i=o.MAs(4),r=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass",o.kEZ(10,ane,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),o.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),o.xp6(2),o.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const cne={provide:ia,useExisting:(0,o.Gpc)(()=>une),multi:!0};let une=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new o.vpe,this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?xn.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?xn.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?xn.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){if(!this.disabled&&!this.isOptionDisabled(i)){if(this.multiple)this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)],this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value});else{let s=this.getOptionValue(i);this.value!==s&&(this.value=this.getOptionValue(i),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}this.onOptionClick.emit({originalEvent:e,option:i,index:r})}}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!xn.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value)for(let s of this.value)if(xn.equals(s,r,this.dataKey)){i=!0;break}}else i=xn.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,o.Rgc,5),2&e){let s;o.iGM(s=o.CRH())&&(i.itemTemplate=s.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[o._Bn([cne])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,lne,5,14,"div",1),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),o.xp6(1),o.Q6J("ngForOf",i.options))},directives:[mi,Wi,ii,Sh,Tn,ir],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}\n"],encapsulation:2,changeDetection:0}),n})(),dne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cd]]}),n})();const hne=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function fne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",7),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw(),a=o.MAs(3);return s.onClick(r,a)}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("ngClass",o.kEZ(3,hne,null!=e.value,e.disabled,e.focused)),o.uIk("for",e.inputId),o.xp6(1),o.Oqu(e.label)}}const pne=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},gne=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},mne={provide:ia,useExisting:(0,o.Gpc)(()=>_ne),multi:!0};let _ne=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[o._Bn([mne])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),o.NdJ("keyup",function(a){return i.onKeyup(a)})("keydown",function(a){return i.onKeydown(a)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),o.qZA()(),o.TgZ(4,"div",4),o.NdJ("click",function(a){o.CHM(r);const l=o.MAs(3);return i.onClick(a,l)}),o._UZ(5,"span",5),o.qZA()(),o.YNc(6,fne,2,7,"label",6)}2&e&&(o.Tol(i.styleClass),o.Q6J("ngStyle",i.style)("ngClass",o.WLB(14,pne,i.disabled,i.focused)),o.xp6(2),o.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),o.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),o.xp6(2),o.Q6J("ngClass",o.kEZ(17,gne,null!=i.value,i.disabled,i.focused)),o.uIk("aria-checked",!0===i.value),o.xp6(1),o.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),o.xp6(1),o.Q6J("ngIf",i.label))},directives:[Wi,mi,Tn],encapsulation:2,changeDetection:0}),n})(),vne=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})();const yne=["container"],wne=["inputfield"],xne=["contentWrapper"];function bne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",8),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).clear()}),o.qZA()}}function Cne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(r){o.CHM(e),o.oxw();const s=o.MAs(1);return o.oxw().onButtonClick(r,s)}),o.qZA()}if(2&n){const e=o.oxw(2);o.Q6J("icon",e.icon)("disabled",e.disabled),o.uIk("aria-label",e.iconAriaLabel)}}function Tne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",4,5),o.NdJ("focus",function(r){return o.CHM(e),o.oxw().onInputFocus(r)})("keydown",function(r){return o.CHM(e),o.oxw().onInputKeydown(r)})("click",function(){return o.CHM(e),o.oxw().onInputClick()})("blur",function(r){return o.CHM(e),o.oxw().onInputBlur(r)})("input",function(r){return o.CHM(e),o.oxw().onUserInput(r)}),o.qZA(),o.YNc(2,bne,1,0,"i",6),o.YNc(3,Cne,1,3,"button",7)}if(2&n){const e=o.oxw();o.Tol(e.inputStyleClass),o.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),o.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),o.xp6(2),o.Q6J("ngIf",e.showClear&&!e.disabled&&null!=e.value),o.xp6(1),o.Q6J("ngIf",e.showIcon)}}function Ene(n,t){1&n&&o.GkF(0)}function Sne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",30),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return o.CHM(e),o.oxw(4).onPrevButtonClick(r)}),o._UZ(1,"span",31),o.qZA()}}function Ine(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",32),o.NdJ("click",function(r){return o.CHM(e),o.oxw(4).switchToMonthView(r)})("keydown",function(r){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(r)}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(3);o.Q6J("disabled",i.switchViewButtonDisabled()),o.xp6(1),o.hij(" ",i.getMonthName(e.month)," ")}}function kne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",33),o.NdJ("click",function(r){return o.CHM(e),o.oxw(4).switchToYearView(r)})("keydown",function(r){return o.CHM(e),o.oxw(4).onContainerButtonKeydown(r)}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(3);o.Q6J("disabled",i.switchViewButtonDisabled()),o.xp6(1),o.hij(" ",i.getYear(e)," ")}}function Dne(n,t){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const e=o.oxw(5);o.xp6(1),o.AsE("",e.yearPickerValues()[0]," - ",e.yearPickerValues()[e.yearPickerValues().length-1],"")}}function Ane(n,t){1&n&&o.GkF(0)}const VU=function(n){return{$implicit:n}};function Mne(n,t){if(1&n&&(o.TgZ(0,"span",34),o.YNc(1,Dne,2,2,"ng-container",13),o.YNc(2,Ane,1,0,"ng-container",35),o.qZA()),2&n){const e=o.oxw(4);o.xp6(1),o.Q6J("ngIf",!e.decadeTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.decadeTemplate)("ngTemplateOutletContext",o.VKq(3,VU,e.yearPickerValues))}}function One(n,t){if(1&n&&(o.TgZ(0,"th",41)(1,"span"),o._uU(2),o.qZA()()),2&n){const e=o.oxw(5);o.xp6(2),o.Oqu(e.getTranslation("weekHeader"))}}function Rne(n,t){if(1&n&&(o.TgZ(0,"th",42)(1,"span"),o._uU(2),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e)}}function Fne(n,t){if(1&n&&(o.TgZ(0,"td",45)(1,"span",46),o._uU(2),o.qZA()()),2&n){const e=o.oxw().index,i=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",i.weekNumbers[e]," ")}}function Pne(n,t){if(1&n&&(o.ynx(0),o._uU(1),o.BQk()),2&n){const e=o.oxw(2).$implicit;o.xp6(1),o.Oqu(e.day)}}function Nne(n,t){1&n&&o.GkF(0)}const Lne=function(n,t){return{"p-highlight":n,"p-disabled":t}};function Bne(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"span",48),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw().$implicit;return o.oxw(6).onDateSelect(r,s)})("keydown",function(r){o.CHM(e);const s=o.oxw().$implicit,a=o.oxw(3).index;return o.oxw(3).onDateCellKeydown(r,s,a)}),o.YNc(2,Pne,2,1,"ng-container",13),o.YNc(3,Nne,1,0,"ng-container",35),o.qZA(),o.BQk()}if(2&n){const e=o.oxw().$implicit,i=o.oxw(6);o.xp6(1),o.Q6J("ngClass",o.WLB(4,Lne,i.isSelected(e),!e.selectable)),o.xp6(1),o.Q6J("ngIf",!i.dateTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",o.VKq(7,VU,e))}}const Vne=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function Une(n,t){if(1&n&&(o.TgZ(0,"td",47),o.YNc(1,Bne,4,9,"ng-container",13),o.qZA()),2&n){const e=t.$implicit,i=o.oxw(6);o.Q6J("ngClass",o.WLB(2,Vne,e.otherMonth,e.today)),o.xp6(1),o.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function Hne(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,Fne,3,1,"td",43),o.YNc(2,Une,2,5,"td",44),o.qZA()),2&n){const e=t.$implicit,i=o.oxw(5);o.xp6(1),o.Q6J("ngIf",i.showWeek),o.xp6(1),o.Q6J("ngForOf",e)}}function jne(n,t){if(1&n&&(o.TgZ(0,"div",36)(1,"table",37)(2,"thead")(3,"tr"),o.YNc(4,One,3,1,"th",38),o.YNc(5,Rne,3,1,"th",39),o.qZA()(),o.TgZ(6,"tbody"),o.YNc(7,Hne,3,2,"tr",40),o.qZA()()()),2&n){const e=o.oxw().$implicit,i=o.oxw(3);o.xp6(4),o.Q6J("ngIf",i.showWeek),o.xp6(1),o.Q6J("ngForOf",i.weekDays),o.xp6(2),o.Q6J("ngForOf",e.dates)}}function zne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",20)(1,"div",21),o.YNc(2,Sne,2,0,"button",22),o.TgZ(3,"div",23),o.YNc(4,Ine,2,2,"button",24),o.YNc(5,kne,2,2,"button",25),o.YNc(6,Mne,3,5,"span",26),o.qZA(),o.TgZ(7,"button",27),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return o.CHM(e),o.oxw(3).onNextButtonClick(r)}),o._UZ(8,"span",28),o.qZA()(),o.YNc(9,jne,8,3,"div",29),o.qZA()}if(2&n){const e=t.index,i=o.oxw(3);o.xp6(2),o.Q6J("ngIf",0===e),o.xp6(2),o.Q6J("ngIf","date"===i.currentView),o.xp6(1),o.Q6J("ngIf","year"!==i.currentView),o.xp6(1),o.Q6J("ngIf","year"===i.currentView),o.xp6(1),o.Udp("display",1===i.numberOfMonths||e===i.numberOfMonths-1?"inline-flex":"none"),o.xp6(2),o.Q6J("ngIf","date"===i.currentView)}}const UU=function(n){return{"p-highlight":n}};function Zne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",51),o.NdJ("click",function(r){const a=o.CHM(e).index;return o.oxw(4).onMonthSelect(r,a)})("keydown",function(r){const a=o.CHM(e).index;return o.oxw(4).onMonthCellKeydown(r,a)}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw(4);o.Q6J("ngClass",o.VKq(2,UU,r.isMonthSelected(i))),o.xp6(1),o.hij(" ",e," ")}}function Wne(n,t){if(1&n&&(o.TgZ(0,"div",49),o.YNc(1,Zne,2,4,"span",50),o.qZA()),2&n){const e=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",e.monthPickerValues())}}function qne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",54),o.NdJ("click",function(r){const a=o.CHM(e).$implicit;return o.oxw(4).onYearSelect(r,a)})("keydown",function(r){const a=o.CHM(e).$implicit;return o.oxw(4).onYearCellKeydown(r,a)}),o._uU(1),o.qZA()}if(2&n){const e=t.$implicit,i=o.oxw(4);o.Q6J("ngClass",o.VKq(2,UU,i.isYearSelected(e))),o.xp6(1),o.hij(" ",e," ")}}function Gne(n,t){if(1&n&&(o.TgZ(0,"div",52),o.YNc(1,qne,2,4,"span",53),o.qZA()),2&n){const e=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",e.yearPickerValues())}}function $ne(n,t){if(1&n&&(o.ynx(0),o.TgZ(1,"div",16),o.YNc(2,zne,10,7,"div",17),o.qZA(),o.YNc(3,Wne,2,1,"div",18),o.YNc(4,Gne,2,1,"div",19),o.BQk()),2&n){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.months),o.xp6(1),o.Q6J("ngIf","month"===e.currentView),o.xp6(1),o.Q6J("ngIf","year"===e.currentView)}}function Yne(n,t){1&n&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function Kne(n,t){1&n&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function Qne(n,t){if(1&n&&(o.TgZ(0,"div",60)(1,"span"),o._uU(2),o.qZA()()),2&n){const e=o.oxw(3);o.xp6(2),o.Oqu(e.timeSeparator)}}function Jne(n,t){1&n&&(o.ynx(0),o._uU(1,"0"),o.BQk())}function Xne(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",65)(1,"button",57),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(3).incrementSecond(r)})("keydown.space",function(r){return o.CHM(e),o.oxw(3).incrementSecond(r)})("mousedown",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(2,"span",58),o.qZA(),o.TgZ(3,"span"),o.YNc(4,Jne,2,0,"ng-container",13),o._uU(5),o.qZA(),o.TgZ(6,"button",57),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(3).decrementSecond(r)})("keydown.space",function(r){return o.CHM(e),o.oxw(3).decrementSecond(r)})("mousedown",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return o.CHM(e),o.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return o.CHM(e),o.oxw(3).onTimePickerElementMouseLeave()}),o._UZ(7,"span",59),o.qZA()()}if(2&n){const e=o.oxw(3);o.xp6(4),o.Q6J("ngIf",e.currentSecond<10),o.xp6(1),o.Oqu(e.currentSecond)}}function eie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",66)(1,"button",67),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return o.CHM(e),o.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(3).toggleAMPM(r)}),o._UZ(2,"span",58),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.TgZ(5,"button",67),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return o.CHM(e),o.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(3).toggleAMPM(r)}),o._UZ(6,"span",59),o.qZA()()}if(2&n){const e=o.oxw(3);o.xp6(4),o.Oqu(e.pm?"PM":"AM")}}function tie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",55)(1,"div",56)(2,"button",57),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(2).incrementHour(r)})("keydown.space",function(r){return o.CHM(e),o.oxw(2).incrementHour(r)})("mousedown",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(3,"span",58),o.qZA(),o.TgZ(4,"span"),o.YNc(5,Yne,2,0,"ng-container",13),o._uU(6),o.qZA(),o.TgZ(7,"button",57),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(2).decrementHour(r)})("keydown.space",function(r){return o.CHM(e),o.oxw(2).decrementHour(r)})("mousedown",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(8,"span",59),o.qZA()(),o.TgZ(9,"div",60)(10,"span"),o._uU(11),o.qZA()(),o.TgZ(12,"div",61)(13,"button",57),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(2).incrementMinute(r)})("keydown.space",function(r){return o.CHM(e),o.oxw(2).incrementMinute(r)})("mousedown",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(14,"span",58),o.qZA(),o.TgZ(15,"span"),o.YNc(16,Kne,2,0,"ng-container",13),o._uU(17),o.qZA(),o.TgZ(18,"button",57),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(2).decrementMinute(r)})("keydown.space",function(r){return o.CHM(e),o.oxw(2).decrementMinute(r)})("mousedown",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.enter",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("keyup.space",function(r){return o.CHM(e),o.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return o.CHM(e),o.oxw(2).onTimePickerElementMouseLeave()}),o._UZ(19,"span",59),o.qZA()(),o.YNc(20,Qne,3,1,"div",62),o.YNc(21,Xne,8,2,"div",63),o.YNc(22,eie,7,1,"div",64),o.qZA()}if(2&n){const e=o.oxw(2);o.xp6(5),o.Q6J("ngIf",e.currentHour<10),o.xp6(1),o.Oqu(e.currentHour),o.xp6(5),o.Oqu(e.timeSeparator),o.xp6(5),o.Q6J("ngIf",e.currentMinute<10),o.xp6(1),o.Oqu(e.currentMinute),o.xp6(3),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf",e.showSeconds),o.xp6(1),o.Q6J("ngIf","12"==e.hourFormat)}}const HU=function(n){return[n]};function nie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",68)(1,"button",69),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return o.CHM(e),o.oxw(2).onTodayButtonClick(r)}),o.qZA(),o.TgZ(2,"button",69),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return o.CHM(e),o.oxw(2).onClearButtonClick(r)}),o.qZA()()}if(2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("label",e.getTranslation("today"))("ngClass",o.VKq(4,HU,e.todayButtonStyleClass)),o.xp6(1),o.Q6J("label",e.getTranslation("clear"))("ngClass",o.VKq(6,HU,e.clearButtonStyleClass))}}function iie(n,t){1&n&&o.GkF(0)}const rie=function(n,t,e,i,r,s){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}},jU=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},sie=function(n){return{value:"visibleTouchUI",params:n}},oie=function(n){return{value:"visible",params:n}};function aie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",10,11),o.NdJ("@overlayAnimation.start",function(r){return o.CHM(e),o.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return o.CHM(e),o.oxw().onOverlayAnimationDone(r)})("click",function(r){return o.CHM(e),o.oxw().onOverlayClick(r)}),o.Hsn(2),o.YNc(3,Ene,1,0,"ng-container",12),o.YNc(4,$ne,5,3,"ng-container",13),o.YNc(5,tie,23,8,"div",14),o.YNc(6,nie,3,8,"div",15),o.Hsn(7,1),o.YNc(8,iie,1,0,"ng-container",12),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.panelStyleClass),o.Q6J("ngStyle",e.panelStyle)("ngClass",o.HTZ(11,rie,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?o.VKq(21,sie,o.WLB(18,jU,e.showTransitionOptions,e.hideTransitionOptions)):o.VKq(26,oie,o.WLB(23,jU,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.timeOnly),o.xp6(1),o.Q6J("ngIf",(e.showTime||e.timeOnly)&&"date"===e.currentView),o.xp6(1),o.Q6J("ngIf",e.showButtonBar),o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const lie=[[["p-header"]],[["p-footer"]]],cie=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},uie=["p-header","p-footer"],die={provide:ia,useExisting:(0,o.Gpc)(()=>hie),multi:!0};let hie=(()=>{class n{constructor(e,i,r,s,a,l){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.config=a,this.overlayService=l,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.showClear=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClose=new o.vpe,this.onSelect=new o.vpe,this.onClear=new o.vpe,this.onInput=new o.vpe,this.onTodayClick=new o.vpe,this.onClearClick=new o.vpe,this.onMonthChange=new o.vpe,this.onYearChange=new o.vpe,this.onClickOutside=new o.vpe,this.onShow=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(d,f){return"12"==this.hourFormat?12===d?f?12:0:f?d+12:d:d}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(e){this._view=e,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(e){this._responsiveOptions=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(e){this._numberOfMonths=e,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(e){this._firstDayOfWeek=e,this.createWeekDays()}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=_S();const e=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"decade":this.decadeTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=Se.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.getFirstDateOfWeek(),i=this.getTranslation(ra.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}monthPickerValues(){let e=[];for(let i=0;i<=11;i++)e.push(this.config.getTranslation("monthNamesShort")[i]);return e}yearPickerValues(){let e=[],i=this.currentYear-this.currentYear%10;for(let r=0;r<10;r++)e.push(i+r);return e}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=e+r,a=i;s>11&&(s=s%11-1,a=i+1),this.months.push(this.createMonth(s,a))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],s=this.getFirstDayOfMonthIndex(e,i),a=this.getDaysCountInMonth(e,i),l=this.getDaysCountInPrevMonth(e,i),d=1,f=new Date,p=[],m=Math.ceil((a+s)/7);for(let w=0;w<m;w++){let b=[];if(0==w){for(let E=l-s+1;E<=l;E++){let M=this.getPreviousMonthAndYear(e,i);b.push({day:E,month:M.month,year:M.year,otherMonth:!0,today:this.isToday(f,E,M.month,M.year),selectable:this.isSelectable(E,M.month,M.year,!0)})}let T=7-b.length;for(let E=0;E<T;E++)b.push({day:d,month:e,year:i,today:this.isToday(f,d,e,i),selectable:this.isSelectable(d,e,i,!1)}),d++}else for(let T=0;T<7;T++){if(d>a){let E=this.getNextMonthAndYear(e,i);b.push({day:d-a,month:E.month,year:E.year,otherMonth:!0,today:this.isToday(f,d-a,E.month,E.year),selectable:this.isSelectable(d-a,E.month,E.year,!0)})}else b.push({day:d,month:e,year:i,today:this.isToday(f,d,e,i),selectable:this.isSelectable(d,e,i,!1)});d++}this.showWeek&&p.push(this.getWeekNumber(new Date(b[0].year,b[0].month,b[0].day))),r.push(b)}return{month:e,year:i,dates:r,weekNumbers:p}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}switchToMonthView(e){this.setCurrentView("month"),e.preventDefault()}switchToYearView(e){this.setCurrentView("year"),e.preventDefault()}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){"month"===this.view?this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0}):(this.currentMonth=i,this.createMonths(this.currentMonth,this.currentYear),this.setCurrentView("date"),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(e,i){"year"===this.view?this.onDateSelect(e,{year:i,month:0,day:1,selectable:!0}):(this.currentYear=i,this.setCurrentView("month"),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=this.keepInvalid?e:null;return this.isValidDate(e)&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}setCurrentView(e){this.currentView=e,this.cd.detectChanges(),this.alignOverlay()}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,s;return 0===e?(r=11,s=i-1):(r=e-1,s=i),{month:r,year:s}}getNextMonthAndYear(e,i){let r,s;return 11===e?(r=0,s=i+1):(r=e+1,s=i),{month:r,year:s}}getSundayIndex(){let e=this.getFirstDateOfWeek();return e>0?7-e:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getMonth()===e&&i.getFullYear()===this.currentYear}return!1}isYearSelected(e){if(this.isComparable()){let i=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&i.getFullYear()===e}return!1}isDateEquals(e,i){return!!(e&&e instanceof Date)&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let a=new Date(r.year,r.month,r.day);return e.getTime()<=a.getTime()&&i.getTime()>=a.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,s){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===s}isSelectable(e,i,r,s){let a=!0,l=!0,d=!0,f=!0;return!(s&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(a=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(l=!1),this.disabledDates&&(d=!this.isDateDisabled(e,i,r)),this.disabledDays&&(f=!this.isDayDisabled(e,i,r)),a&&l&&d&&f)}isDateDisabled(e,i,r){if(this.disabledDates)for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let a=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(a)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}clear(){this.inputFieldValue=null,this.value=null,this.onModelChange(this.value),this.onClear.emit()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}getMonthName(e){return this.config.getTranslation("monthNames")[e]}getYear(e){return"month"===this.currentView?this.currentYear:e.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(Se.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const s=e.currentTarget,a=s.parentElement;switch(e.which){case 40:{s.tabIndex="-1";let l=Se.index(a),d=a.parentElement.nextElementSibling;d?Se.hasClass(d.children[l].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(d.children[l].children[0].tabIndex="0",d.children[l].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{s.tabIndex="-1";let l=Se.index(a),d=a.parentElement.previousElementSibling;if(d){let f=d.children[l].children[0];Se.hasClass(f,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(f.tabIndex="0",f.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{s.tabIndex="-1";let l=a.previousElementSibling;if(l){let d=l.children[0];Se.hasClass(d,"p-disabled")||Se.hasClass(d.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(d.tabIndex="0",d.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{s.tabIndex="-1";let l=a.nextElementSibling;if(l){let d=l.children[0];Se.hasClass(d,"p-disabled")?this.navigateToMonth(!1,r):(d.tabIndex="0",d.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:case 32:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,a=Se.index(r);let l=s[40===e.which?a+3:a-3];l&&(l.tabIndex="0",l.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let l=r.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let l=r.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onYearCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,a=Se.index(r);let l=s[40===e.which?a+2:a-2];l&&(l.tabIndex="0",l.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let l=r.previousElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!0},this.navBackward(e)),e.preventDefault();break}case 39:{r.tabIndex="-1";let l=r.nextElementSibling;l?(l.tabIndex="0",l.focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 13:case 32:this.onYearSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let s=Se.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),a=s[s.length-1];a.tabIndex="0",a.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let s=Se.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?Se.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():Se.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i;i=Se.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),i&&i.length>0&&(e=i[i.length-1])}else e=Se.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.currentView){let i=Se.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=Se.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(s=>s.tabIndex=-1),e=r||i[0],0===i.length&&Se.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if("year"===this.currentView){let i=Se.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),r=Se.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");i.forEach(s=>s.tabIndex=-1),e=r||i[0],0===i.length&&Se.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(a=>a.tabIndex=-1)}else if(e=Se.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){let i=Se.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");e=i||Se.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{e.focus()},1),this.preventFocus=!1)}trapFocus(e){let i=Se.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,s){let a=this.value;const l=this.convertTo24Hour(e,s);this.isRangeSelection()&&(a=this.value[1]||this.value[0]),this.isMultipleSelection()&&(a=this.value[this.value.length-1]);const d=a?a.toDateString():null;return!(this.minDate&&d&&this.minDate.toDateString()===d&&(this.minDate.getHours()>l||this.minDate.getHours()===l&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&d&&this.maxDate.toDateString()===d&&(this.maxDate.getHours()<l||this.maxDate.getHours()===l&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,s=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,s)&&(this.currentHour=r,this.pm=s),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,s){let a=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,s),this.cd.markForCheck()},a),r){case 0:1===s?this.incrementHour(e):this.decrementHour(e);break;case 1:1===s?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===s?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(this.keepInvalid?i:null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const s=this.getDateFormat();if(this.showTime){let a="12"==this.hourFormat?r.pop():null,l=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,l,a)}else i=this.parseDate(e,s)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let s=this.parseTime(i);e.setHours(s.hour),e.setMinutes(s.minute),e.setSeconds(s.second)}isValidDate(e){return e instanceof Date&&xn.isNotEmpty(e)}updateUI(){let e=this.value;Array.isArray(e)&&(e=e[0]);let i=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:e&&this.isValidDate(e)?e:new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?No.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):No.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&No.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Se.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=Se.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=Se.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=Se.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",Se.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):Se.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),Se.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),Se.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(Se.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(Se.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||Se.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){if(this.value=e,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(i){this.keepInvalid&&(this.value=e)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(ra.FIRST_DAY_OF_WEEK)}formatDate(e,i){if(!e)return"";let r;const s=p=>{const m=r+1<i.length&&i.charAt(r+1)===p;return m&&r++,m},a=(p,m,w)=>{let b=""+m;if(s(p))for(;b.length<w;)b="0"+b;return b},l=(p,m,w,b)=>s(p)?b[m]:w[m];let d="",f=!1;if(e)for(r=0;r<i.length;r++)if(f)"'"!==i.charAt(r)||s("'")?d+=i.charAt(r):f=!1;else switch(i.charAt(r)){case"d":d+=a("d",e.getDate(),2);break;case"D":d+=l("D",e.getDay(),this.getTranslation(ra.DAY_NAMES_SHORT),this.getTranslation(ra.DAY_NAMES));break;case"o":d+=a("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=a("m",e.getMonth()+1,2);break;case"M":d+=l("M",e.getMonth(),this.getTranslation(ra.MONTH_NAMES_SHORT),this.getTranslation(ra.MONTH_NAMES));break;case"y":d+=s("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this.ticksTo1970;break;case"'":s("'")?d+="'":f=!0;break;default:d+=i.charAt(r)}return d}formatTime(e){if(!e)return"";let i="",r=e.getHours(),s=e.getMinutes(),a=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=a<10?"0"+a:a),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let s=parseInt(i[0]),a=parseInt(i[1]),l=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(a)||s>23||a>59||"12"==this.hourFormat&&s>12||this.showSeconds&&(isNaN(l)||l>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==s&&this.pm?s+=12:!this.pm&&12===s&&(s-=12)),{hour:s,minute:a,second:l}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,s,a,T,l=0,d="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),f=-1,p=-1,m=-1,w=-1,b=!1,E=U=>{let q=r+1<i.length&&i.charAt(r+1)===U;return q&&r++,q},M=U=>{let q=E(U),Q="@"===U?14:"!"===U?20:"y"===U&&q?4:"o"===U?3:2,K=new RegExp("^\\d{"+("y"===U?Q:1)+","+Q+"}"),he=e.substring(l).match(K);if(!he)throw"Missing number at position "+l;return l+=he[0].length,parseInt(he[0],10)},N=(U,q,Q)=>{let ue=-1,K=E(U)?Q:q,he=[];for(let de=0;de<K.length;de++)he.push([de,K[de]]);he.sort((de,Me)=>-(de[1].length-Me[1].length));for(let de=0;de<he.length;de++){let Me=he[de][1];if(e.substr(l,Me.length).toLowerCase()===Me.toLowerCase()){ue=he[de][0],l+=Me.length;break}}if(-1!==ue)return ue+1;throw"Unknown name at position "+l},V=()=>{if(e.charAt(l)!==i.charAt(r))throw"Unexpected literal at position "+l;l++};for("month"===this.view&&(m=1),r=0;r<i.length;r++)if(b)"'"!==i.charAt(r)||E("'")?V():b=!1;else switch(i.charAt(r)){case"d":m=M("d");break;case"D":N("D",this.getTranslation(ra.DAY_NAMES_SHORT),this.getTranslation(ra.DAY_NAMES));break;case"o":w=M("o");break;case"m":p=M("m");break;case"M":p=N("M",this.getTranslation(ra.MONTH_NAMES_SHORT),this.getTranslation(ra.MONTH_NAMES));break;case"y":f=M("y");break;case"@":T=new Date(M("@")),f=T.getFullYear(),p=T.getMonth()+1,m=T.getDate();break;case"!":T=new Date((M("!")-this.ticksTo1970)/1e4),f=T.getFullYear(),p=T.getMonth()+1,m=T.getDate();break;case"'":E("'")?V():b=!0;break;default:V()}if(l<e.length&&(a=e.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=d?0:-100)),w>-1)for(p=1,m=w;s=this.getDaysCountInMonth(f,p-1),!(m<=s);)p++,m-=s;if(T=this.daylightSavingAdjust(new Date(f,p-1,m)),T.getFullYear()!==f||T.getMonth()+1!==p||T.getDate()!==m)throw"Invalid date";return T}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let e="";if(this.responsiveOptions){let i=[...this.responsiveOptions].filter(r=>!(!r.breakpoint||!r.numMonths)).sort((r,s)=>-1*r.breakpoint.localeCompare(s.breakpoint,void 0,{numeric:!0}));for(let r=0;r<i.length;r++){let{breakpoint:s,numMonths:a}=i[r],l=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${a}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let d=a;d<this.numberOfMonths;d++)l+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${d+1}) {\n                                display: none !important;\n                            }\n                        `;e+=`\n                        @media screen and (max-width: ${s}) {\n                            ${l}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=e}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return Se.hasClass(e.target,"p-datepicker-prev")||Se.hasClass(e.target,"p-datepicker-prev-icon")||Se.hasClass(e.target,"p-datepicker-next")||Se.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!Se.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&No.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(_y),o.Y36(vS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(yne,5),o.Gf(wne,5),o.Gf(xne,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.containerViewChild=r.first),o.iGM(r=o.CRH())&&(i.inputfieldViewChild=r.first),o.iGM(r=o.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)("p-calendar-clearable",i.showClear&&!i.disabled)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",showClear:"showClear",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[o._Bn([die])],ngContentSelectors:uie,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["class","p-calendar-clear-icon pi pi-times",3,"click",4,"ngIf"],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],[1,"p-calendar-clear-icon","pi","pi-times",3,"click"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(o.F$t(lie),o.TgZ(0,"span",0,1),o.YNc(2,Tne,4,17,"ng-template",2),o.YNc(3,aie,9,28,"div",3),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass",o.l5B(6,cie,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),o.xp6(2),o.Q6J("ngIf",!i.inline),o.xp6(1),o.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[mi,Wi,Tn,Zl,Sh,ir,ii],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-calendar-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-calendar-clearable{position:relative}\n"],encapsulation:2,data:{animation:[cs("overlayAnimation",[it("visibleTouchUI",re({transform:"translate(-50%,-50%)",opacity:1})),fn("void => visible",[re({opacity:0,transform:"scaleY(0.8)"}),D("{{showTransitionParams}}",re({opacity:1,transform:"*"}))]),fn("visible => void",[D("{{hideTransitionParams}}",re({opacity:0}))]),fn("void => visibleTouchUI",[re({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),D("{{showTransitionParams}}")]),fn("visibleTouchUI => void",[D("{{hideTransitionParams}}",re({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,yy,sa,cd],yy,sa]}),n})();const fie=["container"],pie=["resizeHelper"],gie=["reorderIndicatorUp"],mie=["reorderIndicatorDown"],_ie=["wrapper"],vie=["table"],yie=["tableHeader"];function wie(n,t){if(1&n&&(o.TgZ(0,"div",14),o._UZ(1,"i"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function xie(n,t){1&n&&o.GkF(0)}function bie(n,t){if(1&n&&(o.TgZ(0,"div",15),o.YNc(1,xie,1,0,"ng-container",16),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.captionTemplate)}}function Cie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p-paginator",17),o.NdJ("onPageChange",function(r){return o.CHM(e),o.oxw().onPageChange(r)}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function Tie(n,t){1&n&&o.GkF(0)}function Eie(n,t){1&n&&o.GkF(0)}function Sie(n,t){if(1&n&&o._UZ(0,"tbody",25),2&n){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function Iie(n,t){1&n&&o.GkF(0)}const P0=function(n){return{$implicit:n}};function kie(n,t){if(1&n&&(o.TgZ(0,"tfoot",26),o.YNc(1,Iie,1,0,"ng-container",20),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,P0,e.columns))}}function Die(n,t){if(1&n&&(o.TgZ(0,"table",18,19),o.YNc(2,Tie,1,0,"ng-container",20),o.TgZ(3,"thead",21),o.YNc(4,Eie,1,0,"ng-container",20),o.qZA(),o.YNc(5,Sie,1,5,"tbody",22),o._UZ(6,"tbody",23),o.YNc(7,kie,2,4,"tfoot",24),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.uIk("id",e.id+"-table"),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(12,P0,e.columns)),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(14,P0,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function Aie(n,t){1&n&&o.GkF(0)}function Mie(n,t){1&n&&o.GkF(0)}function Oie(n,t){if(1&n&&o._UZ(0,"tbody",25),2&n){const e=o.oxw(2);o.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function Rie(n,t){1&n&&o.GkF(0)}function Fie(n,t){if(1&n&&(o.TgZ(0,"tfoot",26),o.YNc(1,Rie,1,0,"ng-container",20),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",o.VKq(2,P0,e.columns))}}function Pie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"cdk-virtual-scroll-viewport",27),o.NdJ("scrolledIndexChange",function(r){return o.CHM(e),o.oxw().onScrollIndexChange(r)}),o.TgZ(1,"table",18,19),o.YNc(3,Aie,1,0,"ng-container",20),o.TgZ(4,"thead",21,28),o.YNc(6,Mie,1,0,"ng-container",20),o.qZA(),o.YNc(7,Oie,1,5,"tbody",22),o._UZ(8,"tbody",23),o.YNc(9,Fie,2,4,"tfoot",24),o.qZA()()}if(2&n){const e=o.oxw();o.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),o.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),o.xp6(1),o.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),o.uIk("id",e.id+"-table"),o.xp6(2),o.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",o.VKq(17,P0,e.columns)),o.xp6(3),o.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",o.VKq(19,P0,e.columns)),o.xp6(1),o.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),o.xp6(1),o.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),o.xp6(1),o.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function Nie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"p-paginator",29),o.NdJ("onPageChange",function(r){return o.CHM(e),o.oxw().onPageChange(r)}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function Lie(n,t){1&n&&o.GkF(0)}function Bie(n,t){if(1&n&&(o.TgZ(0,"div",30),o.YNc(1,Lie,1,0,"ng-container",16),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function Vie(n,t){1&n&&o._UZ(0,"div",31,32)}function Uie(n,t){1&n&&o._UZ(0,"span",33,34)}function Hie(n,t){1&n&&o._UZ(0,"span",35,36)}const jie=function(n,t,e,i,r,s,a,l,d,f,p,m,w,b){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":s,"p-datatable-scrollable-horizontal":a,"p-datatable-scrollable-both":l,"p-datatable-flex-scrollable":d,"p-datatable-responsive-stack":f,"p-datatable-responsive-scroll":p,"p-datatable-responsive":m,"p-datatable-grouped-header":w,"p-datatable-grouped-footer":b}},zie=function(n){return{height:n}},Zie=["pTableBody",""];function Wie(n,t){1&n&&o.GkF(0)}const gM=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function qie(n,t){if(1&n&&(o.ynx(0,3),o.YNc(1,Wie,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.qbA(2,gM,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function Gie(n,t){1&n&&o.GkF(0)}function $ie(n,t){if(1&n&&(o.ynx(0),o.YNc(1,Gie,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.qbA(2,gM,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function Yie(n,t){1&n&&o.GkF(0)}const Kie=function(n,t,e,i,r,s,a){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:s,rowspan:a}};function Qie(n,t){if(1&n&&(o.ynx(0),o.YNc(1,Yie,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.Hh0(2,Kie,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen,s.shouldRenderRowspan(s.value,i,r),s.calculateRowGroupSize(s.value,i,r)))}}function Jie(n,t){1&n&&o.GkF(0)}function Xie(n,t){if(1&n&&(o.ynx(0,3),o.YNc(1,Jie,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",o.qbA(2,gM,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function ere(n,t){if(1&n&&(o.YNc(0,qie,2,8,"ng-container",2),o.YNc(1,$ie,2,8,"ng-container",0),o.YNc(2,Qie,2,10,"ng-container",0),o.YNc(3,Xie,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),o.xp6(1),o.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),o.xp6(1),o.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function tre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,ere,4,4,"ng-template",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function nre(n,t){1&n&&o.GkF(0)}function ire(n,t){if(1&n&&o.YNc(0,nre,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.qbA(2,gM,e,r.dt.paginator?r.dt.first+i:i,r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function rre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,ire,1,8,"ng-template",5),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("cdkVirtualForOf",e.dt.filteredValue||e.dt.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function sre(n,t){1&n&&o.GkF(0)}const mM=function(n,t,e,i,r,s){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:s}};function ore(n,t){if(1&n&&(o.ynx(0),o.YNc(1,sre,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",o.HTZ(2,mM,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function are(n,t){1&n&&o.GkF(0)}function lre(n,t){if(1&n&&(o.ynx(0,3),o.YNc(1,are,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",o.HTZ(2,mM,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function cre(n,t){1&n&&o.GkF(0)}function ure(n,t){1&n&&o.GkF(0)}function dre(n,t){if(1&n&&(o.ynx(0,3),o.YNc(1,ure,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(2),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",o.HTZ(2,mM,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}const ZU=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function hre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,cre,1,0,"ng-container",4),o.YNc(2,dre,2,9,"ng-container",2),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.dt.expandedRowTemplate)("ngTemplateOutletContext",o.l5B(3,ZU,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.frozen)),o.xp6(1),o.Q6J("ngIf",s.dt.groupFooterTemplate&&"subheader"===s.dt.rowGroupMode&&s.shouldRenderRowGroupFooter(s.value,i,r))}}function fre(n,t){if(1&n&&(o.YNc(0,ore,2,9,"ng-container",0),o.YNc(1,lre,2,9,"ng-container",2),o.YNc(2,hre,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("ngIf",!r.dt.groupHeaderTemplate),o.xp6(1),o.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),o.xp6(1),o.Q6J("ngIf",r.dt.isRowExpanded(e))}}function pre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,fre,3,3,"ng-template",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function gre(n,t){1&n&&o.GkF(0)}function mre(n,t){1&n&&o.GkF(0)}function _re(n,t){if(1&n&&(o.ynx(0),o.YNc(1,mre,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw(),i=e.$implicit,r=e.index,s=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",s.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",o.l5B(2,ZU,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.frozen))}}function vre(n,t){if(1&n&&(o.YNc(0,gre,1,0,"ng-container",4),o.YNc(1,_re,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=o.oxw(2);o.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",o.HTZ(3,mM,e,r.dt.paginator?r.dt.first+i:i,r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),o.xp6(1),o.Q6J("ngIf",r.dt.isRowExpanded(e))}}function yre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,vre,2,10,"ng-template",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function wre(n,t){1&n&&o.GkF(0)}const WU=function(n,t){return{$implicit:n,frozen:t}};function xre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,wre,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",o.WLB(2,WU,e.columns,e.frozen))}}function bre(n,t){1&n&&o.GkF(0)}function Cre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,bre,1,0,"ng-container",4),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",o.WLB(2,WU,e.columns,e.frozen))}}function Tre(n,t){if(1&n&&(o.TgZ(0,"span",2),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.getBadgeValue())}}const Ere=function(n,t,e){return{"pi-sort-amount-up-alt":n,"pi-sort-amount-down":t,"pi-sort-alt":e}};function Sre(n,t){1&n&&o.GkF(0)}function Ire(n,t){if(1&n&&(o.ynx(0),o.YNc(1,Sre,1,0,"ng-container",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.inputTemplate)}}function kre(n,t){1&n&&o.GkF(0)}function Dre(n,t){if(1&n&&(o.ynx(0),o.YNc(1,kre,1,0,"ng-container",1),o.BQk()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngTemplateOutlet",e.outputTemplate)}}let gL=(()=>{class n{constructor(){this.sortSource=new li.x,this.selectionSource=new li.x,this.contextMenuSource=new li.x,this.valueSource=new li.x,this.totalRecordsSource=new li.x,this.columnsSource=new li.x,this.resetSource=new li.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),_o=(()=>{class n{constructor(e,i,r,s,a,l){this.el=e,this.zone=i,this.tableService=r,this.cd=s,this.filterService=a,this.overlayService=l,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new o.vpe,this.selectionChange=new o.vpe,this.contextMenuSelectionChange=new o.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(d,f)=>f,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new o.vpe,this.onRowUnselect=new o.vpe,this.onPage=new o.vpe,this.onSort=new o.vpe,this.onFilter=new o.vpe,this.onLazyLoad=new o.vpe,this.onRowExpand=new o.vpe,this.onRowCollapse=new o.vpe,this.onContextMenuSelect=new o.vpe,this.onColResize=new o.vpe,this.onColReorder=new o.vpe,this.onRowReorder=new o.vpe,this.onEditInit=new o.vpe,this.onEditComplete=new o.vpe,this.onEditCancel=new o.vpe,this.onHeaderCheckboxToggle=new o.vpe,this.sortFunction=new o.vpe,this.firstChange=new o.vpe,this.rowsChange=new o.vpe,this.onStateSave=new o.vpe,this.onStateRestore=new o.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=_S(),this.virtualScrollInitialized=!1}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),e.selectAll&&(this._selectAll=e.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get selectAll(){return this._selection}set selectAll(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(xn.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(xn.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(e.field);s?r?s.order=-1*s.order:(this._multiSortMeta=[{field:e.field,order:-1*s.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((s,a)=>{let l=xn.resolveFieldData(s,e),d=xn.resolveFieldData(a,e),f=null;return f=null==l&&null!=d?-1:null!=l&&null==d?1:null==l&&null==d?0:"string"==typeof l&&"string"==typeof d?l.localeCompare(d):l<d?-1:l>d?1:0,i*f}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,s){let a=xn.resolveFieldData(e,r[s].field),l=xn.resolveFieldData(i,r[s].field),d=null;if(null==a&&null!=l)d=-1;else if(null!=a&&null==l)d=1;else if(null==a&&null==l)d=0;else if("string"==typeof a||a instanceof String){if(a.localeCompare&&a!=l)return r[s].order*a.localeCompare(l)}else d=a<l?-1:1;return a==l?r.length-1>s?this.multisortField(e,i,r,s+1):0:r[s].order*d}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=s&&"BUTTON"!=s&&"A"!=s&&!Se.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){let a=e.rowData,l=e.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)Se.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=l,this.selectRange(e.originalEvent,l);else{let d=this.isSelected(a);if(!d&&!this.isRowSelectable(a,l))return;let f=!this.rowTouched&&this.metaKeySelection,p=this.dataKey?String(xn.resolveFieldData(a,this.dataKey)):null;if(this.anchorRowIndex=l,this.rangeRowIndex=l,f){let m=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(d&&m){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let w=this.findIndexInSelection(a);this._selection=this.selection.filter((b,T)=>T!=w),this.selectionChange.emit(this.selection),p&&delete this.selectionKeys[p]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:a,type:"row"})}else this.isSingleSelectionMode()?(this._selection=a,this.selectionChange.emit(a),p&&(this.selectionKeys={},this.selectionKeys[p]=1)):this.isMultipleSelectionMode()&&(m?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,a],this.selectionChange.emit(this.selection),p&&(this.selectionKeys[p]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:a,type:"row",index:l})}else if("single"===this.selectionMode)d?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:a,type:"row",index:l})):(this._selection=a,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:a,type:"row",index:l}),p&&(this.selectionKeys={},this.selectionKeys[p]=1));else if("multiple"===this.selectionMode)if(d){let m=this.findIndexInSelection(a);this._selection=this.selection.filter((w,b)=>b!=m),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:a,type:"row",index:l}),p&&delete this.selectionKeys[p]}else this._selection=this.selection?[...this.selection,a]:[a],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:a,type:"row",index:l}),p&&(this.selectionKeys[p]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData,r=e.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let s=this.isSelected(i),a=this.dataKey?String(xn.resolveFieldData(i,this.dataKey)):null;if(!s){if(!this.isRowSelectable(i,r))return;this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),a&&(this.selectionKeys={},this.selectionKeys[a]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),a&&(this.selectionKeys[a]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,s;this.anchorRowIndex>i?(r=i,s=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,s=i):(r=i,s=i),this.lazy&&this.paginator&&(r-=this.first,s-=this.first);let a=[];for(let l=r;l<=s;l++){let d=this.filteredValue?this.filteredValue[l]:this.value[l];if(!this.isSelected(d)){if(!this.isRowSelectable(d,i))continue;a.push(d),this._selection=[...this.selection,d];let f=this.dataKey?String(xn.resolveFieldData(d,this.dataKey)):null;f&&(this.selectionKeys[f]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:a,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let s=i;s<=r;s++){let a=this.value[s],l=this.findIndexInSelection(a);this._selection=this.selection.filter((f,p)=>p!=l);let d=this.dataKey?String(xn.resolveFieldData(a,this.dataKey)):null;d&&delete this.selectionKeys[d],this.onRowUnselect.emit({originalEvent:e,data:a,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[xn.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isRowSelectable(e,i){return!(this.rowSelectable&&!this.rowSelectable({data:e,index:i}))}toggleRowWithRadio(e,i){if(this.preventSelectionSetterPropagation=!0,this.selection!=i){if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(xn.resolveFieldData(i,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),s=this.dataKey?String(xn.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let a=this.findIndexInSelection(i);this._selection=this.selection.filter((l,d)=>d!=a),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else{if(!this.isRowSelectable(i,e.rowIndex))return;this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:e,checked:i});else{const r=this.selectionPageOnly?this.dataToRender:this.filteredValue||this.value||[];let s=this.selectionPageOnly&&this._selection?this._selection.filter(a=>!r.some(l=>this.equals(a,l))):[];i&&(s=this.frozenValue?[...s,...this.frozenValue,...r]:[...s,...r],s=this.rowSelectable?s.filter((a,l)=>this.rowSelectable({data:a,index:l})):s),this._selection=s,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}}equals(e,i){return"equals"===this.compareSelectionBy?e===i:xn.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let l,r=!0,s=!1,a=!1;for(let d in this.filters)if(this.filters.hasOwnProperty(d)&&"global"!==d){a=!0;let f=d,p=this.filters[f];if(Array.isArray(p)){for(let m of p)if(r=this.executeLocalFilter(f,this.value[i],m),m.operator===iU.OR&&r||m.operator===iU.AND&&!r)break}else r=this.executeLocalFilter(f,this.value[i],p);if(!r)break}if(this.filters.global&&!s&&e)for(let d=0;d<e.length&&(s=this.filterService.filters[this.filters.global.matchMode](xn.resolveFieldData(this.value[i],e[d].field||e[d]),this.filters.global.value,this.filterLocale),!s);d++);l=this.filters.global?a?a&&r&&s:s:a&&r,l&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let s=r.value,a=r.matchMode||Fa.STARTS_WITH,l=xn.resolveFieldData(i,e);return this.filterService.filters[a](l,s,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(e){return e[this.exportHeader]||e.header||e.field}exportCSV(e){let i,r="",s=this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let d=0;d<s.length;d++){let f=s[d];!1!==f.exportable&&f.field&&(r+='"'+this.getExportHeader(f)+'"',d<s.length-1&&(r+=this.csvSeparator))}i.forEach((d,f)=>{r+="\n";for(let p=0;p<s.length;p++){let m=s[p];if(!1!==m.exportable&&m.field){let w=xn.resolveFieldData(d,m.field);w=null!=w?this.exportFunction?this.exportFunction({data:w,field:m.field}):String(w).replace(/"/g,'""'):"",r+='"'+w+'"',p<s.length-1&&(r+=this.csvSeparator)}}});let a=new Blob([r],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.style.display="none",document.body.appendChild(l),void 0!==l.download?(l.setAttribute("href",URL.createObjectURL(a)),l.setAttribute("download",this.exportFilename+".csv"),l.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(l)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let i=Math.floor(e/this.rows),r=0===i?0:(i-1)*this.rows,s=0===i?2*this.rows:3*this.rows;i!==this.virtualPage&&(this.virtualPage=i,this.lazyLoadOnInit||this.virtualScrollInitialized?this.onLazyLoad.emit({first:r,rows:s,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}):this.virtualScrollInitialized=!0)},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top))}updateEditingCell(e,i,r,s){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=s,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===Se.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(Se.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(xn.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===Se.find(i,".ng-invalid.ng-dirty").length){let r=String(xn.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(xn.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(xn.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(xn.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(xn.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=Se.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=Se.getOffset(this.containerViewChild.nativeElement).left;Se.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let l=this.resizeColumnElement.nextElementSibling.offsetWidth-e;r>15&&l>15&&this.resizeTableCells(r,l)}else if("expand"===this.columnResizeMode){let a=this.tableViewChild.nativeElement.offsetWidth+e;this.tableViewChild.nativeElement.style.width=a+"px",this.tableViewChild.nativeElement.style.minWidth=a+"px",this.resizeTableCells(r,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",Se.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=Se.index(this.resizeColumnElement),s=[];const a=Se.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");Se.find(a,"tr > th").forEach(f=>s.push(Se.getOuterWidth(f))),this.destroyStyleElement(),this.createStyleElement();let d="";s.forEach((f,p)=>{let m=p===r?e:i&&p===r+1?i:f;d+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${p+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${p+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${p+1}) {\n                    ${this.scrollable?`flex: 1 1 ${m}px !important`:`width: ${m}px !important`}\n                }\n            `}),this.styleElement.innerHTML=d}onColumnDragStart(e,i){this.reorderIconWidth=Se.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=Se.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=Se.getOffset(this.containerViewChild.nativeElement),s=Se.getOffset(i);if(this.draggedColumn!=i){let a=Se.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),l=Se.indexWithinGroup(i,"preorderablecolumn"),d=s.left-r.left,p=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",e.pageX>p?(this.reorderIndicatorUpViewChild.nativeElement.style.left=d+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=d+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=d-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=d-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),l-a==1&&-1===this.dropPosition||l-a==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=Se.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=Se.indexWithinGroup(i,"preorderablecolumn"),a=r!=s;a&&(s-r==1&&-1===this.dropPosition||r-s==1&&1===this.dropPosition)&&(a=!1),a&&s<r&&1===this.dropPosition&&(s+=1),a&&s>r&&-1===this.dropPosition&&(s-=1),a&&(xn.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let s=Se.getOffset(r).top+Se.getWindowScrollTop(),a=e.pageY,l=s+Se.getOuterHeight(r)/2,d=r.previousElementSibling;a<l?(Se.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,d?Se.addClass(d,"p-datatable-dragpoint-bottom"):Se.addClass(r,"p-datatable-dragpoint-top")):(d?Se.removeClass(d,"p-datatable-dragpoint-bottom"):Se.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,Se.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&Se.removeClass(r,"p-datatable-dragpoint-bottom"),Se.removeClass(i,"p-datatable-dragpoint-bottom"),Se.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;xn.reorderArray(this.value,this.draggedRowIndex,r),this.virtualScroll&&(this._value=[...this._value]),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let a=JSON.parse(i,function(a,l){return"string"==typeof l&&r.test(l)?new Date(l):l});this.paginator&&(void 0!==this.first&&(this.first=a.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=a.rows,this.rowsChange.emit(this.rows))),a.sortField&&(this.restoringSort=!0,this._sortField=a.sortField,this._sortOrder=a.sortOrder),a.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=a.multiSortMeta),a.filters&&(this.restoringFilter=!0,this.filters=a.filters),this.resizableColumns&&(this.columnWidthsState=a.columnWidths,this.tableWidthState=a.tableWidth),a.expandedRowKeys&&(this.expandedRowKeys=a.expandedRowKeys),a.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(a.selection)),this.stateRestored=!0,this.onStateRestore.emit(a)}}saveColumnWidths(e){let i=[];Se.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(s=>i.push(Se.getOuterWidth(s))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=Se.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),xn.isNotEmpty(e)){this.createStyleElement();let i="";e.forEach((r,s)=>{i+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${s+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${s+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${s+1}) {\n                            ${this.scrollable?`flex: 1 1 ${r}px !important`:`width: ${r}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=i}}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let s=JSON.parse(i).columnOrder;if(s){let a=[];s.map(l=>{let d=this.findColumnByKey(l);d&&a.push(d)}),this.columnOrderStateRestored=!0,this.columns=a}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollInitialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(gL),o.Y36(o.sBO),o.Y36(nU),o.Y36(vS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(fie,5),o.Gf(pie,5),o.Gf(gie,5),o.Gf(mie,5),o.Gf(_ie,5),o.Gf(vie,5),o.Gf(yie,5),o.Gf(mS,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.containerViewChild=r.first),o.iGM(r=o.CRH())&&(i.resizeHelperViewChild=r.first),o.iGM(r=o.CRH())&&(i.reorderIndicatorUpViewChild=r.first),o.iGM(r=o.CRH())&&(i.reorderIndicatorDownViewChild=r.first),o.iGM(r=o.CRH())&&(i.wrapperViewChild=r.first),o.iGM(r=o.CRH())&&(i.tableViewChild=r.first),o.iGM(r=o.CRH())&&(i.tableHeaderViewChild=r.first),o.iGM(r=o.CRH())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[o._Bn([gL]),o.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0,1),o.YNc(2,wie,2,2,"div",2),o.YNc(3,bie,2,1,"div",3),o.YNc(4,Cie,1,17,"p-paginator",4),o.TgZ(5,"div",5,6),o.YNc(7,Die,8,16,"table",7),o.YNc(8,Pie,10,21,"cdk-virtual-scroll-viewport",8),o.qZA(),o.YNc(9,Nie,1,17,"p-paginator",9),o.YNc(10,Bie,2,1,"div",10),o.YNc(11,Vie,2,0,"div",11),o.YNc(12,Uie,2,0,"span",12),o.YNc(13,Hie,2,0,"span",13),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngStyle",i.style)("ngClass",o.rFY(16,jie,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),o.uIk("id",i.id),o.xp6(2),o.Q6J("ngIf",i.loading&&i.showLoader),o.xp6(1),o.Q6J("ngIf",i.captionTemplate),o.xp6(1),o.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),o.xp6(1),o.Q6J("ngStyle",o.VKq(31,zie,i.scrollHeight)),o.xp6(2),o.Q6J("ngIf",!i.virtualScroll),o.xp6(1),o.Q6J("ngIf",i.virtualScroll),o.xp6(1),o.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),o.xp6(1),o.Q6J("ngIf",i.summaryTemplate),o.xp6(1),o.Q6J("ngIf",i.resizableColumns),o.xp6(1),o.Q6J("ngIf",i.reorderableColumns),o.xp6(1),o.Q6J("ngIf",i.reorderableColumns))},directives:function(){return[tne,Jre,mS,Wi,mi,Tn,ir,Y8]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-virtual-scrollable-body>.cdk-virtual-scroll-content-wrapper>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}\n"],encapsulation:2}),n})(),Jre=(()=>{class n{constructor(e,i,r,s){this.dt=e,this.tableService=i,this.cd=r,this.el=s,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let s=xn.resolveFieldData(i,this.dt.groupRowsBy),a=e[r-1];return!a||s!==xn.resolveFieldData(a,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let s=xn.resolveFieldData(i,this.dt.groupRowsBy),a=e[r+1];return!a||s!==xn.resolveFieldData(a,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let s=xn.resolveFieldData(i,this.dt.groupRowsBy),a=e[r-1];return!a||s!==xn.resolveFieldData(a,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let s=xn.resolveFieldData(i,this.dt.groupRowsBy),a=s,l=0;for(;s===a;){l++;let d=e[++r];if(!d)break;a=xn.resolveFieldData(d,this.dt.groupRowsBy)}return 1===l?null:l}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=Se.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=Se.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o),o.Y36(gL),o.Y36(o.sBO),o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:Zie,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(o.YNc(0,tre,2,2,"ng-container",0),o.YNc(1,rre,2,3,"ng-container",0),o.YNc(2,pre,2,2,"ng-container",0),o.YNc(3,yre,2,2,"ng-container",0),o.YNc(4,xre,2,5,"ng-container",0),o.YNc(5,Cre,2,5,"ng-container",0)),2&e&&(o.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),o.xp6(1),o.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),o.xp6(1),o.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),o.xp6(1),o.Q6J("ngIf",i.dt.loading),o.xp6(1),o.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},directives:[Tn,ii,ir,J8],encapsulation:2}),n})(),$f=(()=>{class n{constructor(e){this.dt=e,this.isEnabled()&&(this.subscription=this.dt.tableService.sortSource$.subscribe(i=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.dt.isSorted(this.field),this.sortOrder=this.sorted?1===this.dt.sortOrder?"ascending":"descending":"none"}onClick(e){this.isEnabled()&&!this.isFilterElement(e.target)&&(this.updateSortState(),this.dt.sort({originalEvent:e,field:this.field}),Se.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.pSortableColumnDisabled}isFilterElement(e){return Se.hasClass(e,"pi-filter-icon")||Se.hasClass(e,"p-column-filter-menu-button")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o))},n.\u0275dir=o.lG2({type:n,selectors:[["","pSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s)})("keydown.enter",function(s){return i.onEnterKey(s)}),2&e&&(o.uIk("tabindex",i.isEnabled()?"0":null)("role","columnheader")("aria-sort",i.sortOrder),o.ekj("p-sortable-column",i.isEnabled())("p-highlight",i.sorted))},inputs:{field:["pSortableColumn","field"],pSortableColumnDisabled:"pSortableColumnDisabled"}}),n})(),Yf=(()=>{class n{constructor(e,i){this.dt=e,this.cd=i,this.subscription=this.dt.tableService.sortSource$.subscribe(r=>{this.updateSortState()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.dt.sortMode)this.sortOrder=this.dt.isSorted(this.field)?this.dt.sortOrder:0;else if("multiple"===this.dt.sortMode){let e=this.dt.getSortMeta(this.field);this.sortOrder=e?e.order:0}this.cd.markForCheck()}getMultiSortMetaIndex(){let e=this.dt._multiSortMeta,i=-1;if(e&&"multiple"===this.dt.sortMode&&(this.dt.showInitialSortBadge||e.length>1))for(let r=0;r<e.length;r++){let s=e[r];if(s.field===this.field||s.field===this.field){i=r;break}}return i}getBadgeValue(){let e=this.getMultiSortMetaIndex();return this.dt.groupRowsBy&&e>-1?e:e+1}isMultiSorted(){return"multiple"===this.dt.sortMode&&this.getMultiSortMetaIndex()>-1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-sortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field"},decls:2,vars:6,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"],["class","p-sortable-column-badge",4,"ngIf"],[1,"p-sortable-column-badge"]],template:function(e,i){1&e&&(o._UZ(0,"i",0),o.YNc(1,Tre,2,1,"span",1)),2&e&&(o.Q6J("ngClass",o.kEZ(2,Ere,1===i.sortOrder,-1===i.sortOrder,0===i.sortOrder)),o.xp6(1),o.Q6J("ngIf",i.isMultiSorted()))},directives:[mi,Tn],encapsulation:2,changeDetection:0}),n})(),Xre=(()=>{class n{constructor(e,i,r){this.dt=e,this.el=i,this.zone=r}ngAfterViewInit(){this.isEnabled()&&Se.addClass(this.el.nativeElement,"p-editable-column")}onClick(e){if(this.isEnabled())if(this.dt.selfClick=!0,this.dt.editingCell){if(this.dt.editingCell!==this.el.nativeElement){if(!this.dt.isEditingCellValid())return;this.closeEditingCell(!0,e),this.openCell()}}else this.openCell()}openCell(){this.dt.updateEditingCell(this.el.nativeElement,this.data,this.field,this.rowIndex),Se.addClass(this.el.nativeElement,"p-cell-editing"),this.dt.onEditInit.emit({field:this.field,data:this.data,index:this.rowIndex}),this.zone.runOutsideAngular(()=>{setTimeout(()=>{let i=Se.findSingle(this.el.nativeElement,this.pFocusCellSelector||"input, textarea, select");i&&i.focus()},50)}),this.overlayEventListener=e=>{this.el&&this.el.nativeElement.contains(e.target)&&(this.dt.selfClick=!0)},this.dt.overlaySubscription=this.dt.overlayService.clickObservable.subscribe(this.overlayEventListener)}closeEditingCell(e,i){e?this.dt.onEditComplete.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:i,index:this.dt.editingCellRowIndex}):this.dt.onEditCancel.emit({field:this.dt.editingCellField,data:this.dt.editingCellData,originalEvent:i,index:this.dt.editingCellRowIndex}),Se.removeClass(this.dt.editingCell,"p-cell-editing"),this.dt.editingCell=null,this.dt.editingCellData=null,this.dt.editingCellField=null,this.dt.unbindDocumentEditListener(),this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}onEnterKeyDown(e){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),e.preventDefault())}onEscapeKeyDown(e){this.isEnabled()&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!1,e),e.preventDefault())}onShiftKeyDown(e){this.isEnabled()&&(e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e))}onArrowDown(e){if(this.isEnabled()){let i=this.findCell(e.target);if(i){let r=Se.index(i),s=this.findNextEditableColumnByIndex(i,r);s&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),Se.invokeElementMethod(e.target,"blur"),Se.invokeElementMethod(s,"click")),e.preventDefault()}}}onArrowUp(e){if(this.isEnabled()){let i=this.findCell(e.target);if(i){let r=Se.index(i),s=this.findPrevEditableColumnByIndex(i,r);s&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),Se.invokeElementMethod(e.target,"blur"),Se.invokeElementMethod(s,"click")),e.preventDefault()}}}onArrowLeft(e){this.isEnabled()&&this.moveToPreviousCell(e)}onArrowRight(e){this.isEnabled()&&this.moveToNextCell(e)}findCell(e){if(e){let i=e;for(;i&&!Se.hasClass(i,"p-cell-editing");)i=i.parentElement;return i}return null}moveToPreviousCell(e){let i=this.findCell(e.target);if(i){let r=this.findPreviousEditableColumn(i);r&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),Se.invokeElementMethod(e.target,"blur"),Se.invokeElementMethod(r,"click"),e.preventDefault())}}moveToNextCell(e){let i=this.findCell(e.target);if(i){let r=this.findNextEditableColumn(i);r&&(this.dt.isEditingCellValid()&&this.closeEditingCell(!0,e),Se.invokeElementMethod(e.target,"blur"),Se.invokeElementMethod(r,"click"),e.preventDefault())}}findPreviousEditableColumn(e){let i=e.previousElementSibling;if(!i){let r=e.parentElement.previousElementSibling;r&&(i=r.lastElementChild)}return i?Se.hasClass(i,"p-editable-column")?i:this.findPreviousEditableColumn(i):null}findNextEditableColumn(e){let i=e.nextElementSibling;if(!i){let r=e.parentElement.nextElementSibling;r&&(i=r.firstElementChild)}return i?Se.hasClass(i,"p-editable-column")?i:this.findNextEditableColumn(i):null}findNextEditableColumnByIndex(e,i){let r=e.parentElement.nextElementSibling;if(r){let s=r.children[i];return s&&Se.hasClass(s,"p-editable-column")?s:null}return null}findPrevEditableColumnByIndex(e,i){let r=e.parentElement.previousElementSibling;if(r){let s=r.children[i];return s&&Se.hasClass(s,"p-editable-column")?s:null}return null}isEnabled(){return!0!==this.pEditableColumnDisabled}ngOnDestroy(){this.dt.overlaySubscription&&this.dt.overlaySubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","pEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s)})("keydown.enter",function(s){return i.onEnterKeyDown(s)})("keydown.escape",function(s){return i.onEscapeKeyDown(s)})("keydown.tab",function(s){return i.onShiftKeyDown(s)})("keydown.shift.tab",function(s){return i.onShiftKeyDown(s)})("keydown.meta.tab",function(s){return i.onShiftKeyDown(s)})("keydown.arrowdown",function(s){return i.onArrowDown(s)})("keydown.arrowup",function(s){return i.onArrowUp(s)})("keydown.arrowleft",function(s){return i.onArrowLeft(s)})("keydown.arrowright",function(s){return i.onArrowRight(s)})},inputs:{data:["pEditableColumn","data"],field:["pEditableColumnField","field"],rowIndex:["pEditableColumnRowIndex","rowIndex"],pEditableColumnDisabled:"pEditableColumnDisabled",pFocusCellSelector:"pFocusCellSelector"}}),n})(),bS=(()=>{class n{constructor(e){this.el=e}isEnabled(){return!0!==this.pEditableRowDisabled}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","pEditableRow",""]],hostAttrs:[1,"p-element"],inputs:{data:["pEditableRow","data"],pEditableRowDisabled:"pEditableRowDisabled"}}),n})(),ese=(()=>{class n{constructor(e,i){this.dt=e,this.editableRow=i}onClick(e){this.dt.initRowEdit(this.editableRow.data),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o),o.Y36(bS))},n.\u0275dir=o.lG2({type:n,selectors:[["","pInitEditableRow",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s)})}}),n})(),tse=(()=>{class n{constructor(e,i){this.dt=e,this.editableRow=i}onClick(e){this.dt.saveRowEdit(this.editableRow.data,this.editableRow.el.nativeElement),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o),o.Y36(bS))},n.\u0275dir=o.lG2({type:n,selectors:[["","pSaveEditableRow",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s)})}}),n})(),nse=(()=>{class n{constructor(e,i){this.dt=e,this.editableRow=i}onClick(e){this.dt.cancelRowEdit(this.editableRow.data),e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o),o.Y36(bS))},n.\u0275dir=o.lG2({type:n,selectors:[["","pCancelEditableRow",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s)})}}),n})(),ise=(()=>{class n{constructor(e,i,r){this.dt=e,this.editableColumn=i,this.editableRow=r}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"input":this.inputTemplate=e.template;break;case"output":this.outputTemplate=e.template}})}get editing(){return this.dt.editingCell&&this.editableColumn&&this.dt.editingCell===this.editableColumn.el.nativeElement||this.editableRow&&"row"===this.dt.editMode&&this.dt.isRowEditing(this.editableRow.data)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(_o),o.Y36(Xre,8),o.Y36(bS,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-cellEditor"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,i){1&e&&(o.YNc(0,Ire,2,1,"ng-container",0),o.YNc(1,Dre,2,1,"ng-container",0)),2&e&&(o.Q6J("ngIf",i.editing),o.xp6(1),o.Q6J("ngIf",!i.editing))},directives:[Tn,ir],encapsulation:2}),n})(),rse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,BU,cS,cM,Jx,nM,yy,dne,zU,fM,vne],sa,Jx]}),n})();function sse(n,t){1&n&&(o.TgZ(0,"tr")(1,"th",4),o._uU(2,"Host"),o.qZA(),o.TgZ(3,"th",4),o._uU(4,"Role"),o.qZA(),o.TgZ(5,"th",4),o._uU(6,"Etat"),o.qZA()())}function ose(n,t){1&n&&o._UZ(0,"i",8)}function ase(n,t){1&n&&o._UZ(0,"i",9)}function lse(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",5),o._uU(2),o.qZA(),o.TgZ(3,"td",5),o._uU(4),o.qZA(),o.TgZ(5,"td")(6,"span"),o.YNc(7,ose,1,0,"i",6),o.qZA(),o.TgZ(8,"span"),o.YNc(9,ase,1,0,"i",7),o.qZA()()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.host),o.xp6(2),o.Oqu(e.role),o.xp6(3),o.Q6J("ngIf",e.etat),o.xp6(2),o.Q6J("ngIf",!e.etat)}}let cse=(()=>{class n{constructor(e){this.UsersService=e,this.users=[]}ngOnInit(){this.ShowAllUsers()}ShowAllUsers(){this.UsersService.GetAllUsers().subscribe(e=>{this.users=e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Dte))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-listusers"]],decls:4,vars:3,consts:[[1,"card"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller"],[1,"text-center","text-gray-700"],["class","pi pi-wifi","style","color: rgb(52, 198, 52);",4,"ngIf"],["class","pi pi-wifi","style","color: rgb(250, 68, 68);",4,"ngIf"],[1,"pi","pi-wifi",2,"color","rgb(52, 198, 52)"],[1,"pi","pi-wifi",2,"color","rgb(250, 68, 68)"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"p-table",1),o.YNc(2,sse,7,0,"ng-template",2),o.YNc(3,lse,10,4,"ng-template",3),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("value",i.users)("paginator",!0)("rows",6))},directives:[_o,Mr,Tn],styles:[".pi[_ngcontent-%COMP%]{font-size:20px;margin-top:20px;margin-left:20px}"]}),n})();function use(n,t){if(1&n&&(o.TgZ(0,"div")(1,"h2"),o._uU(2,"you are admin"),o.qZA(),o.TgZ(3,"h2"),o._uU(4),o.qZA(),o.TgZ(5,"h2"),o._uU(6),o.qZA(),o.TgZ(7,"h2"),o._uU(8),o.qZA(),o.TgZ(9,"h2"),o._uU(10),o.qZA()()),2&n){const e=o.oxw();o.xp6(4),o.hij("Host : ",e.authService.user.host,""),o.xp6(2),o.hij("Email :",e.authService.user.email,""),o.xp6(2),o.hij("Password :",e.authService.user.password,""),o.xp6(2),o.hij("Admin :",e.authService.user.role,"")}}function dse(n,t){if(1&n&&(o.TgZ(0,"div")(1,"h2"),o._uU(2,"you are comptable"),o.qZA(),o.TgZ(3,"h2"),o._uU(4),o.qZA(),o.TgZ(5,"h2"),o._uU(6),o.qZA(),o.TgZ(7,"h2"),o._uU(8),o.qZA(),o.TgZ(9,"h2"),o._uU(10),o.qZA()()),2&n){const e=o.oxw();o.xp6(4),o.hij("Host : ",e.authService.user.host,""),o.xp6(2),o.hij("Email :",e.authService.user.email,""),o.xp6(2),o.hij("Password :",e.authService.user.password,""),o.xp6(2),o.hij("Comptable :",e.authService.user.role,"")}}function hse(n,t){if(1&n&&(o.TgZ(0,"div")(1,"h2"),o._uU(2,"you are gestionnaire"),o.qZA(),o.TgZ(3,"h2"),o._uU(4),o.qZA(),o.TgZ(5,"h2"),o._uU(6),o.qZA(),o.TgZ(7,"h2"),o._uU(8),o.qZA(),o.TgZ(9,"h2"),o._uU(10),o.qZA()()),2&n){const e=o.oxw();o.xp6(4),o.hij("Host : ",e.authService.user.host,""),o.xp6(2),o.hij("Email :",e.authService.user.email,""),o.xp6(2),o.hij("Password :",e.authService.user.password,""),o.xp6(2),o.hij("Gestionnaire :",e.authService.user.role,"")}}function fse(n,t){1&n&&(o.TgZ(0,"div")(1,"h2"),o._uU(2,"you are login"),o.qZA()())}let pse=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Po))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-user-info"]],decls:4,vars:4,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(o.YNc(0,use,11,4,"div",0),o.YNc(1,dse,11,4,"div",0),o.YNc(2,hse,11,4,"div",0),o.YNc(3,fse,3,0,"div",0)),2&e&&(o.Q6J("ngIf",i.authService.ChekRole("Admin")),o.xp6(1),o.Q6J("ngIf",i.authService.ChekRole("Comptable")),o.xp6(1),o.Q6J("ngIf",i.authService.ChekRole("Gestionnaire")),o.xp6(1),o.Q6J("ngIf",i.authService.isLogin))},directives:[Tn],styles:[""]}),n})();function gse(n,t){1&n&&(o.TgZ(0,"tr")(1,"th",4),o._uU(2,"Quantit\xe9"),o.qZA(),o.TgZ(3,"th",4),o._uU(4,"Designation"),o.qZA(),o.TgZ(5,"th",4),o._uU(6,"Marque"),o.qZA(),o.TgZ(7,"th",4),o._uU(8,"Categorie"),o.qZA(),o.TgZ(9,"th",4),o._uU(10,"Etat"),o.qZA(),o.TgZ(11,"th",4),o._uU(12,"Prix"),o.qZA(),o._UZ(13,"th",4),o.qZA())}function mse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",5),o._uU(2),o.qZA(),o.TgZ(3,"td",5),o._uU(4),o.qZA(),o.TgZ(5,"td",5),o._uU(6),o.qZA(),o.TgZ(7,"td",5),o._uU(8),o.qZA(),o.TgZ(9,"td",5),o._uU(10),o.qZA(),o.TgZ(11,"td",5),o._uU(12),o.qZA(),o.TgZ(13,"td",5)(14,"button",6),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().Dialog.Display(s,"Materiel")}),o.qZA(),o.TgZ(15,"button",7),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().onDelete(s)}),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.quantite),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.marque),o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(e.prix)}}let _se=(()=>{class n{constructor(e,i,r,s){this.Crud=e,this.AuthService=i,this.Dialog=r,this.data=s,this.Materiel=[],this.Pv=this.data.Pv}ngOnInit(){this.show()}show(){this.Crud.GetSub("Pv","Materiel",this.Pv).subscribe(e=>{this.Materiel=e})}onDelete(e){this.Crud.Delete("Materiel",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(Po),o.Y36(ud),o.Y36(eb))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-form"]],decls:4,vars:4,consts:[[1,"card"],["responsiveLayout","scroll","id","excel-table","styleClass","p-datatable-striped",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller"],[1,"text-center","text-gray-700"],["pButton","","icon","pi pi-align-right",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"p-table",1),o.YNc(2,gse,14,0,"ng-template",2),o.YNc(3,mse,16,6,"ng-template",3),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("value",i.Materiel)("paginator",!0)("rows",5)("responsive",!0))},directives:[_o,Mr,Zl],styles:[".form-container[_ngcontent-%COMP%]{max-width:auto}.p-float-label[_ngcontent-%COMP%]{margin-top:25px;margin-left:5px;display:block}.p-button-outlined[_ngcontent-%COMP%]{text-decoration:none;pointer-events:none}"]}),n})();const vse=["numero","QTS","Designation","Prix","Montant"],yse=["QTS","Designation","Prix","Montant"],wse={provide:Ra,useExisting:(0,o.Gpc)(()=>CS),multi:!0},xse={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},qU={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};let CS=(()=>{class n{constructor(e){this.el=e,this.ngModelChange=new o.vpe,this.isAndroid=Se.isAndroid()}get pattern(){return this._pattern}set pattern(e){this._pattern=e,this.regex=xse[this._pattern]||this._pattern}isNavKeyPress(e){let i=e.keyCode;return i=Se.getBrowser().safari&&qU[i]||i,i>=33&&i<=40||13==i||9==i||27==i}isSpecialKey(e){let i=e.keyCode||e.charCode;return 9==i||13==i||27==i||16==i||17==i||i>=18&&i<=20||Se.getBrowser().opera&&!e.shiftKey&&(8==i||i>=33&&i<=35||i>=36&&i<=39||i>=44&&i<=45)}getKey(e){let i=e.keyCode||e.charCode;return Se.getBrowser().safari&&qU[i]||i}getCharCode(e){return e.charCode||e.keyCode||e.which}findDelta(e,i){let r="";for(let s=0;s<e.length;s++)e.substr(0,s)+e.substr(s+e.length-i.length)===i&&(r=e.substr(s,e.length-i.length));return r}isValidChar(e){return this.regex.test(e)}isValidString(e){for(let i=0;i<e.length;i++)if(!this.isValidChar(e.substr(i,1)))return!1;return!0}onInput(e){if(this.isAndroid&&!this.pValidateOnly){let i=this.el.nativeElement.value,r=this.lastValue||"",s=this.findDelta(i,r),a=this.findDelta(r,i);s.length>1||!s&&!a?this.isValidString(i)||(this.el.nativeElement.value=r,this.ngModelChange.emit(r)):a||this.isValidChar(s)||(this.el.nativeElement.value=r,this.ngModelChange.emit(r)),i=this.el.nativeElement.value,this.isValidString(i)&&(this.lastValue=i)}}onKeyPress(e){if(this.isAndroid||this.pValidateOnly)return;let i=Se.getBrowser(),r=this.getKey(e);if(i.mozilla&&(e.ctrlKey||e.altKey))return;if(17==r||18==r)return;let s=this.getCharCode(e),a=String.fromCharCode(s),l=!0;!i.mozilla&&(this.isSpecialKey(e)||!a)||(l=this.regex.test(a),l||e.preventDefault())}onPaste(e){const i=e.clipboardData||window.clipboardData.getData("text");if(i){const r=i.getData("text");for(let s of r.toString())if(!this.regex.test(s))return void e.preventDefault()}}validate(e){if(this.pValidateOnly){let i=this.el.nativeElement.value;if(i&&!this.regex.test(i))return{validatePattern:!1}}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i.onInput(s)})("keypress",function(s){return i.onKeyPress(s)})("paste",function(s){return i.onPaste(s)})},inputs:{pValidateOnly:"pValidateOnly",pattern:["pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[o._Bn([wse])]}),n})(),bse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})();function Cse(n,t){if(1&n&&(o.TgZ(0,"th",6),o._uU(1),o._UZ(2,"p-sortIcon",7),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function Tse(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,Cse,3,3,"th",5),o._UZ(2,"th"),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs)}}function Ese(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",8)(1,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().onDelete(r)}),o.qZA()()}}function Sse(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",8),o._uU(2),o.qZA(),o.TgZ(3,"td",8),o._uU(4),o.qZA(),o.TgZ(5,"td",8),o._uU(6),o.qZA(),o.TgZ(7,"td",8),o._uU(8),o.qZA(),o.TgZ(9,"td",8),o._uU(10),o.qZA(),o.YNc(11,Ese,2,0,"td",9),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.qts),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.prix),o.xp6(2),o.Oqu(e.montant),o.xp6(1),o.Q6J("ngIf",0==i.Facteur.valide)}}function Ise(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",22)(1,"pButton",23),o.NdJ("click",function(){o.CHM(e),o.oxw();const r=o.MAs(2);return o.oxw().onAdd(r.value)}),o.qZA()()}}function kse(n,t){if(1&n&&(o.TgZ(0,"div",11)(1,"form",12,13)(3,"div",14),o._UZ(4,"i",15)(5,"input",16),o.TgZ(6,"label",17),o._uU(7,"Numero"),o.qZA()(),o.TgZ(8,"div",14),o._UZ(9,"i",15)(10,"input",18),o.TgZ(11,"label",17),o._uU(12,"Qts"),o.qZA()(),o.TgZ(13,"div",14),o._UZ(14,"i",15)(15,"input",19),o.TgZ(16,"label",17),o._uU(17,"Designation"),o.qZA()(),o.TgZ(18,"div",14),o._UZ(19,"i",15)(20,"input",20),o.TgZ(21,"label",17),o._uU(22,"Prix"),o.qZA()(),o.YNc(23,Ise,2,0,"div",21),o.qZA()()),2&n){const e=o.oxw();o.xp6(23),o.Q6J("ngIf",!e.Facteur.valide)}}let Dse=(()=>{class n{constructor(e,i){this.Crud=e,this.data=i,this.materieldeFacteur=[],this.champs=vse,this.Facteur=this.data}ngOnInit(){this.ShowFacteur()}ShowFacteur(){return this.Crud.GetSub("Facteur","Materiel",this.Facteur).subscribe(e=>{this.materieldeFacteur=e}),this.materieldeFacteur}onAdd(e){let i=this.Facteur;e.montant=e.prix*e.qts,this.Crud.AddSub("Facteur",i.numero,"Materiel",e),i.ht=i.ht+e.montant,i.ttc=i.ht+i.tva,this.Crud.Update("Facteur",i)}onDelete(e){let i=this.Facteur;e.montant=e.prix*e.qts,this.Crud.DeleteSub("Facteur",i.numero,"Materiel",e),i.ht=i.ht-e.montant,i.ttc=i.ht+i.tva,i.ttc<0&&(i.ttc=0),i.ht<0&&(i.ht=0),this.Crud.Update("Facteur",i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(eb))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-facteur-info"]],decls:7,vars:5,consts:[[1,"card"],["id","excel-table","styleClass","p-datatable-striped",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],["class","form-container",4,"ngIf"],["class","text-center text-gray-600 uppercase","style","font-size: smaller;",3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-center","text-gray-700"],["class","text-center text-gray-700",4,"ngIf"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],[1,"form-container"],["ngModel",""],["addForm","ngForm"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user"],["ngModel","","type","text","pInputText","","pKeyFilter","pnum","name","numero"],["for","inputtext-left"],["ngModel","","type","text","pInputText","","pKeyFilter","pnum","name","qts"],["ngModel","","type","text","pInputText","","name","designation"],["ngModel","","type","text","pInputText","","pKeyFilter","pnum","name","prix"],["class","p-float-label float-end",4,"ngIf"],[1,"p-float-label","float-end"],["pButton","","icon","pi pi-plus",1,"p-button-info",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"p-table",1),o.YNc(2,Tse,3,1,"ng-template",2),o.YNc(3,Sse,12,6,"ng-template",3),o.qZA()(),o._UZ(4,"br")(5,"br"),o.YNc(6,kse,24,1,"div",4)),2&e&&(o.xp6(1),o.Q6J("value",i.materieldeFacteur)("paginator",!0)("rows",5)("responsive",!0),o.xp6(5),o.Q6J("ngIf",0==i.Facteur.valide))},directives:[_o,Mr,ii,$f,Yf,Tn,Zl,Sg,Eg,Ch,Tg,Th,bg,Eh,CS],styles:[".p-float-label[_ngcontent-%COMP%]{margin-left:5px}.form-container[_ngcontent-%COMP%]{display:flex}input[_ngcontent-%COMP%]{max-width:150px}"]}),n})(),Ase=(()=>{class n{constructor(e,i,r,s){this.Crud=e,this.data=i,this.AuthService=r,this.alert=s,this.facteur=[]}ngOnInit(){this.ShowMateriel()}ShowMateriel(){this.Crud.GetWithCond("Facteur","valide",!1).subscribe(e=>{this.facteur=e})}onFactoration(e){let i=this.data;i.facteur=e,i.comptable=this.AuthService.user.host,i.valide="valide",this.Crud.Update("Materiel",i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(eb),o.Y36(Po),o.Y36(k0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-factoration-materiel"]],decls:11,vars:1,consts:[[1,"form-container"],["ngModel","",3,"ngSubmit"],["addForm","ngForm"],["pButton","",1,"p-button-outlined",2,"text-decoration","none","pointer-events","none"],[1,"p-float-label"],["optionValue","numero","optionLabel","numero",3,"options"],["numero_facteur",""],["mat-dialog-close","","type","submit"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"form",1,2),o.NdJ("ngSubmit",function(){o.CHM(r);const a=o.MAs(7);return i.onFactoration(a.value)}),o.TgZ(3,"a",3),o._uU(4,"Choisser une Facteurs"),o.qZA(),o.TgZ(5,"div",4),o._UZ(6,"p-dropdown",5,6),o.qZA(),o.TgZ(8,"div",4)(9,"p-button",7),o._uU(10,"Add"),o.qZA()()()()}2&e&&(o.xp6(6),o.Q6J("options",i.facteur))},directives:[Sg,Eg,Ch,Tg,Th,Zl,wS,vy,F0],styles:[".p-float-label[_ngcontent-%COMP%]{margin-top:25px;margin-left:55px}"]}),n})();const Mse=function(n,t){return{"pi-minus":n,"pi-plus":t}};function Ose(n,t){if(1&n&&o._UZ(0,"span",9),2&n){const e=o.oxw(2);o.Q6J("ngClass",o.WLB(1,Mse,!e.collapsed,e.collapsed))}}function Rse(n,t){1&n&&o.GkF(0)}function Fse(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"a",7),o.NdJ("click",function(r){return o.CHM(e),o.oxw().toggle(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw().toggle(r)}),o.YNc(2,Ose,1,4,"span",8),o.YNc(3,Rse,1,0,"ng-container",6),o.qZA(),o.BQk()}if(2&n){const e=o.oxw(),i=o.MAs(4);o.xp6(1),o.uIk("aria-controls",e.id+"-content")("aria-expanded",!e.collapsed),o.xp6(1),o.Q6J("ngIf",e.toggleable),o.xp6(1),o.Q6J("ngTemplateOutlet",i)}}function Pse(n,t){1&n&&o.GkF(0)}function Nse(n,t){if(1&n&&(o.TgZ(0,"span",10),o._uU(1),o.qZA(),o.Hsn(2,1),o.YNc(3,Pse,1,0,"ng-container",6)),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.legend),o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Lse(n,t){1&n&&o.GkF(0)}const Bse=["*",[["p-header"]]],Vse=function(n){return{"p-fieldset p-component":!0,"p-fieldset-toggleable":n}},Use=function(n){return{transitionParams:n,height:"0"}},Hse=function(n){return{value:"hidden",params:n}},jse=function(n){return{transitionParams:n,height:"*"}},zse=function(n){return{value:"visible",params:n}},Zse=["*","p-header"];let Wse=0,qse=(()=>{class n{constructor(e){this.el=e,this.collapsed=!1,this.collapsedChange=new o.vpe,this.onBeforeToggle=new o.vpe,this.onAfterToggle=new o.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-fieldset-"+Wse++}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template}})}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.collapsed?this.expand(e):this.collapse(e),this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed}),e.preventDefault()}expand(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onToggleDone(){this.animating=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-fieldset"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:"toggleable",collapsed:"collapsed",style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Zse,decls:9,vars:22,consts:[[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["tabindex","0","pRipple","",3,"click","keydown.enter"],["class","p-fieldset-toggler pi",3,"ngClass",4,"ngIf"],[1,"p-fieldset-toggler","pi",3,"ngClass"],[1,"p-fieldset-legend-text"]],template:function(e,i){if(1&e&&(o.F$t(Bse),o.TgZ(0,"fieldset",0)(1,"legend",1),o.YNc(2,Fse,4,4,"ng-container",2),o.YNc(3,Nse,4,2,"ng-template",null,3,o.W1O),o.qZA(),o.TgZ(5,"div",4),o.NdJ("@fieldsetContent.done",function(){return i.onToggleDone()}),o.TgZ(6,"div",5),o.Hsn(7),o.YNc(8,Lse,1,0,"ng-container",6),o.qZA()()()),2&e){const r=o.MAs(4);o.Tol(i.styleClass),o.Q6J("ngClass",o.VKq(12,Vse,i.toggleable))("ngStyle",i.style),o.uIk("id",i.id),o.xp6(2),o.Q6J("ngIf",i.toggleable)("ngIfElse",r),o.xp6(3),o.Q6J("@fieldsetContent",i.collapsed?o.VKq(16,Hse,o.VKq(14,Use,i.transitionOptions)):o.VKq(20,zse,o.VKq(18,jse,i.animating?i.transitionOptions:"0ms"))),o.uIk("id",i.id+"-content")("aria-labelledby",i.id)("aria-hidden",i.collapsed),o.xp6(3),o.Q6J("ngTemplateOutlet",i.contentTemplate)}},directives:[mi,Wi,Tn,Sh,ir],styles:[".p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}\n"],encapsulation:2,data:{animation:[cs("fieldsetContent",[it("hidden",re({height:"0",overflow:"hidden"})),it("visible",re({height:"*"})),fn("visible <=> hidden",[re({overflow:"hidden"}),D("{{transitionParams}}")]),fn("void => *",D(0))])]},changeDetection:0}),n})(),Gse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cd],sa]}),n})();function $se(n,t){1&n&&(o.TgZ(0,"span",6),o._uU(1,"Les Materiel Factoris\xe9e avec cette Facteure"),o.qZA())}function Yse(n,t){if(1&n&&(o.TgZ(0,"th",9),o._uU(1),o._UZ(2,"p-sortIcon",10),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function Kse(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,Yse,3,3,"th",7),o._UZ(2,"th",8),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.ChampsMateriel)}}function Qse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",12),o._uU(2),o.qZA(),o.TgZ(3,"td",12),o._uU(4),o.qZA(),o.TgZ(5,"td",12),o._uU(6),o.qZA(),o.TgZ(7,"td",12),o._uU(8),o.qZA(),o.TgZ(9,"td",12),o._uU(10),o.qZA(),o.TgZ(11,"td",12),o._uU(12),o.qZA(),o.TgZ(13,"td",12),o._uU(14),o.qZA(),o.TgZ(15,"td",12),o._uU(16),o.qZA(),o.TgZ(17,"td",12),o._uU(18),o.qZA(),o.TgZ(19,"td",12),o._uU(20),o.ALo(21,"currency"),o.qZA(),o.TgZ(22,"td",12)(23,"button",13),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().ondesFactoration(r)}),o.qZA()()()}if(2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.marque),o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.serie),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(e.facteur),o.xp6(2),o.Oqu(e.PV),o.xp6(2),o.Oqu(o.xi3(21,10,e.prix,"DZD "))}}function Jse(n,t){if(1&n&&o.YNc(0,Qse,24,13,"tr",11),2&n){const e=t.$implicit,i=o.oxw();o.Q6J("ngIf",e.facteur==i.Facteur.numero)}}function Xse(n,t){1&n&&(o.TgZ(0,"span",6),o._uU(1,"Les Materiel Acheter avec cette Facteure"),o.qZA())}function eoe(n,t){if(1&n&&(o.TgZ(0,"th",9),o._uU(1),o._UZ(2,"p-sortIcon",10),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function toe(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,eoe,3,3,"th",7),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.ChampsMaterieldeFacteur)}}function noe(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",12),o._uU(2),o.qZA(),o.TgZ(3,"td",12),o._uU(4),o.qZA(),o.TgZ(5,"td",12),o._uU(6),o.ALo(7,"currency"),o.qZA(),o.TgZ(8,"td",12),o._uU(9),o.ALo(10,"currency"),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.qts),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(o.xi3(7,4,e.prix,"DZD ")),o.xp6(3),o.Oqu(o.xi3(10,7,e.montant,"DZD "))}}let ioe=(()=>{class n{constructor(e,i,r){this.Crud=e,this.alert=i,this.data=r,this.materieldeFacteur=[],this.materiel=[],this.ChampsMaterieldeFacteur=yse,this.ChampsMateriel=_f,this.activeIndex=0,this.Facteur=this.data}ngOnInit(){this.ShowFacteur(),this.ShowMateriel()}ShowMateriel(){this.Crud.Get("Materiel").subscribe(e=>{this.materiel=e})}ShowFacteur(){return this.Crud.GetSub("Facteur","Materiel",this.Facteur).subscribe(e=>{this.materieldeFacteur=e}),this.materieldeFacteur}calcule(){let e=0,i=0;for(let r of this.materiel)r.facteur==this.data.numero&&(e=r.prix+e);for(let r of this.materieldeFacteur)i=r.montant+i;return e==i}onValide(){this.calcule()?(this.Facteur.valide=!this.Facteur.valide,this.Crud.Update("Facteur",this.Facteur)):this.alert.error("v\xe9rifier votre materiel que vous avez valider")}ondesFactoration(e){e.facteur="NaN",e.comptable="NaN",e.valide="attente",this.Crud.Update("Materiel",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(k0),o.Y36(eb))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-validation-facteur"]],decls:13,vars:12,consts:[[3,"toggleable","collapsed"],["pTemplate","header"],["responsiveLayout","scroll","styleClass","p-datatable-striped",3,"value","paginator","rows","responsive"],["pTemplate","body"],[1,"ml-8","mt-3"],["pButton","","mat-dialog-close","",1,"p-button-info","center",3,"click"],[2,"text-decoration","none","font-size","large"],["style","font-size: smaller;","class","text-center text-gray-600 uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[4,"ngIf"],[1,"text-center","text-gray-700"],["pButton","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"p-fieldset",0),o.YNc(1,$se,2,0,"ng-template",1),o.TgZ(2,"p-table",2),o.YNc(3,Kse,3,1,"ng-template",1),o.YNc(4,Jse,1,1,"ng-template",3),o.qZA()(),o.TgZ(5,"p-fieldset",0),o.YNc(6,Xse,2,0,"ng-template",1),o.TgZ(7,"p-table",2),o.YNc(8,toe,2,1,"ng-template",1),o.YNc(9,noe,11,10,"ng-template",3),o.qZA()(),o.TgZ(10,"div",4)(11,"pButton",5),o.NdJ("click",function(){return i.onValide()}),o._uU(12,"Valider"),o.qZA()()),2&e&&(o.Q6J("toggleable",!0)("collapsed",!0),o.xp6(2),o.Q6J("value",i.materiel)("paginator",!0)("rows",5)("responsive",!0),o.xp6(3),o.Q6J("toggleable",!0)("collapsed",!0),o.xp6(2),o.Q6J("value",i.materieldeFacteur)("paginator",!0)("rows",5)("responsive",!0))},directives:[qse,Mr,_o,ii,$f,Yf,Tn,Zl,F0],pipes:[ls],styles:[""]}),n})();const _L=["numero","fournissuer","comptable","date","ht","tva","ttc"];function roe(n,t){if(1&n&&(o.TgZ(0,"th",6),o._uU(1),o._UZ(2,"p-sortIcon",7),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function soe(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,roe,3,3,"th",5),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.champs)}}function ooe(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",8),o._uU(2),o.qZA(),o.TgZ(3,"td",8),o._uU(4),o.qZA(),o.TgZ(5,"td",8),o._uU(6),o.qZA(),o.TgZ(7,"td",8),o._uU(8),o.qZA(),o.TgZ(9,"td",8),o._uU(10),o.qZA(),o.TgZ(11,"td",8),o._uU(12),o.qZA(),o.TgZ(13,"td",8),o._uU(14),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.fournisseur),o.xp6(2),o.Oqu(e.comptable),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.ht),o.xp6(2),o.Oqu(e.tva),o.xp6(2),o.Oqu(e.ttc)}}function aoe(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"p-table",2),o.YNc(2,soe,2,1,"ng-template",3),o.YNc(3,ooe,15,7,"ng-template",4),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("value",e.Facteur)("paginator",!0)("rows",5)("responsive",!0)}}function loe(n,t){if(1&n&&(o.TgZ(0,"th",6),o._uU(1),o._UZ(2,"p-sortIcon",7),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function coe(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,loe,3,3,"th",5),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",e.ChampsMateriels)}}function uoe(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",8),o._uU(2),o.qZA(),o.TgZ(3,"td",8),o._uU(4),o.qZA(),o.TgZ(5,"td",8),o._uU(6),o.qZA(),o.TgZ(7,"td",8),o._uU(8),o.qZA(),o.TgZ(9,"td",8),o._uU(10),o.qZA(),o.TgZ(11,"td",8),o._uU(12),o.qZA(),o.TgZ(13,"td",8),o._uU(14),o.qZA(),o.TgZ(15,"td",8),o._uU(16),o.qZA(),o.TgZ(17,"td",8),o._uU(18),o.qZA(),o.TgZ(19,"td",8),o._uU(20),o.ALo(21,"currency"),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.marque),o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.serie),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(e.facteur),o.xp6(2),o.Oqu(e.PV),o.xp6(2),o.Oqu(o.xi3(21,10,e.prix,"DZD "))}}function doe(n,t){if(1&n&&o.YNc(0,uoe,22,13,"tr",10),2&n){const e=t.$implicit,i=o.oxw(2);o.Q6J("ngIf",e.groupe_code_inventaire==i.data.object.numero)}}function hoe(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"p-table",9),o.YNc(2,coe,2,1,"ng-template",3),o.YNc(3,doe,1,1,"ng-template",4),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("value",e.Materiel)("responsive",!0)}}let foe=(()=>{class n{constructor(e,i){this.Crud=e,this.data=i,this.Facteur=[],this.Materiel=[],this.champs=_L,this.ChampsMateriels=_f}ngOnInit(){this.Show()}Show(){"Fournisseur"==this.data.type&&this.Crud.GetWithCond("Facteur","fournisseur",this.data.object.numero).subscribe(e=>{this.Facteur=e}),"Materiel"==this.data.type&&this.Crud.Get("Materiel").subscribe(e=>{this.Materiel=e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(eb))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-display"]],decls:2,vars:2,consts:[["class","card",4,"ngIf"],[1,"card"],["responsiveLayout","scroll","styleClass","p-datatable-striped",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],["style","font-size: smaller;","class","text-center text-gray-600 uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-center","text-gray-700"],["id","excel-table","responsiveLayout","scroll",3,"value","responsive"],[4,"ngIf"]],template:function(e,i){1&e&&(o.YNc(0,aoe,4,4,"div",0),o.YNc(1,hoe,4,2,"div",0)),2&e&&(o.Q6J("ngIf","Fournisseur"==i.data.type),o.xp6(1),o.Q6J("ngIf","Materiel"==i.data.type))},directives:[Tn,_o,Mr,ii,$f,Yf],pipes:[ls],styles:[""]}),n})(),ud=(()=>{class n{constructor(e){this.dialog=e}FactorationMateriel(e){this.dialog.open(Ase,{data:e})}ValidationFacteur(e){this.dialog.open(ioe,{data:e})}ShowInfoFacteur(e){this.dialog.open(Dse,{data:e})}AddFormDialog(e,i){this.dialog.open(_se,{data:{type:e,Pv:i}})}ListUsersDialog(){this.dialog.open(cse)}UserInfoDialog(){this.dialog.open(pse)}SignupDialog(){this.dialog.open(kte)}Display(e,i){this.dialog.open(foe,{data:{object:e,type:i}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fL))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var TS_version="0.18.5",gu=1200,xy=1252,poe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vL={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},_M=function(n){-1!=poe.indexOf(n)&&(xy=vL[0]=n)},dd=function(n){gu=n,_M(n)};var Ni,ES=function(t){return String.fromCharCode(t)},yL=function(t){return String.fromCharCode(t)},N0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function IS(n){for(var t="",e=0,i=0,r=0,s=0,a=0,l=0,d=0,f=0;f<n.length;)s=(e=n.charCodeAt(f++))>>2,a=(3&e)<<4|(i=n.charCodeAt(f++))>>4,l=(15&i)<<2|(r=n.charCodeAt(f++))>>6,d=63&r,isNaN(i)?l=d=64:isNaN(r)&&(d=64),t+=N0.charAt(s)+N0.charAt(a)+N0.charAt(l)+N0.charAt(d);return t}function mu(n){var t="",s=0,a=0,l=0,d=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<n.length;)s=N0.indexOf(n.charAt(f++)),a=N0.indexOf(n.charAt(f++)),t+=String.fromCharCode(s<<2|a>>4),64!==(l=N0.indexOf(n.charAt(f++)))&&(t+=String.fromCharCode((15&a)<<4|l>>2)),64!==(d=N0.indexOf(n.charAt(f++)))&&(t+=String.fromCharCode((3&l)<<6|d));return t}var fi=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),Ig=function(){if("undefined"!=typeof Buffer){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch(t){n=!0}return n?function(t,e){return e?new Buffer(t,e):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function L0(n){return fi?Buffer.alloc?Buffer.alloc(n):new Buffer(n):"undefined"!=typeof Uint8Array?new Uint8Array(n):new Array(n)}function $U(n){return fi?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):"undefined"!=typeof Uint8Array?new Uint8Array(n):new Array(n)}var _u=function(t){return fi?Ig(t,"binary"):t.split("").map(function(e){return 255&e.charCodeAt(0)})};function kS(n){if("undefined"==typeof ArrayBuffer)return _u(n);for(var t=new ArrayBuffer(n.length),e=new Uint8Array(t),i=0;i!=n.length;++i)e[i]=255&n.charCodeAt(i);return t}function B0(n){if(Array.isArray(n))return n.map(function(i){return String.fromCharCode(i)}).join("");for(var t=[],e=0;e<n.length;++e)t[e]=String.fromCharCode(n[e]);return t.join("")}var oa=fi?function(n){return Buffer.concat(n.map(function(t){return Buffer.isBuffer(t)?t:Ig(t)}))}:function(n){if("undefined"!=typeof Uint8Array){var t=0,e=0;for(t=0;t<n.length;++t)e+=n[t].length;var i=new Uint8Array(e),r=0;for(t=0,e=0;t<n.length;e+=r,++t)if(r=n[t].length,n[t]instanceof Uint8Array)i.set(n[t],e);else{if("string"==typeof n[t])throw"wtf";i.set(new Uint8Array(n[t]),e)}return i}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))},nl=/\u0000/g,DS=/[\u0001-\u0006]/g;function nb(n){for(var t="",e=n.length-1;e>=0;)t+=n.charAt(e--);return t}function Ih(n,t){var e=""+n;return e.length>=t?e:Rs("0",t-e.length)+e}function xL(n,t){var e=""+n;return e.length>=t?e:Rs(" ",t-e.length)+e}function wM(n,t){var e=""+n;return e.length>=t?e:e+Rs(" ",t-e.length)}var YU=Math.pow(2,32);function ib(n,t){return n>YU||n<-YU?function yoe(n,t){var e=""+Math.round(n);return e.length>=t?e:Rs("0",t-e.length)+e}(n,t):function woe(n,t){var e=""+n;return e.length>=t?e:Rs("0",t-e.length)+e}(Math.round(n),t)}function xM(n,t){return n.length>=7+(t=t||0)&&103==(32|n.charCodeAt(t))&&101==(32|n.charCodeAt(t+1))&&110==(32|n.charCodeAt(t+2))&&101==(32|n.charCodeAt(t+3))&&114==(32|n.charCodeAt(t+4))&&97==(32|n.charCodeAt(t+5))&&108==(32|n.charCodeAt(t+6))}var KU=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],bL=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Ln={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},QU={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},boe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bM(n,t,e){for(var i=n<0?-1:1,r=n*i,s=0,a=1,l=0,d=1,f=0,p=0,m=Math.floor(r);f<t&&(l=(m=Math.floor(r))*a+s,p=m*f+d,!(r-m<5e-8));)r=1/(r-m),s=a,a=l,d=f,f=p;if(p>t&&(f>t?(p=d,l=s):(p=f,l=a)),!e)return[0,i*l,p];var w=Math.floor(i*l/p);return[w,i*l-w*p,p]}function V0(n,t,e){if(n>2958465||n<0)return null;var i=0|n,r=Math.floor(86400*(n-i)),s=0,a=[],l={D:i,T:r,u:86400*(n-i)-r,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(i+=1462),l.u>.9999&&(l.u=0,86400==++r&&(l.T=r=0,++i,++l.D)),60===i)a=e?[1317,10,29]:[1900,2,29],s=3;else if(0===i)a=e?[1317,8,29]:[1900,1,0],s=6;else{i>60&&--i;var d=new Date(1900,0,1);d.setDate(d.getDate()+i-1),a=[d.getFullYear(),d.getMonth()+1,d.getDate()],s=d.getDay(),i<60&&(s=(s+6)%7),e&&(s=function koe(n,t){t[0]-=581;var e=n.getDay();return n<60&&(e=(e+6)%7),e}(d,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=r%60,r=Math.floor(r/60),l.M=r%60,r=Math.floor(r/60),l.H=r,l.q=s,l}var JU=new Date(1899,11,31,0,0,0),Coe=JU.getTime(),Toe=new Date(1900,2,1,0,0,0);function XU(n,t){var e=n.getTime();return t?e-=1262304e5:n>=Toe&&(e+=864e5),(e-(Coe+6e4*(n.getTimezoneOffset()-JU.getTimezoneOffset())))/864e5}function CL(n){return-1==n.indexOf(".")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function by(n,t){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(0|n)===n?n.toString(10):function AS(n){var e,t=Math.floor(Math.log(Math.abs(n))*Math.LOG10E);return e=t>=-4&&t<=-1?n.toPrecision(10+t):Math.abs(t)<=9?function Soe(n){var t=n<0?12:11,e=CL(n.toFixed(12));return e.length<=t||(e=n.toPrecision(10)).length<=t?e:n.toExponential(5)}(n):10===t?n.toFixed(10).substr(0,12):function Ioe(n){var t=CL(n.toFixed(11));return t.length>(n<0?12:11)||"0"===t||"-0"===t?n.toPrecision(6):t}(n),CL(function Eoe(n){return-1==n.indexOf("E")?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(e.toUpperCase()))}(n);case"undefined":return"";case"object":if(null==n)return"";if(n instanceof Date)return vu(14,XU(n,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+n)}function Doe(n,t,e,i){var d,r="",s=0,a=0,l=e.y,f=0;switch(n){case 98:l=e.y+543;case 121:switch(t.length){case 1:case 2:d=l%100,f=2;break;default:d=l%1e4,f=4}break;case 109:switch(t.length){case 1:case 2:d=e.m,f=t.length;break;case 3:return bL[e.m-1][1];case 5:return bL[e.m-1][0];default:return bL[e.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=e.d,f=t.length;break;case 3:return KU[e.q][0];default:return KU[e.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(e.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=e.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=e.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==e.u||"s"!=t&&"ss"!=t?(a=i>=2?3===i?1e3:100:1===i?10:1,(s=Math.round(a*(e.S+e.u)))>=60*a&&(s=0),"s"===t?0===s?"0":""+s/a:(r=Ih(s,2+i),"ss"===t?r.substr(0,2):"."+r.substr(2,t.length-1))):Ih(e.S,t.length);case 90:switch(t){case"[h]":case"[hh]":d=24*e.D+e.H;break;case"[m]":case"[mm]":d=60*(24*e.D+e.H)+e.M;break;case"[s]":case"[ss]":d=60*(60*(24*e.D+e.H)+e.M)+Math.round(e.S+e.u);break;default:throw"bad abstime format: "+t}f=3===t.length?1:2;break;case 101:d=l,f=1}return f>0?Ih(d,f):""}function U0(n){if(n.length<=3)return n;for(var e=n.length%3,i=n.substr(0,e);e!=n.length;e+=3)i+=(i.length>0?",":"")+n.substr(e,3);return i}var eH=/%/g;function tH(n,t){var e,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+tH(n,-t);var r=n.indexOf(".");-1===r&&(r=n.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),-1===(e=(t/Math.pow(10,s)).toPrecision(i+1+(r+s)%r)).indexOf("e")){var a=Math.floor(Math.log(t)*Math.LOG10E);for(-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+s):e+="E+"+(a-s);"0."===e.substr(0,2);)e=(e=e.charAt(0)+e.substr(2,r)+"."+e.substr(2+r)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,f,p){return d+f+p.substr(0,(r+s)%r)+"."+p.substr(s)+"E"})}else e=t.toExponential(i);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}var nH=/# (\?+)( ?)\/( ?)(\d+)/,iH=/^#*0*\.([0#]+)/,rH=/\).*[0#]/,sH=/\(###\) ###\\?-####/;function Wl(n){for(var e,t="",i=0;i!=n.length;++i)switch(e=n.charCodeAt(i)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(e)}return t}function oH(n,t){var e=Math.pow(10,t);return""+Math.round(n*e)/e}function aH(n,t){var e=n-Math.floor(n),i=Math.pow(10,t);return t<(""+Math.round(e*i)).length?0:Math.round(e*i)}function hd(n,t,e){if(40===n.charCodeAt(0)&&!t.match(rH)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?hd("n",i,e):"("+hd("n",i,-e)+")"}if(44===t.charCodeAt(t.length-1))return function Moe(n,t,e){for(var i=t.length-1;44===t.charCodeAt(i-1);)--i;return kg(n,t.substr(0,i),e/Math.pow(10,3*(t.length-i)))}(n,t,e);if(-1!==t.indexOf("%"))return function Aoe(n,t,e){var i=t.replace(eH,""),r=t.length-i.length;return kg(n,i,e*Math.pow(10,2*r))+Rs("%",r)}(n,t,e);if(-1!==t.indexOf("E"))return tH(t,e);if(36===t.charCodeAt(0))return"$"+hd(n,t.substr(" "==t.charAt(1)?2:1),e);var r,s,a,l,d=Math.abs(e),f=e<0?"-":"";if(t.match(/^00+$/))return f+ib(d,t.length);if(t.match(/^[#?]+$/))return"0"===(r=ib(e,0))&&(r=""),r.length>t.length?r:Wl(t.substr(0,t.length-r.length))+r;if(s=t.match(nH))return function Ooe(n,t,e){var i=parseInt(n[4],10),r=Math.round(t*i),s=Math.floor(r/i),a=r-s*i,l=i;return e+(0===s?"":""+s)+" "+(0===a?Rs(" ",n[1].length+1+n[4].length):xL(a,n[1].length)+n[2]+"/"+n[3]+Ih(l,n[4].length))}(s,d,f);if(t.match(/^#+0+$/))return f+ib(d,t.length-t.indexOf("0"));if(s=t.match(iH))return r=oH(e,s[1].length).replace(/^([^\.]+)$/,"$1."+Wl(s[1])).replace(/\.$/,"."+Wl(s[1])).replace(/\.(\d*)$/,function(T,E){return"."+E+Rs("0",Wl(s[1]).length-E.length)}),-1!==t.indexOf("0.")?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+oH(d,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+U0(ib(d,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+hd(n,t,-e):U0(""+(Math.floor(e)+function Foe(n,t){return t<(""+Math.round((n-Math.floor(n))*Math.pow(10,t))).length?1:0}(e,s[1].length)))+"."+Ih(aH(e,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return hd(n,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=nb(hd(n,t.replace(/[\\-]/g,""),e)),a=0,nb(nb(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return a<r.length?r.charAt(a++):"0"===T?"0":""}));if(t.match(sH))return"("+(r=hd(n,"##########",e)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=bM(d,Math.pow(10,a)-1,!1),r=""+f," "==(p=kg("n",s[1],l[1])).charAt(p.length-1)&&(p=p.substr(0,p.length-1)+"0"),r+=p+s[2]+"/"+s[3],(p=wM(l[2],a)).length<s[4].length&&(p=Wl(s[4].substr(s[4].length-p.length))+p),r+=p;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),f+((l=bM(d,Math.pow(10,a)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?xL(l[1],a)+s[2]+"/"+s[3]+wM(l[2],a):Rs(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return r=ib(e,0),t.length<=r.length?r:Wl(t.substr(0,t.length-r.length))+r;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){r=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=r.indexOf(".");var m=t.indexOf(".")-a,w=t.length-r.length-m;return Wl(t.substr(0,m)+r+t.substr(t.length-w))}if(s=t.match(/^00,000\.([#0]*0)$/))return a=aH(e,s[1].length),e<0?"-"+hd(n,t,-e):U0(function Poe(n){return n<2147483647&&n>-2147483648?""+(n>=0?0|n:n-1|0):""+Math.floor(n)}(e)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Ih(0,3-T.length):"")+T})+"."+Ih(a,s[1].length);switch(t){case"###,##0.00":return hd(n,"#,##0.00",e);case"###,###":case"##,###":case"#,###":var b=U0(ib(d,0));return"0"!==b?f+b:"";case"###,###.00":return hd(n,"###,##0.00",e).replace(/^0\./,".");case"#,###.00":return hd(n,"#,##0.00",e).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function lH(n,t){var e,i=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+lH(n,-t);var r=n.indexOf(".");-1===r&&(r=n.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%r;if(s<0&&(s+=r),!(e=(t/Math.pow(10,s)).toPrecision(i+1+(r+s)%r)).match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===e.indexOf(".")?e=e.charAt(0)+"."+e.substr(1)+"E+"+(a-e.length+s):e+="E+"+(a-s),e=e.replace(/\+-/,"-")}e=e.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,d,f,p){return d+f+p.substr(0,(r+s)%r)+"."+p.substr(s)+"E"})}else e=t.toExponential(i);return n.match(/E\+00$/)&&e.match(/e[+-]\d$/)&&(e=e.substr(0,e.length-1)+"0"+e.charAt(e.length-1)),n.match(/E\-/)&&e.match(/e\+/)&&(e=e.replace(/e\+/,"e")),e.replace("e","E")}function Kf(n,t,e){if(40===n.charCodeAt(0)&&!t.match(rH)){var i=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return e>=0?Kf("n",i,e):"("+Kf("n",i,-e)+")"}if(44===t.charCodeAt(t.length-1))return function Noe(n,t,e){for(var i=t.length-1;44===t.charCodeAt(i-1);)--i;return kg(n,t.substr(0,i),e/Math.pow(10,3*(t.length-i)))}(n,t,e);if(-1!==t.indexOf("%"))return function Loe(n,t,e){var i=t.replace(eH,""),r=t.length-i.length;return kg(n,i,e*Math.pow(10,2*r))+Rs("%",r)}(n,t,e);if(-1!==t.indexOf("E"))return lH(t,e);if(36===t.charCodeAt(0))return"$"+Kf(n,t.substr(" "==t.charAt(1)?2:1),e);var r,s,a,l,d=Math.abs(e),f=e<0?"-":"";if(t.match(/^00+$/))return f+Ih(d,t.length);if(t.match(/^[#?]+$/))return r=""+e,0===e&&(r=""),r.length>t.length?r:Wl(t.substr(0,t.length-r.length))+r;if(s=t.match(nH))return function Roe(n,t,e){return e+(0===t?"":""+t)+Rs(" ",n[1].length+2+n[4].length)}(s,d,f);if(t.match(/^#+0+$/))return f+Ih(d,t.length-t.indexOf("0"));if(s=t.match(iH))return r=(r=(""+e).replace(/^([^\.]+)$/,"$1."+Wl(s[1])).replace(/\.$/,"."+Wl(s[1]))).replace(/\.(\d*)$/,function(T,E){return"."+E+Rs("0",Wl(s[1]).length-E.length)}),-1!==t.indexOf("0.")?r:r.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return f+U0(""+d);if(s=t.match(/^#,##0\.([#0]*0)$/))return e<0?"-"+Kf(n,t,-e):U0(""+e)+"."+Rs("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Kf(n,t.replace(/^#,#*,/,""),e);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return r=nb(Kf(n,t.replace(/[\\-]/g,""),e)),a=0,nb(nb(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return a<r.length?r.charAt(a++):"0"===T?"0":""}));if(t.match(sH))return"("+(r=Kf(n,"##########",e)).substr(0,3)+") "+r.substr(3,3)+"-"+r.substr(6);var p="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=bM(d,Math.pow(10,a)-1,!1),r=""+f," "==(p=kg("n",s[1],l[1])).charAt(p.length-1)&&(p=p.substr(0,p.length-1)+"0"),r+=p+s[2]+"/"+s[3],(p=wM(l[2],a)).length<s[4].length&&(p=Wl(s[4].substr(s[4].length-p.length))+p),r+=p;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),f+((l=bM(d,Math.pow(10,a)-1,!0))[0]||(l[1]?"":"0"))+" "+(l[1]?xL(l[1],a)+s[2]+"/"+s[3]+wM(l[2],a):Rs(" ",2*a+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return t.length<=(r=""+e).length?r:Wl(t.substr(0,t.length-r.length))+r;if(s=t.match(/^([#0]+)\.([#0]+)$/)){r=""+e.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=r.indexOf(".");var m=t.indexOf(".")-a,w=t.length-r.length-m;return Wl(t.substr(0,m)+r+t.substr(t.length-w))}if(s=t.match(/^00,000\.([#0]*0)$/))return e<0?"-"+Kf(n,t,-e):U0(""+e).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Ih(0,3-T.length):"")+T})+"."+Ih(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var b=U0(""+d);return"0"!==b?f+b:"";default:if(t.match(/\.[0#?]*$/))return Kf(n,t.slice(0,t.lastIndexOf(".")),e)+Wl(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function kg(n,t,e){return(0|e)===e?Kf(n,t,e):hd(n,t,e)}var cH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rb(n){for(var t=0,e="",i="";t<n.length;)switch(e=n.charAt(t)){case"G":xM(n,t)&&(t+=6),t++;break;case'"':for(;34!==n.charCodeAt(++t)&&t<n.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===n.charAt(t+1)||"2"===n.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===n.substr(t,3).toUpperCase()||"AM/PM"===n.substr(t,5).toUpperCase()||"\u4e0a\u5348/\u4e0b\u5348"===n.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(i=e;"]"!==n.charAt(t++)&&t<n.length;)i+=n.charAt(t);if(i.match(cH))return!0;break;case".":case"0":case"#":for(;t<n.length&&("0#?.,E+-%".indexOf(e=n.charAt(++t))>-1||"\\"==e&&"-"==n.charAt(t+1)&&"0#".indexOf(n.charAt(t+2))>-1););break;case"?":for(;n.charAt(++t)===e;);break;case"*":++t,(" "==n.charAt(t)||"*"==n.charAt(t))&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<n.length&&"0123456789".indexOf(n.charAt(++t))>-1;);break;default:++t}return!1}var uH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function dH(n,t){if(null==t)return!1;var e=parseFloat(t[2]);switch(t[1]){case"=":if(n==e)return!0;break;case">":if(n>e)return!0;break;case"<":if(n<e)return!0;break;case"<>":if(n!=e)return!0;break;case">=":if(n>=e)return!0;break;case"<=":if(n<=e)return!0}return!1}function vu(n,t,e){null==e&&(e={});var i="";switch(typeof n){case"string":i="m/d/yy"==n&&e.dateNF?e.dateNF:n;break;case"number":null==(i=14==n&&e.dateNF?e.dateNF:(null!=e.table?e.table:Ln)[n])&&(i=e.table&&e.table[QU[n]]||Ln[QU[n]]),null==i&&(i=boe[n]||"General")}if(xM(i,0))return by(t,e);t instanceof Date&&(t=XU(t,e.date1904));var r=function Uoe(n,t){var e=function Boe(n){for(var t=[],e=!1,i=0,r=0;i<n.length;++i)switch(n.charCodeAt(i)){case 34:e=!e;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=n.substr(r,i-r),r=i+1}if(t[t.length]=n.substr(r),!0===e)throw new Error("Format |"+n+"| unterminated string ");return t}(n),i=e.length,r=e[i-1].indexOf("@");if(i<4&&r>-1&&--i,e.length>4)throw new Error("cannot find right format for |"+e.join("|")+"|");if("number"!=typeof t)return[4,4===e.length||r>-1?e[e.length-1]:"@"];switch(e.length){case 1:e=r>-1?["General","General","General",e[0]]:[e[0],e[0],e[0],"@"];break;case 2:e=r>-1?[e[0],e[0],e[0],e[1]]:[e[0],e[1],e[0],"@"];break;case 3:e=r>-1?[e[0],e[1],e[0],e[2]]:[e[0],e[1],e[2],"@"]}var s=t>0?e[0]:t<0?e[1]:e[2];if(-1===e[0].indexOf("[")&&-1===e[1].indexOf("["))return[i,s];if(null!=e[0].match(/\[[=<>]/)||null!=e[1].match(/\[[=<>]/)){var a=e[0].match(uH),l=e[1].match(uH);return dH(t,a)?[i,e[0]]:dH(t,l)?[i,e[1]]:[i,e[null!=a&&null!=l?2:1]]}return[i,s]}(i,t);if(xM(r[1]))return by(t,e);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function Voe(n,t,e,i){for(var f,p,m,r=[],s="",a=0,l="",d="t",w="H";a<n.length;)switch(l=n.charAt(a)){case"G":if(!xM(n,a))throw new Error("unrecognized character "+l+" in "+n);r[r.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";34!==(m=n.charCodeAt(++a))&&a<n.length;)s+=String.fromCharCode(m);r[r.length]={t:"t",v:s},++a;break;case"\\":var b=n.charAt(++a);r[r.length]={t:"("===b||")"===b?b:"t",v:b},++a;break;case"_":r[r.length]={t:"t",v:" "},a+=2;break;case"@":r[r.length]={t:"T",v:t},++a;break;case"B":case"b":if("1"===n.charAt(a+1)||"2"===n.charAt(a+1)){if(null==f&&null==(f=V0(t,e,"2"===n.charAt(a+1))))return"";r[r.length]={t:"X",v:n.substr(a,2)},d=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||null==f&&null==(f=V0(t,e)))return"";for(s=l;++a<n.length&&n.charAt(a).toLowerCase()===l;)s+=l;"m"===l&&"h"===d.toLowerCase()&&(l="M"),"h"===l&&(l=w),r[r.length]={t:l,v:s},d=l;break;case"A":case"a":case"\u4e0a":var E={t:l,v:l};if(null==f&&(f=V0(t,e)),"A/P"===n.substr(a,3).toUpperCase()?(null!=f&&(E.v=f.H>=12?"P":"A"),E.t="T",w="h",a+=3):"AM/PM"===n.substr(a,5).toUpperCase()?(null!=f&&(E.v=f.H>=12?"PM":"AM"),E.t="T",a+=5,w="h"):"\u4e0a\u5348/\u4e0b\u5348"===n.substr(a,5).toUpperCase()?(null!=f&&(E.v=f.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),E.t="T",a+=5,w="h"):(E.t="t",++a),null==f&&"T"===E.t)return"";r[r.length]=E,d=l;break;case"[":for(s=l;"]"!==n.charAt(a++)&&a<n.length;)s+=n.charAt(a);if("]"!==s.slice(-1))throw'unterminated "[" block: |'+s+"|";if(s.match(cH)){if(null==f&&null==(f=V0(t,e)))return"";r[r.length]={t:"Z",v:s.toLowerCase()},d=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",rb(n)||(r[r.length]={t:"t",v:s}));break;case".":if(null!=f){for(s=l;++a<n.length&&"0"===(l=n.charAt(a));)s+=l;r[r.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++a<n.length&&"0#?.,E+-%".indexOf(l=n.charAt(a))>-1;)s+=l;r[r.length]={t:"n",v:s};break;case"?":for(s=l;n.charAt(++a)===l;)s+=l;r[r.length]={t:l,v:s},d=l;break;case"*":++a,(" "==n.charAt(a)||"*"==n.charAt(a))&&++a;break;case"(":case")":r[r.length]={t:1===i?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)s+=n.charAt(a);r[r.length]={t:"D",v:s};break;case" ":r[r.length]={t:l,v:l},++a;break;case"$":r[r.length]={t:"t",v:"$"},++a;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(l))throw new Error("unrecognized character "+l+" in "+n);r[r.length]={t:"t",v:l},++a}var V,M=0,N=0;for(a=r.length-1,d="t";a>=0;--a)switch(r[a].t){case"h":case"H":r[a].t=w,d="h",M<1&&(M=1);break;case"s":(V=r[a].v.match(/\.0+$/))&&(N=Math.max(N,V[0].length-1)),M<3&&(M=3);case"d":case"y":case"M":case"e":d=r[a].t;break;case"m":"s"===d&&(r[a].t="M",M<2&&(M=2));break;case"X":break;case"Z":M<1&&r[a].v.match(/[Hh]/)&&(M=1),M<2&&r[a].v.match(/[Mm]/)&&(M=2),M<3&&r[a].v.match(/[Ss]/)&&(M=3)}switch(M){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M)}var q,U="";for(a=0;a<r.length;++a)switch(r[a].t){case"t":case"T":case" ":case"D":break;case"X":r[a].v="",r[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":r[a].v=Doe(r[a].t.charCodeAt(0),r[a].v,f,N),r[a].t="t";break;case"n":case"?":for(q=a+1;null!=r[q]&&("?"===(l=r[q].t)||"D"===l||(" "===l||"t"===l)&&null!=r[q+1]&&("?"===r[q+1].t||"t"===r[q+1].t&&"/"===r[q+1].v)||"("===r[a].t&&(" "===l||"n"===l||")"===l)||"t"===l&&("/"===r[q].v||" "===r[q].v&&null!=r[q+1]&&"?"==r[q+1].t));)r[a].v+=r[q].v,r[q]={v:"",t:";"},++q;U+=r[a].v,a=q-1;break;case"G":r[a].t="t",r[a].v=by(t,e)}var ue,K,Q="";if(U.length>0){40==U.charCodeAt(0)?(ue=t<0&&45===U.charCodeAt(0)?-t:t,K=kg("n",U,ue)):(K=kg("n",U,ue=t<0&&i>1?-t:t),ue<0&&r[0]&&"t"==r[0].t&&(K=K.substr(1),r[0].v="-"+r[0].v)),q=K.length-1;var he=r.length;for(a=0;a<r.length;++a)if(null!=r[a]&&"t"!=r[a].t&&r[a].v.indexOf(".")>-1){he=a;break}var de=r.length;if(he===r.length&&-1===K.indexOf("E")){for(a=r.length-1;a>=0;--a)null==r[a]||-1==="n?".indexOf(r[a].t)||(q>=r[a].v.length-1?r[a].v=K.substr(1+(q-=r[a].v.length),r[a].v.length):q<0?r[a].v="":(r[a].v=K.substr(0,q+1),q=-1),r[a].t="t",de=a);q>=0&&de<r.length&&(r[de].v=K.substr(0,q+1)+r[de].v)}else if(he!==r.length&&-1===K.indexOf("E")){for(q=K.indexOf(".")-1,a=he;a>=0;--a)if(null!=r[a]&&-1!=="n?".indexOf(r[a].t)){for(p=r[a].v.indexOf(".")>-1&&a===he?r[a].v.indexOf(".")-1:r[a].v.length-1,Q=r[a].v.substr(p+1);p>=0;--p)q>=0&&("0"===r[a].v.charAt(p)||"#"===r[a].v.charAt(p))&&(Q=K.charAt(q--)+Q);r[a].v=Q,r[a].t="t",de=a}for(q>=0&&de<r.length&&(r[de].v=K.substr(0,q+1)+r[de].v),q=K.indexOf(".")+1,a=he;a<r.length;++a)if(null!=r[a]&&(-1!=="n?(".indexOf(r[a].t)||a===he)){for(p=r[a].v.indexOf(".")>-1&&a===he?r[a].v.indexOf(".")+1:0,Q=r[a].v.substr(0,p);p<r[a].v.length;++p)q<K.length&&(Q+=K.charAt(q++));r[a].v=Q,r[a].t="t",de=a}}}for(a=0;a<r.length;++a)null!=r[a]&&"n?".indexOf(r[a].t)>-1&&(r[a].v=kg(r[a].t,r[a].v,ue=i>1&&t<0&&a>0&&"-"===r[a-1].v?-t:t),r[a].t="t");var Me="";for(a=0;a!==r.length;++a)null!=r[a]&&(Me+=r[a].v);return Me}(r[1],t,e,r[0])}function Qf(n,t){if("number"!=typeof t){t=+t||-1;for(var e=0;e<392;++e)if(null!=Ln[e]){if(Ln[e]==n){t=e;break}}else t<0&&(t=e);t<0&&(t=391)}return Ln[t]=n,t}function MS(n){for(var t=0;392!=t;++t)void 0!==n[t]&&Qf(n[t],t)}function sb(){Ln=function xoe(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',n}()}var hH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,Woe=function(){var n={version:"1.2.0"},e=function t(){for(var K=0,he=new Array(256),de=0;256!=de;++de)he[de]=K=1&(K=1&(K=1&(K=1&(K=1&(K=1&(K=1&(K=1&(K=de)?-306674912^K>>>1:K>>>1)?-306674912^K>>>1:K>>>1)?-306674912^K>>>1:K>>>1)?-306674912^K>>>1:K>>>1)?-306674912^K>>>1:K>>>1)?-306674912^K>>>1:K>>>1)?-306674912^K>>>1:K>>>1)?-306674912^K>>>1:K>>>1;return"undefined"!=typeof Int32Array?new Int32Array(he):he}(),r=function i(K){var he=0,de=0,Me=0,Fe="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(Me=0;256!=Me;++Me)Fe[Me]=K[Me];for(Me=0;256!=Me;++Me)for(de=K[Me],he=256+Me;he<4096;he+=256)de=Fe[he]=de>>>8^K[255&de];var Te=[];for(Me=1;16!=Me;++Me)Te[Me-1]="undefined"!=typeof Int32Array?Fe.subarray(256*Me,256*Me+256):Fe.slice(256*Me,256*Me+256);return Te}(e),s=r[0],a=r[1],l=r[2],d=r[3],f=r[4],p=r[5],m=r[6],w=r[7],b=r[8],T=r[9],E=r[10],M=r[11],N=r[12],V=r[13],U=r[14];return n.table=e,n.bstr=function q(K,he){for(var de=-1^he,Me=0,Fe=K.length;Me<Fe;)de=de>>>8^e[255&(de^K.charCodeAt(Me++))];return~de},n.buf=function Q(K,he){for(var de=-1^he,Me=K.length-15,Fe=0;Fe<Me;)de=U[K[Fe++]^255&de]^V[K[Fe++]^de>>8&255]^N[K[Fe++]^de>>16&255]^M[K[Fe++]^de>>>24]^E[K[Fe++]]^T[K[Fe++]]^b[K[Fe++]]^w[K[Fe++]]^m[K[Fe++]]^p[K[Fe++]]^f[K[Fe++]]^d[K[Fe++]]^l[K[Fe++]]^a[K[Fe++]]^s[K[Fe++]]^e[K[Fe++]];for(Me+=15;Fe<Me;)de=de>>>8^e[255&(de^K[Fe++])];return~de},n.str=function ue(K,he){for(var de=-1^he,Me=0,Fe=K.length,Te=0,bt=0;Me<Fe;)(Te=K.charCodeAt(Me++))<128?de=de>>>8^e[255&(de^Te)]:Te<2048?de=(de=de>>>8^e[255&(de^(192|Te>>6&31))])>>>8^e[255&(de^(128|63&Te))]:Te>=55296&&Te<57344?(Te=64+(1023&Te),bt=1023&K.charCodeAt(Me++),de=(de=(de=(de=de>>>8^e[255&(de^(240|Te>>8&7))])>>>8^e[255&(de^(128|Te>>2&63))])>>>8^e[255&(de^(128|bt>>6&15|(3&Te)<<4))])>>>8^e[255&(de^(128|63&bt))]):de=(de=(de=de>>>8^e[255&(de^(224|Te>>12&15))])>>>8^e[255&(de^(128|Te>>6&63))])>>>8^e[255&(de^(128|63&Te))];return~de},n}(),On=function(){var d,t={};function i(W){if("/"==W.charAt(W.length-1))return-1===W.slice(0,-1).indexOf("/")?W:i(W.slice(0,-1));var se=W.lastIndexOf("/");return-1===se?W:W.slice(0,se+1)}function r(W){if("/"==W.charAt(W.length-1))return r(W.slice(0,-1));var se=W.lastIndexOf("/");return-1===se?W:W.slice(se+1)}function s(W,se){"string"==typeof se&&(se=new Date(se));var te=se.getHours();te=(te=te<<6|se.getMinutes())<<5|se.getSeconds()>>>1,W.write_shift(2,te);var ie=se.getFullYear()-1980;ie=(ie=ie<<4|se.getMonth()+1)<<5|se.getDate(),W.write_shift(2,ie)}function l(W){Na(W,0);for(var se={},te=0;W.l<=W.length-4;){var ie=W.read_shift(2),oe=W.read_shift(2),ce=W.l+oe,We={};21589===ie&&(1&(te=W.read_shift(1))&&(We.mtime=W.read_shift(4)),oe>5&&(2&te&&(We.atime=W.read_shift(4)),4&te&&(We.ctime=W.read_shift(4))),We.mtime&&(We.mt=new Date(1e3*We.mtime))),W.l=ce,se[ie]=We}return se}function f(){return d||(d={})}function p(W,se){if(80==W[0]&&75==W[1])return hG(W,se);if(109==(32|W[0])&&105==(32|W[1]))return function K2e(W,se){if("mime-version:"!=Ct(W.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var te=se&&se.root||"",ie=(fi&&Buffer.isBuffer(W)?W.toString("binary"):Ct(W)).split("\r\n"),oe=0,ce="";for(oe=0;oe<ie.length;++oe)if(/^Content-Location:/i.test(ce=ie[oe])&&(ce=ce.slice(ce.indexOf("file")),te||(te=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,te.length)!=te))for(;te.length>0&&(te=(te=te.slice(0,te.length-1)).slice(0,te.lastIndexOf("/")+1),ce.slice(0,te.length)!=te););var We=(ie[1]||"").match(/boundary="(.*?)"/);if(!We)throw new Error("MAD cannot find boundary");var ct="--"+(We[1]||""),Ke={FileIndex:[],FullPaths:[]};K(Ke);var Lt,Kt=0;for(oe=0;oe<ie.length;++oe){var _n=ie[oe];_n!==ct&&_n!==ct+"--"||(Kt++&&Y2e(Ke,ie.slice(Lt,oe),te),Lt=oe)}return Ke}(W,se);if(W.length<512)throw new Error("CFB file size "+W.length+" < 512");var te,oe,ce,We,ct,Ge,ie=512,qe=[],Ke=W.slice(0,512);Na(Ke,0);var Lt=function m(W){if(80==W[W.l]&&75==W[W.l+1])return[0,0];W.chk(qt,"Header Signature: "),W.l+=16;var se=W.read_shift(2,"u");return[W.read_shift(2,"u"),se]}(Ke);switch(te=Lt[0]){case 3:ie=512;break;case 4:ie=4096;break;case 0:if(0==Lt[1])return hG(W,se);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}512!==ie&&Na(Ke=W.slice(0,ie),28);var Kt=W.slice(0,ie);!function w(W,se){var te;switch(W.l+=2,te=W.read_shift(2)){case 9:if(3!=se)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(4!=se)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}W.chk("0600","Mini Sector Shift: "),W.chk("000000000000","Reserved: ")}(Ke,te);var _n=Ke.read_shift(4,"i");if(3===te&&0!==_n)throw new Error("# Directory Sectors: Expected 0 saw "+_n);Ke.l+=4,We=Ke.read_shift(4,"i"),Ke.l+=4,Ke.chk("00100000","Mini Stream Cutoff Size: "),ct=Ke.read_shift(4,"i"),oe=Ke.read_shift(4,"i"),Ge=Ke.read_shift(4,"i"),ce=Ke.read_shift(4,"i");for(var Qt=-1,nn=0;nn<109&&!((Qt=Ke.read_shift(4,"i"))<0);++nn)qe[nn]=Qt;var Jn=function b(W,se){for(var te=Math.ceil(W.length/se)-1,ie=[],oe=1;oe<te;++oe)ie[oe-1]=W.slice(oe*se,(oe+1)*se);return ie[te-1]=W.slice(te*se),ie}(W,ie);M(Ge,ce,Jn,ie,qe);var zr=function V(W,se,te,ie){var oe=W.length,ce=[],We=[],ct=[],Ge=[],qe=ie-1,Ke=0,Lt=0,Kt=0,_n=0;for(Ke=0;Ke<oe;++Ke)if(ct=[],(Kt=Ke+se)>=oe&&(Kt-=oe),!We[Kt]){Ge=[];var Qt=[];for(Lt=Kt;Lt>=0;){Qt[Lt]=!0,We[Lt]=!0,ct[ct.length]=Lt,Ge.push(W[Lt]);var nn=te[Math.floor(4*Lt/ie)];if(ie<4+(_n=4*Lt&qe))throw new Error("FAT boundary crossed: "+Lt+" 4 "+ie);if(!W[nn]||Qt[Lt=Ty(W[nn],_n)])break}ce[Kt]={nodes:ct,data:FH([Ge])}}return ce}(Jn,We,qe,ie);zr[We].name="!Directory",oe>0&&ct!==bt&&(zr[ct].name="!MiniFAT"),zr[qe[0]].name="!FAT",zr.fat_addrs=qe,zr.ssz=ie;var Co=[],Tu=[],rk=[];(function U(W,se,te,ie,oe,ce,We,ct){for(var _n,Ge=0,qe=ie.length?2:0,Ke=se[W].data,Lt=0,Kt=0;Lt<Ke.length;Lt+=128){var Qt=Ke.slice(Lt,Lt+128);Na(Qt,64),Kt=Qt.read_shift(2),_n=IM(Qt,0,Kt-qe),ie.push(_n);var nn={name:_n,type:Qt.read_shift(1),color:Qt.read_shift(1),L:Qt.read_shift(4,"i"),R:Qt.read_shift(4,"i"),C:Qt.read_shift(4,"i"),clsid:Qt.read_shift(16),state:Qt.read_shift(4,"i"),start:0,size:0};0!==Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2)&&(nn.ct=q(Qt,Qt.l-8)),0!==Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2)+Qt.read_shift(2)&&(nn.mt=q(Qt,Qt.l-8)),nn.start=Qt.read_shift(4,"i"),nn.size=Qt.read_shift(4,"i"),nn.size<0&&nn.start<0&&(nn.size=nn.type=0,nn.start=bt,nn.name=""),5===nn.type?(Ge=nn.start,oe>0&&Ge!==bt&&(se[Ge].name="!StreamData")):nn.size>=4096?(nn.storage="fat",void 0===se[nn.start]&&(se[nn.start]=N(te,nn.start,se.fat_addrs,se.ssz)),se[nn.start].name=nn.name,nn.content=se[nn.start].data.slice(0,nn.size)):(nn.storage="minifat",nn.size<0?nn.size=0:Ge!==bt&&nn.start!==bt&&se[Ge]&&(nn.content=E(nn,se[Ge].data,(se[ct]||{}).data))),nn.content&&Na(nn.content,0),ce[_n]=nn,We.push(nn)}})(We,zr,Jn,Co,oe,{},Tu,ct),function T(W,se,te){for(var ie=0,oe=0,ce=0,We=0,ct=0,Ge=te.length,qe=[],Ke=[];ie<Ge;++ie)qe[ie]=Ke[ie]=ie,se[ie]=te[ie];for(;ct<Ke.length;++ct)oe=W[ie=Ke[ct]].L,ce=W[ie].R,We=W[ie].C,qe[ie]===ie&&(-1!==oe&&qe[oe]!==oe&&(qe[ie]=qe[oe]),-1!==ce&&qe[ce]!==ce&&(qe[ie]=qe[ce])),-1!==We&&(qe[We]=ie),-1!==oe&&ie!=qe[ie]&&(qe[oe]=qe[ie],Ke.lastIndexOf(oe)<ct&&Ke.push(oe)),-1!==ce&&ie!=qe[ie]&&(qe[ce]=qe[ie],Ke.lastIndexOf(ce)<ct&&Ke.push(ce));for(ie=1;ie<Ge;++ie)qe[ie]===ie&&(-1!==ce&&qe[ce]!==ce?qe[ie]=qe[ce]:-1!==oe&&qe[oe]!==oe&&(qe[ie]=qe[oe]));for(ie=1;ie<Ge;++ie)if(0!==W[ie].type){if((ct=ie)!=qe[ct])do{se[ie]=se[ct=qe[ct]]+"/"+se[ie]}while(0!==ct&&-1!==qe[ct]&&ct!=qe[ct]);qe[ie]=-1}for(se[0]+="/",ie=1;ie<Ge;++ie)2!==W[ie].type&&(se[ie]+="/")}(Tu,rk,Co),Co.shift();var sk={FileIndex:Tu,FullPaths:rk};return se&&se.raw&&(sk.raw={header:Kt,sectors:Jn}),sk}function E(W,se,te){for(var oe=W.size,ce=[],We=W.start;te&&oe>0&&We>=0;)ce.push(se.slice(We*Te,We*Te+Te)),oe-=Te,We=Ty(te,4*We);return 0===ce.length?at(0):oa(ce).slice(0,W.size)}function M(W,se,te,ie,oe){var ce=bt;if(W===bt){if(0!==se)throw new Error("DIFAT chain shorter than expected")}else if(-1!==W){var We=te[W],ct=(ie>>>2)-1;if(!We)return;for(var Ge=0;Ge<ct&&(ce=Ty(We,4*Ge))!==bt;++Ge)oe.push(ce);M(Ty(We,ie-4),se-1,te,ie,oe)}}function N(W,se,te,ie,oe){var ce=[],We=[];oe||(oe=[]);var ct=ie-1,Ge=0,qe=0;for(Ge=se;Ge>=0;){oe[Ge]=!0,ce[ce.length]=Ge,We.push(W[Ge]);var Ke=te[Math.floor(4*Ge/ie)];if(ie<4+(qe=4*Ge&ct))throw new Error("FAT boundary crossed: "+Ge+" 4 "+ie);if(!W[Ke])break;Ge=Ty(W[Ke],qe)}return{nodes:ce,data:FH([We])}}function q(W,se){return new Date(1e3*(la(W,se+4)/1e7*Math.pow(2,32)+la(W,se)/1e7-11644473600))}function K(W,se){var te=se||{},ie=te.root||"Root Entry";if(W.FullPaths||(W.FullPaths=[]),W.FileIndex||(W.FileIndex=[]),W.FullPaths.length!==W.FileIndex.length)throw new Error("inconsistent CFB structure");0===W.FullPaths.length&&(W.FullPaths[0]=ie+"/",W.FileIndex[0]={name:ie,type:5}),te.CLSID&&(W.FileIndex[0].clsid=te.CLSID),function he(W){var se="\x01Sh33tJ5";if(!On.find(W,"/"+se)){var te=at(4);te[0]=55,te[1]=te[3]=50,te[2]=54,W.FileIndex.push({name:se,type:2,content:te,size:4,L:69,R:69,C:69}),W.FullPaths.push(W.FullPaths[0]+se),de(W)}}(W)}function de(W,se){K(W);for(var te=!1,ie=!1,oe=W.FullPaths.length-1;oe>=0;--oe){var ce=W.FileIndex[oe];switch(ce.type){case 0:ie?te=!0:(W.FileIndex.pop(),W.FullPaths.pop());break;case 1:case 2:case 5:ie=!0,isNaN(ce.R*ce.L*ce.C)&&(te=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(te=!0);break;default:te=!0}}if(te||se){var We=new Date(1987,1,19),ct=0,Ge=Object.create?Object.create(null):{},qe=[];for(oe=0;oe<W.FullPaths.length;++oe)Ge[W.FullPaths[oe]]=!0,0!==W.FileIndex[oe].type&&qe.push([W.FullPaths[oe],W.FileIndex[oe]]);for(oe=0;oe<qe.length;++oe){var Ke=i(qe[oe][0]);(ie=Ge[Ke])||(qe.push([Ke,{name:r(Ke).replace("/",""),type:1,clsid:Xe,ct:We,mt:We,content:null}]),Ge[Ke]=!0)}for(qe.sort(function(_n,Qt){return function e(W,se){for(var te=W.split("/"),ie=se.split("/"),oe=0,ce=0,We=Math.min(te.length,ie.length);oe<We;++oe){if(ce=te[oe].length-ie[oe].length)return ce;if(te[oe]!=ie[oe])return te[oe]<ie[oe]?-1:1}return te.length-ie.length}(_n[0],Qt[0])}),W.FullPaths=[],W.FileIndex=[],oe=0;oe<qe.length;++oe)W.FullPaths[oe]=qe[oe][0],W.FileIndex[oe]=qe[oe][1];for(oe=0;oe<qe.length;++oe){var Lt=W.FileIndex[oe],Kt=W.FullPaths[oe];if(Lt.name=r(Kt).replace("/",""),Lt.L=Lt.R=Lt.C=-(Lt.color=1),Lt.size=Lt.content?Lt.content.length:0,Lt.start=0,Lt.clsid=Lt.clsid||Xe,0===oe)Lt.C=qe.length>1?1:-1,Lt.size=0,Lt.type=5;else if("/"==Kt.slice(-1)){for(ct=oe+1;ct<qe.length&&i(W.FullPaths[ct])!=Kt;++ct);for(Lt.C=ct>=qe.length?-1:ct,ct=oe+1;ct<qe.length&&i(W.FullPaths[ct])!=i(Kt);++ct);Lt.R=ct>=qe.length?-1:ct,Lt.type=1}else i(W.FullPaths[oe+1]||"")==i(Kt)&&(Lt.R=oe+1),Lt.type=2}}}function Me(W,se){var te=se||{};if("mad"==te.fileType)return function Q2e(W,se){for(var te=se||{},ie=te.boundary||"SheetJS",oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(ie="------="+ie).slice(2)+'"',"","",""],ce=W.FullPaths[0],We=ce,ct=W.FileIndex[0],Ge=1;Ge<W.FullPaths.length;++Ge)if(We=W.FullPaths[Ge].slice(ce.length),(ct=W.FileIndex[Ge]).size&&ct.content&&"\x01Sh33tJ5"!=We){We=We.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Jn){return"_x"+Jn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Jn){return"_u"+Jn.charCodeAt(0).toString(16)+"_"});for(var qe=ct.content,Ke=fi&&Buffer.isBuffer(qe)?qe.toString("binary"):Ct(qe),Lt=0,Kt=Math.min(1024,Ke.length),_n=0,Qt=0;Qt<=Kt;++Qt)(_n=Ke.charCodeAt(Qt))>=32&&_n<128&&++Lt;var nn=Lt>=4*Kt/5;oe.push(ie),oe.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+We),oe.push("Content-Transfer-Encoding: "+(nn?"quoted-printable":"base64")),oe.push("Content-Type: "+W2e(ct,We)),oe.push(""),oe.push(nn?G2e(Ke):q2e(Ke))}return oe.push(ie+"--\r\n"),oe.join("\r\n")}(W,te);if("zip"===(de(W),te.fileType))return function Z2e(W,se){var te=se||{},ie=[],oe=[],ce=at(1),We=te.compression?8:0,qe=0,Ke=0,Lt=0,Kt=0,_n=W.FullPaths[0],Qt=_n,nn=W.FileIndex[0],Jn=[],zr=0;for(qe=1;qe<W.FullPaths.length;++qe)if(Qt=W.FullPaths[qe].slice(_n.length),(nn=W.FileIndex[qe]).size&&nn.content&&"\x01Sh33tJ5"!=Qt){var Oc=Lt,Co=at(Qt.length);for(Ke=0;Ke<Qt.length;++Ke)Co.write_shift(1,127&Qt.charCodeAt(Ke));Co=Co.slice(0,Co.l),Jn[Kt]=Woe.buf(nn.content,0);var Tu=nn.content;8==We&&(Tu=ge(Tu)),(ce=at(30)).write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,0),ce.write_shift(2,We),nn.mt?s(ce,nn.mt):ce.write_shift(4,0),ce.write_shift(-4,Jn[Kt]),ce.write_shift(4,Tu.length),ce.write_shift(4,nn.content.length),ce.write_shift(2,Co.length),ce.write_shift(2,0),Lt+=ce.length,ie.push(ce),Lt+=Co.length,ie.push(Co),Lt+=Tu.length,ie.push(Tu),(ce=at(46)).write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,0),ce.write_shift(2,We),ce.write_shift(4,0),ce.write_shift(-4,Jn[Kt]),ce.write_shift(4,Tu.length),ce.write_shift(4,nn.content.length),ce.write_shift(2,Co.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,Oc),zr+=ce.l,oe.push(ce),zr+=Co.length,oe.push(Co),++Kt}return(ce=at(22)).write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,Kt),ce.write_shift(2,Kt),ce.write_shift(4,zr),ce.write_shift(4,Lt),ce.write_shift(2,0),oa([oa(ie),oa(oe),ce])}(W,te);var ie=function(_n){for(var Qt=0,nn=0,Jn=0;Jn<_n.FileIndex.length;++Jn){var zr=_n.FileIndex[Jn];if(zr.content){var Oc=zr.content.length;Oc>0&&(Oc<4096?Qt+=Oc+63>>6:nn+=Oc+511>>9)}}for(var Co=_n.FullPaths.length+3>>2,rk=Qt+127>>7,sk=(Qt+7>>3)+nn+Co+rk,o1=sk+127>>7,G4=o1<=109?0:Math.ceil((o1-109)/127);sk+o1+G4+127>>7>o1;)G4=++o1<=109?0:Math.ceil((o1-109)/127);var Gg=[1,G4,o1,rk,Co,nn,Qt,0];return _n.FileIndex[0].size=Qt<<6,Gg[7]=(_n.FileIndex[0].start=Gg[0]+Gg[1]+Gg[2]+Gg[3]+Gg[4]+Gg[5])+(Gg[6]+7>>3),Gg}(W),oe=at(ie[7]<<9),ce=0,We=0;for(ce=0;ce<8;++ce)oe.write_shift(1,pt[ce]);for(ce=0;ce<8;++ce)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),ce=0;ce<3;++ce)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,ie[2]),oe.write_shift(4,ie[0]+ie[1]+ie[2]+ie[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,ie[3]?ie[0]+ie[1]+ie[2]-1:bt),oe.write_shift(4,ie[3]),oe.write_shift(-4,ie[1]?ie[0]-1:bt),oe.write_shift(4,ie[1]),ce=0;ce<109;++ce)oe.write_shift(-4,ce<ie[2]?ie[1]+ce:-1);if(ie[1])for(We=0;We<ie[1];++We){for(;ce<236+127*We;++ce)oe.write_shift(-4,ce<ie[2]?ie[1]+ce:-1);oe.write_shift(-4,We===ie[1]-1?bt:We+1)}var ct=function(_n){for(We+=_n;ce<We-1;++ce)oe.write_shift(-4,ce+1);_n&&(++ce,oe.write_shift(-4,bt))};for(We=ce=0,We+=ie[1];ce<We;++ce)oe.write_shift(-4,gt.DIFSECT);for(We+=ie[2];ce<We;++ce)oe.write_shift(-4,gt.FATSECT);ct(ie[3]),ct(ie[4]);for(var Ge=0,qe=0,Ke=W.FileIndex[0];Ge<W.FileIndex.length;++Ge)(Ke=W.FileIndex[Ge]).content&&!((qe=Ke.content.length)<4096)&&(Ke.start=We,ct(qe+511>>9));for(ct(ie[6]+7>>3);511&oe.l;)oe.write_shift(-4,gt.ENDOFCHAIN);for(We=ce=0,Ge=0;Ge<W.FileIndex.length;++Ge)(Ke=W.FileIndex[Ge]).content&&(qe=Ke.content.length)&&!(qe>=4096)&&(Ke.start=We,ct(qe+63>>6));for(;511&oe.l;)oe.write_shift(-4,gt.ENDOFCHAIN);for(ce=0;ce<ie[4]<<2;++ce){var Lt=W.FullPaths[ce];if(Lt&&0!==Lt.length){Ke=W.FileIndex[ce],0===ce&&(Ke.start=Ke.size?Ke.start-1:bt);var Kt=0===ce&&te.root||Ke.name;if(qe=2*(Kt.length+1),oe.write_shift(64,Kt,"utf16le"),oe.write_shift(2,qe),oe.write_shift(1,Ke.type),oe.write_shift(1,Ke.color),oe.write_shift(-4,Ke.L),oe.write_shift(-4,Ke.R),oe.write_shift(-4,Ke.C),Ke.clsid)oe.write_shift(16,Ke.clsid,"hex");else for(Ge=0;Ge<4;++Ge)oe.write_shift(4,0);oe.write_shift(4,Ke.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Ke.start),oe.write_shift(4,Ke.size),oe.write_shift(4,0)}else{for(Ge=0;Ge<17;++Ge)oe.write_shift(4,0);for(Ge=0;Ge<3;++Ge)oe.write_shift(4,-1);for(Ge=0;Ge<12;++Ge)oe.write_shift(4,0)}}for(ce=1;ce<W.FileIndex.length;++ce)if((Ke=W.FileIndex[ce]).size>=4096)if(oe.l=Ke.start+1<<9,fi&&Buffer.isBuffer(Ke.content))Ke.content.copy(oe,oe.l,0,Ke.size),oe.l+=Ke.size+511&-512;else{for(Ge=0;Ge<Ke.size;++Ge)oe.write_shift(1,Ke.content[Ge]);for(;511&Ge;++Ge)oe.write_shift(1,0)}for(ce=1;ce<W.FileIndex.length;++ce)if((Ke=W.FileIndex[ce]).size>0&&Ke.size<4096)if(fi&&Buffer.isBuffer(Ke.content))Ke.content.copy(oe,oe.l,0,Ke.size),oe.l+=Ke.size+63&-64;else{for(Ge=0;Ge<Ke.size;++Ge)oe.write_shift(1,Ke.content[Ge]);for(;63&Ge;++Ge)oe.write_shift(1,0)}if(fi)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}t.version="1.2.1";var mt,Te=64,bt=-2,qt="d0cf11e0a1b11ae1",pt=[208,207,17,224,161,177,26,225],Xe="00000000000000000000000000000000",gt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:bt,FREESECT:-1,HEADER_SIGNATURE:qt,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Xe,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ct(W){for(var se=new Array(W.length),te=0;te<W.length;++te)se[te]=String.fromCharCode(W[te]);return se.join("")}function ge(W){return mt?mt.deflateRawSync(W):yi(W)}for(var W,se,we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],lt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Bt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Pt="undefined"!=typeof Uint8Array,xt=Pt?new Uint8Array(256):[],Qn=0;Qn<256;++Qn)xt[Qn]=(void 0,255&((se=139536&((W=Qn)<<1|W<<11)|558144&(W<<5|W<<15))>>16|se>>8|se));function me(W,se){var te=xt[255&W];return se<=8?te>>>8-se:(te=te<<8|xt[W>>8&255],se<=16?te>>>16-se:(te=te<<8|xt[W>>16&255])>>>24-se)}function cr(W,se){var te=7&se,ie=se>>>3;return(W[ie]|(te<=6?0:W[ie+1]<<8))>>>te&3}function Ei(W,se){var te=7&se,ie=se>>>3;return(W[ie]|(te<=5?0:W[ie+1]<<8))>>>te&7}function Si(W,se){var te=7&se,ie=se>>>3;return(W[ie]|(te<=3?0:W[ie+1]<<8))>>>te&31}function un(W,se){var te=7&se,ie=se>>>3;return(W[ie]|(te<=1?0:W[ie+1]<<8))>>>te&127}function no(W,se,te){var ie=7&se,oe=se>>>3,We=W[oe]>>>ie;return te<8-ie||(We|=W[oe+1]<<8-ie,te<16-ie)||(We|=W[oe+2]<<16-ie,te<24-ie)||(We|=W[oe+3]<<24-ie),We&(1<<te)-1}function kd(W,se,te){var ie=7&se,oe=se>>>3;return ie<=5?W[oe]|=(7&te)<<ie:(W[oe]|=te<<ie&255,W[oe+1]=(7&te)>>8-ie),se+3}function up(W,se,te){return W[se>>>3]|=te=(1&te)<<(7&se),se+1}function Wg(W,se,te){var oe=se>>>3;return W[oe]|=255&(te<<=7&se),W[oe+1]=te>>>=8,se+8}function nk(W,se,te){var oe=se>>>3;return W[oe]|=255&(te<<=7&se),W[oe+1]=255&(te>>>=8),W[oe+2]=te>>>8,se+16}function p_(W,se){var te=W.length,ie=2*te>se?2*te:se+5,oe=0;if(te>=se)return W;if(fi){var ce=$U(ie);if(W.copy)W.copy(ce);else for(;oe<W.length;++oe)ce[oe]=W[oe];return ce}if(Pt){var We=new Uint8Array(ie);if(We.set)We.set(W);else for(;oe<te;++oe)We[oe]=W[oe];return We}return W.length=ie,W}function Cu(W){for(var se=new Array(W),te=0;te<W;++te)se[te]=0;return se}function qg(W,se,te){var ie=1,oe=0,ce=0,We=0,ct=0,Ge=W.length,qe=Pt?new Uint16Array(32):Cu(32);for(ce=0;ce<32;++ce)qe[ce]=0;for(ce=Ge;ce<te;++ce)W[ce]=0;Ge=W.length;var Ke=Pt?new Uint16Array(Ge):Cu(Ge);for(ce=0;ce<Ge;++ce)qe[oe=W[ce]]++,ie<oe&&(ie=oe),Ke[ce]=0;for(qe[0]=0,ce=1;ce<=ie;++ce)qe[ce+16]=ct=ct+qe[ce-1]<<1;for(ce=0;ce<Ge;++ce)0!=(ct=W[ce])&&(Ke[ce]=qe[ct+16]++);var Lt=0;for(ce=0;ce<Ge;++ce)if(0!=(Lt=W[ce]))for(ct=me(Ke[ce],ie)>>ie-Lt,We=(1<<ie+4-Lt)-1;We>=0;--We)se[ct|We<<Lt]=15&Lt|ce<<4;return ie}var g_=Pt?new Uint16Array(512):Cu(512),ik=Pt?new Uint16Array(32):Cu(32);if(!Pt){for(var Kl=0;Kl<512;++Kl)g_[Kl]=0;for(Kl=0;Kl<32;++Kl)ik[Kl]=0}!function(){for(var W=[],se=0;se<32;se++)W.push(5);qg(W,ik,32);var te=[];for(se=0;se<=143;se++)te.push(8);for(;se<=255;se++)te.push(9);for(;se<=279;se++)te.push(7);for(;se<=287;se++)te.push(8);qg(te,g_,288)}();var dp=function(){for(var se=Pt?new Uint8Array(32768):[],te=0,ie=0;te<Bt.length-1;++te)for(;ie<Bt[te+1];++ie)se[ie]=te;for(;ie<32768;++ie)se[ie]=29;var oe=Pt?new Uint8Array(259):[];for(te=0,ie=0;te<lt.length-1;++te)for(;ie<lt[te+1];++ie)oe[ie]=te;return function(Ge,qe){return Ge.length<8?function ce(ct,Ge){for(var qe=0;qe<ct.length;){var Ke=Math.min(65535,ct.length-qe);for(Ge.write_shift(1,+(qe+Ke==ct.length)),Ge.write_shift(2,Ke),Ge.write_shift(2,65535&~Ke);Ke-- >0;)Ge[Ge.l++]=ct[qe++]}return Ge.l}(Ge,qe):function We(ct,Ge){for(var qe=0,Ke=0,Lt=Pt?new Uint16Array(32768):[];Ke<ct.length;){var Kt=Math.min(65535,ct.length-Ke);if(Kt<10){for(7&(qe=kd(Ge,qe,+(Ke+Kt==ct.length)))&&(qe+=8-(7&qe)),Ge.l=qe/8|0,Ge.write_shift(2,Kt),Ge.write_shift(2,65535&~Kt);Kt-- >0;)Ge[Ge.l++]=ct[Ke++];qe=8*Ge.l}else{qe=kd(Ge,qe,+(Ke+Kt==ct.length)+2);for(var _n=0;Kt-- >0;){var Qt=ct[Ke],nn=-1,Jn=0;if((nn=Lt[_n=32767&(_n<<5^Qt)])&&((nn|=-32768&Ke)>Ke&&(nn-=32768),nn<Ke))for(;ct[nn+Jn]==ct[Ke+Jn]&&Jn<250;)++Jn;if(Jn>2){(Qt=oe[Jn])<=22?qe=Wg(Ge,qe,xt[Qt+1]>>1)-1:(Wg(Ge,qe,3),Wg(Ge,qe+=5,xt[Qt-23]>>5),qe+=3);var zr=Qt<8?0:Qt-4>>2;zr>0&&(nk(Ge,qe,Jn-lt[Qt]),qe+=zr),qe=Wg(Ge,qe,xt[Qt=se[Ke-nn]]>>3),qe-=3;var Oc=Qt<4?0:Qt-2>>1;Oc>0&&(nk(Ge,qe,Ke-nn-Bt[Qt]),qe+=Oc);for(var Co=0;Co<Jn;++Co)Lt[_n]=32767&Ke,_n=32767&(_n<<5^ct[Ke]),++Ke;Kt-=Jn-1}else Qt<=143?Qt+=48:qe=up(Ge,qe,1),qe=Wg(Ge,qe,xt[Qt]),Lt[_n]=32767&Ke,++Ke}qe=Wg(Ge,qe,0)-1}}return Ge.l=(qe+7)/8|0,Ge.l}(Ge,qe)}}();function yi(W){var se=at(50+Math.floor(1.1*W.length)),te=dp(W,se);return se.slice(0,te)}var io=Pt?new Uint16Array(32768):Cu(32768),Dd=Pt?new Uint16Array(32768):Cu(32768),Bo=Pt?new Uint16Array(128):Cu(128),s1=1,cG=1;function H2e(W,se){var te=Si(W,se)+257,ie=Si(W,se+=5)+1,oe=function ur(W,se){var te=7&se,ie=se>>>3;return(W[ie]|(te<=4?0:W[ie+1]<<8))>>>te&15}(W,se+=5)+4;se+=4;for(var ce=0,We=Pt?new Uint8Array(19):Cu(19),ct=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ge=1,qe=Pt?new Uint8Array(8):Cu(8),Ke=Pt?new Uint8Array(8):Cu(8),Lt=We.length,Kt=0;Kt<oe;++Kt)We[we[Kt]]=ce=Ei(W,se),Ge<ce&&(Ge=ce),qe[ce]++,se+=3;var _n=0;for(qe[0]=0,Kt=1;Kt<=Ge;++Kt)Ke[Kt]=_n=_n+qe[Kt-1]<<1;for(Kt=0;Kt<Lt;++Kt)0!=(_n=We[Kt])&&(ct[Kt]=Ke[_n]++);var Qt=0;for(Kt=0;Kt<Lt;++Kt)if(0!=(Qt=We[Kt])){_n=xt[ct[Kt]]>>8-Qt;for(var nn=(1<<7-Qt)-1;nn>=0;--nn)Bo[_n|nn<<Qt]=7&Qt|Kt<<3}var Jn=[];for(Ge=1;Jn.length<te+ie;)switch(_n=Bo[un(W,se)],se+=7&_n,_n>>>=3){case 16:for(ce=3+cr(W,se),se+=2,_n=Jn[Jn.length-1];ce-- >0;)Jn.push(_n);break;case 17:for(ce=3+Ei(W,se),se+=3;ce-- >0;)Jn.push(0);break;case 18:for(ce=11+un(W,se),se+=7;ce-- >0;)Jn.push(0);break;default:Jn.push(_n),Ge<_n&&(Ge=_n)}var zr=Jn.slice(0,te),Oc=Jn.slice(te);for(Kt=te;Kt<286;++Kt)zr[Kt]=0;for(Kt=ie;Kt<30;++Kt)Oc[Kt]=0;return s1=qg(zr,io,286),cG=qg(Oc,Dd,30),se}function uG(W,se){var ie=function j2e(W,se){if(3==W[0]&&!(3&W[1]))return[L0(se),2];for(var te=0,ie=0,oe=$U(se||1<<18),ce=0,We=oe.length>>>0,ct=0,Ge=0;0==(1&ie);)if(ie=Ei(W,te),te+=3,ie>>>1!=0)for(ie>>1==1?(ct=9,Ge=5):(te=H2e(W,te),ct=s1,Ge=cG);;){!se&&We<ce+32767&&(We=(oe=p_(oe,ce+32767)).length);var Ke=no(W,te,ct),Lt=ie>>>1==1?g_[Ke]:io[Ke];if(te+=15&Lt,0==((Lt>>>=4)>>>8&255))oe[ce++]=Lt;else{if(256==Lt)break;var Kt=(Lt-=257)<8?0:Lt-4>>2;Kt>5&&(Kt=0);var _n=ce+lt[Lt];Kt>0&&(_n+=no(W,te,Kt),te+=Kt),Ke=no(W,te,Ge),te+=15&(Lt=ie>>>1==1?ik[Ke]:Dd[Ke]);var Qt=(Lt>>>=4)<4?0:Lt-2>>1,nn=Bt[Lt];for(Qt>0&&(nn+=no(W,te,Qt),te+=Qt),!se&&We<_n&&(We=(oe=p_(oe,_n+100)).length);ce<_n;)oe[ce]=oe[ce-nn],++ce}}else{7&te&&(te+=8-(7&te));var qe=W[te>>>3]|W[1+(te>>>3)]<<8;if(te+=32,qe>0)for(!se&&We<ce+qe&&(We=(oe=p_(oe,ce+qe)).length);qe-- >0;)oe[ce++]=W[te>>>3],te+=8}return se?[oe,te+7>>>3]:[oe.slice(0,ce),te+7>>>3]}(W.slice(W.l||0),se);return W.l+=ie[1],ie[0]}function dG(W,se){if(!W)throw new Error(se);"undefined"!=typeof console&&console.error(se)}function hG(W,se){var te=W;Na(te,0);var ce={FileIndex:[],FullPaths:[]};K(ce,{root:se.root});for(var We=te.length-4;(80!=te[We]||75!=te[We+1]||5!=te[We+2]||6!=te[We+3])&&We>=0;)--We;te.l=We+4,te.l+=4;var ct=te.read_shift(2);te.l+=6;var Ge=te.read_shift(4);for(te.l=Ge,We=0;We<ct;++We){te.l+=20;var qe=te.read_shift(4),Ke=te.read_shift(4),Lt=te.read_shift(2),Kt=te.read_shift(2),_n=te.read_shift(2);te.l+=8;var Qt=te.read_shift(4),nn=l(te.slice(te.l+Lt,te.l+Lt+Kt));te.l+=Lt+Kt+_n;var Jn=te.l;te.l=Qt+4,z2e(te,qe,Ke,ce,nn),te.l=Jn}return ce}function z2e(W,se,te,ie,oe){W.l+=2;var ce=W.read_shift(2),We=W.read_shift(2),ct=function a(W){var se=65535&W.read_shift(2),te=65535&W.read_shift(2),ie=new Date,oe=31&te,ce=15&(te>>>=5);te>>>=4,ie.setMilliseconds(0),ie.setFullYear(te+1980),ie.setMonth(ce-1),ie.setDate(oe);var We=31&se,ct=63&(se>>>=5);return ie.setHours(se>>>=6),ie.setMinutes(ct),ie.setSeconds(We<<1),ie}(W);if(8257&ce)throw new Error("Unsupported ZIP encryption");W.read_shift(4);for(var qe=W.read_shift(4),Ke=W.read_shift(4),Lt=W.read_shift(2),Kt=W.read_shift(2),_n="",Qt=0;Qt<Lt;++Qt)_n+=String.fromCharCode(W[W.l++]);if(Kt){var nn=l(W.slice(W.l,W.l+Kt));(nn[21589]||{}).mt&&(ct=nn[21589].mt),((oe||{})[21589]||{}).mt&&(ct=oe[21589].mt)}W.l+=Kt;var Jn=W.slice(W.l,W.l+qe);switch(We){case 8:Jn=function Be(W,se){if(!mt)return uG(W,se);var ie=new(0,mt.InflateRaw),oe=ie._processChunk(W.slice(W.l),ie._finishFlushFlag);return W.l+=ie.bytesRead,oe}(W,Ke);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+We)}var zr=!1;8&ce&&(134695760==W.read_shift(4)&&(W.read_shift(4),zr=!0),qe=W.read_shift(4),Ke=W.read_shift(4)),qe!=se&&dG(zr,"Bad compressed size: "+se+" != "+qe),Ke!=te&&dG(zr,"Bad uncompressed size: "+te+" != "+Ke),q4(ie,_n,Jn,{unsafe:!0,mt:ct})}var gR={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function W2e(W,se){if(W.ctype)return W.ctype;var te=W.name||"",ie=te.match(/\.([^\.]+)$/);return ie&&gR[ie[1]]||se&&(ie=(te=se).match(/[\.\\]([^\.\\])+$/))&&gR[ie[1]]?gR[ie[1]]:"application/octet-stream"}function q2e(W){for(var se=IS(W),te=[],ie=0;ie<se.length;ie+=76)te.push(se.slice(ie,ie+76));return te.join("\r\n")+"\r\n"}function G2e(W){var se=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(qe){var Ke=qe.charCodeAt(0).toString(16).toUpperCase();return"="+(1==Ke.length?"0"+Ke:Ke)});"\n"==(se=se.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(se="=0D"+se.slice(1));for(var te=[],ie=(se=se.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),oe=0;oe<ie.length;++oe){var ce=ie[oe];if(0!=ce.length)for(var We=0;We<ce.length;){var ct=76,Ge=ce.slice(We,We+ct);"="==Ge.charAt(ct-1)?ct--:"="==Ge.charAt(ct-2)?ct-=2:"="==Ge.charAt(ct-3)&&(ct-=3),Ge=ce.slice(We,We+ct),(We+=ct)<ce.length&&(Ge+="="),te.push(Ge)}else te.push("")}return te.join("\r\n")}function Y2e(W,se,te){for(var We,ie="",oe="",ce="",ct=0;ct<10;++ct){var Ge=se[ct];if(!Ge||Ge.match(/^\s*$/))break;var qe=Ge.match(/^(.*?):\s*([^\s].*)$/);if(qe)switch(qe[1].toLowerCase()){case"content-location":ie=qe[2].trim();break;case"content-type":ce=qe[2].trim();break;case"content-transfer-encoding":oe=qe[2].trim()}}switch(++ct,oe.toLowerCase()){case"base64":We=_u(mu(se.slice(ct).join("")));break;case"quoted-printable":We=function $2e(W){for(var se=[],te=0;te<W.length;++te){for(var ie=W[te];te<=W.length&&"="==ie.charAt(ie.length-1);)ie=ie.slice(0,ie.length-1)+W[++te];se.push(ie)}for(var oe=0;oe<se.length;++oe)se[oe]=se[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return _u(se.join("\r\n"))}(se.slice(ct));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Ke=q4(W,ie.slice(te.length),We,{unsafe:!0});ce&&(Ke.ctype=ce)}function q4(W,se,te,ie){var oe=ie&&ie.unsafe;oe||K(W);var ce=!oe&&On.find(W,se);if(!ce){var We=W.FullPaths[0];se.slice(0,We.length)==We?We=se:("/"!=We.slice(-1)&&(We+="/"),We=(We+se).replace("//","/")),ce={name:r(se),type:2},W.FileIndex.push(ce),W.FullPaths.push(We),oe||On.utils.cfb_gc(W)}return ce.content=te,ce.size=te?te.length:0,ie&&(ie.CLSID&&(ce.clsid=ie.CLSID),ie.mt&&(ce.mt=ie.mt),ie.ct&&(ce.ct=ie.ct)),ce}return t.find=function Fe(W,se){var te=W.FullPaths.map(function(Ge){return Ge.toUpperCase()}),ie=te.map(function(Ge){var qe=Ge.split("/");return qe[qe.length-("/"==Ge.slice(-1)?2:1)]}),oe=!1;47===se.charCodeAt(0)?(oe=!0,se=te[0].slice(0,-1)+se):oe=-1!==se.indexOf("/");var ce=se.toUpperCase(),We=!0===oe?te.indexOf(ce):ie.indexOf(ce);if(-1!==We)return W.FileIndex[We];var ct=!ce.match(DS);for(ce=ce.replace(nl,""),ct&&(ce=ce.replace(DS,"!")),We=0;We<te.length;++We)if((ct?te[We].replace(DS,"!"):te[We]).replace(nl,"")==ce||(ct?ie[We].replace(DS,"!"):ie[We]).replace(nl,"")==ce)return W.FileIndex[We];return null},t.read=function ue(W,se){var te=se&&se.type;switch(te||fi&&Buffer.isBuffer(W)&&(te="buffer"),te||"base64"){case"file":return function Q(W,se){return f(),p(d.readFileSync(W),se)}(W,se);case"base64":return p(_u(mu(W)),se);case"binary":return p(_u(W),se)}return p(W,se)},t.parse=p,t.write=function cn(W,se){var te=Me(W,se);switch(se&&se.type||"buffer"){case"file":return f(),d.writeFileSync(se.filename,te),te;case"binary":return"string"==typeof te?te:Ct(te);case"base64":return IS("string"==typeof te?te:Ct(te));case"buffer":if(fi)return Buffer.isBuffer(te)?te:Ig(te);case"array":return"string"==typeof te?_u(te):te}return te},t.writeFile=function Ft(W,se,te){f();var ie=Me(W,te);d.writeFileSync(se,ie)},t.utils={cfb_new:function J2e(W){var se={};return K(se,W),se},cfb_add:q4,cfb_del:function X2e(W,se){K(W);var te=On.find(W,se);if(te)for(var ie=0;ie<W.FileIndex.length;++ie)if(W.FileIndex[ie]==te)return W.FileIndex.splice(ie,1),W.FullPaths.splice(ie,1),!0;return!1},cfb_mov:function eAe(W,se,te){K(W);var ie=On.find(W,se);if(ie)for(var oe=0;oe<W.FileIndex.length;++oe)if(W.FileIndex[oe]==ie)return W.FileIndex[oe].name=r(te),W.FullPaths[oe]=te,!0;return!1},cfb_gc:function tAe(W){de(W,!0)},ReadShift:NS,CheckField:qH,prep_blob:Na,bconcat:oa,use_zlib:function fe(W){try{var te=new(0,W.InflateRaw);if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),!te.bytesRead)throw new Error("zlib does not expose bytesRead");mt=W}catch(ie){console.error("cannot use native zlib: "+(ie.message||ie))}},_deflateRaw:yi,_inflateRaw:uG,consts:gt},t}();function qoe(n){return"string"==typeof n?kS(n):Array.isArray(n)?function _oe(n){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(n)}(n):n}function OS(n,t,e){if("undefined"!=typeof Deno){if(e&&"string"==typeof t)switch(e){case"utf8":t=new TextEncoder(e).encode(t);break;case"binary":t=kS(t);break;default:throw new Error("Unsupported encoding "+e)}return Deno.writeFileSync(n,t)}var i="utf8"==e?Xf(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(i,n);if("undefined"!=typeof Blob){var r=new Blob([qoe(i)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(r,n);if("undefined"!=typeof saveAs)return saveAs(r,n);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(r);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var a=document.createElement("a");if(null!=a.download)return a.download=n,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var l=File(n);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=B0(t)),l.write(t),l.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+n)}function Os(n){for(var t=Object.keys(n),e=[],i=0;i<t.length;++i)Object.prototype.hasOwnProperty.call(n,t[i])&&e.push(t[i]);return e}function fH(n,t){for(var e=[],i=Os(n),r=0;r!==i.length;++r)null==e[n[i[r]][t]]&&(e[n[i[r]][t]]=i[r]);return e}function CM(n){for(var t=[],e=Os(n),i=0;i!==e.length;++i)t[n[e[i]]]=e[i];return t}function TM(n){for(var t=[],e=Os(n),i=0;i!==e.length;++i)t[n[e[i]]]=parseInt(e[i],10);return t}var EM=new Date(1899,11,30,0,0,0);function aa(n,t){var e=n.getTime();return t&&(e-=1263168e5),(e-(EM.getTime()+6e4*(n.getTimezoneOffset()-EM.getTimezoneOffset())))/864e5}var pH=new Date,Yoe=EM.getTime()+6e4*(pH.getTimezoneOffset()-EM.getTimezoneOffset()),gH=pH.getTimezoneOffset();function TL(n){var t=new Date;return t.setTime(24*n*60*60*1e3+Yoe),t.getTimezoneOffset()!==gH&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-gH)),t}var mH=new Date("2017-02-19T19:06:09.000Z"),_H=isNaN(mH.getFullYear())?new Date("2/19/17"):mH,Qoe=2017==_H.getFullYear();function _s(n,t){var e=new Date(n);if(Qoe)return t>0?e.setTime(e.getTime()+60*e.getTimezoneOffset()*1e3):t<0&&e.setTime(e.getTime()-60*e.getTimezoneOffset()*1e3),e;if(n instanceof Date)return n;if(1917==_H.getFullYear()&&!isNaN(e.getFullYear())){var i=e.getFullYear();return n.indexOf(""+i)>-1||e.setFullYear(e.getFullYear()+100),e}var r=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+r[0],+r[1]-1,+r[2],+r[3]||0,+r[4]||0,+r[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Cy(n,t){if(fi&&Buffer.isBuffer(n)){if(t){if(255==n[0]&&254==n[1])return Xf(n.slice(2).toString("utf16le"));if(254==n[1]&&255==n[2])return Xf(function GU(n){for(var t=[],e=0;e<n.length>>1;++e)t[e]=String.fromCharCode(n.charCodeAt(2*e+1)+(n.charCodeAt(2*e)<<8));return t.join("")}(n.slice(2).toString("binary")))}return n.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(t){if(255==n[0]&&254==n[1])return Xf(new TextDecoder("utf-16le").decode(n.slice(2)));if(254==n[0]&&255==n[1])return Xf(new TextDecoder("utf-16be").decode(n.slice(2)))}var e={"\u20ac":"\x80","\u201a":"\x82",\u0192:"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87",\u02c6:"\x88","\u2030":"\x89",\u0160:"\x8a","\u2039":"\x8b",\u0152:"\x8c",\u017d:"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99",\u0161:"\x9a","\u203a":"\x9b",\u0153:"\x9c",\u017e:"\x9e",\u0178:"\x9f"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(s){return e[s]||s})}catch(s){}for(var i=[],r=0;r!=n.length;++r)i.push(String.fromCharCode(n[r]));return i.join("")}function wr(n){if("undefined"!=typeof JSON&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if("object"!=typeof n||null==n)return n;if(n instanceof Date)return new Date(n.getTime());var t={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=wr(n[e]));return t}function Rs(n,t){for(var e="";e.length<t;)e+=n;return e}function kh(n){var t=Number(n);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(n))return t;var e=1,i=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return e*=100,""});return isNaN(t=Number(i))&&(i=i.replace(/[(](.*)[)]/,function(r,s){return e=-e,s}),isNaN(t=Number(i)))?t:t/e}var Joe=["january","february","march","april","may","june","july","august","september","october","november","december"];function ob(n){var t=new Date(n),e=new Date(NaN),i=t.getYear(),r=t.getMonth(),s=t.getDate();if(isNaN(s))return e;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Joe.indexOf(a))return e}else if(a.match(/[a-z]/))return e;return i<0||i>8099?e:(r>0||s>1)&&101!=i?t:n.match(/[^-0-9:,\/\\]/)?e:t}function ci(n,t,e){if(n.FullPaths){var i;if("string"==typeof e)return i=fi?Ig(e):function voe(n){for(var t=[],e=0,i=n.length+250,r=L0(n.length+255),s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a<128)r[e++]=a;else if(a<2048)r[e++]=192|a>>6&31,r[e++]=128|63&a;else if(a>=55296&&a<57344){a=64+(1023&a);var l=1023&n.charCodeAt(++s);r[e++]=240|a>>8&7,r[e++]=128|a>>2&63,r[e++]=128|l>>6&15|(3&a)<<4,r[e++]=128|63&l}else r[e++]=224|a>>12&15,r[e++]=128|a>>6&63,r[e++]=128|63&a;e>i&&(t.push(r.slice(0,e)),e=0,r=L0(65535),i=65530)}return t.push(r.slice(0,e)),oa(t)}(e),On.utils.cfb_add(n,t,i);On.utils.cfb_add(n,t,e)}else n.file(t,e)}function SL(){return On.utils.cfb_new()}var Fs='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',IL=CM({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),kL=/[&<>'"]/g,oae=/[\u0000-\u0008\u000b-\u001f]/g;function ar(n){return(n+"").replace(kL,function(e){return IL[e]}).replace(oae,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function TH(n){return ar(n).replace(/ /g,"_x0020_")}var EH=/[\u0000-\u001f]/g;function SH(n){return(n+"").replace(kL,function(e){return IL[e]}).replace(/\n/g,"<br/>").replace(EH,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function DL(n){for(var t="",e=0,i=0,r=0,s=0,a=0,l=0;e<n.length;)(i=n.charCodeAt(e++))<128?t+=String.fromCharCode(i):(r=n.charCodeAt(e++),i>191&&i<224?(a=(31&i)<<6,a|=63&r,t+=String.fromCharCode(a)):(s=n.charCodeAt(e++),i<240?t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&s):(l=((7&i)<<18|(63&r)<<12|(63&s)<<6|63&(a=n.charCodeAt(e++)))-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(1023&l)))));return t}function kH(n){var e,i,l,t=L0(2*n.length),r=1,s=0,a=0;for(i=0;i<n.length;i+=r)r=1,(l=n.charCodeAt(i))<128?e=l:l<224?(e=64*(31&l)+(63&n.charCodeAt(i+1)),r=2):l<240?(e=4096*(15&l)+64*(63&n.charCodeAt(i+1))+(63&n.charCodeAt(i+2)),r=3):(r=4,e=262144*(7&l)+4096*(63&n.charCodeAt(i+1))+64*(63&n.charCodeAt(i+2))+(63&n.charCodeAt(i+3)),a=55296+((e-=65536)>>>10&1023),e=56320+(1023&e)),0!==a&&(t[s++]=255&a,t[s++]=a>>>8,a=0),t[s++]=e%256,t[s++]=e>>>8;return t.slice(0,s).toString("ucs2")}function DH(n){return Ig(n,"binary").toString("utf8")}var SM="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",Hr=fi&&(DH(SM)==DL(SM)&&DH||kH(SM)==DL(SM)&&kH)||DL,Xf=fi?function(n){return Ig(n,"utf8").toString("binary")}:function(n){for(var t=[],e=0,i=0,r=0;e<n.length;)switch(i=n.charCodeAt(e++),!0){case i<128:t.push(String.fromCharCode(i));break;case i<2048:t.push(String.fromCharCode(192+(i>>6))),t.push(String.fromCharCode(128+(63&i)));break;case i>=55296&&i<57344:i-=55296,r=n.charCodeAt(e++)-56320+(i<<10),t.push(String.fromCharCode(240+(r>>18&7))),t.push(String.fromCharCode(144+(r>>12&63))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)));break;default:t.push(String.fromCharCode(224+(i>>12))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)))}return t.join("")},AH=function(){var n=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(e){for(var i=e.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<n.length;++r)i=i.replace(n[r][0],n[r][1]);return i}}(),OH=/(^\s|\s$|\n)/;function Pa(n,t){return"<"+n+(t.match(OH)?' xml:space="preserve"':"")+">"+t+"</"+n+">"}function FS(n){return Os(n).map(function(t){return" "+t+'="'+n[t]+'"'}).join("")}function Wt(n,t,e){return"<"+n+(null!=e?FS(e):"")+(null!=t?(t.match(OH)?' xml:space="preserve"':"")+">"+t+"</"+n:"/")+">"}function AL(n,t){try{return n.toISOString().replace(/\.\d*/,"")}catch(e){if(t)throw e}return""}var yo_TCMNT="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",yo_r="http://schemas.openxmlformats.org/officeDocument/2006/relationships",yo_vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",yo_xsi="http://www.w3.org/2001/XMLSchema-instance",j0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],wu_o="urn:schemas-microsoft-com:office:office",wu_x="urn:schemas-microsoft-com:office:excel",wu_ss="urn:schemas-microsoft-com:office:spreadsheet",RH=function(n){for(var t=[],i=0;i<n[0].length;++i)if(n[0][i])for(var r=0,s=n[0][i].length;r<s;r+=10240)t.push.apply(t,n[0][i].slice(r,r+10240));return t},FH=fi?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(t){return Buffer.isBuffer(t)?t:Ig(t)})):RH(n)}:RH,PH=function(n,t,e){for(var i=[],r=t;r<e;r+=2)i.push(String.fromCharCode(Dg(n,r)));return i.join("").replace(nl,"")},IM=fi?function(n,t,e){return Buffer.isBuffer(n)?n.toString("utf16le",t,e).replace(nl,""):PH(n,t,e)}:PH,NH=function(n,t,e){for(var i=[],r=t;r<t+e;++r)i.push(("0"+n[r].toString(16)).slice(-2));return i.join("")},LH=fi?function(n,t,e){return Buffer.isBuffer(n)?n.toString("hex",t,t+e):NH(n,t,e)}:NH,BH=function(n,t,e){for(var i=[],r=t;r<e;r++)i.push(String.fromCharCode(lb(n,r)));return i.join("")},ab=fi?function(t,e,i){return Buffer.isBuffer(t)?t.toString("utf8",e,i):BH(t,e,i)}:BH,VH=function(n,t){var e=la(n,t);return e>0?ab(n,t+4,t+4+e-1):""},OL=VH,UH=function(n,t){var e=la(n,t);return e>0?ab(n,t+4,t+4+e-1):""},RL=UH,HH=function(n,t){var e=2*la(n,t);return e>0?ab(n,t+4,t+4+e-1):""},FL=HH,jH=function(t,e){var i=la(t,e);return i>0?IM(t,e+4,e+4+i):""},PL=jH,zH=function(n,t){var e=la(n,t);return e>0?ab(n,t+4,t+4+e):""},NL=zH,ZH=function(n,t){return function pae(n,t){for(var e=1-2*(n[t+7]>>>7),i=((127&n[t+7])<<4)+(n[t+6]>>>4&15),r=15&n[t+6],s=5;s>=0;--s)r=256*r+n[t+s];return 2047==i?0==r?e*(1/0):NaN:(0==i?i=-1022:(i-=1023,r+=Math.pow(2,52)),e*Math.pow(2,i-52)*r)}(n,t)},kM=ZH,LL=function(t){return Array.isArray(t)||"undefined"!=typeof Uint8Array&&t instanceof Uint8Array};fi&&(OL=function(t,e){if(!Buffer.isBuffer(t))return VH(t,e);var i=t.readUInt32LE(e);return i>0?t.toString("utf8",e+4,e+4+i-1):""},RL=function(t,e){if(!Buffer.isBuffer(t))return UH(t,e);var i=t.readUInt32LE(e);return i>0?t.toString("utf8",e+4,e+4+i-1):""},FL=function(t,e){if(!Buffer.isBuffer(t))return HH(t,e);var i=2*t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+i-1)},PL=function(t,e){if(!Buffer.isBuffer(t))return jH(t,e);var i=t.readUInt32LE(e);return t.toString("utf16le",e+4,e+4+i)},NL=function(t,e){if(!Buffer.isBuffer(t))return zH(t,e);var i=t.readUInt32LE(e);return t.toString("utf8",e+4,e+4+i)},kM=function(t,e){return Buffer.isBuffer(t)?t.readDoubleLE(e):ZH(t,e)},LL=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||"undefined"!=typeof Uint8Array&&t instanceof Uint8Array});var lb=function(n,t){return n[t]},Dg=function(n,t){return 256*n[t+1]+n[t]},mae=function(n,t){var e=256*n[t+1]+n[t];return e<32768?e:-1*(65535-e+1)},la=function(n,t){return n[t+3]*(1<<24)+(n[t+2]<<16)+(n[t+1]<<8)+n[t]},Ty=function(n,t){return n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]},_ae=function(n,t){return n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]};function NS(n,t){var i,r,a,l,d,f,e="",s=[];switch(t){case"dbcs":if(f=this.l,fi&&Buffer.isBuffer(this))e=this.slice(this.l,this.l+2*n).toString("utf16le");else for(d=0;d<n;++d)e+=String.fromCharCode(Dg(this,f)),f+=2;n*=2;break;case"utf8":e=ab(this,this.l,this.l+n);break;case"utf16le":e=IM(this,this.l,this.l+(n*=2));break;case"wstr":return NS.call(this,n,"dbcs");case"lpstr-ansi":e=OL(this,this.l),n=4+la(this,this.l);break;case"lpstr-cp":e=RL(this,this.l),n=4+la(this,this.l);break;case"lpwstr":e=FL(this,this.l),n=4+2*la(this,this.l);break;case"lpp4":n=4+la(this,this.l),e=PL(this,this.l),2&n&&(n+=2);break;case"8lpp4":n=4+la(this,this.l),e=NL(this,this.l),3&n&&(n+=4-(3&n));break;case"cstr":for(n=0,e="";0!==(a=lb(this,this.l+n++));)s.push(ES(a));e=s.join("");break;case"_wstr":for(n=0,e="";0!==(a=Dg(this,this.l+n));)s.push(ES(a)),n+=2;n+=2,e=s.join("");break;case"dbcs-cont":for(e="",f=this.l,d=0;d<n;++d){if(this.lens&&-1!==this.lens.indexOf(f))return a=lb(this,f),this.l=f+1,l=NS.call(this,n-d,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ES(Dg(this,f))),f+=2}e=s.join(""),n*=2;break;case"cpstr":0;case"sbcs-cont":for(e="",f=this.l,d=0;d!=n;++d){if(this.lens&&-1!==this.lens.indexOf(f))return a=lb(this,f),this.l=f+1,l=NS.call(this,n-d,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ES(lb(this,f))),f+=1}e=s.join("");break;default:switch(n){case 1:return i=lb(this,this.l),this.l++,i;case 2:return i=("i"===t?mae:Dg)(this,this.l),this.l+=2,i;case 4:case-4:return"i"===t||0==(128&this[this.l+3])?(i=(n>0?Ty:_ae)(this,this.l),this.l+=4,i):(r=la(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==n?kM(this,this.l):kM([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;n=8;case 16:e=LH(this,this.l,n)}}return this.l+=n,e}var wae=function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255};function xae(n,t,e){var i=0,r=0;if("dbcs"===e){for(r=0;r!=t.length;++r)wae(this,t.charCodeAt(r),this.l+2*r);i=2*t.length}else if("sbcs"===e){for(t=t.replace(/[^\x00-\x7F]/g,"_"),r=0;r!=t.length;++r)this[this.l+r]=255&t.charCodeAt(r);i=t.length}else{if("hex"===e){for(;r<n;++r)this[this.l++]=parseInt(t.slice(2*r,2*r+2),16)||0;return this}if("utf16le"===e){var a=Math.min(this.l+n,this.length);for(r=0;r<Math.min(t.length,n);++r){var l=t.charCodeAt(r);this[this.l++]=255&l,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}switch(n){case 1:i=1,this[this.l]=255&t;break;case 2:i=2,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8);break;case 3:i=3,this[this.l]=255&t,this[this.l+1]=255&(t>>>=8),this[this.l+2]=255&(t>>>=8);break;case 4:i=4,function(n,t,e){n[e]=255&t,n[e+1]=t>>>8&255,n[e+2]=t>>>16&255,n[e+3]=t>>>24&255}(this,t,this.l);break;case 8:if(i=8,"f"===e){!function gae(n,t,e){var i=(t<0||1/t==-1/0?1:0)<<7,r=0,s=0,a=i?-t:t;isFinite(a)?0==a?r=s=0:(r=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-r),r<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?r=-1022:(s-=Math.pow(2,52),r+=1023)):(r=2047,s=isNaN(t)?26985:0);for(var l=0;l<=5;++l,s/=256)n[e+l]=255&s;n[e+6]=(15&r)<<4|15&s,n[e+7]=r>>4|i}(this,t,this.l);break}case 16:break;case-4:i=4,function(n,t,e){n[e]=255&t,n[e+1]=t>>8&255,n[e+2]=t>>16&255,n[e+3]=t>>24&255}(this,t,this.l)}}return this.l+=i,this}function qH(n,t){var e=LH(this,this.l,n.length>>1);if(e!==n)throw new Error(t+"Expected "+n+" saw "+e);this.l+=n.length>>1}function Na(n,t){n.l=t,n.read_shift=NS,n.chk=qH,n.write_shift=xae}function rl(n,t){n.l+=t}function at(n){var t=L0(n);return Na(t,0),t}function ql(){var n=[],t=fi?256:2048,e=function(f){var p=at(f);return Na(p,0),p},i=e(t),r=function(){!i||(i.length>i.l&&((i=i.slice(0,i.l)).l=i.length),i.length>0&&n.push(i),i=null)},s=function(f){return i&&f<i.length-i.l?i:(r(),i=e(Math.max(f+1,t)))};return{next:s,push:function(f){r(),null==(i=f).l&&(i.l=i.length),s(t)},end:function(){return r(),oa(n)},_bufs:n}}function St(n,t,e,i){var s,r=+t;if(!isNaN(r)){i||(i=eI[r].p||(e||[]).length||0),s=1+(r>=128?1:0)+1,i>=128&&++s,i>=16384&&++s,i>=2097152&&++s;var a=n.next(s);r<=127?a.write_shift(1,r):(a.write_shift(1,128+(127&r)),a.write_shift(1,r>>7));for(var l=0;4!=l;++l){if(!(i>=128)){a.write_shift(1,i);break}a.write_shift(1,128+(127&i)),i>>=7}i>0&&LL(e)&&n.push(e)}}function LS(n,t,e){var i=wr(n);if(t.s?(i.cRel&&(i.c+=t.s.c),i.rRel&&(i.r+=t.s.r)):(i.cRel&&(i.c+=t.c),i.rRel&&(i.r+=t.r)),!e||e.biff<12){for(;i.c>=256;)i.c-=256;for(;i.r>=65536;)i.r-=65536}return i}function GH(n,t,e){var i=wr(n);return i.s=LS(i.s,t.s,e),i.e=LS(i.e,t.s,e),i}function BS(n,t){if(n.cRel&&n.c<0)for(n=wr(n);n.c<0;)n.c+=t>8?16384:256;if(n.rRel&&n.r<0)for(n=wr(n);n.r<0;)n.r+=t>8?1048576:t>5?65536:16384;var e=Un(n);return!n.cRel&&null!=n.cRel&&(e=function Tae(n){return n.replace(/^([A-Z])/,"$$$1")}(e)),!n.rRel&&null!=n.rRel&&(e=function bae(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(e)),e}function BL(n,t){return 0!=n.s.r||n.s.rRel||n.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||n.e.rRel?0!=n.s.c||n.s.cRel||n.e.c!=(t.biff>=12?16383:255)||n.e.cRel?BS(n.s,t.biff)+":"+BS(n.e,t.biff):(n.s.rRel?"":"$")+Ps(n.s.r)+":"+(n.e.rRel?"":"$")+Ps(n.e.r):(n.s.cRel?"":"$")+jr(n.s.c)+":"+(n.e.cRel?"":"$")+jr(n.e.c)}function VL(n){return parseInt(function Cae(n){return n.replace(/\$(\d+)$/,"$1")}(n),10)-1}function Ps(n){return""+(n+1)}function UL(n){for(var t=function Eae(n){return n.replace(/^\$([A-Z])/,"$1")}(n),e=0,i=0;i!==t.length;++i)e=26*e+t.charCodeAt(i)-64;return e-1}function jr(n){if(n<0)throw new Error("invalid column "+n);var t="";for(++n;n;n=Math.floor((n-1)/26))t=String.fromCharCode((n-1)%26+65)+t;return t}function Xs(n){for(var t=0,e=0,i=0;i<n.length;++i){var r=n.charCodeAt(i);r>=48&&r<=57?t=10*t+(r-48):r>=65&&r<=90&&(e=26*e+(r-64))}return{c:e-1,r:t-1}}function Un(n){for(var t=n.c+1,e="";t;t=(t-1)/26|0)e=String.fromCharCode((t-1)%26+65)+e;return e+(n.r+1)}function Gl(n){var t=n.indexOf(":");return-1==t?{s:Xs(n),e:Xs(n)}:{s:Xs(n.slice(0,t)),e:Xs(n.slice(t+1))}}function ri(n,t){return void 0===t||"number"==typeof t?ri(n.s,n.e):("string"!=typeof n&&(n=Un(n)),"string"!=typeof t&&(t=Un(t)),n==t?n:n+":"+t)}function Oi(n){var t={s:{c:0,r:0},e:{c:0,r:0}},e=0,i=0,r=0,s=n.length;for(e=0;i<s&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)e=26*e+r;for(t.s.c=--e,e=0;i<s&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)e=10*e+r;if(t.s.r=--e,i===s||10!=r)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++i,e=0;i!=s&&!((r=n.charCodeAt(i)-64)<1||r>26);++i)e=26*e+r;for(t.e.c=--e,e=0;i!=s&&!((r=n.charCodeAt(i)-48)<0||r>9);++i)e=10*e+r;return t.e.r=--e,t}function ep(n,t,e){return null==n||null==n.t||"z"==n.t?"":void 0!==n.w?n.w:("d"==n.t&&!n.z&&e&&e.dateNF&&(n.z=e.dateNF),"e"==n.t?Mg[n.v]||n.v:function $H(n,t){var e="d"==n.t&&t instanceof Date;if(null!=n.z)try{return n.w=vu(n.z,e?aa(t):t)}catch(i){}try{return n.w=vu((n.XF||{}).numFmtId||(e?14:0),e?aa(t):t)}catch(i){return""+t}}(n,null==t?n.v:t))}function z0(n,t){var e=t&&t.sheet?t.sheet:"Sheet1",i={};return i[e]=n,{SheetNames:[e],Sheets:i}}function YH(n,t,e){var i=e||{},r=n?Array.isArray(n):i.dense,s=n||(r?[]:{}),a=0,l=0;if(s&&null!=i.origin){if("number"==typeof i.origin)a=i.origin;else{var d="string"==typeof i.origin?Xs(i.origin):i.origin;a=d.r,l=d.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=Oi(s["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),-1==a&&(f.e.r=a=p.e.r+1)}for(var m=0;m!=t.length;++m)if(t[m]){if(!Array.isArray(t[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var w=0;w!=t[m].length;++w)if(void 0!==t[m][w]){var b={v:t[m][w]},T=a+m,E=l+w;if(f.s.r>T&&(f.s.r=T),f.s.c>E&&(f.s.c=E),f.e.r<T&&(f.e.r=T),f.e.c<E&&(f.e.c=E),!t[m][w]||"object"!=typeof t[m][w]||Array.isArray(t[m][w])||t[m][w]instanceof Date)if(Array.isArray(b.v)&&(b.f=t[m][w][1],b.v=b.v[0]),null===b.v)if(b.f)b.t="n";else if(i.nullError)b.t="e",b.v=0;else{if(!i.sheetStubs)continue;b.t="z"}else"number"==typeof b.v?b.t="n":"boolean"==typeof b.v?b.t="b":b.v instanceof Date?(b.z=i.dateNF||Ln[14],i.cellDates?(b.t="d",b.w=vu(b.z,aa(b.v))):(b.t="n",b.v=aa(b.v),b.w=vu(b.z,b.v))):b.t="s";else b=t[m][w];if(r)s[T]||(s[T]=[]),s[T][E]&&s[T][E].z&&(b.z=s[T][E].z),s[T][E]=b;else{var M=Un({c:E,r:T});s[M]&&s[M].z&&(b.z=s[M].z),s[M]=b}}}return f.s.c<1e7&&(s["!ref"]=ri(f)),s}function cb(n,t){return YH(null,n,t)}function Dh(n,t){return t||(t=at(4)),t.write_shift(4,n),t}function sl(n){var t=n.read_shift(4);return 0===t?"":n.read_shift(t,"dbcs")}function ca(n,t){var e=!1;return null==t&&(e=!0,t=at(4+2*n.length)),t.write_shift(4,n.length),n.length>0&&t.write_shift(0,n,"dbcs"),e?t.slice(0,t.l):t}function kae(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function HL(n,t){var e=n.l,i=n.read_shift(1),r=sl(n),s=[],a={t:r,h:r};if(0!=(1&i)){for(var l=n.read_shift(4),d=0;d!=l;++d)s.push(kae(n));a.r=s}else a.r=[{ich:0,ifnt:0}];return n.l=e+t,a}var Mae=HL;function pd(n){var t=n.read_shift(4),e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:t,iStyleRef:e}}function Ey(n,t){return null==t&&(t=at(8)),t.write_shift(-4,n.c),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}function Sy(n){var t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:t}}function Iy(n,t){return null==t&&(t=at(4)),t.write_shift(3,n.iStyleRef||n.s),t.write_shift(1,0),t}var Rae=sl,KH=ca;function jL(n){var t=n.read_shift(4);return 0===t||4294967295===t?"":n.read_shift(t,"dbcs")}function DM(n,t){var e=!1;return null==t&&(e=!0,t=at(127)),t.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&t.write_shift(0,n,"dbcs"),e?t.slice(0,t.l):t}var Fae=sl,zL=jL,ZL=DM;function WL(n){var t=n.slice(n.l,n.l+4),e=1&t[0],i=2&t[0];n.l+=4;var r=0===i?kM([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):Ty(t,0)>>2;return e?r/100:r}function QH(n,t){null==t&&(t=at(4));var e=0,i=0,r=100*n;if(n==(0|n)&&n>=-(1<<29)&&n<1<<29?i=1:r==(0|r)&&r>=-(1<<29)&&r<1<<29&&(i=1,e=1),!i)throw new Error("unsupported RkNumber "+n);t.write_shift(-4,((e?r:n)<<2)+(e+2))}function JH(n){var t={s:{},e:{}};return t.s.r=n.read_shift(4),t.e.r=n.read_shift(4),t.s.c=n.read_shift(4),t.e.c=n.read_shift(4),t}var ky=JH,ub=function Pae(n,t){return t||(t=at(16)),t.write_shift(4,n.s.r),t.write_shift(4,n.e.r),t.write_shift(4,n.s.c),t.write_shift(4,n.e.c),t};function ol(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Dy(n,t){return(t||at(8)).write_shift(8,n,"f")}function AM(n,t){if(t||(t=at(8)),!n||n.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=n.index?(t.write_shift(1,2),t.write_shift(1,n.index)):null!=n.theme?(t.write_shift(1,6),t.write_shift(1,n.theme)):(t.write_shift(1,5),t.write_shift(1,0));var e=n.tint||0;if(e>0?e*=32767:e<0&&(e*=32768),t.write_shift(2,e),n.rgb&&null==n.theme){var i=n.rgb||"FFFFFF";"number"==typeof i&&(i=("000000"+i.toString(16)).slice(-6)),t.write_shift(1,parseInt(i.slice(0,2),16)),t.write_shift(1,parseInt(i.slice(2,4),16)),t.write_shift(1,parseInt(i.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var GL={1:{n:"CodePage",t:2},2:{n:"Category",t:80},3:{n:"PresentationFormat",t:80},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:80},15:{n:"Company",t:80},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:80},27:{n:"ContentStatus",t:80},28:{n:"Language",t:80},29:{n:"Version",t:80},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},$L={1:{n:"CodePage",t:2},2:{n:"Title",t:80},3:{n:"Subject",t:80},4:{n:"Author",t:80},5:{n:"Keywords",t:80},6:{n:"Comments",t:80},7:{n:"Template",t:80},8:{n:"LastAuthor",t:80},9:{n:"RevNumber",t:80},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:80},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function Gae(n){return n.map(function(t){return[t>>16&255,t>>8&255,255&t]})}var Ay=wr(Gae([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Mg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},YL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},FM={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function r7(n,t){var r,e=function $oe(n){for(var t=[],e=Os(n),i=0;i!==e.length;++i)null==t[n[e[i]]]&&(t[n[e[i]]]=[]),t[n[e[i]]].push(e[i]);return t}(YL),i=[];i[i.length]=Fs,i[i.length]=Wt("Types",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":yo_xsi}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Wt("Default",null,{Extension:d[0],ContentType:d[1]})}));var s=function(d){n[d]&&n[d].length>0&&(i[i.length]=Wt("Override",null,{PartName:("/"==(r=n[d][0])[0]?"":"/")+r,ContentType:FM[d][t.bookType]||FM[d].xlsx}))},a=function(d){(n[d]||[]).forEach(function(f){i[i.length]=Wt("Override",null,{PartName:("/"==f[0]?"":"/")+f,ContentType:FM[d][t.bookType]||FM[d].xlsx})})},l=function(d){(n[d]||[]).forEach(function(f){i[i.length]=Wt("Override",null,{PartName:("/"==f[0]?"":"/")+f,ContentType:e[d][0]})})};return s("workbooks"),a("sheets"),a("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),a("metadata"),l("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var si={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function VS(n){var t=n.lastIndexOf("/");return n.slice(0,t+1)+"_rels/"+n.slice(t+1)+".rels"}function db(n){var t=[Fs,Wt("Relationships",null,{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"})];return Os(n["!id"]).forEach(function(e){t[t.length]=Wt("Relationship",null,n["!id"][e])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Ji(n,t,e,i,r,s){if(r||(r={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),t<0)for(t=n["!idx"];n["!id"]["rId"+t];++t);if(n["!idx"]=t+1,r.Id="rId"+t,r.Type=i,r.Target=e,s?r.TargetMode=s:[si.HLINK,si.XPATH,si.XMISS].indexOf(r.Type)>-1&&(r.TargetMode="External"),n["!id"][r.Id])throw new Error("Cannot rewrite rId "+t);return n["!id"][r.Id]=r,n[("/"+r.Target).replace("//","/")]=r,t}function s7(n,t,e){return['  <rdf:Description rdf:about="'+n+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(e||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ele(n,t){return['  <rdf:Description rdf:about="'+n+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function o7(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+TS_version+"</meta:generator></office:meta></office:document-meta>"}var Og=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function QL(n,t,e,i,r){null!=r[n]||null==t||""===t||(r[n]=t,t=ar(t),i[i.length]=e?Wt(n,t,e):Pa(n,t))}function l7(n,t){var e=t||{},i=[Fs,Wt("cp:coreProperties",null,{"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":yo_xsi})],r={};if(!n&&!e.Props)return i.join("");n&&(null!=n.CreatedDate&&QL("dcterms:created","string"==typeof n.CreatedDate?n.CreatedDate:AL(n.CreatedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r),null!=n.ModifiedDate&&QL("dcterms:modified","string"==typeof n.ModifiedDate?n.ModifiedDate:AL(n.ModifiedDate,e.WTF),{"xsi:type":"dcterms:W3CDTF"},i,r));for(var s=0;s!=Og.length;++s){var a=Og[s],l=e.Props&&null!=e.Props[a[1]]?e.Props[a[1]]:n?n[a[1]]:null;!0===l?l="1":!1===l?l="0":"number"==typeof l&&(l=String(l)),null!=l&&QL(a[0],l,null,i,r)}return i.length>2&&(i[i.length]="</cp:coreProperties>",i[1]=i[1].replace("/>",">")),i.join("")}var My=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],c7=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function d7(n){var t=[],e=Wt;return n||(n={}),n.Application="SheetJS",t[t.length]=Fs,t[t.length]=Wt("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":yo_vt}),My.forEach(function(i){if(void 0!==n[i[1]]){var r;switch(i[2]){case"string":r=ar(String(n[i[1]]));break;case"bool":r=n[i[1]]?"true":"false"}void 0!==r&&(t[t.length]=e(i[0],r))}}),t[t.length]=e("HeadingPairs",e("vt:vector",e("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+e("vt:variant",e("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=e("TitlesOfParts",e("vt:vector",n.SheetNames.map(function(i){return"<vt:lpstr>"+ar(i)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function h7(n){var t=[Fs,Wt("Properties",null,{xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties","xmlns:vt":yo_vt})];if(!n)return t.join("");var e=1;return Os(n).forEach(function(r){++e,t[t.length]=Wt("property",function fae(n,t){switch(typeof n){case"string":var e=Wt("vt:lpwstr",ar(n));return t&&(e=e.replace(/&quot;/g,"_x0022_")),e;case"number":return Wt((0|n)==n?"vt:i4":"vt:r8",ar(String(n)));case"boolean":return Wt("vt:bool",n?"true":"false")}if(n instanceof Date)return Wt("vt:filetime",AL(n));throw new Error("Unable to serialize "+n)}(n[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e,name:ar(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var JL={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function v7(n,t){var e=at(4),i=at(4);switch(e.write_shift(4,80==n?31:n),n){case 3:i.write_shift(-4,t);break;case 5:(i=at(8)).write_shift(8,t,"f");break;case 11:i.write_shift(4,t?1:0);break;case 64:i=function cle(n){var e=("string"==typeof n?new Date(Date.parse(n)):n).getTime()/1e3+11644473600,i=e%Math.pow(2,32),r=(e-i)/Math.pow(2,32);r*=1e7;var s=(i*=1e7)/Math.pow(2,32)|0;s>0&&(i%=Math.pow(2,32),r+=s);var a=at(8);return a.write_shift(4,i),a.write_shift(4,r),a}(t);break;case 31:case 80:for((i=at(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),i.write_shift(0,t,"dbcs");i.l!=i.length;)i.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+t)}return oa([e,i])}var w7=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mle(n){switch(typeof n){case"boolean":return 11;case"number":return(0|n)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64}return-1}function x7(n,t,e){var i=at(8),r=[],s=[],a=8,l=0,d=at(8),f=at(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),s.push(d),r.push(f),a+=8+d.length,!t){(f=at(8)).write_shift(4,0),r.unshift(f);var p=[at(4)];for(p[0].write_shift(4,n.length),l=0;l<n.length;++l){var m=n[l][0];for((d=at(8+2*(m.length+1)+(m.length%2?0:2))).write_shift(4,l+2),d.write_shift(4,m.length+1),d.write_shift(0,m,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=oa(p),s.unshift(d),a+=8+d.length}for(l=0;l<n.length;++l)if((!t||t[n[l][0]])&&!(w7.indexOf(n[l][0])>-1||c7.indexOf(n[l][0])>-1)&&null!=n[l][1]){var w=n[l][1],b=0;if(t){var T=e[b=+t[n[l][0]]];if("version"==T.p&&"string"==typeof w){var E=w.split(".");w=(+E[0]<<16)+(+E[1]||0)}d=v7(T.t,w)}else{var M=mle(w);-1==M&&(M=31,w=String(w)),d=v7(M,w)}s.push(d),(f=at(8)).write_shift(4,t?b:2+l),r.push(f),a+=8+d.length}var N=8*(s.length+1);for(l=0;l<s.length;++l)r[l].write_shift(4,N),N+=s[l].length;return i.write_shift(4,a),i.write_shift(4,s.length),oa([i].concat(r).concat(s))}function C7(n,t,e,i,r,s){var a=at(r?68:48),l=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,On.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,r?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,r?68:48);var d=x7(n,e,i);if(l.push(d),r){var f=x7(r,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+d.length),l.push(f)}return oa(l)}function $l(n,t){return t||(t=at(2)),t.write_shift(2,+!!n),t}function wo(n){return n.read_shift(2,"u")}function gd(n,t){return t||(t=at(2)),t.write_shift(2,n),t}function E7(n,t,e){return e||(e=at(2)),e.write_shift(1,"e"==t?+n:+!!n),e.write_shift(1,"e"==t?1:0),e}function HS(n,t,e){var i=n.read_shift(e&&e.biff>=12?2:1),r="sbcs-cont",s=gu;e&&e.biff>=8&&(gu=1200),e&&8!=e.biff?12==e.biff&&(r="wstr"):n.read_shift(1)&&(r="dbcs-cont"),e.biff>=2&&e.biff<=5&&(r="cpstr");var l=i?n.read_shift(i,r):"";return gu=s,l}function xle(n){var t=n.t||"",i=at(3);i.write_shift(2,t.length),i.write_shift(1,1);var r=at(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),oa([i,r])}function S7(n,t,e){return e||(e=at(3+2*n.length)),e.write_shift(2,n.length),e.write_shift(1,1),e.write_shift(31,n,"utf16le"),e}function I7(n,t){t||(t=at(6+2*n.length)),t.write_shift(4,1+n.length);for(var e=0;e<n.length;++e)t.write_shift(2,n.charCodeAt(e));return t.write_shift(2,0),t}function Ile(n){var t=at(512),e=0,i=n.Target;"file://"==i.slice(0,7)&&(i=i.slice(7));var r=i.indexOf("#"),s=r>-1?31:23;switch(i.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(e=0;e<a.length;++e)t.write_shift(4,a[e]);if(28==s)I7(i=i.slice(1),t);else if(2&s){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));var l=r>-1?i.slice(0,r):i;for(t.write_shift(4,2*(l.length+1)),e=0;e<l.length;++e)t.write_shift(2,l.charCodeAt(e));t.write_shift(2,0),8&s&&I7(r>-1?i.slice(r+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),e=0;e<a.length;++e)t.write_shift(1,parseInt(a[e],16));for(var d=0;"../"==i.slice(3*d,3*d+3)||"..\\"==i.slice(3*d,3*d+3);)++d;for(t.write_shift(2,d),t.write_shift(4,i.length-3*d+1),e=0;e<i.length-3*d;++e)t.write_shift(1,255&i.charCodeAt(e+3*d));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),e=0;e<6;++e)t.write_shift(4,0)}return t.slice(0,t.l)}function Fy(n,t,e,i){return i||(i=at(6)),i.write_shift(2,n),i.write_shift(2,t),i.write_shift(2,e||0),i}function Ale(n,t,e){var i=e.biff>8?4:2;return[n.read_shift(i),n.read_shift(i,"i"),n.read_shift(i,"i")]}function LM(n){var t=n.read_shift(2),e=n.read_shift(2);return{s:{c:n.read_shift(2),r:t},e:{c:n.read_shift(2),r:e}}}function M7(n,t){return t||(t=at(8)),t.write_shift(2,n.s.r),t.write_shift(2,n.e.r),t.write_shift(2,n.s.c),t.write_shift(2,n.e.c),t}function n3(n,t,e){var i=1536,r=16;switch(e.bookType){case"biff8":case"xla":break;case"biff5":i=1280,r=8;break;case"biff4":i=4,r=6;break;case"biff3":i=3,r=6;break;case"biff2":i=2,r=4;break;default:throw new Error("unsupported BIFF version")}var s=at(r);return s.write_shift(2,i),s.write_shift(2,t),r>4&&s.write_shift(2,29282),r>6&&s.write_shift(2,1997),r>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function jle(n,t){var e=!t||t.biff>=8?2:1,i=at(8+e*n.name.length);i.write_shift(4,n.pos),i.write_shift(1,n.hs||0),i.write_shift(1,n.dt),i.write_shift(1,n.name.length),t.biff>=8&&i.write_shift(1,1),i.write_shift(e*n.name.length,n.name,t.biff<8?"sbcs":"utf16le");var r=i.slice(0,i.l);return r.l=i.l,r}function ace(n,t,e,i){var r=e&&5==e.biff;i||(i=at(r?3+t.length:5+2*t.length)),i.write_shift(2,n),i.write_shift(r?1:2,t.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le");var s=i.length>i.l?i.slice(0,i.l):i;return null==s.l&&(s.l=s.length),s}function N7(n,t,e,i){var r=e&&5==e.biff;i||(i=at(r?16:20)),i.write_shift(2,0),n.style?(i.write_shift(2,n.numFmtId||0),i.write_shift(2,65524)):(i.write_shift(2,n.numFmtId||0),i.write_shift(2,t<<4));var s=0;return n.numFmtId>0&&r&&(s|=1024),i.write_shift(4,s),i.write_shift(4,0),r||i.write_shift(4,0),i.write_shift(2,0),i}function Pce(n){var t=at(24),e=Xs(n[0]);t.write_shift(2,e.r),t.write_shift(2,e.r),t.write_shift(2,e.c),t.write_shift(2,e.c);for(var i="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<16;++r)t.write_shift(1,parseInt(i[r],16));return oa([t,Ile(n[1])])}function Lce(n){var t=n[1].Tooltip,e=at(10+2*(t.length+1));e.write_shift(2,2048);var i=Xs(n[0]);e.write_shift(2,i.r),e.write_shift(2,i.r),e.write_shift(2,i.c),e.write_shift(2,i.c);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}var r3=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=CM({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function i(l,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var p=cb(function e(l,d){var f=[],p=L0(1);switch(d.type){case"base64":p=_u(mu(l));break;case"binary":p=_u(l);break;case"buffer":case"array":p=l}Na(p,0);var m=p.read_shift(1),w=!!(136&m),b=!1,T=!1;switch(m){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:b=!0,w=!0;break;case 140:T=!0;break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var E=0,M=521;2==m&&(E=p.read_shift(2)),p.l+=3,2!=m&&(E=p.read_shift(4)),E>1048576&&(E=1e6),2!=m&&(M=p.read_shift(2));var N=p.read_shift(2),V=d.codepage||1252;2!=m&&(p.l+=16,p.read_shift(1),0!==p[p.l]&&(V=n[p[p.l]]),p.l+=1,p.l+=2),T&&(p.l+=36);for(var U=[],q={},Q=Math.min(p.length,2==m?521:M-10-(b?264:0)),ue=T?32:11;p.l<Q&&13!=p[p.l];)switch(q={},q.name=Ni.utils.decode(V,p.slice(p.l,p.l+ue)).replace(/[\u0000\r\n].*$/g,""),p.l+=ue,q.type=String.fromCharCode(p.read_shift(1)),2!=m&&!T&&(q.offset=p.read_shift(4)),q.len=p.read_shift(1),2==m&&(q.offset=p.read_shift(2)),q.dec=p.read_shift(1),q.name.length&&U.push(q),2!=m&&(p.l+=T?13:14),q.type){case"B":(!b||8!=q.len)&&d.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+q.name+":"+q.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+q.type)}if(13!==p[p.l]&&(p.l=M-1),13!==p.read_shift(1))throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=M;var K=0,he=0;for(f[0]=[],he=0;he!=U.length;++he)f[0][he]=U[he].name;for(;E-- >0;)if(42!==p[p.l])for(++p.l,f[++K]=[],he=0,he=0;he!=U.length;++he){var de=p.slice(p.l,p.l+U[he].len);p.l+=U[he].len,Na(de,0);var Me=Ni.utils.decode(V,de);switch(U[he].type){case"C":Me.trim().length&&(f[K][he]=Me.replace(/\s+$/,""));break;case"D":f[K][he]=8===Me.length?new Date(+Me.slice(0,4),+Me.slice(4,6)-1,+Me.slice(6,8)):Me;break;case"F":f[K][he]=parseFloat(Me.trim());break;case"+":case"I":f[K][he]=T?2147483648^de.read_shift(-4,"i"):de.read_shift(4,"i");break;case"L":switch(Me.trim().toUpperCase()){case"Y":case"T":f[K][he]=!0;break;case"N":case"F":f[K][he]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Me+"|")}break;case"M":if(!w)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));f[K][he]="##MEMO##"+(T?parseInt(Me.trim(),10):de.read_shift(4));break;case"N":(Me=Me.replace(/\u0000/g,"").trim())&&"."!=Me&&(f[K][he]=+Me||0);break;case"@":f[K][he]=new Date(de.read_shift(-8,"f")-621356832e5);break;case"T":f[K][he]=new Date(864e5*(de.read_shift(4)-2440588)+de.read_shift(4));break;case"Y":f[K][he]=de.read_shift(4,"i")/1e4+de.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[K][he]=-de.read_shift(-8,"f");break;case"B":if(b&&8==U[he].len){f[K][he]=de.read_shift(8,"f");break}case"G":case"P":de.l+=U[he].len;break;case"0":if("_NullFlags"===U[he].name)break;default:throw new Error("DBF Unsupported data type "+U[he].type)}}else p.l+=N;if(2!=m&&p.l<p.length&&26!=p[p.l++])throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=U,f}(l,f),f);return p["!cols"]=f.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete f.DBF,p}var s={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function r(l,d){try{return z0(i(l,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}},to_sheet:i,from_sheet:function a(l,d){var f=d||{};if(+f.codepage>=0&&dd(+f.codepage),"string"==f.type)throw new Error("Cannot write DBF to JS string");var p=ql(),m=KM(l,{header:1,raw:!0,cellDates:!0}),w=m[0],b=m.slice(1),T=l["!cols"]||[],E=0,M=0,N=0,V=1;for(E=0;E<w.length;++E)if(((T[E]||{}).DBF||{}).name)w[E]=T[E].DBF.name,++N;else if(null!=w[E]){if(++N,"number"==typeof w[E]&&(w[E]=w[E].toString(10)),"string"!=typeof w[E])throw new Error("DBF Invalid column name "+w[E]+" |"+typeof w[E]+"|");if(w.indexOf(w[E])!==E)for(M=0;M<1024;++M)if(-1==w.indexOf(w[E]+"_"+M)){w[E]+="_"+M;break}}var U=Oi(l["!ref"]),q=[],Q=[],ue=[];for(E=0;E<=U.e.c-U.s.c;++E){var K="",he="",de=0,Me=[];for(M=0;M<b.length;++M)null!=b[M][E]&&Me.push(b[M][E]);if(0!=Me.length&&null!=w[E]){for(M=0;M<Me.length;++M){switch(typeof Me[M]){case"number":he="B";break;case"string":default:he="C";break;case"boolean":he="L";break;case"object":he=Me[M]instanceof Date?"D":"C"}de=Math.max(de,String(Me[M]).length),K=K&&K!=he?"C":he}de>250&&(de=250),"C"==(he=((T[E]||{}).DBF||{}).type)&&T[E].DBF.len>de&&(de=T[E].DBF.len),"B"==K&&"N"==he&&(K="N",ue[E]=T[E].DBF.dec,de=T[E].DBF.len),Q[E]="C"==K||"N"==he?de:s[K]||0,V+=Q[E],q[E]=K}else q[E]="?"}var Fe=p.next(32);for(Fe.write_shift(4,318902576),Fe.write_shift(4,b.length),Fe.write_shift(2,296+32*N),Fe.write_shift(2,V),E=0;E<4;++E)Fe.write_shift(4,0);for(Fe.write_shift(4,0|(+t[xy]||3)<<8),E=0,M=0;E<w.length;++E)if(null!=w[E]){var Te=p.next(32),bt=(w[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Te.write_shift(1,bt,"sbcs"),Te.write_shift(1,"?"==q[E]?"C":q[E],"sbcs"),Te.write_shift(4,M),Te.write_shift(1,Q[E]||s[q[E]]||0),Te.write_shift(1,ue[E]||0),Te.write_shift(1,2),Te.write_shift(4,0),Te.write_shift(1,0),Te.write_shift(4,0),Te.write_shift(4,0),M+=Q[E]||s[q[E]]||0}var qt=p.next(264);for(qt.write_shift(4,13),E=0;E<65;++E)qt.write_shift(4,0);for(E=0;E<b.length;++E){var pt=p.next(V);for(pt.write_shift(1,0),M=0;M<w.length;++M)if(null!=w[M])switch(q[M]){case"L":pt.write_shift(1,null==b[E][M]?63:b[E][M]?84:70);break;case"B":pt.write_shift(8,b[E][M]||0,"f");break;case"N":var Xe="0";for("number"==typeof b[E][M]&&(Xe=b[E][M].toFixed(ue[M]||0)),N=0;N<Q[M]-Xe.length;++N)pt.write_shift(1,32);pt.write_shift(1,Xe,"sbcs");break;case"D":b[E][M]?(pt.write_shift(4,("0000"+b[E][M].getFullYear()).slice(-4),"sbcs"),pt.write_shift(2,("00"+(b[E][M].getMonth()+1)).slice(-2),"sbcs"),pt.write_shift(2,("00"+b[E][M].getDate()).slice(-2),"sbcs")):pt.write_shift(8,"00000000","sbcs");break;case"C":var gt=String(null!=b[E][M]?b[E][M]:"").slice(0,Q[M]);for(pt.write_shift(1,gt,"sbcs"),N=0;N<Q[M]-gt.length;++N)pt.write_shift(1,32)}}return p.next(1).write_shift(1,26),p.end()}}}(),Z7=function(){var n={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Os(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),e=function(w,b){var T=n[b];return"number"==typeof T?yL(T):T},i=function(w,b,T){var E=b.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return 59==E?w:yL(E)};function s(w,b){var Fe,T=w.split(/[\n\r]+/),E=-1,M=-1,N=0,V=0,U=[],q=[],Q=null,ue={},K=[],he=[],de=[],Me=0;for(+b.codepage>=0&&dd(+b.codepage);N!==T.length;++N){Me=0;var pt,Te=T[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,i).replace(t,e),bt=Te.replace(/;;/g,"\0").split(";").map(function(we){return we.replace(/\u0000/g,";")});if(Te.length>0)switch(bt[0]){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==bt[1].charAt(0)&&q.push(Te.slice(3).replace(/;;/g,";"));break;case"C":var Xe=!1,gt=!1,Ft=!1,Ct=!1,cn=-1,mt=-1;for(V=1;V<bt.length;++V)switch(bt[V].charAt(0)){case"A":case"G":break;case"X":M=parseInt(bt[V].slice(1))-1,gt=!0;break;case"Y":for(E=parseInt(bt[V].slice(1))-1,gt||(M=0),Fe=U.length;Fe<=E;++Fe)U[Fe]=[];break;case"K":'"'===(pt=bt[V].slice(1)).charAt(0)?pt=pt.slice(1,pt.length-1):"TRUE"===pt?pt=!0:"FALSE"===pt?pt=!1:isNaN(kh(pt))?isNaN(ob(pt).getDate())||(pt=_s(pt)):(pt=kh(pt),null!==Q&&rb(Q)&&(pt=TL(pt))),Xe=!0;break;case"E":Ct=!0;var fe=pb(bt[V].slice(1),{r:E,c:M});U[E][M]=[U[E][M],fe];break;case"S":Ft=!0,U[E][M]=[U[E][M],"S5S"];break;case"R":cn=parseInt(bt[V].slice(1))-1;break;case"C":mt=parseInt(bt[V].slice(1))-1;break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+Te)}if(Xe&&(U[E][M]&&2==U[E][M].length?U[E][M][0]=pt:U[E][M]=pt,Q=null),Ft){if(Ct)throw new Error("SYLK shared formula cannot have own formula");var Be=cn>-1&&U[cn][mt];if(!Be||!Be[1])throw new Error("SYLK shared formula cannot find base");U[E][M][1]=h9(Be[1],{r:E-cn,c:M-mt})}break;case"F":var ge=0;for(V=1;V<bt.length;++V)switch(bt[V].charAt(0)){case"X":M=parseInt(bt[V].slice(1))-1,++ge;break;case"Y":for(E=parseInt(bt[V].slice(1))-1,Fe=U.length;Fe<=E;++Fe)U[Fe]=[];break;case"M":Me=parseInt(bt[V].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":Q=q[parseInt(bt[V].slice(1))];break;case"W":for(de=bt[V].slice(1).split(" "),Fe=parseInt(de[0],10);Fe<=parseInt(de[1],10);++Fe)Me=parseInt(de[2],10),he[Fe-1]=0===Me?{hidden:!0}:{wch:Me},W0(he[Fe-1]);break;case"C":he[M=parseInt(bt[V].slice(1))-1]||(he[M]={});break;case"R":K[E=parseInt(bt[V].slice(1))-1]||(K[E]={}),Me>0?(K[E].hpt=Me,K[E].hpx=HM(Me)):0===Me&&(K[E].hidden=!0);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+Te)}ge<1&&(Q=null);break;default:if(b&&b.WTF)throw new Error("SYLK bad record "+Te)}}return K.length>0&&(ue["!rows"]=K),he.length>0&&(ue["!cols"]=he),b&&b.sheetRows&&(U=U.slice(0,b.sheetRows)),[U,ue]}function a(w,b){var T=function r(w,b){switch(b.type){case"base64":return s(mu(w),b);case"binary":return s(w,b);case"buffer":return s(fi&&Buffer.isBuffer(w)?w.toString("binary"):B0(w),b);case"array":return s(Cy(w),b)}throw new Error("Unrecognized type "+b.type)}(w,b),M=T[1],N=cb(T[0],b);return Os(M).forEach(function(V){N[V]=M[V]}),N}function d(w,b,T,E){var M="C;Y"+(T+1)+";X"+(E+1)+";K";switch(w.t){case"n":M+=w.v||0,w.f&&!w.F&&(M+=";E"+d3(w.f,{r:T,c:E}));break;case"b":M+=w.v?"TRUE":"FALSE";break;case"e":M+=w.w||w.v;break;case"d":M+='"'+(w.w||w.v)+'"';break;case"s":M+='"'+w.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return M}return n["|"]=254,{to_workbook:function l(w,b){return z0(a(w,b),b)},to_sheet:a,from_sheet:function m(w,b){var N,T=["ID;PWXL;N;E"],E=[],M=Oi(w["!ref"]),V=Array.isArray(w),U="\r\n";T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),w["!cols"]&&function f(w,b){b.forEach(function(T,E){var M="F;W"+(E+1)+" "+(E+1)+" ";T.hidden?M+="0":("number"==typeof T.width&&!T.wpx&&(T.wpx=ZS(T.width)),"number"==typeof T.wpx&&!T.wch&&(T.wch=WS(T.wpx)),"number"==typeof T.wch&&(M+=Math.round(T.wch)))," "!=M.charAt(M.length-1)&&w.push(M)})}(T,w["!cols"]),w["!rows"]&&function p(w,b){b.forEach(function(T,E){var M="F;";T.hidden?M+="M0;":T.hpt?M+="M"+20*T.hpt+";":T.hpx&&(M+="M"+20*qS(T.hpx)+";"),M.length>2&&w.push(M+"R"+(E+1))})}(T,w["!rows"]),T.push("B;Y"+(M.e.r-M.s.r+1)+";X"+(M.e.c-M.s.c+1)+";D"+[M.s.c,M.s.r,M.e.c,M.e.r].join(" "));for(var q=M.s.r;q<=M.e.r;++q)for(var Q=M.s.c;Q<=M.e.c;++Q){var ue=Un({r:q,c:Q});(N=V?(w[q]||[])[Q]:w[ue])&&(null!=N.v||N.f&&!N.F)&&E.push(d(N,0,q,Q))}return T.join(U)+U+E.join(U)+U+"E"+U}}}(),W7=function(){function t(s,a){for(var l=s.split("\n"),d=-1,f=-1,p=0,m=[];p!==l.length;++p)if("BOT"!==l[p].trim()){if(!(d<0)){for(var w=l[p].trim().split(","),b=w[0],T=w[1],E=l[++p]||"";1&(E.match(/["]/g)||[]).length&&p<l.length-1;)E+="\n"+l[++p];switch(E=E.trim(),+b){case-1:if("BOT"===E){m[++d]=[],f=0;continue}if("EOD"!==E)throw new Error("Unrecognized DIF special command "+E);break;case 0:m[d][f]="TRUE"===E||"FALSE"!==E&&(isNaN(kh(T))?isNaN(ob(T).getDate())?T:_s(T):kh(T)),++f;break;case 1:(E=(E=E.slice(1,E.length-1)).replace(/""/g,'"'))&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),m[d][f++]=""!==E?E:null}if("EOD"===E)break}}else m[++d]=[],f=0;return a&&a.sheetRows&&(m=m.slice(0,a.sheetRows)),m}function e(s,a){return cb(function n(s,a){switch(a.type){case"base64":return t(mu(s),a);case"binary":return t(s,a);case"buffer":return t(fi&&Buffer.isBuffer(s)?s.toString("binary"):B0(s),a);case"array":return t(Cy(s),a)}throw new Error("Unrecognized type "+a.type)}(s,a),a)}return{to_workbook:function i(s,a){return z0(e(s,a),a)},to_sheet:e,from_sheet:function(){var s=function(d,f,p,m,w){d.push(f),d.push(p+","+m),d.push('"'+w.replace(/"/g,'""')+'"')},a=function(d,f,p,m){d.push(f+","+p),d.push(1==f?'"'+m.replace(/"/g,'""')+'"':m)};return function(d){var m,f=[],p=Oi(d["!ref"]),w=Array.isArray(d);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,p.e.r-p.s.r+1,""),s(f,"TUPLES",0,p.e.c-p.s.c+1,""),s(f,"DATA",0,0,"");for(var b=p.s.r;b<=p.e.r;++b){a(f,-1,0,"BOT");for(var T=p.s.c;T<=p.e.c;++T){var E=Un({r:b,c:T});if(m=w?(d[b]||[])[T]:d[E])switch(m.t){case"n":var M=m.w;!M&&null!=m.v&&(M=m.v),null==M?a(f,1,0,m.f&&!m.F?"="+m.f:""):a(f,0,M,"V");break;case"b":a(f,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=vu(m.z||Ln[14],aa(_s(m.v)))),a(f,0,m.w,"V");break;default:a(f,1,0,"")}else a(f,1,0,"")}}return a(f,-1,0,"EOD"),f.join("\r\n")}}()}}(),q7=function(){function n(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function i(m,w){return cb(function e(m,w){for(var b=m.split("\n"),T=-1,E=-1,M=0,N=[];M!==b.length;++M){var V=b[M].trim().split(":");if("cell"===V[0]){var U=Xs(V[1]);if(N.length<=U.r)for(T=N.length;T<=U.r;++T)N[T]||(N[T]=[]);switch(T=U.r,E=U.c,V[2]){case"t":N[T][E]=n(V[3]);break;case"v":N[T][E]=+V[3];break;case"vtf":var q=V[V.length-1];case"vtc":N[T][E]="nl"===V[3]?!!+V[4]:+V[4],"vtf"==V[2]&&(N[T][E]=[N[T][E],q])}}}return w&&w.sheetRows&&(N=N.slice(0,w.sheetRows)),N}(m,w),w)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),d="--SocialCalcSpreadsheetControlSave--";function f(m){if(!m||!m["!ref"])return"";for(var T,w=[],b=[],E="",M=Gl(m["!ref"]),N=Array.isArray(m),V=M.s.r;V<=M.e.r;++V)for(var U=M.s.c;U<=M.e.c;++U)if(E=Un({r:V,c:U}),(T=N?(m[V]||[])[U]:m[E])&&null!=T.v&&"z"!==T.t){switch(b=["cell",E,"t"],T.t){case"s":case"str":b.push(t(T.v));break;case"n":T.f?(b[2]="vtf",b[3]="n",b[4]=T.v,b[5]=t(T.f)):(b[2]="v",b[3]=T.v);break;case"b":b[2]="vt"+(T.f?"f":"c"),b[3]="nl",b[4]=T.v?"1":"0",b[5]=t(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var q=aa(_s(T.v));b[2]="vtc",b[3]="nd",b[4]=""+q,b[5]=T.w||vu(T.z||Ln[14],q);break;case"e":continue}w.push(b.join(":"))}return w.push("sheet:c:"+(M.e.c-M.s.c+1)+":r:"+(M.e.r-M.s.r+1)+":tvf:1"),w.push("valueformat:1:text-wiki"),w.join("\n")}return{to_workbook:function r(m,w){return z0(i(m,w),w)},to_sheet:i,from_sheet:function p(m){return[s,a,l,a,f(m),d].join("\n")}}}(),hb=function(){function n(p,m,w,b,T){T.raw?m[w][b]=p:""===p||(m[w][b]="TRUE"===p||"FALSE"!==p&&(isNaN(kh(p))?isNaN(ob(p).getDate())?p:_s(p):kh(p)))}var e={44:",",9:"\t",59:";",124:"|"},i={44:3,9:2,59:1,124:0};function r(p){for(var m={},w=!1,b=0,T=0;b<p.length;++b)34==(T=p.charCodeAt(b))?w=!w:!w&&T in e&&(m[T]=(m[T]||0)+1);for(b in T=[],m)Object.prototype.hasOwnProperty.call(m,b)&&T.push([m[b],b]);if(!T.length)for(b in m=i)Object.prototype.hasOwnProperty.call(m,b)&&T.push([m[b],b]);return T.sort(function(E,M){return E[0]-M[0]||i[E[1]]-i[M[1]]}),e[T.pop()[1]]||44}function a(p,m){return!m||!m.PRN||m.FS||"sep="==p.slice(0,4)||p.indexOf("\t")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?function s(p,m){var w=m||{},b="",T=w.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};"sep="==p.slice(0,4)?13==p.charCodeAt(5)&&10==p.charCodeAt(6)?(b=p.charAt(4),p=p.slice(7)):13==p.charCodeAt(5)||10==p.charCodeAt(5)?(b=p.charAt(4),p=p.slice(6)):b=r(p.slice(0,1024)):b=w&&w.FS?w.FS:r(p.slice(0,1024));var M=0,N=0,V=0,U=0,q=0,Q=b.charCodeAt(0),ue=!1,K=0,he=p.charCodeAt(0);p=p.replace(/\r\n/gm,"\n");var de=null!=w.dateNF?function zoe(n){var t="number"==typeof n?Ln[n]:n;return t=t.replace(hH,"(\\d+)"),new RegExp("^"+t+"$")}(w.dateNF):null;function Me(){var Fe=p.slice(U,q),Te={};if('"'==Fe.charAt(0)&&'"'==Fe.charAt(Fe.length-1)&&(Fe=Fe.slice(1,-1).replace(/""/g,'"')),0===Fe.length)Te.t="z";else if(w.raw)Te.t="s",Te.v=Fe;else if(0===Fe.trim().length)Te.t="s",Te.v=Fe;else if(61==Fe.charCodeAt(0))34==Fe.charCodeAt(1)&&34==Fe.charCodeAt(Fe.length-1)?(Te.t="s",Te.v=Fe.slice(2,-1).replace(/""/g,'"')):function fhe(n){return 1!=n.length}(Fe)?(Te.t="n",Te.f=Fe.slice(1)):(Te.t="s",Te.v=Fe);else if("TRUE"==Fe)Te.t="b",Te.v=!0;else if("FALSE"==Fe)Te.t="b",Te.v=!1;else if(isNaN(V=kh(Fe)))if(!isNaN(ob(Fe).getDate())||de&&Fe.match(de)){Te.z=w.dateNF||Ln[14];var bt=0;de&&Fe.match(de)&&(Fe=function Zoe(n,t,e){var i=-1,r=-1,s=-1,a=-1,l=-1,d=-1;(t.match(hH)||[]).forEach(function(m,w){var b=parseInt(e[w+1],10);switch(m.toLowerCase().charAt(0)){case"y":i=b;break;case"d":s=b;break;case"h":a=b;break;case"s":d=b;break;case"m":a>=0?l=b:r=b}}),d>=0&&-1==l&&r>=0&&(l=r,r=-1);var f=(""+(i>=0?i:(new Date).getFullYear())).slice(-4)+"-"+("00"+(r>=1?r:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==f.length&&(f="0"+f),8==f.length&&(f="20"+f);var p=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return-1==a&&-1==l&&-1==d?f:-1==i&&-1==r&&-1==s?p:f+"T"+p}(0,w.dateNF,Fe.match(de)||[]),bt=1),w.cellDates?(Te.t="d",Te.v=_s(Fe,bt)):(Te.t="n",Te.v=aa(_s(Fe,bt))),!1!==w.cellText&&(Te.w=vu(Te.z,Te.v instanceof Date?aa(Te.v):Te.v)),w.cellNF||delete Te.z}else Te.t="s",Te.v=Fe;else Te.t="n",!1!==w.cellText&&(Te.w=Fe),Te.v=V;if("z"==Te.t||(w.dense?(T[M]||(T[M]=[]),T[M][N]=Te):T[Un({c:N,r:M})]=Te),he=p.charCodeAt(U=q+1),E.e.c<N&&(E.e.c=N),E.e.r<M&&(E.e.r=M),K==Q)++N;else if(N=0,++M,w.sheetRows&&w.sheetRows<=M)return!0}e:for(;q<p.length;++q)switch(K=p.charCodeAt(q)){case 34:34===he&&(ue=!ue);break;case Q:case 10:case 13:if(!ue&&Me())break e}return q-U>0&&Me(),T["!ref"]=ri(E),T}(p,m):cb(function t(p,m){var w=m||{},b=[];if(!p||0===p.length)return b;for(var T=p.split(/[\r\n]/),E=T.length-1;E>=0&&0===T[E].length;)--E;for(var M=10,N=0,V=0;V<=E;++V)-1==(N=T[V].indexOf(" "))?N=T[V].length:N++,M=Math.max(M,N);for(V=0;V<=E;++V){b[V]=[];var U=0;for(n(T[V].slice(0,M).trim(),b,V,U,w),U=1;U<=(T[V].length-M)/10+1;++U)n(T[V].slice(M+10*(U-1),M+10*U).trim(),b,V,U,w)}return w.sheetRows&&(b=b.slice(0,w.sheetRows)),b}(p,m),m)}function l(p,m){var w="",b="string"==m.type?[0,0,0,0]:function k3(n,t){var e="";switch((t||{}).type||"base64"){case"buffer":case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":e=mu(n.slice(0,12));break;case"binary":e=n;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3),e.charCodeAt(4),e.charCodeAt(5),e.charCodeAt(6),e.charCodeAt(7)]}(p,m);switch(m.type){case"base64":w=mu(p);break;case"binary":case"string":w=p;break;case"buffer":w=65001==m.codepage?p.toString("utf8"):fi&&Buffer.isBuffer(p)?p.toString("binary"):B0(p);break;case"array":w=Cy(p);break;default:throw new Error("Unrecognized type "+m.type)}return 239==b[0]&&187==b[1]&&191==b[2]?w=Hr(w.slice(3)):"string"!=m.type&&"buffer"!=m.type&&65001==m.codepage&&(w=Hr(w)),"socialcalc:version:"==w.slice(0,19)?q7.to_sheet("string"==m.type?w:Hr(w),m):a(w,m)}return{to_workbook:function d(p,m){return z0(l(p,m),m)},to_sheet:l,from_sheet:function f(p){for(var b,m=[],w=Oi(p["!ref"]),T=Array.isArray(p),E=w.s.r;E<=w.e.r;++E){for(var M=[],N=w.s.c;N<=w.e.c;++N){var V=Un({r:E,c:N});if((b=T?(p[E]||[])[N]:p[V])&&null!=b.v){for(var U=(b.w||(ep(b),b.w)||"").slice(0,10);U.length<10;)U+=" ";M.push(U+(0===N?" ":""))}else M.push("          ")}m.push(M.join(""))}return m.join("\n")}}}(),Py=function(){function n(fe,Be,ge){if(fe){Na(fe,fe.l||0);for(var we=ge.Enum||cn;fe.l<fe.length;){var lt=fe.read_shift(2),Bt=we[lt]||we[65535],Nt=fe.read_shift(2),Pt=fe.l+Nt,xt=Bt.f&&Bt.f(fe,Nt,ge);if(fe.l=Pt,Be(xt,Bt,lt))return}}}function e(fe,Be){if(!fe)return fe;var ge=Be||{},we=ge.dense?[]:{},lt="Sheet1",Bt="",Nt=0,Pt={},xt=[],Qn=[],me={s:{r:0,c:0},e:{r:0,c:0}},cr=ge.sheetRows||0;if(0==fe[2]&&(8==fe[3]||9==fe[3])&&fe.length>=16&&5==fe[14]&&108===fe[15])throw new Error("Unsupported Works 3 for Mac file");if(2==fe[2])ge.Enum=cn,n(fe,function(un,no,kd){switch(kd){case 0:ge.vers=un,un>=4096&&(ge.qpro=!0);break;case 6:me=un;break;case 204:un&&(Bt=un);break;case 222:Bt=un;break;case 15:case 51:ge.qpro||(un[1].v=un[1].v.slice(1));case 13:case 14:case 16:14==kd&&112==(112&un[2])&&(15&un[2])>1&&(15&un[2])<15&&(un[1].z=ge.dateNF||Ln[14],ge.cellDates&&(un[1].t="d",un[1].v=TL(un[1].v))),ge.qpro&&un[3]>Nt&&(we["!ref"]=ri(me),Pt[lt]=we,xt.push(lt),we=ge.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},Nt=un[3],lt=Bt||"Sheet"+(Nt+1),Bt="");var up=ge.dense?(we[un[0].r]||[])[un[0].c]:we[Un(un[0])];if(up){up.t=un[1].t,up.v=un[1].v,null!=un[1].z&&(up.z=un[1].z),null!=un[1].f&&(up.f=un[1].f);break}ge.dense?(we[un[0].r]||(we[un[0].r]=[]),we[un[0].r][un[0].c]=un[1]):we[Un(un[0])]=un[1]}},ge);else{if(26!=fe[2]&&14!=fe[2])throw new Error("Unrecognized LOTUS BOF "+fe[2]);ge.Enum=mt,14==fe[2]&&(ge.qpro=!0,fe.l=0),n(fe,function(un,no,kd){switch(kd){case 204:lt=un;break;case 22:un[1].v=un[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(un[3]>Nt&&(we["!ref"]=ri(me),Pt[lt]=we,xt.push(lt),we=ge.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},lt="Sheet"+((Nt=un[3])+1)),cr>0&&un[0].r>=cr)break;ge.dense?(we[un[0].r]||(we[un[0].r]=[]),we[un[0].r][un[0].c]=un[1]):we[Un(un[0])]=un[1],me.e.c<un[0].c&&(me.e.c=un[0].c),me.e.r<un[0].r&&(me.e.r=un[0].r);break;case 27:un[14e3]&&(Qn[un[14e3][0]]=un[14e3][1]);break;case 1537:Qn[un[0]]=un[1],un[0]==Nt&&(lt=un[1])}},ge)}if(we["!ref"]=ri(me),Pt[Bt||lt]=we,xt.push(Bt||lt),!Qn.length)return{SheetNames:xt,Sheets:Pt};for(var Ei={},ur=[],Si=0;Si<Qn.length;++Si)Pt[xt[Si]]?(ur.push(Qn[Si]||xt[Si]),Ei[Qn[Si]]=Pt[Qn[Si]]||Pt[xt[Si]]):(ur.push(Qn[Si]),Ei[Qn[Si]]={"!ref":"A1"});return{SheetNames:ur,Sheets:Ei}}function f(fe,Be,ge){var we=[{c:0,r:0},{t:"n",v:0},0,0];return ge.qpro&&20768!=ge.vers?(we[0].c=fe.read_shift(1),we[3]=fe.read_shift(1),we[0].r=fe.read_shift(2),fe.l+=2):(we[2]=fe.read_shift(1),we[0].c=fe.read_shift(2),we[0].r=fe.read_shift(2)),we}function p(fe,Be,ge){var we=fe.l+Be,lt=f(fe,0,ge);if(lt[1].t="s",20768==ge.vers){fe.l++;var Bt=fe.read_shift(1);return lt[1].v=fe.read_shift(Bt,"utf8"),lt}return ge.qpro&&fe.l++,lt[1].v=fe.read_shift(we-fe.l,"cstr"),lt}function m(fe,Be,ge){var we=at(7+ge.length);we.write_shift(1,255),we.write_shift(2,Be),we.write_shift(2,fe),we.write_shift(1,39);for(var lt=0;lt<we.length;++lt){var Bt=ge.charCodeAt(lt);we.write_shift(1,Bt>=128?95:Bt)}return we.write_shift(1,0),we}function b(fe,Be,ge){var we=at(7);return we.write_shift(1,255),we.write_shift(2,Be),we.write_shift(2,fe),we.write_shift(2,ge,"i"),we}function E(fe,Be,ge){var we=at(13);return we.write_shift(1,255),we.write_shift(2,Be),we.write_shift(2,fe),we.write_shift(8,ge,"f"),we}function N(fe,Be,ge){var we=32768&Be;return Be=(we?fe:0)+((Be&=-32769)>=8192?Be-16384:Be),(we?"":"$")+(ge?jr(Be):Ps(Be))}var V={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},U=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function Q(fe){var Be=[{c:0,r:0},{t:"n",v:0},0];return Be[0].r=fe.read_shift(2),Be[3]=fe[fe.l++],Be[0].c=fe[fe.l++],Be}function K(fe,Be,ge,we){var lt=at(6+we.length);lt.write_shift(2,fe),lt.write_shift(1,ge),lt.write_shift(1,Be),lt.write_shift(1,39);for(var Bt=0;Bt<we.length;++Bt){var Nt=we.charCodeAt(Bt);lt.write_shift(1,Nt>=128?95:Nt)}return lt.write_shift(1,0),lt}function de(fe,Be){var ge=Q(fe),we=fe.read_shift(4),lt=fe.read_shift(4),Bt=fe.read_shift(2);if(65535==Bt)return 0===we&&3221225472===lt?(ge[1].t="e",ge[1].v=15):0===we&&3489660928===lt?(ge[1].t="e",ge[1].v=42):ge[1].v=0,ge;var Nt=32768&Bt;return Bt=(32767&Bt)-16446,ge[1].v=(1-2*Nt)*(lt*Math.pow(2,Bt+32)+we*Math.pow(2,Bt)),ge}function Me(fe,Be,ge,we){var lt=at(14);if(lt.write_shift(2,fe),lt.write_shift(1,ge),lt.write_shift(1,Be),0==we)return lt.write_shift(4,0),lt.write_shift(4,0),lt.write_shift(2,65535),lt;var Bt=0,Nt=0,xt=0;return we<0&&(Bt=1,we=-we),Nt=0|Math.log2(we),0==(2147483648&(xt=(we/=Math.pow(2,Nt-31))>>>0))&&(++Nt,xt=(we/=2)>>>0),we-=xt,xt|=2147483648,xt>>>=0,we*=Math.pow(2,32),lt.write_shift(4,we>>>0),lt.write_shift(4,xt),lt.write_shift(2,Nt+=16383+(Bt?32768:0)),lt}function bt(fe,Be){var ge=Q(fe),we=fe.read_shift(8,"f");return ge[1].v=we,ge}function pt(fe,Be){return 0==fe[fe.l+Be-1]?fe.read_shift(Be,"cstr"):""}function Ct(fe,Be){var ge=at(5+fe.length);ge.write_shift(2,14e3),ge.write_shift(2,Be);for(var we=0;we<fe.length;++we){var lt=fe.charCodeAt(we);ge[ge.l++]=lt>127?95:lt}return ge[ge.l++]=0,ge}var cn={0:{n:"BOF",f:wo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function l(fe,Be,ge){var we={s:{c:0,r:0},e:{c:0,r:0}};return 8==Be&&ge.qpro?(we.s.c=fe.read_shift(1),fe.l++,we.s.r=fe.read_shift(2),we.e.c=fe.read_shift(1),fe.l++,we.e.r=fe.read_shift(2),we):(we.s.c=fe.read_shift(2),we.s.r=fe.read_shift(2),12==Be&&ge.qpro&&(fe.l+=2),we.e.c=fe.read_shift(2),we.e.r=fe.read_shift(2),12==Be&&ge.qpro&&(fe.l+=2),65535==we.s.c&&(we.s.c=we.e.c=we.s.r=we.e.r=0),we)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function w(fe,Be,ge){var we=f(fe,0,ge);return we[1].v=fe.read_shift(2,"i"),we}},14:{n:"NUMBER",f:function T(fe,Be,ge){var we=f(fe,0,ge);return we[1].v=fe.read_shift(8,"f"),we}},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:function M(fe,Be,ge){var we=fe.l+Be,lt=f(fe,0,ge);if(lt[1].v=fe.read_shift(8,"f"),ge.qpro)fe.l=we;else{var Bt=fe.read_shift(2);(function q(fe,Be){Na(fe,0);for(var ge=[],we=0,lt="",Bt="",Nt="",Pt="";fe.l<fe.length;){var xt=fe[fe.l++];switch(xt){case 0:ge.push(fe.read_shift(8,"f"));break;case 1:Bt=N(Be[0].c,fe.read_shift(2),!0),lt=N(Be[0].r,fe.read_shift(2),!1),ge.push(Bt+lt);break;case 2:var Qn=N(Be[0].c,fe.read_shift(2),!0),me=N(Be[0].r,fe.read_shift(2),!1);Bt=N(Be[0].c,fe.read_shift(2),!0),lt=N(Be[0].r,fe.read_shift(2),!1),ge.push(Qn+me+":"+Bt+lt);break;case 3:if(fe.l<fe.length)return void console.error("WK1 premature formula end");break;case 4:ge.push("("+ge.pop()+")");break;case 5:ge.push(fe.read_shift(2));break;case 6:for(var cr="";xt=fe[fe.l++];)cr+=String.fromCharCode(xt);ge.push('"'+cr.replace(/"/g,'""')+'"');break;case 8:ge.push("-"+ge.pop());break;case 23:ge.push("+"+ge.pop());break;case 22:ge.push("NOT("+ge.pop()+")");break;case 20:case 21:Pt=ge.pop(),Nt=ge.pop(),ge.push(["AND","OR"][xt-20]+"("+Nt+","+Pt+")");break;default:if(xt<32&&U[xt])Pt=ge.pop(),Nt=ge.pop(),ge.push(Nt+U[xt]+Pt);else{if(!V[xt])return xt<=7?console.error("WK1 invalid opcode "+xt.toString(16)):xt<=24?console.error("WK1 unsupported op "+xt.toString(16)):xt<=30?console.error("WK1 invalid opcode "+xt.toString(16)):xt<=115?console.error("WK1 unsupported function opcode "+xt.toString(16)):console.error("WK1 unrecognized opcode "+xt.toString(16));if(69==(we=V[xt][1])&&(we=fe[fe.l++]),we>ge.length)return void console.error("WK1 bad formula parse 0x"+xt.toString(16)+":|"+ge.join("|")+"|");var Ei=ge.slice(-we);ge.length-=we,ge.push(V[xt][0]+"("+Ei.join(",")+")")}}}1==ge.length?Be[1].f=""+ge[0]:console.error("WK1 bad formula parse |"+ge.join("|")+"|")})(fe.slice(fe.l,fe.l+Bt),lt),fe.l+=Bt}return lt}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pt},222:{n:"SHEETNAMELP",f:function Xe(fe,Be){var ge=fe[fe.l++];ge>Be-1&&(ge=Be-1);for(var we="";we.length<ge;)we+=String.fromCharCode(fe[fe.l++]);return we}},65535:{n:""}},mt={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function ue(fe,Be){var ge=Q(fe);return ge[1].t="s",ge[1].v=fe.read_shift(Be-4,"cstr"),ge}},23:{n:"NUMBER17",f:de},24:{n:"NUMBER18",f:function he(fe,Be){var ge=Q(fe);ge[1].v=fe.read_shift(2);var we=ge[1].v>>1;if(1&ge[1].v)switch(7&we){case 0:we=5e3*(we>>3);break;case 1:we=500*(we>>3);break;case 2:we=(we>>3)/20;break;case 3:we=(we>>3)/200;break;case 4:we=(we>>3)/2e3;break;case 5:we=(we>>3)/2e4;break;case 6:we=(we>>3)/16;break;case 7:we=(we>>3)/64}return ge[1].v=we,ge}},25:{n:"FORMULA19",f:function Fe(fe,Be){var ge=de(fe);return fe.l+=Be-14,ge}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function Ft(fe,Be){for(var ge={},we=fe.l+Be;fe.l<we;){var lt=fe.read_shift(2);if(14e3==lt){for(ge[lt]=[0,""],ge[lt][0]=fe.read_shift(2);fe[fe.l];)ge[lt][1]+=String.fromCharCode(fe[fe.l]),fe.l++;fe.l++}}return ge}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function Te(fe,Be){var ge=Q(fe),we=fe.read_shift(4);return ge[1].v=we>>6,ge}},38:{n:"??"},39:{n:"NUMBER27",f:bt},40:{n:"FORMULA28",f:function qt(fe,Be){var ge=bt(fe);return fe.l+=Be-10,ge}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pt},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function gt(fe,Be,ge){if(ge.qpro&&!(Be<21)){var we=fe.read_shift(1);return fe.l+=17,fe.l+=1,fe.l+=2,[we,fe.read_shift(Be-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function i(fe,Be){var ge=Be||{};if(+ge.codepage>=0&&dd(+ge.codepage),"string"==ge.type)throw new Error("Cannot write WK1 to JS string");var we=ql(),lt=Oi(fe["!ref"]),Bt=Array.isArray(fe),Nt=[];$t(we,0,function s(fe){var Be=at(2);return Be.write_shift(2,fe),Be}(1030)),$t(we,6,function d(fe){var Be=at(8);return Be.write_shift(2,fe.s.c),Be.write_shift(2,fe.s.r),Be.write_shift(2,fe.e.c),Be.write_shift(2,fe.e.r),Be}(lt));for(var Pt=Math.min(lt.e.r,8191),xt=lt.s.r;xt<=Pt;++xt)for(var Qn=Ps(xt),me=lt.s.c;me<=lt.e.c;++me){xt===lt.s.r&&(Nt[me]=jr(me));var Ei=Bt?(fe[xt]||[])[me]:fe[Nt[me]+Qn];Ei&&"z"!=Ei.t&&("n"==Ei.t?(0|Ei.v)==Ei.v&&Ei.v>=-32768&&Ei.v<=32767?$t(we,13,b(xt,me,Ei.v)):$t(we,14,E(xt,me,Ei.v)):$t(we,15,m(xt,me,ep(Ei).slice(0,239))))}return $t(we,1),we.end()},book_to_wk3:function r(fe,Be){var ge=Be||{};if(+ge.codepage>=0&&dd(+ge.codepage),"string"==ge.type)throw new Error("Cannot write WK3 to JS string");var we=ql();$t(we,0,function a(fe){var Be=at(26);Be.write_shift(2,4096),Be.write_shift(2,4),Be.write_shift(4,0);for(var ge=0,we=0,lt=0,Bt=0;Bt<fe.SheetNames.length;++Bt){var Pt=fe.Sheets[fe.SheetNames[Bt]];if(Pt&&Pt["!ref"]){++lt;var xt=Gl(Pt["!ref"]);ge<xt.e.r&&(ge=xt.e.r),we<xt.e.c&&(we=xt.e.c)}}return ge>8191&&(ge=8191),Be.write_shift(2,ge),Be.write_shift(1,lt),Be.write_shift(1,we),Be.write_shift(2,0),Be.write_shift(2,0),Be.write_shift(1,1),Be.write_shift(1,2),Be.write_shift(4,0),Be.write_shift(4,0),Be}(fe));for(var lt=0,Bt=0;lt<fe.SheetNames.length;++lt)(fe.Sheets[fe.SheetNames[lt]]||{})["!ref"]&&$t(we,27,Ct(fe.SheetNames[lt],Bt++));var Nt=0;for(lt=0;lt<fe.SheetNames.length;++lt){var Pt=fe.Sheets[fe.SheetNames[lt]];if(Pt&&Pt["!ref"]){for(var xt=Oi(Pt["!ref"]),Qn=Array.isArray(Pt),me=[],cr=Math.min(xt.e.r,8191),Ei=xt.s.r;Ei<=cr;++Ei)for(var ur=Ps(Ei),Si=xt.s.c;Si<=xt.e.c;++Si){Ei===xt.s.r&&(me[Si]=jr(Si));var no=Qn?(Pt[Ei]||[])[Si]:Pt[me[Si]+ur];no&&"z"!=no.t&&("n"==no.t?$t(we,23,Me(Ei,Si,Nt,no.v)):$t(we,22,K(Ei,Si,Nt,ep(no).slice(0,239))))}++Nt}}return $t(we,1),we.end()},to_workbook:function t(fe,Be){switch(Be.type){case"base64":return e(_u(mu(fe)),Be);case"binary":return e(_u(fe),Be);case"buffer":case"array":return e(fe,Be)}throw"Unsupported type "+Be.type}}}(),mue=/^\s|\s$|[\t\n\r]/;function $7(n,t){if(!t.bookSST)return"";var e=[Fs];e[e.length]=Wt("sst",null,{xmlns:j0[0],count:n.Count,uniqueCount:n.Unique});for(var i=0;i!=n.length;++i)if(null!=n[i]){var r=n[i],s="<si>";r.r?s+=r.r:(s+="<t",r.t||(r.t=""),r.t.match(mue)&&(s+=' xml:space="preserve"'),s+=">"+ar(r.t)+"</t>"),e[e.length]=s+="</si>"}return e.length>2&&(e[e.length]="</sst>",e[1]=e[1].replace("/>",">")),e.join("")}var wue=function Aae(n,t){var e=!1;return null==t&&(e=!0,t=at(15+4*n.t.length)),t.write_shift(1,0),ca(n.t,t),e?t.slice(0,t.l):t};function xue(n){var t=ql();St(t,159,function yue(n,t){return t||(t=at(8)),t.write_shift(4,n.Count),t.write_shift(4,n.Unique),t}(n));for(var e=0;e<n.length;++e)St(t,19,wue(n[e]));return St(t,160),t.end()}function s3(n){var e,s,t=0,i=function Y7(n){for(var t=[],e=n.split(""),i=0;i<e.length;++i)t[i]=e[i].charCodeAt(0);return t}(n),r=i.length+1;for((e=L0(r))[0]=i.length,s=1;s!=r;++s)e[s]=i[s-1];for(s=r-1;s>=0;--s)t=((0==(16384&t)?0:1)|t<<1&32767)^e[s];return 52811^t}var X7=function(){function n(r,s){switch(s.type){case"base64":return t(mu(r),s);case"binary":return t(r,s);case"buffer":return t(fi&&Buffer.isBuffer(r)?r.toString("binary"):B0(r),s);case"array":return t(Cy(r),s)}throw new Error("Unrecognized type "+s.type)}function t(r,s){var l=(s||{}).dense?[]:{},d=r.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,m){Array.isArray(l)&&(l[m]=[]);for(var T,w=/\\\w+\b/g,b=0,E=-1;T=w.exec(p);){if("\\cell"===T[0]){var M=p.slice(b,w.lastIndex-T[0].length);if(" "==M[0]&&(M=M.slice(1)),++E,M.length){var N={v:M,t:"s"};Array.isArray(l)?l[m][E]=N:l[Un({r:m,c:E})]=N}}b=w.lastIndex}E>f.e.c&&(f.e.c=E)}),l["!ref"]=ri(f),l}return{to_workbook:function e(r,s){return z0(n(r,s),s)},to_sheet:n,from_sheet:function i(r){for(var l,s=["{\\rtf1\\ansi"],a=Oi(r["!ref"]),d=Array.isArray(r),f=a.s.r;f<=a.e.r;++f){s.push("\\trowd\\trautofit1");for(var p=a.s.c;p<=a.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=a.s.c;p<=a.e.c;++p){var m=Un({r:f,c:p});(l=d?(r[f]||[])[p]:r[m])&&(null!=l.v||l.f&&!l.F)&&(s.push(" "+(l.w||(ep(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}}}();function zS(n){for(var t=0,e=1;3!=t;++t)e=256*e+(n[t]>255?255:n[t]<0?0:n[t]);return e.toString(16).toUpperCase().slice(1)}var ll=6;function ZS(n){return Math.floor((n+Math.round(128/ll)/256)*ll)}function WS(n){return Math.floor((n-5)/ll*100+.5)/100}function UM(n){return Math.round((n*ll+5)/ll*256)/256}function W0(n){n.width?(n.wpx=ZS(n.width),n.wch=WS(n.wpx),n.MDW=ll):n.wpx?(n.wch=WS(n.wpx),n.width=UM(n.wch),n.MDW=ll):"number"==typeof n.wch&&(n.width=UM(n.wch),n.wpx=ZS(n.width),n.MDW=ll),n.customWidth&&delete n.customWidth}function qS(n){return 96*n/96}function HM(n){return 96*n/96}function n9(n,t){var i,e=[Fs,Wt("styleSheet",null,{xmlns:j0[0],"xmlns:vt":yo_vt})];return n.SSF&&null!=(i=function que(n){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var i=e[0];i<=e[1];++i)null!=n[i]&&(t[t.length]=Wt("numFmt",null,{numFmtId:i,formatCode:ar(n[i])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Wt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(n.SSF))&&(e[e.length]=i),e[e.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',e[e.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',e[e.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',e[e.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(i=function Gue(n){var t=[];return t[t.length]=Wt("cellXfs",null),n.forEach(function(e){t[t.length]=Wt("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Wt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(e[e.length]=i),e[e.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',e[e.length]='<dxfs count="0"/>',e[e.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',e.length>2&&(e[e.length]="</styleSheet>",e[1]=e[1].replace("/>",">")),e.join("")}function Kue(n,t,e){e||(e=at(6+4*t.length)),e.write_shift(2,n),ca(t,e);var i=e.length>e.l?e.slice(0,e.l):e;return null==e.l&&(e.l=e.length),i}var l3,Xue=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ede=rl;function r9(n,t){t||(t=at(84)),l3||(l3=CM(Xue));var e=l3[n.patternType];null==e&&(e=40),t.write_shift(4,e);var i=0;if(40!=e)for(AM({auto:1},t),AM({auto:1},t);i<12;++i)t.write_shift(4,0);else{for(;i<4;++i)t.write_shift(4,0);for(;i<12;++i)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function s9(n,t,e){return e||(e=at(16)),e.write_shift(2,t||0),e.write_shift(2,n.numFmtId||0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(1,0),e}function GS(n,t){return t||(t=at(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var nde=rl;function mde(n,t){var e=ql();return St(e,278),function ade(n,t){if(t){var e=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)null!=t[r]&&++e}),0!=e&&(St(n,615,Dh(e)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)null!=t[r]&&St(n,44,Kue(r,t[r]))}),St(n,616))}}(e,n.SSF),function lde(n){St(n,611,Dh(1)),St(n,43,function Jue(n,t){t||(t=at(153)),t.write_shift(2,20*n.sz),function Bae(n,t){t||(t=at(2)),t.write_shift(1,(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0)),t.write_shift(1,0)}(n,t),t.write_shift(2,n.bold?700:400);var e=0;"superscript"==n.vertAlign?e=1:"subscript"==n.vertAlign&&(e=2),t.write_shift(2,e),t.write_shift(1,n.underline||0),t.write_shift(1,n.family||0),t.write_shift(1,n.charset||0),t.write_shift(1,0),AM(n.color,t);var i=0;return"major"==n.scheme&&(i=1),"minor"==n.scheme&&(i=2),t.write_shift(1,i),ca(n.name,t),t.length>t.l?t.slice(0,t.l):t}({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),St(n,612)}(e),function cde(n){St(n,603,Dh(2)),St(n,45,r9({patternType:"none"})),St(n,45,r9({patternType:"gray125"})),St(n,604)}(e),function ude(n){St(n,613,Dh(1)),St(n,46,function ide(n,t){return t||(t=at(51)),t.write_shift(1,0),GS(0,t),GS(0,t),GS(0,t),GS(0,t),GS(0,t),t.length>t.l?t.slice(0,t.l):t}()),St(n,614)}(e),function dde(n){St(n,626,Dh(1)),St(n,47,s9({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),St(n,627)}(e),function hde(n,t){St(n,617,Dh(t.length)),t.forEach(function(e){St(n,47,s9(e,0))}),St(n,618)}(e,t.cellXfs),function fde(n){St(n,619,Dh(1)),St(n,48,function rde(n,t){return t||(t=at(52)),t.write_shift(4,n.xfId),t.write_shift(2,1),t.write_shift(1,+n.builtinId),t.write_shift(1,0),DM(n.name||"",t),t.length>t.l?t.slice(0,t.l):t}({xfId:0,builtinId:0,name:"Normal"})),St(n,620)}(e),function pde(n){St(n,505,Dh(0)),St(n,506)}(e),function gde(n){St(n,508,function sde(n,t,e){var i=at(2052);return i.write_shift(4,n),DM(t,i),DM(e,i),i.length>i.l?i.slice(0,i.l):i}(0,"TableStyleMedium9","PivotStyleMedium4")),St(n,509)}(e),St(e,279),e.end()}function c3(n,t){if(t&&t.themeXLSX)return t.themeXLSX;if(n&&"string"==typeof n.raw)return n.raw;var e=[Fs];return e[e.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',e[e.length]="<a:themeElements>",e[e.length]='<a:clrScheme name="Office">',e[e.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',e[e.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',e[e.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',e[e.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',e[e.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',e[e.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',e[e.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',e[e.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',e[e.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',e[e.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',e[e.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',e[e.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',e[e.length]="</a:clrScheme>",e[e.length]='<a:fontScheme name="Office">',e[e.length]="<a:majorFont>",e[e.length]='<a:latin typeface="Cambria"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Times New Roman"/>',e[e.length]='<a:font script="Hebr" typeface="Times New Roman"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="MoolBoran"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Times New Roman"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:majorFont>",e[e.length]="<a:minorFont>",e[e.length]='<a:latin typeface="Calibri"/>',e[e.length]='<a:ea typeface=""/>',e[e.length]='<a:cs typeface=""/>',e[e.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',e[e.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',e[e.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',e[e.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',e[e.length]='<a:font script="Arab" typeface="Arial"/>',e[e.length]='<a:font script="Hebr" typeface="Arial"/>',e[e.length]='<a:font script="Thai" typeface="Tahoma"/>',e[e.length]='<a:font script="Ethi" typeface="Nyala"/>',e[e.length]='<a:font script="Beng" typeface="Vrinda"/>',e[e.length]='<a:font script="Gujr" typeface="Shruti"/>',e[e.length]='<a:font script="Khmr" typeface="DaunPenh"/>',e[e.length]='<a:font script="Knda" typeface="Tunga"/>',e[e.length]='<a:font script="Guru" typeface="Raavi"/>',e[e.length]='<a:font script="Cans" typeface="Euphemia"/>',e[e.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',e[e.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',e[e.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',e[e.length]='<a:font script="Thaa" typeface="MV Boli"/>',e[e.length]='<a:font script="Deva" typeface="Mangal"/>',e[e.length]='<a:font script="Telu" typeface="Gautami"/>',e[e.length]='<a:font script="Taml" typeface="Latha"/>',e[e.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',e[e.length]='<a:font script="Orya" typeface="Kalinga"/>',e[e.length]='<a:font script="Mlym" typeface="Kartika"/>',e[e.length]='<a:font script="Laoo" typeface="DokChampa"/>',e[e.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',e[e.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',e[e.length]='<a:font script="Viet" typeface="Arial"/>',e[e.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',e[e.length]='<a:font script="Geor" typeface="Sylfaen"/>',e[e.length]="</a:minorFont>",e[e.length]="</a:fontScheme>",e[e.length]='<a:fmtScheme name="Office">',e[e.length]="<a:fillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="1"/>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:lin ang="16200000" scaled="0"/>',e[e.length]="</a:gradFill>",e[e.length]="</a:fillStyleLst>",e[e.length]="<a:lnStyleLst>",e[e.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',e[e.length]="</a:lnStyleLst>",e[e.length]="<a:effectStyleLst>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]="</a:effectStyle>",e[e.length]="<a:effectStyle>",e[e.length]="<a:effectLst>",e[e.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',e[e.length]="</a:effectLst>",e[e.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',e[e.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',e[e.length]="</a:effectStyle>",e[e.length]="</a:effectStyleLst>",e[e.length]="<a:bgFillStyleLst>",e[e.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]='<a:gradFill rotWithShape="1">',e[e.length]="<a:gsLst>",e[e.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',e[e.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',e[e.length]="</a:gsLst>",e[e.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',e[e.length]="</a:gradFill>",e[e.length]="</a:bgFillStyleLst>",e[e.length]="</a:fmtScheme>",e[e.length]="</a:themeElements>",e[e.length]="<a:objectDefaults>",e[e.length]="<a:spDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',e[e.length]="</a:spDef>",e[e.length]="<a:lnDef>",e[e.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',e[e.length]="</a:lnDef>",e[e.length]="</a:objectDefaults>",e[e.length]="<a:extraClrSchemeLst/>",e[e.length]="</a:theme>",e.join("")}function jde(){var n=ql();return St(n,332),St(n,334,Dh(1)),St(n,335,function Pde(n){var t=at(12+2*n.name.length);return t.write_shift(4,n.flags),t.write_shift(4,n.version),ca(n.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),St(n,336),St(n,339,function Bde(n,t){var e=at(8+2*t.length);return e.write_shift(4,n),ca(t,e),e.slice(0,e.l)}(1,"XLDAPR")),St(n,52),St(n,35,Dh(514)),St(n,4096,Dh(0)),St(n,4097,gd(1)),St(n,36),St(n,53),St(n,340),St(n,337,function Ude(n,t){var e=at(8);return e.write_shift(4,n),e.write_shift(4,t?1:0),e}(1,!0)),St(n,51,function Lde(n){var t=at(4+8*n.length);t.write_shift(4,n.length);for(var e=0;e<n.length;++e)t.write_shift(4,n[e][0]),t.write_shift(4,n[e][1]);return t}([[1,0]])),St(n,338),St(n,333),n.end()}function a9(){var n=[Fs];return n.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),n.join("")}var fb=1024;function l9(n,t){for(var e=[21600,21600],i=["m0,0l0",e[1],e[0],e[1],e[0],"0xe"].join(","),r=[Wt("xml",null,{"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":wu_o,"xmlns:x":wu_x,"xmlns:mv":"http://macVmlSchemaUri"}).replace(/\/>/,">"),Wt("o:shapelayout",Wt("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Wt("v:shapetype",[Wt("v:stroke",null,{joinstyle:"miter"}),Wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:e.join(","),path:i})];fb<1e3*n;)fb+=1e3;return t.forEach(function(s){var a=Xs(s[0]),l={color2:"#BEFF82",type:"gradient"};"gradient"==l.type&&(l.angle="-180");var d="gradient"==l.type?Wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Wt("v:fill",d,l);++fb,r=r.concat(["<v:shape"+FS({id:"_x0000_s"+fb,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Wt("v:shadow",null,{on:"t",obscured:"t"}),Wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Pa("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Pa("x:AutoFill","False"),Pa("x:Row",String(a.r)),Pa("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),r.push("</xml>"),r.join("")}function u9(n){var t=[Fs,Wt("comments",null,{xmlns:j0[0]})],e=[];return t.push("<authors>"),n.forEach(function(i){i[1].forEach(function(r){var s=ar(r.a);-1==e.indexOf(s)&&(e.push(s),t.push("<author>"+s+"</author>")),r.T&&r.ID&&-1==e.indexOf("tc="+r.ID)&&(e.push("tc="+r.ID),t.push("<author>tc="+r.ID+"</author>"))})}),0==e.length&&(e.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),n.forEach(function(i){var r=0,s=[];if(i[1][0]&&i[1][0].T&&i[1][0].ID?r=e.indexOf("tc="+i[1][0].ID):i[1].forEach(function(d){d.a&&(r=e.indexOf(ar(d.a))),s.push(d.t||"")}),t.push('<comment ref="'+i[0]+'" authorId="'+r+'"><text>'),s.length<=1)t.push(Pa("t",ar(s[0]||"")));else{for(var a="Comment:\n    "+s[0]+"\n",l=1;l<s.length;++l)a+="Reply:\n    "+s[l]+"\n";t.push(Pa("t",ar(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Qde(n,t,e){var i=[Fs,Wt("ThreadedComments",null,{xmlns:yo_TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(r){var s="";(r[1]||[]).forEach(function(a,l){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var d={ref:r[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+e.tcid++).slice(-12)+"}"};0==l?s=d.id:d.parentId=s,a.ID=d.id,a.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),i.push(Wt("threadedComment",Pa("text",a.t||""),d))}else delete a.ID})}),i.push("</ThreadedComments>"),i.join("")}var nhe=sl;function she(n){var t=ql(),e=[];return St(t,628),St(t,630),n.forEach(function(i){i[1].forEach(function(r){e.indexOf(r.a)>-1||(e.push(r.a.slice(0,54)),St(t,632,function ihe(n){return ca(n.slice(0,54))}(r.a)))})}),St(t,631),St(t,633),n.forEach(function(i){i[1].forEach(function(r){r.iauthor=e.indexOf(r.a);var s={s:Xs(i[0]),e:Xs(i[0])};St(t,635,function the(n,t){return null==t&&(t=at(36)),t.write_shift(4,n[1].iauthor),ub(n[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([s,r])),r.t&&r.t.length>0&&St(t,637,function Oae(n,t){var e=!1;return null==t&&(e=!0,t=at(23+4*n.t.length)),t.write_shift(1,1),ca(n.t,t),t.write_shift(4,1),function Dae(n,t){t||(t=at(4)),t.write_shift(2,n.ich||0),t.write_shift(2,n.ifnt||0)}({ich:0,ifnt:0},t),e?t.slice(0,t.l):t}(r)),St(t,636),delete r.iauthor})}),St(t,634),St(t,629),t.end()}var d9=["xlsb","xlsm","xlam","biff8","xla"],pb=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function e(i,r,s,a){var l=!1,d=!1;0==s.length?d=!0:"["==s.charAt(0)&&(d=!0,s=s.slice(1,-1)),0==a.length?l=!0:"["==a.charAt(0)&&(l=!0,a=a.slice(1,-1));var f=s.length>0?0|parseInt(s,10):0,p=a.length>0?0|parseInt(a,10):0;return l?p+=t.c:--p,d?f+=t.r:--f,r+(l?"":"$")+jr(p)+(d?"":"$")+Ps(f)}return function(r,s){return t=s,r.replace(n,e)}}(),u3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,d3=function(){return function(t,e){return t.replace(u3,function(i,r,s,a,l,d){var f=UL(a)-(s?0:e.c),p=VL(d)-(l?0:e.r);return r+"R"+(0==p?"":l?p+1:"["+p+"]")+"C"+(0==f?"":s?f+1:"["+f+"]")})}}();function h9(n,t){return n.replace(u3,function(e,i,r,s,a,l){return i+("$"==r?r+s:jr(UL(s)+t.c))+("$"==a?a+l:Ps(VL(l)+t.r))})}function xo(n){n.l+=1}function q0(n,t){var e=n.read_shift(1==t?1:2);return[16383&e,e>>14&1,e>>15&1]}function f9(n,t,e){var i=2;if(e){if(e.biff>=2&&e.biff<=5)return p9(n);12==e.biff&&(i=4)}var r=n.read_shift(i),s=n.read_shift(i),a=q0(n,2),l=q0(n,2);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function p9(n){var t=q0(n,2),e=q0(n,2),i=n.read_shift(1),r=n.read_shift(1);return{s:{r:t[0],c:i,cRel:t[1],rRel:t[2]},e:{r:e[0],c:r,cRel:e[1],rRel:e[2]}}}function g9(n,t,e){if(e&&e.biff>=2&&e.biff<=5)return function ghe(n){var t=q0(n,2),e=n.read_shift(1);return{r:t[0],c:e,cRel:t[1],rRel:t[2]}}(n);var i=n.read_shift(e&&12==e.biff?4:2),r=q0(n,2);return{r:i,c:r[0],cRel:r[1],rRel:r[2]}}function mhe(n){var t=n.read_shift(2),e=n.read_shift(2);return{r:t,c:255&e,fQuoted:!!(16384&e),cRel:e>>15,rRel:e>>15}}function m9(n){var t=1&n[n.l+1];return n.l+=4,[t,1]}function _9(n){return[n.read_shift(1),n.read_shift(1)]}function Whe(n,t){var e=[n.read_shift(1)];if(12==t)switch(e[0]){case 2:e[0]=4;break;case 4:e[0]=16;break;case 0:e[0]=1;break;case 1:e[0]=2}switch(e[0]){case 4:e[1]=function eo(n,t){return 1===n.read_shift(t)}(n,1)?"TRUE":"FALSE",12!=t&&(n.l+=7);break;case 37:case 16:e[1]=Mg[n[n.l]],n.l+=12==t?4:8;break;case 0:n.l+=8;break;case 1:e[1]=ol(n);break;case 2:e[1]=function Ry(n,t,e){if(e.biff>5)return function jS(n,t,e){var i=n.read_shift(e&&2==e.biff?1:2);return 0===i?(n.l++,""):function Oy(n,t,e){if(e){if(e.biff>=2&&e.biff<=5)return n.read_shift(t,"cpstr");if(e.biff>=12)return n.read_shift(t,"dbcs-cont")}var r=n.read_shift(1);return n.read_shift(t,0===r?"sbcs-cont":"dbcs-cont")}(n,i,e)}(n,0,e);var i=n.read_shift(1);return 0===i?(n.l++,""):n.read_shift(i,e.biff<=4||!n.lens?"cpstr":"sbcs-cont")}(n,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+e[0])}return e}function qhe(n,t,e){for(var i=n.read_shift(12==e.biff?4:2),r=[],s=0;s!=i;++s)r.push((12==e.biff?ky:LM)(n,8));return r}function Ghe(n,t,e){var i=0,r=0;12==e.biff?(i=n.read_shift(4),r=n.read_shift(4)):(r=1+n.read_shift(1),i=1+n.read_shift(2)),e.biff>=2&&e.biff<8&&(--i,0==--r&&(r=256));for(var s=0,a=[];s!=i&&(a[s]=[]);++s)for(var l=0;l!=r;++l)a[s][l]=Whe(n,e.biff);return a}function $S(n,t,e){return n.l+=2,[mhe(n)]}function h3(n){return n.l+=6,[]}function v9(n){return n.l+=2,[wo(n),1&n.read_shift(2)]}var ffe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],y9={1:{n:"PtgExp",f:function Vhe(n,t,e){return n.l++,e&&12==e.biff?[n.read_shift(4,"i"),0]:[n.read_shift(2),n.read_shift(e&&2==e.biff?1:2)]}},2:{n:"PtgTbl",f:rl},3:{n:"PtgAdd",f:xo},4:{n:"PtgSub",f:xo},5:{n:"PtgMul",f:xo},6:{n:"PtgDiv",f:xo},7:{n:"PtgPower",f:xo},8:{n:"PtgConcat",f:xo},9:{n:"PtgLt",f:xo},10:{n:"PtgLe",f:xo},11:{n:"PtgEq",f:xo},12:{n:"PtgGe",f:xo},13:{n:"PtgGt",f:xo},14:{n:"PtgNe",f:xo},15:{n:"PtgIsect",f:xo},16:{n:"PtgUnion",f:xo},17:{n:"PtgRange",f:xo},18:{n:"PtgUplus",f:xo},19:{n:"PtgUminus",f:xo},20:{n:"PtgPercent",f:xo},21:{n:"PtgParen",f:xo},22:{n:"PtgMissArg",f:xo},23:{n:"PtgStr",f:function Zhe(n,t,e){return n.l++,HS(n,0,e)}},26:{n:"PtgSheet",f:function mfe(n,t,e){return n.l+=5,n.l+=2,n.l+=2==e.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function _fe(n,t,e){return n.l+=2==e.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function Uhe(n){return n.l++,Mg[n.read_shift(1)]}},29:{n:"PtgBool",f:function jhe(n){return n.l++,0!==n.read_shift(1)}},30:{n:"PtgInt",f:function Hhe(n){return n.l++,n.read_shift(2)}},31:{n:"PtgNum",f:function zhe(n){return n.l++,ol(n)}},32:{n:"PtgArray",f:function The(n,t,e){var i=(96&n[n.l++])>>5;return n.l+=2==e.biff?6:12==e.biff?14:7,[i]}},33:{n:"PtgFunc",f:function Phe(n,t,e){var i=(96&n[n.l])>>5;n.l+=1;var r=n.read_shift(e&&e.biff<=3?1:2);return[Bfe[r],b9[r],i]}},34:{n:"PtgFuncVar",f:function Nhe(n,t,e){var i=n[n.l++],r=n.read_shift(1),s=e&&e.biff<=3?[88==i?-1:0,n.read_shift(1)]:function Lhe(n){return[n[n.l+1]>>7,32767&n.read_shift(2)]}(n);return[r,(0===s[0]?b9:Lfe)[s[1]]]}},35:{n:"PtgName",f:function $he(n,t,e){var i=n.read_shift(1)>>>5&3,s=n.read_shift(!e||e.biff>=8?4:2);switch(e.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12}return[i,0,s]}},36:{n:"PtgRef",f:function Ohe(n,t,e){var i=(96&n[n.l])>>5;return n.l+=1,[i,g9(n,0,e)]}},37:{n:"PtgArea",f:function yhe(n,t,e){return[(96&n[n.l++])>>5,f9(n,0,e)]}},38:{n:"PtgMemArea",f:function Qhe(n,t,e){var i=n.read_shift(1)>>>5&3;return n.l+=e&&2==e.biff?3:4,[i,n.read_shift(e&&2==e.biff?1:2)]}},39:{n:"PtgMemErr",f:rl},40:{n:"PtgMemNoMem",f:rl},41:{n:"PtgMemFunc",f:function Jhe(n,t,e){return[n.read_shift(1)>>>5&3,n.read_shift(e&&2==e.biff?1:2)]}},42:{n:"PtgRefErr",f:function Xhe(n,t,e){var i=n.read_shift(1)>>>5&3;return n.l+=4,e.biff<8&&n.l--,12==e.biff&&(n.l+=2),[i]}},43:{n:"PtgAreaErr",f:function xhe(n,t,e){var i=(96&n[n.l++])>>5;return n.l+=e&&e.biff>8?12:e.biff<8?6:8,[i]}},44:{n:"PtgRefN",f:function Rhe(n,t,e){var i=(96&n[n.l])>>5;n.l+=1;var r=function _he(n,t,e){var i=e&&e.biff?e.biff:8;if(i>=2&&i<=5)return function vhe(n){var t=n.read_shift(2),e=n.read_shift(1),i=(32768&t)>>15,r=(16384&t)>>14;return t&=16383,1==i&&t>=8192&&(t-=16384),1==r&&e>=128&&(e-=256),{r:t,c:e,cRel:r,rRel:i}}(n);var r=n.read_shift(i>=12?4:2),s=n.read_shift(2),a=(16384&s)>>14,l=(32768&s)>>15;if(s&=16383,1==l)for(;r>524287;)r-=1048576;if(1==a)for(;s>8191;)s-=16384;return{r,c:s,cRel:a,rRel:l}}(n,0,e);return[i,r]}},45:{n:"PtgAreaN",f:function Che(n,t,e){var i=(96&n[n.l++])>>5,r=function phe(n,t,e){if(e.biff<8)return p9(n);var i=n.read_shift(12==e.biff?4:2),r=n.read_shift(12==e.biff?4:2),s=q0(n,2),a=q0(n,2);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r,c:a[0],cRel:a[1],rRel:a[2]}}}(n,0,e);return[i,r]}},46:{n:"PtgMemAreaN",f:function vfe(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function yfe(n){return[n.read_shift(1)>>>5&3,n.read_shift(2)]}},57:{n:"PtgNameX",f:function Yhe(n,t,e){return 5==e.biff?function Khe(n){var t=n.read_shift(1)>>>5&3,e=n.read_shift(2,"i");n.l+=8;var i=n.read_shift(2);return n.l+=12,[t,e,i]}(n):[n.read_shift(1)>>>5&3,n.read_shift(2),n.read_shift(4)]}},58:{n:"PtgRef3d",f:function Fhe(n,t,e){var i=(96&n[n.l])>>5;n.l+=1;var r=n.read_shift(2);return e&&5==e.biff&&(n.l+=12),[i,r,g9(n,0,e)]}},59:{n:"PtgArea3d",f:function whe(n,t,e){var i=(96&n[n.l++])>>5,r=n.read_shift(2,"i");if(e&&5===e.biff)n.l+=12;return[i,r,f9(n,0,e)]}},60:{n:"PtgRefErr3d",f:function efe(n,t,e){var i=(96&n[n.l++])>>5,r=n.read_shift(2),s=4;if(e)switch(e.biff){case 5:s=15;break;case 12:s=6}return n.l+=s,[i,r]}},61:{n:"PtgAreaErr3d",f:function bhe(n,t,e){var i=(96&n[n.l++])>>5,r=n.read_shift(2),s=8;if(e)switch(e.biff){case 5:n.l+=12,s=6;break;case 12:s=12}return n.l+=s,[i,r]}},255:{}},xfe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bfe={1:{n:"PtgElfLel",f:v9},2:{n:"PtgElfRw",f:$S},3:{n:"PtgElfCol",f:$S},6:{n:"PtgElfRwV",f:$S},7:{n:"PtgElfColV",f:$S},10:{n:"PtgElfRadical",f:$S},11:{n:"PtgElfRadicalS",f:h3},13:{n:"PtgElfColS",f:h3},15:{n:"PtgElfColSV",f:h3},16:{n:"PtgElfRadicalLel",f:v9},25:{n:"PtgList",f:function pfe(n){n.l+=2;var t=n.read_shift(2),e=n.read_shift(2),i=n.read_shift(4),r=n.read_shift(2),s=n.read_shift(2);return{ixti:t,coltype:3&e,rt:ffe[e>>2&31],idx:i,c:r,C:s}}},29:{n:"PtgSxName",f:function gfe(n){return n.l+=2,[n.read_shift(4)]}},255:{}},Cfe={0:{n:"PtgAttrNoop",f:function wfe(n){return n.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function Dhe(n,t,e){var i=255&n[n.l+1]?1:0;return n.l+=e&&2==e.biff?3:4,[i]}},2:{n:"PtgAttrIf",f:function Ihe(n,t,e){var i=255&n[n.l+1]?1:0;return n.l+=2,[i,n.read_shift(e&&2==e.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function Ehe(n,t,e){n.l+=2;for(var i=n.read_shift(e&&2==e.biff?1:2),r=[],s=0;s<=i;++s)r.push(n.read_shift(e&&2==e.biff?1:2));return r}},8:{n:"PtgAttrGoto",f:function She(n,t,e){var i=255&n[n.l+1]?1:0;return n.l+=2,[i,n.read_shift(e&&2==e.biff?1:2)]}},16:{n:"PtgAttrSum",f:function Bhe(n,t,e){n.l+=e&&2==e.biff?3:4}},32:{n:"PtgAttrBaxcel",f:m9},33:{n:"PtgAttrBaxcel",f:m9},64:{n:"PtgAttrSpace",f:function Ahe(n){return n.read_shift(2),_9(n)}},65:{n:"PtgAttrSpaceSemi",f:function Mhe(n){return n.read_shift(2),_9(n)}},128:{n:"PtgAttrIfError",f:function khe(n){var t=255&n[n.l+1]?1:0;return n.l+=2,[t,n.read_shift(2)]}},255:{}};function YS(n,t,e,i){if(i.biff<8)return rl(n,t);for(var r=n.l+t,s=[],a=0;a!==e.length;++a)switch(e[a][0]){case"PtgArray":e[a][1]=Ghe(n,0,i),s.push(e[a][1]);break;case"PtgMemArea":e[a][2]=qhe(n,0,i),s.push(e[a][2]);break;case"PtgExp":i&&12==i.biff&&(e[a][1][1]=n.read_shift(4),s.push(e[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+e[a][0]}return 0!=(t=r-n.l)&&s.push(rl(n,t)),s}function Tfe(n){for(var t=[],e=0;e<n.length;++e){for(var i=n[e],r=[],s=0;s<i.length;++s){var a=i[s];r.push(a?2===a[0]?'"'+a[1].replace(/"/g,'""')+'"':a[1]:"")}t.push(r.join(","))}return t.join(";")}var Efe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function w9(n,t,e){if(!n)return"SH33TJSERR0";if(e.biff>8&&(!n.XTI||!n.XTI[t]))return n.SheetNames[t];if(!n.XTI)return"SH33TJSERR6";var i=n.XTI[t];if(e.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":n.XTI[t-1];if(!i)return"SH33TJSERR1";var r="";if(e.biff>8)switch(n[i[0]][0]){case 357:return r=-1==i[1]?"#REF":n.SheetNames[i[1]],i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 358:return null!=e.SID?n.SheetNames[e.SID]:"SH33TJSSAME"+n[i[0]][0];default:return"SH33TJSSRC"+n[i[0]][0]}switch(n[i[0]][0][0]){case 1025:return r=-1==i[1]?"#REF":n.SheetNames[i[1]]||"SH33TJSERR3",i[1]==i[2]?r:r+":"+n.SheetNames[i[2]];case 14849:return n[i[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[i[0]][0][3]?(r=-1==i[1]?"#REF":n[i[0]][0][3][i[1]]||"SH33TJSERR4",i[1]==i[2]?r:r+":"+n[i[0]][0][3][i[2]]):"SH33TJSERR2"}}function x9(n,t,e){var i=w9(n,t,e);return"#REF"==i?i:function Sfe(n,t){if(!(n||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}(i,e)}function cl(n,t,e,i,r){var d,f,p,b,s=r&&r.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},l=[],m=0,w=0,T="";if(!n[0]||!n[0][0])return"";for(var E=-1,M="",N=0,V=n[0].length;N<V;++N){var U=n[0][N];switch(U[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=l.pop(),f=l.pop(),E>=0){switch(n[0][E][1][0]){case 0:M=Rs(" ",n[0][E][1][1]);break;case 1:M=Rs("\r",n[0][E][1][1]);break;default:if(M="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][E][1][0])}f+=M,E=-1}l.push(f+Efe[U[0]]+d);break;case"PtgIsect":d=l.pop(),f=l.pop(),l.push(f+" "+d);break;case"PtgUnion":d=l.pop(),f=l.pop(),l.push(f+","+d);break;case"PtgRange":d=l.pop(),f=l.pop(),l.push(f+":"+d);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":p=LS(U[1][1],a,r),l.push(BS(p,s));break;case"PtgRefN":p=e?LS(U[1][1],e,r):U[1][1],l.push(BS(p,s));break;case"PtgRef3d":m=U[1][1],p=LS(U[1][2],a,r),T=x9(i,m,r),l.push(T+"!"+BS(p,s));break;case"PtgFunc":case"PtgFuncVar":var Q=U[1][0],ue=U[1][1];Q||(Q=0);var K=0==(Q&=127)?[]:l.slice(-Q);l.length-=Q,"User"===ue&&(ue=K.shift()),l.push(ue+"("+K.join(",")+")");break;case"PtgBool":l.push(U[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":l.push(U[1]);break;case"PtgNum":l.push(String(U[1]));break;case"PtgStr":l.push('"'+U[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":b=GH(U[1][1],e?{s:e}:a,r),l.push(BL(b,r));break;case"PtgArea":b=GH(U[1][1],a,r),l.push(BL(b,r));break;case"PtgArea3d":b=U[1][2],T=x9(i,m=U[1][1],r),l.push(T+"!"+BL(b,r));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgName":var he=(i.names||[])[(w=U[1][2])-1]||(i[0]||[])[w],de=he?he.Name:"SH33TJSNAME"+String(w);de&&"_xlfn."==de.slice(0,6)&&!r.xlfn&&(de=de.slice(6)),l.push(de);break;case"PtgNameX":var Fe,Me=U[1][1];if(w=U[1][2],!(r.biff<=5)){var Te="";if(14849==((i[Me]||[])[0]||[])[0]||(1025==((i[Me]||[])[0]||[])[0]?i[Me][w]&&i[Me][w].itab>0&&(Te=i.SheetNames[i[Me][w].itab-1]+"!"):Te=i.SheetNames[w-1]+"!"),i[Me]&&i[Me][w])Te+=i[Me][w].Name;else if(i[0]&&i[0][w])Te+=i[0][w].Name;else{var bt=(w9(i,Me,r)||"").split(";;");bt[w-1]?Te=bt[w-1]:Te+="SH33TJSERRX"}l.push(Te);break}Me<0&&(Me=-Me),i[Me]&&(Fe=i[Me][w]),Fe||(Fe={Name:"SH33TJSERRY"}),l.push(Fe.Name);break;case"PtgParen":var qt="(",pt=")";if(E>=0){switch(M="",n[0][E][1][0]){case 2:qt=Rs(" ",n[0][E][1][1])+qt;break;case 3:qt=Rs("\r",n[0][E][1][1])+qt;break;case 4:pt=Rs(" ",n[0][E][1][1])+pt;break;case 5:pt=Rs("\r",n[0][E][1][1])+pt;break;default:if(r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][E][1][0])}E=-1}l.push(qt+l.pop()+pt);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":l.push("#REF!");break;case"PtgExp":var Xe={c:e.c,r:e.r};if(i.sharedf[Un(p={c:U[1][1],r:U[1][0]})]){var gt=i.sharedf[Un(p)];l.push(cl(gt,0,Xe,i,r))}else{var Ft=!1;for(d=0;d!=i.arrayf.length;++d)if(!(p.c<(f=i.arrayf[d])[0].s.c||p.c>f[0].e.c||p.r<f[0].s.r||p.r>f[0].e.r)){l.push(cl(f[1],0,Xe,i,r)),Ft=!0;break}Ft||l.push(U[1])}break;case"PtgArray":l.push("{"+Tfe(U[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=N;break;case"PtgMissArg":l.push("");break;case"PtgList":l.push("Table"+U[1].idx+"[#"+U[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(U))}if(3!=r.biff&&E>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(n[0][N][0])){var cn=!0;switch((U=n[0][E])[1][0]){case 4:cn=!1;case 0:M=Rs(" ",U[1][1]);break;case 5:cn=!1;case 1:M=Rs("\r",U[1][1]);break;default:if(M="",r.WTF)throw new Error("Unexpected PtgAttrSpaceType "+U[1][0])}l.push((cn?M:"")+l.pop()+(cn?"":M)),E=-1}}if(l.length>1&&r.WTF)throw new Error("bad formula stack");return l[0]}function ZM(n,t,e){var i=n.read_shift(4),r=function KS(n,t,e){for(var r,s,i=n.l+t,a=[];i!=n.l;)t=i-n.l,r=y9[s=n[n.l]]||y9[xfe[s]],(24===s||25===s)&&(r=(24===s?bfe:Cfe)[n[n.l+1]]),r&&r.f?a.push([r.n,r.f(n,t,e)]):rl(n,t);return a}(n,i,e),s=n.read_shift(4);return[r,s>0?YS(n,s,r,e):null]}var Ffe=ZM,WM=ZM,Pfe=ZM,Nfe=ZM,Lfe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},b9={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Bfe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Vfe(n){return("of:="+n.replace(u3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function Ufe(n){return n.replace(/\./,"!")}var QS="undefined"!=typeof Map;function g3(n,t,e){var i=0,r=n.length;if(e){if(QS?e.has(t):Object.prototype.hasOwnProperty.call(e,t))for(var s=QS?e.get(t):e[t];i<s.length;++i)if(n[s[i]].t===t)return n.Count++,s[i]}else for(;i<r;++i)if(n[i].t===t)return n.Count++,i;return n[r]={t},n.Count++,n.Unique++,e&&(QS?(e.has(t)||e.set(t,[]),e.get(t).push(r)):(Object.prototype.hasOwnProperty.call(e,t)||(e[t]=[]),e[t].push(r))),r}function GM(n,t){var e={min:n+1,max:n+1},i=-1;return t.MDW&&(ll=t.MDW),null!=t.width?e.customWidth=1:null!=t.wpx?i=WS(t.wpx):null!=t.wch&&(i=t.wch),i>-1?(e.width=UM(i),e.customWidth=1):null!=t.width&&(e.width=t.width),t.hidden&&(e.hidden=!0),null!=t.level&&(e.outlineLevel=e.level=t.level),e}function Ny(n,t){if(n){var e=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(e=[1,1,1,1,.5,.5]),null==n.left&&(n.left=e[0]),null==n.right&&(n.right=e[1]),null==n.top&&(n.top=e[2]),null==n.bottom&&(n.bottom=e[3]),null==n.header&&(n.header=e[4]),null==n.footer&&(n.footer=e[5])}}function G0(n,t,e){var i=e.revssf[null!=t.z?t.z:"General"],r=60,s=n.length;if(null==i&&e.ssf)for(;r<392;++r)if(null==e.ssf[r]){Qf(t.z,r),e.ssf[r]=t.z,e.revssf[t.z]=i=r;break}for(r=0;r!=s;++r)if(n[r].numFmtId===i)return r;return n[s]={numFmtId:i,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function jfe(n,t,e){if(n&&n["!ref"]){var i=Oi(n["!ref"]);if(i.e.c<i.s.c||i.e.r<i.s.r)throw new Error("Bad range ("+e+"): "+n["!ref"])}}var ipe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],rpe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function mpe(n,t,e,i){if(n.c&&e["!comments"].push([t,n.c]),void 0===n.v&&"string"!=typeof n.f||"z"===n.t&&!n.f)return"";var r="",s=n.t,a=n.v;if("z"!==n.t)switch(n.t){case"b":r=n.v?"1":"0";break;case"n":r=""+n.v;break;case"e":r=Mg[n.v];break;case"d":i&&i.cellDates?r=_s(n.v,-1).toISOString():((n=wr(n)).t="n",r=""+(n.v=aa(_s(n.v)))),void 0===n.z&&(n.z=Ln[14]);break;default:r=n.v}var l=Pa("v",ar(r)),d={r:t},f=G0(i.cellXfs,n,i);switch(0!==f&&(d.s=f),n.t){case"n":case"z":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;default:if(null==n.v){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(i&&i.bookSST){l=Pa("v",""+g3(i.Strings,n.v,i.revStrings)),d.t="s";break}d.t="str"}if(n.t!=s&&(n.t=s,n.v=a),"string"==typeof n.f&&n.f){var p=n.F&&n.F.slice(0,t.length)==t?{t:"array",ref:n.F}:null;l=Wt("f",ar(n.f),p)+(null!=n.v?l:"")}return n.l&&e["!links"].push([t,n.l]),n.D&&(d.cm=1),Wt("c",l,d)}function E9(n,t,e,i){var a,r=[Fs,Wt("worksheet",null,{xmlns:j0[0],"xmlns:r":yo_r})],l="",d=e.Sheets[e.SheetNames[n]];null==d&&(d={});var f=d["!ref"]||"A1",p=Oi(f);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=ri(p)}i||(i={}),d["!comments"]=[];var m=[];(function npe(n,t,e,i,r){var s=!1,a={},l=null;if("xlsx"!==i.bookType&&t.vbaraw){var d=t.SheetNames[e];try{t.Workbook&&(d=t.Workbook.Sheets[e].CodeName||d)}catch(p){}s=!0,a.codeName=Xf(ar(d))}if(n&&n["!outline"]){var f={summaryBelow:1,summaryRight:1};n["!outline"].above&&(f.summaryBelow=0),n["!outline"].left&&(f.summaryRight=0),l=(l||"")+Wt("outlinePr",null,f)}!s&&!l||(r[r.length]=Wt("sheetPr",l,a))})(d,e,n,t,r),r[r.length]=Wt("dimension",null,{ref:f}),r[r.length]=function gpe(n,t,e,i){var r={workbookViewId:"0"};return(((i||{}).Workbook||{}).Views||[])[0]&&(r.rightToLeft=i.Workbook.Views[0].RTL?"1":"0"),Wt("sheetViews",Wt("sheetView",null,r),{})}(0,0,0,e),t.sheetFormat&&(r[r.length]=Wt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=d["!cols"]&&d["!cols"].length>0&&(r[r.length]=function upe(n,t){for(var i,e=["<cols>"],r=0;r!=t.length;++r)!(i=t[r])||(e[e.length]=Wt("col",null,GM(r,i)));return e[e.length]="</cols>",e.join("")}(0,d["!cols"])),r[a=r.length]="<sheetData/>",d["!links"]=[],null!=d["!ref"]&&(l=function vpe(n,t,e,i){var d,M,r=[],s=[],a=Oi(n["!ref"]),l="",f="",p=[],m=0,w=0,b=n["!rows"],T=Array.isArray(n),E={r:f},N=-1;for(w=a.s.c;w<=a.e.c;++w)p[w]=jr(w);for(m=a.s.r;m<=a.e.r;++m){for(s=[],f=Ps(m),w=a.s.c;w<=a.e.c;++w){d=p[w]+f;var V=T?(n[m]||[])[w]:n[d];void 0!==V&&null!=(l=mpe(V,d,n,t))&&s.push(l)}(s.length>0||b&&b[m])&&(E={r:f},b&&b[m]&&((M=b[m]).hidden&&(E.hidden=1),N=-1,M.hpx?N=qS(M.hpx):M.hpt&&(N=M.hpt),N>-1&&(E.ht=N,E.customHeight=1),M.level&&(E.outlineLevel=M.level)),r[r.length]=Wt("row",s.join(""),E))}if(b)for(;m<b.length;++m)b&&b[m]&&(E={r:m+1},(M=b[m]).hidden&&(E.hidden=1),N=-1,M.hpx?N=qS(M.hpx):M.hpt&&(N=M.hpt),N>-1&&(E.ht=N,E.customHeight=1),M.level&&(E.outlineLevel=M.level),r[r.length]=Wt("row","",E));return r.join("")}(d,t),l.length>0&&(r[r.length]=l)),r.length>a+1&&(r[r.length]="</sheetData>",r[a]=r[a].replace("/>",">")),d["!protect"]&&(r[r.length]=function spe(n){var t={sheet:1};return ipe.forEach(function(e){null!=n[e]&&n[e]&&(t[e]="1")}),rpe.forEach(function(e){null!=n[e]&&!n[e]&&(t[e]="0")}),n.password&&(t.password=s3(n.password).toString(16).toUpperCase()),Wt("sheetProtection",null,t)}(d["!protect"])),null!=d["!autofilter"]&&(r[r.length]=function hpe(n,t,e,i){var r="string"==typeof n.ref?n.ref:ri(n.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var s=e.Workbook.Names,a=Gl(r);a.s.r==a.e.r&&(a.e.r=Gl(t["!ref"]).e.r,r=ri(a));for(var l=0;l<s.length;++l){var d=s[l];if("_xlnm._FilterDatabase"==d.Name&&d.Sheet==i){d.Ref="'"+e.SheetNames[i]+"'!"+r;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+e.SheetNames[i]+"'!"+r}),Wt("autoFilter",null,{ref:r})}(d["!autofilter"],d,e,n)),null!=d["!merges"]&&d["!merges"].length>0&&(r[r.length]=function epe(n){if(0===n.length)return"";for(var t='<mergeCells count="'+n.length+'">',e=0;e!=n.length;++e)t+='<mergeCell ref="'+ri(n[e])+'"/>';return t+"</mergeCells>"}(d["!merges"]));var b,w=-1,T=-1;return d["!links"].length>0&&(r[r.length]="<hyperlinks>",d["!links"].forEach(function(E){!E[1].Target||(b={ref:E[0]},"#"!=E[1].Target.charAt(0)&&(T=Ji(i,-1,ar(E[1].Target).replace(/#.*$/,""),si.HLINK),b["r:id"]="rId"+T),(w=E[1].Target.indexOf("#"))>-1&&(b.location=ar(E[1].Target.slice(w+1))),E[1].Tooltip&&(b.tooltip=ar(E[1].Tooltip)),r[r.length]=Wt("hyperlink",null,b))}),r[r.length]="</hyperlinks>"),delete d["!links"],null!=d["!margins"]&&(r[r.length]=function lpe(n){return Ny(n),Wt("pageMargins",null,n)}(d["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&(r[r.length]=Pa("ignoredErrors",Wt("ignoredError",null,{numberStoredAsText:1,sqref:f}))),m.length>0&&(T=Ji(i,-1,"../drawings/drawing"+(n+1)+".xml",si.DRAW),r[r.length]=Wt("drawing",null,{"r:id":"rId"+T}),d["!drawing"]=m),d["!comments"].length>0&&(T=Ji(i,-1,"../drawings/vmlDrawing"+(n+1)+".vml",si.VML),r[r.length]=Wt("legacyDrawing",null,{"r:id":"rId"+T}),d["!legacy"]=T),r.length>1&&(r[r.length]="</worksheet>",r[1]=r[1].replace("/>",">")),r.join("")}function xpe(n,t,e,i){var r=function wpe(n,t,e){var i=at(145),r=(e["!rows"]||[])[n]||{};i.write_shift(4,n),i.write_shift(4,0);var s=320;r.hpx?s=20*qS(r.hpx):r.hpt&&(s=20*r.hpt),i.write_shift(2,s),i.write_shift(1,0);var a=0;r.level&&(a|=r.level),r.hidden&&(a|=16),(r.hpx||r.hpt)&&(a|=32),i.write_shift(1,a),i.write_shift(1,0);var l=0,d=i.l;i.l+=4;for(var f={r:n,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var m=-1,w=-1,b=p<<10;b<p+1<<10;++b)f.c=b,(Array.isArray(e)?(e[f.r]||[])[f.c]:e[Un(f)])&&(m<0&&(m=b),w=b);m<0||(++l,i.write_shift(4,m),i.write_shift(4,w))}var E=i.l;return i.l=d,i.write_shift(4,l),i.l=E,i.length>i.l?i.slice(0,i.l):i}(i,e,t);(r.length>17||(t["!rows"]||[])[i])&&St(n,0,r)}var bpe=ky,Cpe=ub;var sge=ky,oge=ub,I9=["left","right","top","bottom","header","footer"];function Cge(n,t,e,i,r,s,a){if(void 0===t.v)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":(t=wr(t)).z=t.z||Ln[14],t.v=aa(_s(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v}var d={r:e,c:i};switch(d.s=G0(r.cellXfs,t,r),t.l&&s["!links"].push([Un(d),t.l]),t.c&&s["!comments"].push([Un(d),t.c]),t.t){case"s":case"str":return r.bookSST?(l=g3(r.Strings,t.v,r.revStrings),d.t="s",d.v=l,a?St(n,18,function jpe(n,t,e){return null==e&&(e=at(8)),Iy(t,e),e.write_shift(4,t.v),e}(0,d)):St(n,7,function Upe(n,t,e){return null==e&&(e=at(12)),Ey(t,e),e.write_shift(4,t.v),e}(0,d))):(d.t="str",a?St(n,17,function ege(n,t,e){return null==e&&(e=at(8+4*n.v.length)),Iy(t,e),ca(n.v,e),e.length>e.l?e.slice(0,e.l):e}(t,d)):St(n,6,function Jpe(n,t,e){return null==e&&(e=at(12+4*n.v.length)),Ey(t,e),ca(n.v,e),e.length>e.l?e.slice(0,e.l):e}(t,d))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?a?St(n,13,function Ype(n,t,e){return null==e&&(e=at(8)),Iy(t,e),QH(n.v,e),e}(t,d)):St(n,2,function Gpe(n,t,e){return null==e&&(e=at(12)),Ey(t,e),QH(n.v,e),e}(t,d)):a?St(n,16,function Wpe(n,t,e){return null==e&&(e=at(12)),Iy(t,e),Dy(n.v,e),e}(t,d)):St(n,5,function Zpe(n,t,e){return null==e&&(e=at(16)),Ey(t,e),Dy(n.v,e),e}(t,d)),!0;case"b":return d.t="b",a?St(n,15,function Fpe(n,t,e){return null==e&&(e=at(5)),Iy(t,e),e.write_shift(1,n.v?1:0),e}(t,d)):St(n,4,function Ope(n,t,e){return null==e&&(e=at(9)),Ey(t,e),e.write_shift(1,n.v?1:0),e}(t,d)),!0;case"e":return d.t="e",a?St(n,14,function Bpe(n,t,e){return null==e&&(e=at(8)),Iy(t,e),e.write_shift(1,n.v),e.write_shift(2,0),e.write_shift(1,0),e}(t,d)):St(n,3,function Npe(n,t,e){return null==e&&(e=at(9)),Ey(t,e),e.write_shift(1,n.v),e}(t,d)),!0}return a?St(n,12,function Ape(n,t,e){return null==e&&(e=at(4)),Iy(t,e)}(0,d)):St(n,1,function kpe(n,t,e){return null==e&&(e=at(8)),Ey(t,e)}(0,d)),!0}function Rge(n,t,e,i){var r=ql(),s=e.SheetNames[n],a=e.Sheets[s]||{},l=s;try{e&&e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch(f){}var d=Oi(a["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],St(r,129),(e.vbaraw||a["!outline"])&&St(r,147,function Spe(n,t,e){null==e&&(e=at(84+4*n.length));var i=192;t&&(t.above&&(i&=-65),t.left&&(i&=-129)),e.write_shift(1,i);for(var r=1;r<3;++r)e.write_shift(1,0);return AM({auto:1},e),e.write_shift(-4,-1),e.write_shift(-4,-1),KH(n,e),e.slice(0,e.l)}(l,a["!outline"])),St(r,148,Cpe(d)),function Mge(n,t,e){St(n,133),St(n,137,function _ge(n,t,e){null==e&&(e=at(30));var i=924;return(((t||{}).Views||[])[0]||{}).RTL&&(i|=32),e.write_shift(2,i),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,100),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(4,0),e}(0,e)),St(n,138),St(n,134)}(r,0,e.Workbook),function Sge(n,t){!t||!t["!cols"]||(St(n,390),t["!cols"].forEach(function(e,i){e&&St(n,60,function fge(n,t,e){null==e&&(e=at(18));var i=GM(n,t);e.write_shift(-4,n),e.write_shift(-4,n),e.write_shift(4,256*(i.width||10)),e.write_shift(4,0);var r=0;return t.hidden&&(r|=1),"number"==typeof i.width&&(r|=2),t.level&&(r|=t.level<<8),e.write_shift(2,r),e}(i,e))}),St(n,391))}(r,a),function Tge(n,t,e,i){var r=Oi(t["!ref"]||"A1"),a="",l=[];St(n,145);var d=Array.isArray(t),f=r.e.r;t["!rows"]&&(f=Math.max(r.e.r,t["!rows"].length-1));for(var p=r.s.r;p<=f;++p){a=Ps(p),xpe(n,t,r,p);var m=!1;if(p<=r.e.r)for(var w=r.s.c;w<=r.e.c;++w){p===r.s.r&&(l[w]=jr(w));var b=d?(t[p]||[])[w]:t[l[w]+a];m=!!b&&Cge(n,b,p,w,i,t,m)}}St(n,146)}(r,a,0,t),function Oge(n,t){!t["!protect"]||St(n,535,function yge(n,t){return null==t&&(t=at(66)),t.write_shift(2,n.password?s3(n.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){t.write_shift(4,e[1]?null==n[e[0]]||n[e[0]]?0:1:null!=n[e[0]]&&n[e[0]]?0:1)}),t}(t["!protect"]))}(r,a),function Age(n,t,e,i){if(t["!autofilter"]){var r=t["!autofilter"],s="string"==typeof r.ref?r.ref:ri(r.ref);e.Workbook||(e.Workbook={Sheets:[]}),e.Workbook.Names||(e.Workbook.Names=[]);var a=e.Workbook.Names,l=Gl(s);l.s.r==l.e.r&&(l.e.r=Gl(t["!ref"]).e.r,s=ri(l));for(var d=0;d<a.length;++d){var f=a[d];if("_xlnm._FilterDatabase"==f.Name&&f.Sheet==i){f.Ref="'"+e.SheetNames[i]+"'!"+s;break}}d==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:i,Ref:"'"+e.SheetNames[i]+"'!"+s}),St(n,161,ub(Oi(s))),St(n,162)}}(r,a,e,n),function Ege(n,t){!t||!t["!merges"]||(St(n,177,function age(n,t){return null==t&&(t=at(4)),t.write_shift(4,n),t}(t["!merges"].length)),t["!merges"].forEach(function(e){St(n,176,oge(e))}),St(n,178))}(r,a),function kge(n,t,e){t["!links"].forEach(function(i){if(i[1].Target){var r=Ji(e,-1,i[1].Target.replace(/#.*$/,""),si.HLINK);St(n,494,function cge(n,t){var e=at(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));ub({s:Xs(n[0]),e:Xs(n[0])},e),ZL("rId"+t,e);var i=n[1].Target.indexOf("#");return ca((-1==i?"":n[1].Target.slice(i+1))||"",e),ca(n[1].Tooltip||"",e),ca("",e),e.slice(0,e.l)}(i,r))}}),delete t["!links"]}(r,a,i),a["!margins"]&&St(r,476,function gge(n,t){return null==t&&(t=at(48)),Ny(n),I9.forEach(function(e){Dy(n[e],t)}),t}(a["!margins"])),(!t||t.ignoreEC||null==t.ignoreEC)&&function Ige(n,t){!t||!t["!ref"]||(St(n,648),St(n,649,function vge(n){var t=at(24);return t.write_shift(4,4),t.write_shift(4,1),ub(n,t),t}(Oi(t["!ref"]))),St(n,650))}(r,a),function Dge(n,t,e,i){if(t["!comments"].length>0){var r=Ji(i,-1,"../drawings/vmlDrawing"+(e+1)+".vml",si.VML);St(n,551,ZL("rId"+r)),t["!legacy"]=r}}(r,a,n,i),St(r,130),r.end()}var _3=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Wge="][*?/\\".split("");function M9(n,t){if(n.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var e=!0;return Wge.forEach(function(i){if(-1!=n.indexOf(i)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");e=!1}}),e}function R9(n){var t=[Fs];t[t.length]=Wt("workbook",null,{xmlns:j0[0],"xmlns:r":yo_r});var e=n.Workbook&&(n.Workbook.Names||[]).length>0,i={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(_3.forEach(function(l){null!=n.Workbook.WBProps[l[0]]&&n.Workbook.WBProps[l[0]]!=l[1]&&(i[l[0]]=n.Workbook.WBProps[l[0]])}),n.Workbook.WBProps.CodeName&&(i.codeName=n.Workbook.WBProps.CodeName,delete i.CodeName)),t[t.length]=Wt("workbookPr",null,i);var r=n.Workbook&&n.Workbook.Sheets||[],s=0;if(r&&r[0]&&r[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=n.SheetNames.length&&r[s]&&r[s].Hidden;++s);s==n.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var a={name:ar(n.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),r[s])switch(r[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden"}t[t.length]=Wt("sheet",null,a)}return t[t.length]="</sheets>",e&&(t[t.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(l){var d={name:l.Name};l.Comment&&(d.comment=l.Comment),null!=l.Sheet&&(d.localSheetId=""+l.Sheet),l.Hidden&&(d.hidden="1"),l.Ref&&(t[t.length]=Wt("definedName",ar(l.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Kge(n,t){return t||(t=at(127)),t.write_shift(4,n.Hidden),t.write_shift(4,n.iTabID),ZL(n.strRelID,t),ca(n.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function ome(n,t){var e=ql();return St(e,131),St(e,128,function ime(n,t){t||(t=at(127));for(var e=0;4!=e;++e)t.write_shift(4,0);return ca("SheetJS",t),ca(TS_version,t),ca(TS_version,t),ca("7262",t),t.length>t.l?t.slice(0,t.l):t}()),St(e,153,function Jge(n,t){t||(t=at(72));var e=0;return n&&n.filterPrivacy&&(e|=8),t.write_shift(4,e),t.write_shift(4,0),KH(n&&n.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(n.Workbook&&n.Workbook.WBProps||null)),function sme(n,t){if(t.Workbook&&t.Workbook.Sheets){for(var e=t.Workbook.Sheets,i=0,r=-1,s=-1;i<e.length;++i)!e[i]||!e[i].Hidden&&-1==r?r=i:1==e[i].Hidden&&-1==s&&(s=i);s>r||(St(n,135),St(n,158,function rme(n,t){return t||(t=at(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,n),t.write_shift(4,n),t.write_shift(1,120),t.length>t.l?t.slice(0,t.l):t}(r)),St(n,136))}}(e,n),function nme(n,t){St(n,143);for(var e=0;e!=t.SheetNames.length;++e)St(n,156,Kge({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[e]&&t.Workbook.Sheets[e].Hidden||0,iTabID:e+1,strRelID:"rId"+(e+1),name:t.SheetNames[e]}));St(n,144)}(e,n),St(e,132),e.end()}function wme(n,t,e,i,r){return(".bin"===t.slice(-4)?Rge:E9)(n,e,i,r)}function Cme(n,t,e){return(".bin"===t.slice(-4)?she:u9)(n,e)}function N9(n){return Wt("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+d3(n.Ref,{r:0,c:0})})}function Vme(n,t,e,i,r,s,a){if(!n||null==n.v&&null==n.f)return"";var l={};if(n.f&&(l["ss:Formula"]="="+ar(d3(n.f,a))),n.F&&n.F.slice(0,t.length)==t){var d=Xs(n.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(d.r==a.r?"":"["+(d.r-a.r)+"]")+"C"+(d.c==a.c?"":"["+(d.c-a.c)+"]")}if(n.l&&n.l.Target&&(l["ss:HRef"]=ar(n.l.Target),n.l.Tooltip&&(l["x:HRefScreenTip"]=ar(n.l.Tooltip))),e["!merges"])for(var f=e["!merges"],p=0;p!=f.length;++p)f[p].s.c!=a.c||f[p].s.r!=a.r||(f[p].e.c>f[p].s.c&&(l["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(l["ss:MergeDown"]=f[p].e.r-f[p].s.r));var m="",w="";switch(n.t){case"z":if(!i.sheetStubs)return"";break;case"n":m="Number",w=String(n.v);break;case"b":m="Boolean",w=n.v?"1":"0";break;case"e":m="Error",w=Mg[n.v];break;case"d":m="DateTime",w=new Date(n.v).toISOString(),null==n.z&&(n.z=n.z||Ln[14]);break;case"s":m="String",w=function aae(n){return(n+"").replace(kL,function(e){return IL[e]}).replace(EH,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}(n.v||"")}var b=G0(i.cellXfs,n,i);l["ss:StyleID"]="s"+(21+b),l["ss:Index"]=a.c+1;var E="z"==n.t?"":'<Data ss:Type="'+m+'">'+(null!=n.v?w:"")+"</Data>";return(n.c||[]).length>0&&(E+=function Bme(n){return n.map(function(t){var e=function lae(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}(t.t||""),i=Wt("ss:Data",e,{xmlns:"http://www.w3.org/TR/REC-html40"});return Wt("Comment",i,{"ss:Author":t.a})}).join("")}(n.c)),Wt("Cell",E,l)}function Ume(n,t){var e='<Row ss:Index="'+(n+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=HM(t.hpt)),t.hpx&&(e+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(e+=' ss:Hidden="1"')),e+">"}function jme(n,t,e){var i=[],s=e.Sheets[e.SheetNames[n]],a=s?function Nme(n,t,e,i){if(!n||!((i||{}).Workbook||{}).Names)return"";for(var r=i.Workbook.Names,s=[],a=0;a<r.length;++a){var l=r[a];l.Sheet==e&&(l.Name.match(/^_xlfn\./)||s.push(N9(l)))}return s.join("")}(s,0,n,e):"";return a.length>0&&i.push("<Names>"+a+"</Names>"),a=s?function Hme(n,t,e,i){if(!n["!ref"])return"";var r=Oi(n["!ref"]),s=n["!merges"]||[],a=0,l=[];n["!cols"]&&n["!cols"].forEach(function(M,N){W0(M);var V=!!M.width,U=GM(N,M),q={"ss:Index":N+1};V&&(q["ss:Width"]=ZS(U.width)),M.hidden&&(q["ss:Hidden"]="1"),l.push(Wt("Column",null,q))});for(var d=Array.isArray(n),f=r.s.r;f<=r.e.r;++f){for(var p=[Ume(f,(n["!rows"]||[])[f])],m=r.s.c;m<=r.e.c;++m){var w=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>m||s[a].s.r>f||s[a].e.c<m||s[a].e.r<f)){(s[a].s.c!=m||s[a].s.r!=f)&&(w=!0);break}if(!w){var b={r:f,c:m},T=Un(b);p.push(Vme(d?(n[f]||[])[m]:n[T],T,n,t,0,0,b))}}p.push("</Row>"),p.length>2&&l.push(p.join(""))}return l.join("")}(s,t):"",a.length>0&&i.push("<Table>"+a+"</Table>"),i.push(function Lme(n,t,e,i){if(!n)return"";var r=[];if(n["!margins"]&&(r.push("<PageSetup>"),n["!margins"].header&&r.push(Wt("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&r.push(Wt("Footer",null,{"x:Margin":n["!margins"].footer})),r.push(Wt("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),r.push("</PageSetup>")),i&&i.Workbook&&i.Workbook.Sheets&&i.Workbook.Sheets[e])if(i.Workbook.Sheets[e].Hidden)r.push(Wt("Visible",1==i.Workbook.Sheets[e].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<e&&(!i.Workbook.Sheets[s]||i.Workbook.Sheets[s].Hidden);++s);s==e&&r.push("<Selected/>")}return((((i||{}).Workbook||{}).Views||[])[0]||{}).RTL&&r.push("<DisplayRightToLeft/>"),n["!protect"]&&(r.push(Pa("ProtectContents","True")),n["!protect"].objects&&r.push(Pa("ProtectObjects","True")),n["!protect"].scenarios&&r.push(Pa("ProtectScenarios","True")),null==n["!protect"].selectLockedCells||n["!protect"].selectLockedCells?null!=n["!protect"].selectUnlockedCells&&!n["!protect"].selectUnlockedCells&&r.push(Pa("EnableSelection","UnlockedCells")):r.push(Pa("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&r.push("<"+a[1]+"/>")})),0==r.length?"":Wt("WorksheetOptions",r.join(""),{xmlns:wu_x})}(s,0,n,e)),i.join("")}function zme(n,t){t||(t={}),n.SSF||(n.SSF=wr(Ln)),n.SSF&&(sb(),MS(n.SSF),t.revssf=TM(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF,t.cellXfs=[],G0(t.cellXfs,{},{revssf:{General:0}}));var e=[];e.push(function Ome(n,t){var e=[];return n.Props&&e.push(function ale(n,t){var e=[];return Os(JL).map(function(i){for(var r=0;r<Og.length;++r)if(Og[r][1]==i)return Og[r];for(r=0;r<My.length;++r)if(My[r][1]==i)return My[r];throw i}).forEach(function(i){if(null!=n[i[1]]){var r=t&&t.Props&&null!=t.Props[i[1]]?t.Props[i[1]]:n[i[1]];"date"===i[2]&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof r?r=String(r):!0===r||!1===r?r=r?"1":"0":r instanceof Date&&(r=new Date(r).toISOString().replace(/\.\d*Z/,"")),e.push(Pa(JL[i[1]]||i[1],r))}}),Wt("DocumentProperties",e.join(""),{xmlns:wu_o})}(n.Props,t)),n.Custprops&&e.push(function lle(n,t){var e=["Worksheets","SheetNames"],i="CustomDocumentProperties",r=[];return n&&Os(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var a=0;a<Og.length;++a)if(s==Og[a][1])return;for(a=0;a<My.length;++a)if(s==My[a][1])return;for(a=0;a<e.length;++a)if(s==e[a])return;var l=n[s],d="string";"number"==typeof l?(d="float",l=String(l)):!0===l||!1===l?(d="boolean",l=l?"1":"0"):l=String(l),r.push(Wt(TH(s),l,{"dt:dt":d}))}}),t&&Os(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&(!n||!Object.prototype.hasOwnProperty.call(n,s))){var a=t[s],l="string";"number"==typeof a?(l="float",a=String(a)):!0===a||!1===a?(l="boolean",a=a?"1":"0"):a instanceof Date?(l="dateTime.tz",a=a.toISOString()):a=String(a),r.push(Wt(TH(s),a,{"dt:dt":l}))}}),"<"+i+' xmlns="'+wu_o+'">'+r.join("")+"</"+i+">"}(n.Props,n.Custprops)),e.join("")}(n,t)),e.push(""),e.push(""),e.push("");for(var i=0;i<n.SheetNames.length;++i)e.push(Wt("Worksheet",jme(i,t,n),{"ss:Name":ar(n.SheetNames[i])}));return e[2]=function Fme(n,t){var e=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(i,r){var s=[];s.push(Wt("NumberFormat",null,{"ss:Format":ar(Ln[i.numFmtId])}));var a={"ss:ID":"s"+(21+r)};e.push(Wt("Style",s.join(""),a))}),Wt("Styles",e.join(""))}(0,t),e[3]=function Pme(n){if(!((n||{}).Workbook||{}).Names)return"";for(var t=n.Workbook.Names,e=[],i=0;i<t.length;++i){var r=t[i];null==r.Sheet&&(r.Name.match(/^_xlfn\./)||e.push(N9(r)))}return Wt("Names",e.join(""))}(n),Fs+Wt("Workbook",e.join(""),{xmlns:wu_ss,"xmlns:o":wu_o,"xmlns:x":wu_x,"xmlns:ss":wu_ss,"xmlns:dt":"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882","xmlns:html":"http://www.w3.org/TR/REC-html40"})}var eI={0:{f:function ype(n,t){var e={},i=n.l+t;e.r=n.read_shift(4),n.l+=4;var r=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=i,7&s&&(e.level=7&s),16&s&&(e.hidden=!0),32&s&&(e.hpt=r/20),e}},1:{f:function Ipe(n){return[pd(n)]}},2:{f:function qpe(n){return[pd(n),WL(n),"n"]}},3:{f:function Ppe(n){return[pd(n),n.read_shift(1),"e"]}},4:{f:function Mpe(n){return[pd(n),n.read_shift(1),"b"]}},5:{f:function zpe(n){return[pd(n),ol(n),"n"]}},6:{f:function Qpe(n){return[pd(n),sl(n),"str"]}},7:{f:function Vpe(n){return[pd(n),n.read_shift(4),"s"]}},8:{f:function rge(n,t,e){var i=n.l+t,r=pd(n);r.r=e["!row"];var a=[r,sl(n),"str"];if(e.cellFormula){n.l+=2;var l=WM(n,i-n.l,e);a[3]=cl(l,0,r,e.supbooks,e)}else n.l=i;return a}},9:{f:function ige(n,t,e){var i=n.l+t,r=pd(n);r.r=e["!row"];var a=[r,ol(n),"n"];if(e.cellFormula){n.l+=2;var l=WM(n,i-n.l,e);a[3]=cl(l,0,r,e.supbooks,e)}else n.l=i;return a}},10:{f:function tge(n,t,e){var i=n.l+t,r=pd(n);r.r=e["!row"];var a=[r,n.read_shift(1),"b"];if(e.cellFormula){n.l+=2;var l=WM(n,i-n.l,e);a[3]=cl(l,0,r,e.supbooks,e)}else n.l=i;return a}},11:{f:function nge(n,t,e){var i=n.l+t,r=pd(n);r.r=e["!row"];var a=[r,n.read_shift(1),"e"];if(e.cellFormula){n.l+=2;var l=WM(n,i-n.l,e);a[3]=cl(l,0,r,e.supbooks,e)}else n.l=i;return a}},12:{f:function Dpe(n){return[Sy(n)]}},13:{f:function $pe(n){return[Sy(n),WL(n),"n"]}},14:{f:function Lpe(n){return[Sy(n),n.read_shift(1),"e"]}},15:{f:function Rpe(n){return[Sy(n),n.read_shift(1),"b"]}},16:{f:function S9(n){return[Sy(n),ol(n),"n"]}},17:{f:function Xpe(n){return[Sy(n),sl(n),"str"]}},18:{f:function Hpe(n){return[Sy(n),n.read_shift(4),"s"]}},19:{f:HL},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function eme(n,t,e){var i=n.l+t;n.l+=4,n.l+=1;var r=n.read_shift(4),s=Fae(n),a=Pfe(n,0,e),l=jL(n);n.l=i;var d={Name:s,Ptg:a};return r<268435455&&(d.Sheet=r),l&&(d.Comment=l),d}},40:{},42:{},43:{f:function Que(n,t,e){var i={};i.sz=n.read_shift(2)/20;var r=function Lae(n){var t=n.read_shift(1);return n.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(n);switch(r.fItalic&&(i.italic=1),r.fCondense&&(i.condense=1),r.fExtend&&(i.extend=1),r.fShadow&&(i.shadow=1),r.fOutline&&(i.outline=1),r.fStrikeout&&(i.strike=1),700===n.read_shift(2)&&(i.bold=1),n.read_shift(2)){case 1:i.vertAlign="superscript";break;case 2:i.vertAlign="subscript"}var a=n.read_shift(1);0!=a&&(i.underline=a);var l=n.read_shift(1);l>0&&(i.family=l);var d=n.read_shift(1);switch(d>0&&(i.charset=d),n.l++,i.color=function Nae(n){var t={},i=n.read_shift(1)>>>1,r=n.read_shift(1),s=n.read_shift(2,"i"),a=n.read_shift(1),l=n.read_shift(1),d=n.read_shift(1);switch(n.l++,i){case 0:t.auto=1;break;case 1:t.index=r;var f=Ay[r];f&&(t.rgb=zS(f));break;case 2:t.rgb=zS([a,l,d]);break;case 3:t.theme=r}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}(n),n.read_shift(1)){case 1:i.scheme="major";break;case 2:i.scheme="minor"}return i.name=sl(n),i}},44:{f:function Yue(n,t){return[n.read_shift(2),sl(n)]}},45:{f:ede},46:{f:nde},47:{f:function tde(n,t){var e=n.l+t,i=n.read_shift(2),r=n.read_shift(2);return n.l=e,{ixfe:i,numFmtId:r}}},48:{},49:{f:function Iae(n){return n.read_shift(4,"i")}},50:{},51:{f:function Nde(n){for(var t=[],e=n.read_shift(4);e-- >0;)t.push([n.read_shift(4),n.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function z7(n,t,e){if(!e.cellStyles)return rl(n,t);var i=e&&e.biff>=12?4:2,r=n.read_shift(i),s=n.read_shift(i),a=n.read_shift(i),l=n.read_shift(i),d=n.read_shift(2);2==i&&(n.l+=2);var f={s:r,e:s,w:a,ixfe:l,flags:d};return(e.biff>=5||!e.biff)&&(f.level=d>>8&7),f}},62:{f:function Kpe(n){return[pd(n),HL(n),"is"]}},63:{f:function Wde(n){var t={};t.i=n.read_shift(4);var e={};e.r=n.read_shift(4),e.c=n.read_shift(4),t.r=Un(e);var i=n.read_shift(1);return 2&i&&(t.l="1"),8&i&&(t.a="1"),t}},64:{f:function wge(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:rl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function mge(n){var t=n.read_shift(2);return n.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function Epe(n,t){var e={},i=n[n.l];return++n.l,e.above=!(64&i),e.left=!(128&i),n.l+=18,e.name=Rae(n,t-19),e}},148:{f:bpe,p:16},151:{f:function uge(){}},152:{},153:{f:function Qge(n,t){var e={},i=n.read_shift(4);e.defaultThemeVersion=n.read_shift(4);var r=t>8?sl(n):"";return r.length>0&&(e.CodeName=r),e.autoCompressPictures=!!(65536&i),e.backupFile=!!(64&i),e.checkCompatibility=!!(4096&i),e.date1904=!!(1&i),e.filterPrivacy=!!(8&i),e.hidePivotFieldList=!!(1024&i),e.promptedSolutions=!!(16&i),e.publishItems=!!(2048&i),e.refreshAllConnections=!!(262144&i),e.saveExternalLinkValues=!!(128&i),e.showBorderUnselectedTables=!!(4&i),e.showInkAnnotation=!!(32&i),e.showObjects=["all","placeholders","none"][i>>13&3],e.showPivotChartFilter=!!(32768&i),e.updateLinks=["userSet","never","always"][i>>8&3],e}},154:{},155:{},156:{f:function Yge(n,t){var e={};return e.Hidden=n.read_shift(4),e.iTabID=n.read_shift(4),e.strRelID=zL(n,t-8),e.name=sl(n),e}},157:{},158:{},159:{T:1,f:function _ue(n){return[n.read_shift(4),n.read_shift(4)]}},160:{T:-1},161:{T:1,f:ky},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:sge},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function Fde(n,t){return{flags:n.read_shift(4),version:n.read_shift(4),name:sl(n)}}},336:{T:-1},337:{f:function Vde(n){return n.l+=4,0!=n.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:zL},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function H7(n,t,e){if(e.biff<8)return function bce(n,t,e){3==n[n.l+1]&&n[n.l]++;var i=HS(n,0,e);return 3==i.charCodeAt(0)?i.slice(1):i}(n,0,e);for(var i=[],r=n.l+t,s=n.read_shift(e.biff>8?4:2);0!=s--;)i.push(Ale(n,0,e));if(n.l!=r)throw new Error("Bad ExternSheet: "+n.l+" != "+r);return i}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function dge(n,t,e){var i=n.l+t,r=JH(n),s=n.read_shift(1),a=[r];if(a[2]=s,e.cellFormula){var l=Ffe(n,i-n.l,e);a[1]=l}else n.l=i;return a}},427:{f:function hge(n,t,e){var i=n.l+t,s=[ky(n,16)];if(e.cellFormula){var a=Nfe(n,i-n.l,e);s[1]=a,n.l=i}else n.l=i;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function pge(n){var t={};return I9.forEach(function(e){t[e]=ol(n)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function Tpe(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function lge(n,t){var e=n.l+t,i=ky(n,16),r=jL(n),s=sl(n),a=sl(n),l=sl(n);n.l=e;var d={rfx:i,relId:r,loc:s,display:l};return a&&(d.Tooltip=a),d}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:zL},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:nhe},633:{T:1},634:{T:-1},635:{T:1,f:function ehe(n){var t={};t.iauthor=n.read_shift(4);var e=ky(n,16);return t.rfx=e.s,t.ref=Un(e.s),n.l+=16,t}},636:{T:-1},637:{f:Mae},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function Bge(n,t){return n.l+=10,{name:sl(n)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function xge(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function $t(n,t,e,i){var r=t;if(!isNaN(r)){var s=i||(e||[]).length||0,a=n.next(4);a.write_shift(2,r),a.write_shift(2,s),s>0&&LL(e)&&n.push(e)}}function tI(n,t,e){return n||(n=at(7)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,0),n.write_shift(1,0),n}function e0e(n,t,e,i){if(null!=t.v)switch(t.t){case"d":case"n":var r="d"==t.t?aa(_s(t.v)):t.v;return void(r==(0|r)&&r>=0&&r<65536?$t(n,2,function tue(n,t,e){var i=at(9);return tI(i,n,t),i.write_shift(2,e),i}(e,i,r)):$t(n,3,function Xce(n,t,e){var i=at(15);return tI(i,n,t),i.write_shift(8,e,"f"),i}(e,i,r)));case"b":case"e":return void $t(n,5,function Jme(n,t,e,i){var r=at(9);return tI(r,n,t),E7(e,i||"b",r),r}(e,i,t.v,t.t));case"s":case"str":return void $t(n,4,function Xme(n,t,e){var i=at(8+2*e.length);return tI(i,n,t),i.write_shift(1,e.length),i.write_shift(e.length,e,"sbcs"),i.l<i.length?i.slice(0,i.l):i}(e,i,(t.v||"").slice(0,255)))}$t(n,1,tI(null,e,i))}function c0e(n,t,e,i,r){var s=16+G0(r.cellXfs,t,r);if(null!=t.v||t.bf)if(t.bf)$t(n,6,function Rfe(n,t,e,i,r){var s=Fy(t,e,r),a=function Ofe(n){if(null==n){var t=at(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return Dy("number"==typeof n?n:0)}(n.v),l=at(6);l.write_shift(2,33),l.write_shift(4,0);for(var f=at(n.bf.length),p=0;p<n.bf.length;++p)f[p]=n.bf[p];return oa([s,a,l,f])}(t,e,i,0,s));else switch(t.t){case"d":case"n":$t(n,515,function yce(n,t,e,i){var r=at(14);return Fy(n,t,i,r),Dy(e,r),r}(e,i,"d"==t.t?aa(_s(t.v)):t.v,s));break;case"b":case"e":$t(n,517,function _ce(n,t,e,i,r,s){var a=at(8);return Fy(n,t,i,a),E7(e,s,a),a}(e,i,t.v,s,0,t.t));break;case"s":case"str":r.bookSST?$t(n,253,function ice(n,t,e,i){var r=at(10);return Fy(n,t,i,r),r.write_shift(4,e),r}(e,i,g3(r.Strings,t.v,r.revStrings),s)):$t(n,516,function sce(n,t,e,i,r){var s=!r||8==r.biff,a=at(+s+8+(1+s)*e.length);return Fy(n,t,i,a),a.write_shift(2,e.length),s&&a.write_shift(1,1),a.write_shift((1+s)*e.length,e,s?"utf16le":"sbcs"),a}(e,i,(t.v||"").slice(0,255),s,r));break;default:$t(n,513,Fy(e,i,s))}else $t(n,513,Fy(e,i,s))}function u0e(n,t,e){var p,i=ql(),r=e.SheetNames[n],s=e.Sheets[r]||{},a=(e||{}).Workbook||{},l=(a.Sheets||[])[n]||{},d=Array.isArray(s),f=8==t.biff,m="",w=[],b=Oi(s["!ref"]||"A1"),T=f?65536:16384;if(b.e.c>255||b.e.r>=T){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");b.e.c=Math.min(b.e.c,255),b.e.r=Math.min(b.e.c,T-1)}$t(i,2057,n3(0,16,t)),$t(i,13,gd(1)),$t(i,12,gd(100)),$t(i,15,$l(!0)),$t(i,17,$l(!1)),$t(i,16,Dy(.001)),$t(i,95,$l(!0)),$t(i,42,$l(!1)),$t(i,43,$l(!1)),$t(i,130,gd(1)),$t(i,128,function mce(n){var t=at(8);return t.write_shift(4,0),t.write_shift(2,n[0]?n[0]+1:0),t.write_shift(2,n[1]?n[1]+1:0),t}([0,0])),$t(i,131,$l(!1)),$t(i,132,$l(!1)),f&&function l0e(n,t){if(t){var e=0;t.forEach(function(i,r){++e<=256&&i&&$t(n,125,function zce(n,t){var e=at(12);e.write_shift(2,t),e.write_shift(2,t),e.write_shift(2,256*n.width),e.write_shift(2,0);var i=0;return n.hidden&&(i|=1),e.write_shift(1,i),e.write_shift(1,i=n.level||0),e.write_shift(2,0),e}(GM(r,i),r))})}}(i,s["!cols"]),$t(i,512,function cce(n,t){var e=8!=t.biff&&t.biff?2:4,i=at(2*e+6);return i.write_shift(e,n.s.r),i.write_shift(e,n.e.r+1),i.write_shift(2,n.s.c),i.write_shift(2,n.e.c+1),i.write_shift(2,0),i}(b,t)),f&&(s["!links"]=[]);for(var E=b.s.r;E<=b.e.r;++E){m=Ps(E);for(var M=b.s.c;M<=b.e.c;++M){E===b.s.r&&(w[M]=jr(M)),p=w[M]+m;var N=d?(s[E]||[])[M]:s[p];!N||(c0e(i,N,E,M,t),f&&N.l&&s["!links"].push([p,N.l]))}}var V=l.CodeName||l.name||r;return f&&$t(i,574,function Jle(n){var t=at(18),e=1718;return n&&n.RTL&&(e|=64),t.write_shift(2,e),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((a.Views||[])[0])),f&&(s["!merges"]||[]).length&&$t(i,229,function Dce(n){var t=at(2+8*n.length);t.write_shift(2,n.length);for(var e=0;e<n.length;++e)M7(n[e],t);return t}(s["!merges"])),f&&function a0e(n,t){for(var e=0;e<t["!links"].length;++e){var i=t["!links"][e];$t(n,440,Pce(i)),i[1].Tooltip&&$t(n,2048,Lce(i))}delete t["!links"]}(i,s),$t(i,442,S7(V)),f&&function s0e(n,t){var e=at(19);e.write_shift(4,2151),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,1),e.write_shift(4,0),$t(n,2151,e),(e=at(39)).write_shift(4,2152),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(2,3),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(2,1),e.write_shift(4,4),e.write_shift(2,0),M7(Oi(t["!ref"]||"A1"),e),e.write_shift(4,4),$t(n,2152,e)}(i,s),$t(i,10),i.end()}function d0e(n,t,e){var i=ql(),r=(n||{}).Workbook||{},s=r.Sheets||[],a=r.WBProps||{},l=8==e.biff,d=5==e.biff;$t(i,2057,n3(0,5,e)),"xla"==e.bookType&&$t(i,135),$t(i,225,l?gd(1200):null),$t(i,193,function _le(n,t){t||(t=at(n));for(var e=0;e<n;++e)t.write_shift(1,0);return t}(2)),d&&$t(i,191),d&&$t(i,192),$t(i,226),$t(i,92,function Vle(n,t){var e=!t||8==t.biff,i=at(e?112:54);for(i.write_shift(8==t.biff?2:1,7),e&&i.write_shift(1,0),i.write_shift(4,859007059),i.write_shift(4,5458548|(e?0:536870912));i.l<i.length;)i.write_shift(1,e?0:32);return i}(0,e)),$t(i,66,gd(l?1200:1252)),l&&$t(i,353,gd(0)),l&&$t(i,448),$t(i,317,function qce(n){for(var t=at(2*n),e=0;e<n;++e)t.write_shift(2,e+1);return t}(n.SheetNames.length)),l&&n.vbaraw&&$t(i,211),l&&n.vbaraw&&$t(i,442,S7(a.CodeName||"ThisWorkbook")),$t(i,156,gd(17)),$t(i,25,$l(!1)),$t(i,18,$l(!1)),$t(i,19,gd(0)),l&&$t(i,431,$l(!1)),l&&$t(i,444,gd(0)),$t(i,61,function Kle(){var n=at(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}()),$t(i,64,$l(!1)),$t(i,141,gd(0)),$t(i,34,$l("true"==function Zge(n){return n.Workbook&&n.Workbook.WBProps&&function ts(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(n.Workbook.WBProps.date1904)?"true":"false"}(n))),$t(i,14,$l(!0)),l&&$t(i,439,$l(!1)),$t(i,218,gd(0)),function i0e(n,t,e){$t(n,49,function tce(n,t){var e=n.name||"Arial",i=t&&5==t.biff,s=at(i?15+e.length:16+2*e.length);return s.write_shift(2,20*(n.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,e.length),i||s.write_shift(1,1),s.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},e))}(i,0,e),function r0e(n,t,e){!t||[[5,8],[23,26],[41,44],[50,392]].forEach(function(i){for(var r=i[0];r<=i[1];++r)null!=t[r]&&$t(n,1054,ace(r,t[r],e))})}(i,n.SSF,e),function o0e(n,t){for(var e=0;e<16;++e)$t(n,224,N7({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(i){$t(n,224,N7(i,0,t))})}(i,e),l&&$t(i,352,$l(!1));var p=i.end(),m=ql();l&&$t(m,140,function Vce(n){return n||(n=at(4)),n.write_shift(2,1),n.write_shift(2,1),n}()),l&&e.Strings&&function Qme(n,t,e,i){var r=i||(e||[]).length||0;if(r<=8224)return $t(n,t,e,r);var s=t;if(!isNaN(s)){for(var a=e.parts||[],l=0,d=0,f=0;f+(a[l]||8224)<=8224;)f+=a[l]||8224,l++;var p=n.next(4);for(p.write_shift(2,s),p.write_shift(2,f),n.push(e.slice(d,d+f)),d+=f;d<r;){for((p=n.next(4)).write_shift(2,60),f=0;f+(a[l]||8224)<=8224;)f+=a[l]||8224,l++;p.write_shift(2,f),n.push(e.slice(d,d+f)),d+=f}}}(m,252,function Zle(n,t){var e=at(8);e.write_shift(4,n.Count),e.write_shift(4,n.Unique);for(var i=[],r=0;r<n.length;++r)i[r]=xle(n[r]);var s=oa([e].concat(i));return s.parts=[e.length].concat(i.map(function(a){return a.length})),s}(e.Strings)),$t(m,10);var w=m.end(),b=ql(),T=0,E=0;for(E=0;E<n.SheetNames.length;++E)T+=(l?12:11)+(l?2:1)*n.SheetNames[E].length;var M=p.length+T+w.length;for(E=0;E<n.SheetNames.length;++E)$t(b,133,jle({pos:M,hs:(s[E]||{}).Hidden||0,dt:0,name:n.SheetNames[E]},e)),M+=t[E].length;var V=b.end();if(T!=V.length)throw new Error("BS8 "+T+" != "+V.length);var U=[];return p.length&&U.push(p),V.length&&U.push(V),w.length&&U.push(w),oa(U)}function B9(n,t){for(var e=0;e<=n.SheetNames.length;++e){var i=n.Sheets[n.SheetNames[e]];i&&i["!ref"]&&Gl(i["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+n.SheetNames[e]+"' extends beyond column IV (255).  Data may be lost.")}var s=t||{};switch(s.biff||2){case 8:case 5:return function h0e(n,t){var e=t||{},i=[];n&&!n.SSF&&(n.SSF=wr(Ln)),n&&n.SSF&&(sb(),MS(n.SSF),e.revssf=TM(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,I3(e),e.cellXfs=[],G0(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var r=0;r<n.SheetNames.length;++r)i[i.length]=u0e(r,e,n);return i.unshift(d0e(n,i,e)),oa(i)}(n,t);case 4:case 3:case 2:return function n0e(n,t){for(var e=t||{},i=ql(),r=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==e.sheet&&(r=s);if(0==r&&e.sheet&&n.SheetNames[0]!=e.sheet)throw new Error("Sheet not found: "+e.sheet);return $t(i,4==e.biff?1033:3==e.biff?521:9,n3(0,16,e)),function t0e(n,t,e,i){var a,r=Array.isArray(t),s=Oi(t["!ref"]||"A1"),l="",d=[];if(s.e.c>255||s.e.r>16383){if(i.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=ri(s)}for(var f=s.s.r;f<=s.e.r;++f){l=Ps(f);for(var p=s.s.c;p<=s.e.c;++p){f===s.s.r&&(d[p]=jr(p)),a=d[p]+l;var m=r?(t[f]||[])[p]:t[a];!m||e0e(n,m,f,p)}}}(i,n.Sheets[n.SheetNames[r]],0,e),$t(i,10),i.end()}(n,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function U9(n,t,e,i){for(var r=n["!merges"]||[],s=[],a=t.s.c;a<=t.e.c;++a){for(var l=0,d=0,f=0;f<r.length;++f)if(!(r[f].s.r>e||r[f].s.c>a||r[f].e.r<e||r[f].e.c<a)){if(r[f].s.r<e||r[f].s.c<a){l=-1;break}l=r[f].e.r-r[f].s.r+1,d=r[f].e.c-r[f].s.c+1;break}if(!(l<0)){var p=Un({r:e,c:a}),m=i.dense?(n[e]||[])[a]:n[p],w=m&&null!=m.v&&(m.h||SH(m.w||(ep(m),m.w)||""))||"",b={};l>1&&(b.rowspan=l),d>1&&(b.colspan=d),i.editable?w='<span contenteditable="true">'+w+"</span>":m&&(b["data-t"]=m&&m.t||"z",null!=m.v&&(b["data-v"]=m.v),null!=m.z&&(b["data-z"]=m.z),m.l&&"#"!=(m.l.Target||"#").charAt(0)&&(w='<a href="'+m.l.Target+'">'+w+"</a>")),b.id=(i.id||"sjs")+"-"+p,s.push(Wt("td",w,b))}}return"<tr>"+s.join("")+"</tr>"}function Z9(n,t){var e=t||{},r=null!=e.footer?e.footer:"</body></html>",s=[null!=e.header?e.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>'],a=Gl(n["!ref"]);e.dense=Array.isArray(n),s.push(function z9(n,t,e){return[].join("")+"<table"+(e&&e.id?' id="'+e.id+'"':"")+">"}(0,0,e));for(var l=a.s.r;l<=a.e.r;++l)s.push(U9(n,a,l,e));return s.push("</table>"+r),s.join("")}function W9(n,t,e){var i=e||{},r=0,s=0;if(null!=i.origin)if("number"==typeof i.origin)r=i.origin;else{var a="string"==typeof i.origin?Xs(i.origin):i.origin;r=a.r,s=a.c}var l=t.getElementsByTagName("tr"),d=Math.min(i.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r,c:s}};if(n["!ref"]){var p=Gl(n["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),-1==r&&(f.e.r=r=p.e.r+1)}var m=[],w=0,b=n["!rows"]||(n["!rows"]=[]),T=0,E=0,M=0,N=0,V=0,U=0;for(n["!cols"]||(n["!cols"]=[]);T<l.length&&E<d;++T){var q=l[T];if(G9(q)){if(i.display)continue;b[E]={hidden:!0}}var Q=q.children;for(M=N=0;M<Q.length;++M){var ue=Q[M];if(!i.display||!G9(ue)){var K=ue.hasAttribute("data-v")?ue.getAttribute("data-v"):ue.hasAttribute("v")?ue.getAttribute("v"):AH(ue.innerHTML),he=ue.getAttribute("data-z")||ue.getAttribute("z");for(w=0;w<m.length;++w){var de=m[w];de.s.c==N+s&&de.s.r<E+r&&E+r<=de.e.r&&(N=de.e.c+1-s,w=-1)}U=+ue.getAttribute("colspan")||1,((V=+ue.getAttribute("rowspan")||1)>1||U>1)&&m.push({s:{r:E+r,c:N+s},e:{r:E+r+(V||1)-1,c:N+s+(U||1)-1}});var Me={t:"s",v:K},Fe=ue.getAttribute("data-t")||ue.getAttribute("t")||"";null!=K&&(0==K.length?Me.t=Fe||"z":i.raw||0==K.trim().length||"s"==Fe||("TRUE"===K?Me={t:"b",v:!0}:"FALSE"===K?Me={t:"b",v:!1}:isNaN(kh(K))?isNaN(ob(K).getDate())||(Me={t:"d",v:_s(K)},i.cellDates||(Me={t:"n",v:aa(Me.v)}),Me.z=i.dateNF||Ln[14]):Me={t:"n",v:kh(K)})),void 0===Me.z&&null!=he&&(Me.z=he);var Te="",bt=ue.getElementsByTagName("A");if(bt&&bt.length)for(var qt=0;qt<bt.length&&(!bt[qt].hasAttribute("href")||"#"==(Te=bt[qt].getAttribute("href")).charAt(0));++qt);Te&&"#"!=Te.charAt(0)&&(Me.l={Target:Te}),i.dense?(n[E+r]||(n[E+r]=[]),n[E+r][N+s]=Me):n[Un({c:N+s,r:E+r})]=Me,f.e.c<N+s&&(f.e.c=N+s),N+=U}}++E}return m.length&&(n["!merges"]=(n["!merges"]||[]).concat(m)),f.e.r=Math.max(f.e.r,E-1+r),n["!ref"]=ri(f),E>=d&&(n["!fullref"]=ri((f.e.r=l.length-T+E-1+r,f))),n}function q9(n,t){return W9((t||{}).dense?[]:{},n,t)}function G9(n){var t="",e=function g0e(n){return n.ownerDocument.defaultView&&"function"==typeof n.ownerDocument.defaultView.getComputedStyle?n.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(n);return e&&(t=e(n).getPropertyValue("display")),t||(t=n.style&&n.style.display),"none"===t}var _0e=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+FS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Fs+t}}(),J9=function(){var n=function(s){return ar(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",i=function(s,a,l){var d=[];d.push('      <table:table table:name="'+ar(a.SheetNames[l])+'" table:style-name="ta1">\n');var f=0,p=0,m=Gl(s["!ref"]||"A1"),w=s["!merges"]||[],b=0,T=Array.isArray(s);if(s["!cols"])for(p=0;p<=m.e.c;++p)d.push("        <table:table-column"+(s["!cols"][p]?' table:style-name="co'+s["!cols"][p].ods+'"':"")+"></table:table-column>\n");var M=s["!rows"]||[];for(f=0;f<m.s.r;++f)d.push("        <table:table-row"+(M[f]?' table:style-name="ro'+M[f].ods+'"':"")+"></table:table-row>\n");for(;f<=m.e.r;++f){for(d.push("        <table:table-row"+(M[f]?' table:style-name="ro'+M[f].ods+'"':"")+">\n"),p=0;p<m.s.c;++p)d.push(t);for(;p<=m.e.c;++p){var N=!1,V={},U="";for(b=0;b!=w.length;++b)if(!(w[b].s.c>p||w[b].s.r>f||w[b].e.c<p||w[b].e.r<f)){(w[b].s.c!=p||w[b].s.r!=f)&&(N=!0),V["table:number-columns-spanned"]=w[b].e.c-w[b].s.c+1,V["table:number-rows-spanned"]=w[b].e.r-w[b].s.r+1;break}if(N)d.push("          <table:covered-table-cell/>\n");else{var q=Un({r:f,c:p}),Q=T?(s[f]||[])[p]:s[q];if(Q&&Q.f&&(V["table:formula"]=ar(Vfe(Q.f)),Q.F&&Q.F.slice(0,q.length)==q)){var ue=Gl(Q.F);V["table:number-matrix-columns-spanned"]=ue.e.c-ue.s.c+1,V["table:number-matrix-rows-spanned"]=ue.e.r-ue.s.r+1}if(Q){switch(Q.t){case"b":U=Q.v?"TRUE":"FALSE",V["office:value-type"]="boolean",V["office:boolean-value"]=Q.v?"true":"false";break;case"n":U=Q.w||String(Q.v||0),V["office:value-type"]="float",V["office:value"]=Q.v||0;break;case"s":case"str":U=null==Q.v?"":Q.v,V["office:value-type"]="string";break;case"d":U=Q.w||_s(Q.v).toISOString(),V["office:value-type"]="date",V["office:date-value"]=_s(Q.v).toISOString(),V["table:style-name"]="ce1";break;default:d.push(t);continue}var K=n(U);if(Q.l&&Q.l.Target){var he=Q.l.Target;"#"!=(he="#"==he.charAt(0)?"#"+Ufe(he.slice(1)):he).charAt(0)&&!he.match(/^\w+:/)&&(he="../"+he),K=Wt("text:a",K,{"xlink:href":he.replace(/&/g,"&amp;")})}d.push("          "+Wt("table:table-cell",Wt("text:p",K,{}),V)+"\n")}else d.push(t)}}d.push("        </table:table-row>\n")}return d.push("      </table:table>\n"),d.join("")};return function(a,l){var d=[Fs],f=FS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=FS({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==l.bookType?(d.push("<office:document"+f+p+">\n"),d.push(o7().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+">\n"),function(s,a){s.push(" <office:automatic-styles>\n"),s.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),s.push('   <number:month number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push('   <number:day number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push("   <number:year/>\n"),s.push("  </number:date-style>\n");var l=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!cols"])for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var m=f["!cols"][p];if(null==m.width&&null==m.wpx&&null==m.wch)continue;W0(m),m.ods=l;var w=f["!cols"][p].wpx+"px";s.push('  <style:style style:name="co'+l+'" style:family="table-column">\n'),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+w+'"/>\n'),s.push("  </style:style>\n"),++l}});var d=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!rows"])for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=d;var m=f["!rows"][p].hpx+"px";s.push('  <style:style style:name="ro'+d+'" style:family="table-row">\n'),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+'"/>\n'),s.push("  </style:style>\n"),++d}}),s.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),s.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),s.push("  </style:style>\n"),s.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),s.push(" </office:automatic-styles>\n")}(d,a),d.push("  <office:body>\n"),d.push("    <office:spreadsheet>\n");for(var m=0;m!=a.SheetNames.length;++m)d.push(i(a.Sheets[a.SheetNames[m]],a,m));return d.push("    </office:spreadsheet>\n"),d.push("  </office:body>\n"),d.push("fods"==l.bookType?"</office:document>":"</office:document-content>"),d.join("")}}();function X9(n,t){if("fods"==t.bookType)return J9(n,t);var e=SL(),i="",r=[],s=[];return ci(e,i="mimetype","application/vnd.oasis.opendocument.spreadsheet"),ci(e,i="content.xml",J9(n,t)),r.push([i,"text/xml"]),s.push([i,"ContentFile"]),ci(e,i="styles.xml",_0e(n,t)),r.push([i,"text/xml"]),s.push([i,"StylesFile"]),ci(e,i="meta.xml",Fs+o7()),r.push([i,"text/xml"]),s.push([i,"MetadataFile"]),ci(e,i="manifest.rdf",function tle(n){var t=[Fs];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var e=0;e!=n.length;++e)t.push(s7(n[e][0],n[e][1])),t.push(ele("",n[e][0]));return t.push(s7("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(s)),r.push([i,"application/rdf+xml"]),ci(e,i="META-INF/manifest.xml",function Xae(n){var t=[Fs];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var e=0;e<n.length;++e)t.push('  <manifest:file-entry manifest:full-path="'+n[e][0]+'" manifest:media-type="'+n[e][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(r)),e}function Ly(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function v0e(n){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(n):_u(Xf(n))}function $0(n){var t=n.reduce(function(r,s){return r+s.length},0),e=new Uint8Array(t),i=0;return n.forEach(function(r){e.set(r,i),i+=r.length}),e}function nI(n,t){var e=t?t[0]:0,i=127&n[e];e:if(n[e++]>=128&&(i|=(127&n[e])<<7,n[e++]<128||(i|=(127&n[e])<<14,n[e++]<128)||(i|=(127&n[e])<<21,n[e++]<128)||(i+=(127&n[e])*Math.pow(2,28),++e,n[e++]<128)||(i+=(127&n[e])*Math.pow(2,35),++e,n[e++]<128)||(i+=(127&n[e])*Math.pow(2,42),++e,n[e++]<128)))break e;return t&&(t[0]=e),i}function Xi(n){var t=new Uint8Array(7);t[0]=127&n;var e=1;e:if(n>127){if(t[e-1]|=128,t[e]=n>>7&127,++e,n<=16383||(t[e-1]|=128,t[e]=n>>14&127,++e,n<=2097151)||(t[e-1]|=128,t[e]=n>>21&127,++e,n<=268435455)||(t[e-1]|=128,t[e]=n/256>>>21&127,++e,n<=34359738367)||(t[e-1]|=128,t[e]=n/65536>>>21&127,++e,n<=4398046511103))break e;t[e-1]|=128,t[e]=n/16777216>>>21&127,++e}return t.slice(0,e)}function Ns(n){var t=0,e=127&n[t];e:if(n[t++]>=128){if(e|=(127&n[t])<<7,n[t++]<128||(e|=(127&n[t])<<14,n[t++]<128)||(e|=(127&n[t])<<21,n[t++]<128))break e;e|=(127&n[t])<<28}return e}function Hi(n){for(var t=[],e=[0];e[0]<n.length;){var l,i=e[0],r=nI(n,e),s=7&r,a=0;if(0==(r=Math.floor(r/8)))break;switch(s){case 0:for(var d=e[0];n[e[0]++]>=128;);l=n.slice(d,e[0]);break;case 5:l=n.slice(e[0],e[0]+(a=4)),e[0]+=a;break;case 1:l=n.slice(e[0],e[0]+(a=8)),e[0]+=a;break;case 2:a=nI(n,e),l=n.slice(e[0],e[0]+a),e[0]+=a;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(r," at offset ").concat(i))}var f={data:l,type:s};null==t[r]?t[r]=[f]:t[r].push(f)}return t}function da(n){var t=[];return n.forEach(function(e,i){e.forEach(function(r){!r.data||(t.push(Xi(8*i+r.type)),2==r.type&&t.push(Xi(r.data.length)),t.push(r.data))})}),$0(t)}function md(n){for(var t,e=[],i=[0];i[0]<n.length;){var r=nI(n,i),s=Hi(n.slice(i[0],i[0]+r));i[0]+=r;var a={id:Ns(s[1][0].data),messages:[]};s[2].forEach(function(l){var d=Hi(l.data),f=Ns(d[3][0].data);a.messages.push({meta:d,data:n.slice(i[0],i[0]+f)}),i[0]+=f}),(null==(t=s[3])?void 0:t[0])&&(a.merge=Ns(s[3][0].data)>>>0>0),e.push(a)}return e}function mb(n){var t=[];return n.forEach(function(e){var i=[];i[1]=[{data:Xi(e.id),type:0}],i[2]=[],null!=e.merge&&(i[3]=[{data:Xi(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(a){r.push(a.data),a.meta[3]=[{type:0,data:Xi(a.data.length)}],i[2].push({data:da(a.meta),type:2})});var s=da(i);t.push(Xi(s.length)),t.push(s),r.forEach(function(a){return t.push(a)})}),$0(t)}function b0e(n,t){if(0!=n)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var e=[0],i=nI(t,e),r=[];e[0]<t.length;){var s=3&t[e[0]];if(0!=s){var d=0,f=0;if(1==s?(f=4+(t[e[0]]>>2&7),d=(224&t[e[0]++])<<3,d|=t[e[0]++]):(f=1+(t[e[0]++]>>2),2==s?(d=t[e[0]]|t[e[0]+1]<<8,e[0]+=2):(d=(t[e[0]]|t[e[0]+1]<<8|t[e[0]+2]<<16|t[e[0]+3]<<24)>>>0,e[0]+=4)),r=[$0(r)],0==d)throw new Error("Invalid offset 0");if(d>r[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(r.push(r[0].slice(-d)),f-=d;f>=r[r.length-1].length;)r.push(r[r.length-1]),f-=r[r.length-1].length;r.push(r[0].slice(-d,-d+f))}else{var a=t[e[0]++]>>2;if(a<60)++a;else{var l=a-59;a=t[e[0]],l>1&&(a|=t[e[0]+1]<<8),l>2&&(a|=t[e[0]+2]<<16),l>3&&(a|=t[e[0]+3]<<24),a>>>=0,a++,e[0]+=l}r.push(t.slice(e[0],e[0]+a)),e[0]+=a}}var p=$0(r);if(p.length!=i)throw new Error("Unexpected length: ".concat(p.length," != ").concat(i));return p}function _d(n){for(var t=[],e=0;e<n.length;){var i=n[e++],r=n[e]|n[e+1]<<8|n[e+2]<<16;t.push(b0e(i,n.slice(e+=3,e+r))),e+=r}if(e!==n.length)throw new Error("data is not a valid framed stream!");return $0(t)}function _b(n){for(var t=[],e=0;e<n.length;){var i=Math.min(n.length-e,268435455),r=new Uint8Array(4);t.push(r);var s=Xi(i),a=s.length;t.push(s),i<=60?(a++,t.push(new Uint8Array([i-1<<2]))):i<=256?(a+=2,t.push(new Uint8Array([240,i-1&255]))):i<=65536?(a+=3,t.push(new Uint8Array([244,i-1&255,i-1>>8&255]))):i<=16777216?(a+=4,t.push(new Uint8Array([248,i-1&255,i-1>>8&255,i-1>>16&255]))):i<=4294967296&&(a+=5,t.push(new Uint8Array([252,i-1&255,i-1>>8&255,i-1>>16&255,i-1>>>24&255]))),t.push(n.slice(e,e+i)),a+=i,r[0]=0,r[1]=255&a,r[2]=a>>8&255,r[3]=a>>16&255,e+=i}return $0(t)}function C3(n,t){var e=new Uint8Array(32),i=Ly(e),r=12,s=0;switch(e[0]=5,n.t){case"n":e[1]=2,function x0e(n,t,e){var i=Math.floor(0==e?0:Math.LOG10E*Math.log(Math.abs(e)))+6176-20,r=e/Math.pow(10,i-6176);n[t+15]|=i>>7,n[t+14]|=(127&i)<<1;for(var s=0;r>=1;++s,r/=256)n[t+s]=255&r;n[t+15]|=e>=0?0:128}(e,r,n.v),s|=1,r+=16;break;case"b":e[1]=6,i.setFloat64(r,n.v?1:0,!0),s|=2,r+=8;break;case"s":if(-1==t.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));e[1]=3,i.setUint32(r,t.indexOf(n.v),!0),s|=8,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(8,s,!0),e.slice(0,r)}function T3(n,t){var e=new Uint8Array(32),i=Ly(e),r=12,s=0;switch(e[0]=3,n.t){case"n":e[2]=2,i.setFloat64(r,n.v,!0),s|=32,r+=8;break;case"b":e[2]=6,i.setFloat64(r,n.v?1:0,!0),s|=32,r+=8;break;case"s":if(-1==t.indexOf(n.v))throw new Error("Value ".concat(n.v," missing from SST!"));e[2]=3,i.setUint32(r,t.indexOf(n.v),!0),s|=16,r+=4;break;default:throw"unsupported cell type "+n.t}return i.setUint32(4,s,!0),e.slice(0,r)}function ul(n){return nI(Hi(n)[1][0].data)}function O0e(n,t,e){var i,r,s,a;if(!(null==(i=n[6])?void 0:i[0])||!(null==(r=n[7])?void 0:r[0]))throw"Mutation only works on post-BNC storages!";if((null==(a=null==(s=n[8])?void 0:s[0])?void 0:a.data)&&Ns(n[8][0].data)>0)throw"Math only works with normal offsets";for(var d=0,f=Ly(n[7][0].data),p=0,m=[],w=Ly(n[4][0].data),b=0,T=[],E=0;E<t.length;++E)if(null!=t[E]){var M,N;switch(f.setUint16(2*E,p,!0),w.setUint16(2*E,b,!0),typeof t[E]){case"string":M=C3({t:"s",v:t[E]},e),N=T3({t:"s",v:t[E]},e);break;case"number":M=C3({t:"n",v:t[E]},e),N=T3({t:"n",v:t[E]},e);break;case"boolean":M=C3({t:"b",v:t[E]},e),N=T3({t:"b",v:t[E]},e);break;default:throw new Error("Unsupported value "+t[E])}m.push(M),p+=M.length,T.push(N),b+=N.length,++d}else f.setUint16(2*E,65535,!0),w.setUint16(2*E,65535);for(n[2][0].data=Xi(d);E<n[7][0].data.length/2;++E)f.setUint16(2*E,65535,!0),w.setUint16(2*E,65535,!0);return n[6][0].data=$0(m),n[3][0].data=$0(T),d}function I3(n){!function nj(n){return function(e){for(var i=0;i!=n.length;++i){var r=n[i];void 0===e[r[0]]&&(e[r[0]]=r[1]),"n"===r[2]&&(e[r[0]]=Number(e[r[0]]))}}}([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function V0e(n,t){return"ods"==t.bookType?X9(n,t):"numbers"==t.bookType?function R0e(n,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var e=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var i=Gl(e["!ref"]);i.s.r=i.s.c=0;var r=!1;i.e.c>9&&(r=!0,i.e.c=9),i.e.r>49&&(r=!0,i.e.r=49),r&&console.error("The Numbers writer is currently limited to ".concat(ri(i)));var s=KM(e,{range:i,header:1}),a=["~Sh33tJ5~"];s.forEach(function(ge){return ge.forEach(function(we){"string"==typeof we&&a.push(we)})});var l={},d=[],f=On.read(t.numbers,{type:"base64"});f.FileIndex.map(function(ge,we){return[ge,f.FullPaths[we]]}).forEach(function(ge){var we=ge[0],lt=ge[1];2==we.type&&we.name.match(/\.iwa/)&&md(_d(we.content)).forEach(function(xt){d.push(xt.id),l[xt.id]={deps:[],location:lt,type:Ns(xt.messages[0].meta[1][0].data)}})}),d.sort(function(ge,we){return ge-we});var p=d.filter(function(ge){return ge>1}).map(function(ge){return[ge,Xi(ge)]});f.FileIndex.map(function(ge,we){return[ge,f.FullPaths[we]]}).forEach(function(ge){var we=ge[0];we.name.match(/\.iwa/)&&md(_d(we.content)).forEach(function(Nt){Nt.messages.forEach(function(Pt){p.forEach(function(xt){Nt.messages.some(function(Qn){return 11006!=Ns(Qn.meta[1][0].data)&&function y0e(n,t){e:for(var e=0;e<=n.length-t.length;++e){for(var i=0;i<t.length;++i)if(n[e+i]!=t[i])continue e;return!0}return!1}(Qn.data,xt[1])})&&l[xt[0]].deps.push(Nt.id)})})})});for(var T,w=On.find(f,l[1].location),b=md(_d(w.content)),E=0;E<b.length;++E){var M=b[E];1==M.id&&(T=M)}var N=ul(Hi(T.messages[0].data)[1][0].data);for(b=md(_d((w=On.find(f,l[N].location)).content)),E=0;E<b.length;++E)(M=b[E]).id==N&&(T=M);for(N=ul(Hi(T.messages[0].data)[2][0].data),b=md(_d((w=On.find(f,l[N].location)).content)),E=0;E<b.length;++E)(M=b[E]).id==N&&(T=M);for(N=ul(Hi(T.messages[0].data)[2][0].data),b=md(_d((w=On.find(f,l[N].location)).content)),E=0;E<b.length;++E)(M=b[E]).id==N&&(T=M);var V=Hi(T.messages[0].data);V[6][0].data=Xi(i.e.r+1),V[7][0].data=Xi(i.e.c+1);for(var U=ul(V[46][0].data),q=On.find(f,l[U].location),Q=md(_d(q.content)),ue=0;ue<Q.length&&Q[ue].id!=U;++ue);if(Q[ue].id!=U)throw"Bad ColumnRowUIDMapArchive";var K=Hi(Q[ue].messages[0].data);K[1]=[],K[2]=[],K[3]=[];for(var he=0;he<=i.e.c;++he){var de=[];de[1]=de[2]=[{type:0,data:Xi(he+420690)}],K[1].push({type:2,data:da(de)}),K[2].push({type:0,data:Xi(he)}),K[3].push({type:0,data:Xi(he)})}K[4]=[],K[5]=[],K[6]=[];for(var Me=0;Me<=i.e.r;++Me)(de=[])[1]=de[2]=[{type:0,data:Xi(Me+726270)}],K[4].push({type:2,data:da(de)}),K[5].push({type:0,data:Xi(Me)}),K[6].push({type:0,data:Xi(Me)});Q[ue].messages[0].data=da(K),q.content=_b(mb(Q)),q.size=q.content.length,delete V[46];var Fe=Hi(V[4][0].data);Fe[7][0].data=Xi(i.e.r+1);var bt=ul(Hi(Fe[1][0].data)[2][0].data);if((Q=md(_d((q=On.find(f,l[bt].location)).content)))[0].id!=bt)throw"Bad HeaderStorageBucket";var qt=Hi(Q[0].messages[0].data);for(Me=0;Me<s.length;++Me){var pt=Hi(qt[2][0].data);pt[1][0].data=Xi(Me),pt[4][0].data=Xi(s[Me].length),qt[2][Me]={type:qt[2][0].type,data:da(pt)}}Q[0].messages[0].data=da(qt),q.content=_b(mb(Q)),q.size=q.content.length;var Xe=ul(Fe[2][0].data);if((Q=md(_d((q=On.find(f,l[Xe].location)).content)))[0].id!=Xe)throw"Bad HeaderStorageBucket";for(qt=Hi(Q[0].messages[0].data),he=0;he<=i.e.c;++he)(pt=Hi(qt[2][0].data))[1][0].data=Xi(he),pt[4][0].data=Xi(i.e.r+1),qt[2][he]={type:qt[2][0].type,data:da(pt)};Q[0].messages[0].data=da(qt),q.content=_b(mb(Q)),q.size=q.content.length;var gt=ul(Fe[4][0].data);!function(){for(var lt,ge=On.find(f,l[gt].location),we=md(_d(ge.content)),Bt=0;Bt<we.length;++Bt){var Nt=we[Bt];Nt.id==gt&&(lt=Nt)}var Pt=Hi(lt.messages[0].data);Pt[3]=[];var xt=[];a.forEach(function(cr,Ei){xt[1]=[{type:0,data:Xi(Ei)}],xt[2]=[{type:0,data:Xi(1)}],xt[3]=[{type:2,data:v0e(cr)}],Pt[3].push({type:2,data:da(xt)})}),lt.messages[0].data=da(Pt);var me=_b(mb(we));ge.content=me,ge.size=ge.content.length}();var Ft=Hi(Fe[3][0].data),Ct=Ft[1][0];delete Ft[2];var cn=Hi(Ct.data),mt=ul(cn[2][0].data);!function(){for(var lt,ge=On.find(f,l[mt].location),we=md(_d(ge.content)),Bt=0;Bt<we.length;++Bt){var Nt=we[Bt];Nt.id==mt&&(lt=Nt)}var Pt=Hi(lt.messages[0].data);delete Pt[6],delete Ft[7];var xt=new Uint8Array(Pt[5][0].data);Pt[5]=[];for(var Qn=0,me=0;me<=i.e.r;++me){var cr=Hi(xt);Qn+=O0e(cr,s[me],a),cr[1][0].data=Xi(me),Pt[5].push({data:da(cr),type:2})}Pt[1]=[{type:0,data:Xi(i.e.c+1)}],Pt[2]=[{type:0,data:Xi(i.e.r+1)}],Pt[3]=[{type:0,data:Xi(Qn)}],Pt[4]=[{type:0,data:Xi(i.e.r+1)}],lt.messages[0].data=da(Pt);var ur=_b(mb(we));ge.content=ur,ge.size=ge.content.length}(),Ct.data=da(cn),Fe[3][0].data=da(Ft),V[4][0].data=da(Fe),T.messages[0].data=da(V);var Be=_b(mb(b));return w.content=Be,w.size=w.content.length,f}(n,t):"xlsb"==t.bookType?function U0e(n,t){fb=1024,n&&!n.SSF&&(n.SSF=wr(Ln)),n&&n.SSF&&(sb(),MS(n.SSF),t.revssf=TM(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,QS?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xlsb"==t.bookType?"bin":"xml",i=d9.indexOf(t.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};I3(t=t||{});var s=SL(),a="",l=0;if(t.cellXfs=[],G0(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),ci(s,a="docProps/core.xml",l7(n.Props,t)),r.coreprops.push(a),Ji(t.rels,2,a,si.CORE_PROPS),a="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var d=[],f=0;f<n.SheetNames.length;++f)2!=(n.Workbook.Sheets[f]||{}).Hidden&&d.push(n.SheetNames[f]);n.Props.SheetNames=d}else n.Props.SheetNames=n.SheetNames;for(n.Props.Worksheets=n.Props.SheetNames.length,ci(s,a,d7(n.Props)),r.extprops.push(a),Ji(t.rels,3,a,si.EXT_PROPS),n.Custprops!==n.Props&&Os(n.Custprops||{}).length>0&&(ci(s,a="docProps/custom.xml",h7(n.Custprops)),r.custprops.push(a),Ji(t.rels,4,a,si.CUST_PROPS)),l=1;l<=n.SheetNames.length;++l){var p={"!id":{}},m=n.Sheets[n.SheetNames[l-1]];if(ci(s,a="xl/worksheets/sheet"+l+"."+e,wme(l-1,a,t,n,p)),r.sheets.push(a),Ji(t.wbrels,-1,"worksheets/sheet"+l+"."+e,si.WS[0]),m){var b=m["!comments"],T=!1,E="";b&&b.length>0&&(ci(s,E="xl/comments"+l+"."+e,Cme(b,E,t)),r.comments.push(E),Ji(p,-1,"../comments"+l+"."+e,si.CMNT),T=!0),m["!legacy"]&&T&&ci(s,"xl/drawings/vmlDrawing"+l+".vml",l9(l,m["!comments"])),delete m["!comments"],delete m["!legacy"]}p["!id"].rId1&&ci(s,VS(a),db(p))}return null!=t.Strings&&t.Strings.length>0&&(ci(s,a="xl/sharedStrings."+e,function bme(n,t,e){return(".bin"===t.slice(-4)?xue:$7)(n,e)}(t.Strings,a,t)),r.strs.push(a),Ji(t.wbrels,-1,"sharedStrings."+e,si.SST)),ci(s,a="xl/workbook."+e,function yme(n,t,e){return(".bin"===t.slice(-4)?ome:R9)(n,e)}(n,a,t)),r.workbooks.push(a),Ji(t.rels,1,a,si.WB),ci(s,a="xl/theme/theme1.xml",c3(n.Themes,t)),r.themes.push(a),Ji(t.wbrels,-1,"theme/theme1.xml",si.THEME),ci(s,a="xl/styles."+e,function xme(n,t,e){return(".bin"===t.slice(-4)?mde:n9)(n,e)}(n,a,t)),r.styles.push(a),Ji(t.wbrels,-1,"styles."+e,si.STY),n.vbaraw&&i&&(ci(s,a="xl/vbaProject.bin",n.vbaraw),r.vba.push(a),Ji(t.wbrels,-1,"vbaProject.bin",si.VBA)),ci(s,a="xl/metadata."+e,function Tme(n){return(".bin"===n.slice(-4)?jde:a9)()}(a)),r.metadata.push(a),Ji(t.wbrels,-1,"metadata."+e,si.XLMETA),ci(s,"[Content_Types].xml",r7(r,t)),ci(s,"_rels/.rels",db(t.rels)),ci(s,"xl/_rels/workbook."+e+".rels",db(t.wbrels)),delete t.revssf,delete t.ssf,s}(n,t):function ij(n,t){fb=1024,n&&!n.SSF&&(n.SSF=wr(Ln)),n&&n.SSF&&(sb(),MS(n.SSF),t.revssf=TM(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,QS?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var e="xml",i=d9.indexOf(t.bookType)>-1,r={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};I3(t=t||{});var s=SL(),a="",l=0;if(t.cellXfs=[],G0(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),ci(s,a="docProps/core.xml",l7(n.Props,t)),r.coreprops.push(a),Ji(t.rels,2,a,si.CORE_PROPS),a="docProps/app.xml",!n.Props||!n.Props.SheetNames)if(n.Workbook&&n.Workbook.Sheets){for(var d=[],f=0;f<n.SheetNames.length;++f)2!=(n.Workbook.Sheets[f]||{}).Hidden&&d.push(n.SheetNames[f]);n.Props.SheetNames=d}else n.Props.SheetNames=n.SheetNames;n.Props.Worksheets=n.Props.SheetNames.length,ci(s,a,d7(n.Props)),r.extprops.push(a),Ji(t.rels,3,a,si.EXT_PROPS),n.Custprops!==n.Props&&Os(n.Custprops||{}).length>0&&(ci(s,a="docProps/custom.xml",h7(n.Custprops)),r.custprops.push(a),Ji(t.rels,4,a,si.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,l=1;l<=n.SheetNames.length;++l){var m={"!id":{}},w=n.Sheets[n.SheetNames[l-1]];if(ci(s,a="xl/worksheets/sheet"+l+"."+e,E9(l-1,t,n,m)),r.sheets.push(a),Ji(t.wbrels,-1,"worksheets/sheet"+l+"."+e,si.WS[0]),w){var T=w["!comments"],E=!1,M="";if(T&&T.length>0){var N=!1;T.forEach(function(V){V[1].forEach(function(U){1==U.T&&(N=!0)})}),N&&(ci(s,M="xl/threadedComments/threadedComment"+l+"."+e,Qde(T,p,t)),r.threadedcomments.push(M),Ji(m,-1,"../threadedComments/threadedComment"+l+"."+e,si.TCMNT)),ci(s,M="xl/comments"+l+"."+e,u9(T)),r.comments.push(M),Ji(m,-1,"../comments"+l+"."+e,si.CMNT),E=!0}w["!legacy"]&&E&&ci(s,"xl/drawings/vmlDrawing"+l+".vml",l9(l,w["!comments"])),delete w["!comments"],delete w["!legacy"]}m["!id"].rId1&&ci(s,VS(a),db(m))}return null!=t.Strings&&t.Strings.length>0&&(ci(s,a="xl/sharedStrings."+e,$7(t.Strings,t)),r.strs.push(a),Ji(t.wbrels,-1,"sharedStrings."+e,si.SST)),ci(s,a="xl/workbook."+e,R9(n)),r.workbooks.push(a),Ji(t.rels,1,a,si.WB),ci(s,a="xl/theme/theme1.xml",c3(n.Themes,t)),r.themes.push(a),Ji(t.wbrels,-1,"theme/theme1.xml",si.THEME),ci(s,a="xl/styles."+e,n9(n,t)),r.styles.push(a),Ji(t.wbrels,-1,"styles."+e,si.STY),n.vbaraw&&i&&(ci(s,a="xl/vbaProject.bin",n.vbaraw),r.vba.push(a),Ji(t.wbrels,-1,"vbaProject.bin",si.VBA)),ci(s,a="xl/metadata."+e,a9()),r.metadata.push(a),Ji(t.wbrels,-1,"metadata."+e,si.XLMETA),p.length>1&&(ci(s,a="xl/persons/person.xml",function Xde(n){var t=[Fs,Wt("personList",null,{xmlns:yo_TCMNT,"xmlns:x":j0[0]}).replace(/[\/]>/,">")];return n.forEach(function(e,i){t.push(Wt("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+i).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(p)),r.people.push(a),Ji(t.wbrels,-1,"persons/person.xml",si.PEOPLE)),ci(s,"[Content_Types].xml",r7(r,t)),ci(s,"_rels/.rels",db(t.rels)),ci(s,"xl/_rels/workbook.xml.rels",db(t.wbrels)),delete t.revssf,delete t.ssf,s}(n,t)}function sj(n,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return OS(t.file,On.write(n,{type:fi?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return On.write(n,t)}function ip(n,t,e){e||(e="");var i=e+n;switch(t.type){case"base64":return IS(Xf(i));case"binary":return Xf(i);case"string":return n;case"file":return OS(t.file,i,"utf8");case"buffer":return fi?Ig(i,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(i):ip(i,{type:"binary"}).split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function YM(n,t){switch(t.type){case"string":case"base64":case"binary":for(var e="",i=0;i<n.length;++i)e+=String.fromCharCode(n[i]);return"base64"==t.type?IS(e):"string"==t.type?Hr(e):e;case"file":return OS(t.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+t.type)}}function M3(n,t){(function vM(){dd(1200),function goe(){_M(1252)}()})(),function O9(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");!function qge(n,t,e){n.forEach(function(i,r){M9(i);for(var s=0;s<r;++s)if(i==n[s])throw new Error("Duplicate Sheet Name: "+i);if(e){var a=t&&t[r]&&t[r].CodeName||i;if(95==a.charCodeAt(0)&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}(n.SheetNames,n.Workbook&&n.Workbook.Sheets||[],!!n.vbaraw);for(var e=0;e<n.SheetNames.length;++e)jfe(n.Sheets[n.SheetNames[e]],0,e)}(n);var e=wr(t||{});if(e.cellStyles&&(e.cellNF=!0,e.sheetStubs=!0),"array"==e.type){e.type="binary";var i=M3(n,e);return e.type="array",kS(i)}var r=0;if(e.sheet&&(r="number"==typeof e.sheet?e.sheet:n.SheetNames.indexOf(e.sheet),!n.SheetNames[r]))throw new Error("Sheet not found: "+e.sheet+" : "+typeof e.sheet);switch(e.bookType||"xlsb"){case"xml":case"xlml":return ip(zme(n,e),e);case"slk":case"sylk":return ip(Z7.from_sheet(n.Sheets[n.SheetNames[r]],e),e);case"htm":case"html":return ip(Z9(n.Sheets[n.SheetNames[r]],e),e);case"txt":return function Y0e(n,t){switch(t.type){case"base64":return IS(n);case"binary":case"string":return n;case"file":return OS(t.file,n,"binary");case"buffer":return fi?Ig(n,"binary"):n.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(dj(n.Sheets[n.SheetNames[r]],e),e);case"csv":return ip(R3(n.Sheets[n.SheetNames[r]],e),e,"\ufeff");case"dif":return ip(W7.from_sheet(n.Sheets[n.SheetNames[r]],e),e);case"dbf":return YM(r3.from_sheet(n.Sheets[n.SheetNames[r]],e),e);case"prn":return ip(hb.from_sheet(n.Sheets[n.SheetNames[r]],e),e);case"rtf":return ip(X7.from_sheet(n.Sheets[n.SheetNames[r]],e),e);case"eth":return ip(q7.from_sheet(n.Sheets[n.SheetNames[r]],e),e);case"fods":return ip(X9(n,e),e);case"wk1":return YM(Py.sheet_to_wk1(n.Sheets[n.SheetNames[r]],e),e);case"wk3":return YM(Py.book_to_wk3(n,e),e);case"biff2":e.biff||(e.biff=2);case"biff3":e.biff||(e.biff=3);case"biff4":return e.biff||(e.biff=4),YM(B9(n,e),e);case"biff5":e.biff||(e.biff=5);case"biff8":case"xla":case"xls":return e.biff||(e.biff=8),function $0e(n,t){var e=t||{};return sj(function Kme(n,t){var e=t||{},i=On.utils.cfb_new({root:"R"}),r="/Workbook";switch(e.bookType||"xls"){case"xls":e.bookType="biff8";case"xla":e.bookType||(e.bookType="xla");case"biff8":r="/Workbook",e.biff=8;break;case"biff5":r="/Book",e.biff=5;break;default:throw new Error("invalid type "+e.bookType+" for XLS CFB")}return On.utils.cfb_add(i,r,B9(n,e)),8==e.biff&&(n.Props||n.Custprops)&&function Yme(n,t){var a,e=[],i=[],r=[],s=0,l=fH(GL,"n"),d=fH($L,"n");if(n.Props)for(a=Os(n.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(l,a[s])?e:Object.prototype.hasOwnProperty.call(d,a[s])?i:r).push([a[s],n.Props[a[s]]]);if(n.Custprops)for(a=Os(n.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(l,a[s])?e:Object.prototype.hasOwnProperty.call(d,a[s])?i:r).push([a[s],n.Custprops[a[s]]]);var f=[];for(s=0;s<r.length;++s)w7.indexOf(r[s][0])>-1||c7.indexOf(r[s][0])>-1||null!=r[s][1]&&f.push(r[s]);i.length&&On.utils.cfb_add(t,"/\x05SummaryInformation",C7(i,"e0859ff2f94f6810ab9108002b27b3d9",d,$L)),(e.length||f.length)&&On.utils.cfb_add(t,"/\x05DocumentSummaryInformation",C7(e,"02d5cdd59c2e1b10939708002b2cf9ae",l,GL,f.length?f:null,"05d5cdd59c2e1b10939708002b2cf9ae"))}(n,i),8==e.biff&&n.vbaraw&&function lhe(n,t){t.FullPaths.forEach(function(e,i){if(0!=i){var r=e.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==r.slice(-1)&&On.utils.cfb_add(n,r,t.FileIndex[i].content)}})}(i,On.read(n.vbaraw,{type:"string"==typeof n.vbaraw?"binary":"buffer"})),i}(n,e),e)}(n,e);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function q0e(n,t){var e=wr(t||{});return function oj(n,t){var e={},i=fi?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(t.compression&&(e.compression="DEFLATE"),t.password)e.type=i;else switch(t.type){case"base64":e.type="base64";break;case"binary":e.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":e.type=i;break;default:throw new Error("Unrecognized type "+t.type)}var r=n.FullPaths?On.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[e.type]||e.type,compression:!!t.compression}):n.generate(e);if("undefined"!=typeof Deno&&"string"==typeof r){if("binary"==t.type||"base64"==t.type)return r;r=new Uint8Array(kS(r))}return t.password&&"undefined"!=typeof encrypt_agile?sj(encrypt_agile(r,t.password),t):"file"===t.type?OS(t.file,r):"string"==t.type?Hr(r):r}(V0e(n,e),e)}(n,e);default:throw new Error("Unrecognized bookType |"+e.bookType+"|")}}function lj(n,t,e,i,r,s,a,l){var d=Ps(e),f=l.defval,p=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),m=!0,w=1===r?[]:{};if(1!==r)if(Object.defineProperty)try{Object.defineProperty(w,"__rowNum__",{value:e,enumerable:!1})}catch(M){w.__rowNum__=e}else w.__rowNum__=e;if(!a||n[e])for(var b=t.s.c;b<=t.e.c;++b){var T=a?n[e][b]:n[i[b]+d];if(void 0!==T&&void 0!==T.t){var E=T.v;switch(T.t){case"z":if(null==E)break;continue;case"e":E=0==E?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(null!=s[b]){if(null==E)if("e"==T.t&&null===E)w[s[b]]=null;else if(void 0!==f)w[s[b]]=f;else{if(!p||null!==E)continue;w[s[b]]=null}else w[s[b]]=p&&("n"!==T.t||"n"===T.t&&!1!==l.rawNumbers)?E:ep(T,E,l);null!=E&&(m=!1)}}else{if(void 0===f)continue;null!=s[b]&&(w[s[b]]=f)}}return{row:w,isempty:m}}function KM(n,t){if(null==n||null==n["!ref"])return[];var e={t:"n",v:0},i=0,r=1,s=[],a=0,l="",d={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},p=null!=f.range?f.range:n["!ref"];switch(1===f.header?i=1:"A"===f.header?i=2:Array.isArray(f.header)?i=3:null==f.header&&(i=0),typeof p){case"string":d=Oi(p);break;case"number":(d=Oi(n["!ref"])).s.r=p;break;default:d=p}i>0&&(r=0);var m=Ps(d.s.r),w=[],b=[],T=0,E=0,M=Array.isArray(n),N=d.s.r,V=0,U={};M&&!n[N]&&(n[N]=[]);var q=f.skipHidden&&n["!cols"]||[],Q=f.skipHidden&&n["!rows"]||[];for(V=d.s.c;V<=d.e.c;++V)if(!(q[V]||{}).hidden)switch(w[V]=jr(V),e=M?n[N][V]:n[w[V]+m],i){case 1:s[V]=V-d.s.c;break;case 2:s[V]=w[V];break;case 3:s[V]=f.header[V-d.s.c];break;default:if(null==e&&(e={w:"__EMPTY",t:"s"}),l=a=ep(e,null,f),E=U[a]||0){do{l=a+"_"+E++}while(U[l]);U[a]=E,U[l]=1}else U[a]=1;s[V]=l}for(N=d.s.r+r;N<=d.e.r;++N)if(!(Q[N]||{}).hidden){var ue=lj(n,d,N,w,i,s,M,f);(!1===ue.isempty||(1===i?!1!==f.blankrows:f.blankrows))&&(b[T++]=ue.row)}return b.length=T,b}var cj=/"/g;function uj(n,t,e,i,r,s,a,l){for(var d=!0,f=[],p="",m=Ps(e),w=t.s.c;w<=t.e.c;++w)if(i[w]){var b=l.dense?(n[e]||[])[w]:n[i[w]+m];if(null==b)p="";else if(null!=b.v){d=!1,p=""+(l.rawNumbers&&"n"==b.t?b.v:ep(b,null,l));for(var T=0,E=0;T!==p.length;++T)if((E=p.charCodeAt(T))===r||E===s||34===E||l.forceQuotes){p='"'+p.replace(cj,'""')+'"';break}"ID"==p&&(p='"ID"')}else null==b.f||b.F?p="":(d=!1,(p="="+b.f).indexOf(",")>=0&&(p='"'+p.replace(cj,'""')+'"'));f.push(p)}return!1===l.blankrows&&d?null:f.join(a)}function R3(n,t){var e=[],i=null==t?{}:t;if(null==n||null==n["!ref"])return"";var r=Oi(n["!ref"]),s=void 0!==i.FS?i.FS:",",a=s.charCodeAt(0),l=void 0!==i.RS?i.RS:"\n",d=l.charCodeAt(0),f=new RegExp(("|"==s?"\\|":s)+"+$"),p="",m=[];i.dense=Array.isArray(n);for(var w=i.skipHidden&&n["!cols"]||[],b=i.skipHidden&&n["!rows"]||[],T=r.s.c;T<=r.e.c;++T)(w[T]||{}).hidden||(m[T]=jr(T));for(var E=0,M=r.s.r;M<=r.e.r;++M)(b[M]||{}).hidden||null!=(p=uj(n,r,M,m,a,d,s,i))&&(i.strip&&(p=p.replace(f,"")),(p||!1!==i.blankrows)&&e.push((E++?l:"")+p));return delete i.dense,e.join("")}function dj(n,t){t||(t={}),t.FS="\t",t.RS="\n";var e=R3(n,t);return e}function hj(n,t,e){var i=e||{},r=+!i.skipHeader,s=n||{},a=0,l=0;if(s&&null!=i.origin)if("number"==typeof i.origin)a=i.origin;else{var d="string"==typeof i.origin?Xs(i.origin):i.origin;a=d.r,l=d.c}var f,p={s:{c:0,r:0},e:{c:l,r:a+t.length-1+r}};if(s["!ref"]){var m=Oi(s["!ref"]);p.e.c=Math.max(p.e.c,m.e.c),p.e.r=Math.max(p.e.r,m.e.r),-1==a&&(p.e.r=(a=m.e.r+1)+t.length-1+r)}else-1==a&&(a=0,p.e.r=t.length-1+r);var w=i.header||[],b=0;t.forEach(function(E,M){Os(E).forEach(function(N){-1==(b=w.indexOf(N))&&(w[b=w.length]=N);var V=E[N],U="z",q="",Q=Un({c:l+b,r:a+M+r});f=iI(s,Q),!V||"object"!=typeof V||V instanceof Date?("number"==typeof V?U="n":"boolean"==typeof V?U="b":"string"==typeof V?U="s":V instanceof Date?(U="d",i.cellDates||(U="n",V=aa(V)),q=i.dateNF||Ln[14]):null===V&&i.nullError&&(U="e",V=0),f?(f.t=U,f.v=V,delete f.w,delete f.R,q&&(f.z=q)):s[Q]=f={t:U,v:V},q&&(f.z=q)):s[Q]=V})}),p.e.c=Math.max(p.e.c,l+w.length-1);var T=Ps(a);if(r)for(b=0;b<w.length;++b)s[jr(b+l)+T]={t:"s",v:w[b]};return s["!ref"]=ri(p),s}function iI(n,t,e){if("string"==typeof t){if(Array.isArray(n)){var i=Xs(t);return n[i.r]||(n[i.r]=[]),n[i.r][i.c]||(n[i.r][i.c]={t:"z"})}return n[t]||(n[t]={t:"z"})}return iI(n,Un("number"!=typeof t?t:{r:t,c:e||0}))}function fj(n,t,e){return t?(n.l={Target:t},e&&(n.l.Tooltip=e)):delete n.l,n}var N3={encode_col:jr,encode_row:Ps,encode_cell:Un,encode_range:ri,decode_col:UL,decode_row:VL,split_cell:function Sae(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Xs,decode_range:Gl,format_cell:ep,sheet_add_aoa:YH,sheet_add_json:hj,sheet_add_dom:W9,aoa_to_sheet:cb,json_to_sheet:function J0e(n,t){return hj(null,n,t)},table_to_sheet:q9,table_to_book:function p0e(n,t){return z0(q9(n,t),t)},sheet_to_csv:R3,sheet_to_txt:dj,sheet_to_json:KM,sheet_to_html:Z9,sheet_to_formulae:function Q0e(n){var e,t="",i="";if(null==n||null==n["!ref"])return[];var l,r=Oi(n["!ref"]),s="",a=[],d=[],f=Array.isArray(n);for(l=r.s.c;l<=r.e.c;++l)a[l]=jr(l);for(var p=r.s.r;p<=r.e.r;++p)for(s=Ps(p),l=r.s.c;l<=r.e.c;++l)if(t=a[l]+s,i="",void 0!==(e=f?(n[p]||[])[l]:n[t])){if(null!=e.F){if(t=e.F,!e.f)continue;i=e.f,-1==t.indexOf(":")&&(t=t+":"+t)}if(null!=e.f)i=e.f;else{if("z"==e.t)continue;if("n"==e.t&&null!=e.v)i=""+e.v;else if("b"==e.t)i=e.v?"TRUE":"FALSE";else if(void 0!==e.w)i="'"+e.w;else{if(void 0===e.v)continue;i="s"==e.t?"'"+e.v:""+e.v}}d[d.length]=t+"="+i}return d},sheet_to_row_object_array:KM,sheet_get_cell:iI,book_new:function F3(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function P3(n,t,e,i){var r=1;if(!e)for(;r<=65535&&-1!=n.SheetNames.indexOf(e="Sheet"+r);++r,e=void 0);if(!e||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(i&&n.SheetNames.indexOf(e)>=0){var s=e.match(/(^.*?)(\d+)$/);r=s&&+s[2]||0;var a=s&&s[1]||e;for(++r;r<=65535&&-1!=n.SheetNames.indexOf(e=a+r);++r);}if(M9(e),n.SheetNames.indexOf(e)>=0)throw new Error("Worksheet with name |"+e+"| already exists!");return n.SheetNames.push(e),n.Sheets[e]=t,e},book_set_sheet_visibility:function e_e(n,t,e){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var i=function X0e(n,t){if("number"==typeof t){if(t>=0&&n.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var e=n.SheetNames.indexOf(t);if(e>-1)return e;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(n,t);switch(n.Workbook.Sheets[i]||(n.Workbook.Sheets[i]={}),e){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+e)}n.Workbook.Sheets[i].Hidden=e},cell_set_number_format:function t_e(n,t){return n.z=t,n},cell_set_hyperlink:fj,cell_set_internal_link:function n_e(n,t,e){return fj(n,"#"+t,e)},cell_add_comment:function i_e(n,t,e){n.c||(n.c=[]),n.c.push({t,a:e||"SheetJS"})},sheet_set_array_formula:function r_e(n,t,e,i){for(var r="string"!=typeof t?t:Oi(t),s="string"==typeof t?t:ri(t),a=r.s.r;a<=r.e.r;++a)for(var l=r.s.c;l<=r.e.c;++l){var d=iI(n,a,l);d.t="n",d.F=s,delete d.v,a==r.s.r&&l==r.s.c&&(d.f=e,i&&(d.D=!0))}return n},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};let Y0=(()=>{class n{constructor(){}exportExcel(){let e=document.getElementById("excel-table");const i=N3.table_to_sheet(e),r=N3.book_new();N3.book_append_sheet(r,i,"Sheet1"),function K0e(n,t,e){var i=e||{};i.type="file",i.file=t,function O3(n){if(!n.bookType){var e=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();e.match(/^\.[a-z]+$/)&&(n.bookType=e.slice(1)),n.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[n.bookType]||n.bookType}}(i),M3(n,i)}(r,"materiel.xlsx")}TauxAmortissments(e,i){let r;return i.forEach(s=>{e.categorie==s.numero&&(r=s.taux_amortissments)}),r}PrixActuel(e,i){let r=((new Date).getTime()-new Date(e.date).getTime())/31536e6,s=this.TauxAmortissments(e,i)*r;return e.prix-e.prix*(s/100)}ChekDate(e){return new Md("en-US").transform(e.date,"yyyy/MM/dd")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c_e(n,t){if(1&n&&(o.TgZ(0,"th",10),o._uU(1),o._UZ(2,"p-sortIcon",11),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function u_e(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,c_e,3,3,"th",8),o.TgZ(2,"th",9),o._uU(3,"OPTIONS"),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.Champs)}}function d_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",13),o._uU(2),o.qZA(),o.TgZ(3,"td",13),o._uU(4),o.qZA(),o.TgZ(5,"td",13),o._uU(6),o.qZA(),o.TgZ(7,"td",13),o._uU(8),o.qZA(),o.TgZ(9,"td",13),o._uU(10),o.qZA(),o.TgZ(11,"td",13),o._uU(12),o.ALo(13,"currency"),o.qZA(),o.TgZ(14,"td",13),o._uU(15),o.qZA(),o.TgZ(16,"td",13),o._uU(17),o.ALo(18,"currency"),o.qZA(),o.TgZ(19,"td")(20,"button",14),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().onReforme(r)}),o.qZA()()()}if(2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(o.xi3(13,8,e.prix,"DZD ")),o.xp6(3),o.Oqu(i.fnc.TauxAmortissments(e,i.Categorie)),o.xp6(2),o.hij("",o.xi3(18,11,i.fnc.PrixActuel(e,i.Categorie),"DZD ")," ")}}function h_e(n,t){1&n&&o.YNc(0,d_e,21,14,"tr",12),2&n&&o.Q6J("ngIf","valide"==t.$implicit.valide)}let f_e=(()=>{class n{constructor(e,i,r,s){this.Crud=e,this.AuthService=i,this.dialog=r,this.fnc=s,this.Materiel=[],this.Categorie=[],this.Champs=iC,this.activeIndex=0}ngOnInit(){this.ShowMateriel(),this.ShowCategorie()}ShowMateriel(){this.Crud.GetWithCond("Materiel","valide","valide").subscribe(e=>{this.Materiel=e})}ShowCategorie(){this.Crud.Get("Categorie").subscribe(e=>{this.Categorie=e})}onReforme(e){e.valide="reforme",this.Crud.Update("Materiel",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(Po),o.Y36(ud),o.Y36(Y0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-amortissements"]],decls:9,vars:4,consts:[[1,"head","mb-2","mt-2"],["pButton","",1,"p-button-outlined",2,"text-decoration","none","pointer-events","none"],[1,"float-end"],["pButton","","icon","pi pi-file-excel",1,"p-button-success","mr-1",3,"click"],[1,"card"],["id","excel-table","responsiveLayout","scroll",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],["style","font-size: smaller;","class","text-gray-600 text-center uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[4,"ngIf"],[1,"text-center","text-gray-700"],["pButton","","icon","pi pi-exclamation-triangle",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"a",1),o._uU(2,"Tableau de Calcule Taux Amortissment"),o.qZA(),o.TgZ(3,"div",2)(4,"pButton",3),o.NdJ("click",function(){return i.fnc.exportExcel()}),o.qZA()()(),o.TgZ(5,"div",4)(6,"p-table",5),o.YNc(7,u_e,4,1,"ng-template",6),o.YNc(8,h_e,1,1,"ng-template",7),o.qZA()()),2&e&&(o.xp6(6),o.Q6J("value",i.Materiel)("paginator",!0)("rows",9)("responsive",!0))},directives:[Zl,_o,Mr,ii,$f,Yf,Tn],pipes:[ls],styles:[""]}),n})();const p_e=["numero","designation","taux_amortissments"];function g_e(n,t){1&n&&o.GkF(0)}function m_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",5),o.NdJ("click",function(r){return o.CHM(e),o.oxw(2).onCloseClick(r)})("keydown.enter",function(){return o.CHM(e),o.oxw(2).hide()}),o._UZ(1,"span",6),o.qZA()}if(2&n){const e=o.oxw(2);o.uIk("aria-label",e.ariaCloseLabel)}}const __e=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},v_e=function(n,t){return{value:n,params:t}};function y_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1),o.NdJ("click",function(r){return o.CHM(e),o.oxw().onOverlayClick(r)})("@animation.start",function(r){return o.CHM(e),o.oxw().onAnimationStart(r)})("@animation.done",function(r){return o.CHM(e),o.oxw().onAnimationEnd(r)}),o.TgZ(1,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().onContentClick()})("mousedown",function(){return o.CHM(e),o.oxw().onContentClick()}),o.Hsn(2),o.YNc(3,g_e,1,0,"ng-container",3),o.qZA(),o.YNc(4,m_e,2,1,"button",4),o.qZA()}if(2&n){const e=o.oxw();o.Tol(e.styleClass),o.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",o.WLB(10,v_e,e.overlayVisible?"open":"close",o.WLB(7,__e,e.showTransitionOptions,e.hideTransitionOptions))),o.xp6(3),o.Q6J("ngTemplateOutlet",e.contentTemplate),o.xp6(1),o.Q6J("ngIf",e.showCloseIcon)}}const w_e=["*"];let JM=(()=>{class n{constructor(e,i,r,s,a,l){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.config=a,this.overlayService=l,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new o.vpe,this.onHide=new o.vpe,this.overlayVisible=!1,this.render=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let e=Se.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",e,r=>{!this.container.contains(r.target)&&this.target!==r.target&&!this.target.contains(r.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i)}show(e,i){this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck()}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(e,i){return null!=this.target&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):Se.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&No.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Se.absolutePosition(this.container,this.target);const e=Se.getOffset(this.container),i=Se.getOffset(this.target);let r=0;e.left<i.left&&(r=i.left-e.left),this.container.style.setProperty("--overlayArrowLeft",`${r}px`),e.top<i.top&&Se.addClass(this.container,"p-overlaypanel-flipped")}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener))}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&No.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}}focus(){let e=Se.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&No.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(_y),o.Y36(vS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-overlayPanel"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:w_e,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,y_e,5,13,"div",0)),2&e&&o.Q6J("ngIf",i.render)},directives:[Tn,mi,Wi,ir,Sh],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[cs("animation",[it("void",re({transform:"scaleY(0.8)",opacity:0})),it("close",re({opacity:0})),it("open",re({transform:"translateY(0)",opacity:1})),fn("void => open",D("{{showTransitionParams}}")),fn("open => close",D("{{hideTransitionParams}}"))])]},changeDetection:0}),n})(),x_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cd,sa],sa]}),n})();function b_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"pButton",12),o.NdJ("click",function(r){return o.CHM(e),o.oxw(),o.MAs(11).show(r)}),o.qZA()}}function C_e(n,t){if(1&n&&(o.TgZ(0,"th",15),o._uU(1),o._UZ(2,"p-sortIcon",16),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function T_e(n,t){1&n&&(o.TgZ(0,"th",17),o._uU(1,"option"),o.qZA())}function E_e(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,C_e,3,3,"th",13),o.YNc(2,T_e,2,0,"th",14),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs),o.xp6(1),o.Q6J("ngIf",e.AuthService.ChekRole("Gestionnaire"))}}function S_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",18)(1,"button",20),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().onDelete(r)}),o.qZA()()}}function I_e(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",18),o._uU(2),o.qZA(),o.TgZ(3,"td",18),o._uU(4),o.qZA(),o.TgZ(5,"td",18),o._uU(6),o.qZA(),o.YNc(7,S_e,2,0,"td",19),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.taux_amortissments),o.xp6(1),o.Q6J("ngIf",i.AuthService.ChekRole("Gestionnaire"))}}function k_e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",21)(1,"a",1),o._uU(2,"Ajouer Une Categorie"),o.qZA(),o.TgZ(3,"form",22,23)(5,"div",24),o._UZ(6,"i",25)(7,"input",26),o.TgZ(8,"label",27),o._uU(9,"Numero"),o.qZA()(),o.TgZ(10,"div",24),o._UZ(11,"i",25)(12,"input",28),o.TgZ(13,"label",27),o._uU(14,"designation"),o.qZA()(),o.TgZ(15,"div",24),o._UZ(16,"i",25)(17,"input",29),o.TgZ(18,"label",27),o._uU(19,"Taux Amortissments"),o.qZA()(),o.TgZ(20,"div",30)(21,"p-button",31),o.NdJ("onClick",function(){o.CHM(e);const r=o.MAs(4);return o.oxw().onAdd(r.value)}),o._uU(22,"Add"),o.qZA()()()()}}let D_e=(()=>{class n{constructor(e,i,r,s){this.Crud=e,this.dialog=i,this.AuthService=r,this.fnc=s,this.Categorie=[],this.champs=p_e}ngOnInit(){this.ShowCategorie()}ShowCategorie(){this.Crud.Get("Categorie").subscribe(e=>{this.Categorie=e})}onDelete(e){this.Crud.Delete("Categorie",e)}onAdd(e){this.Crud.Add("Categorie",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(ud),o.Y36(Po),o.Y36(Y0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-categorie"]],decls:13,vars:7,consts:[[1,"head","mt-2","mb-2"],["pButton","",1,"p-button-outlined",2,"text-decoration","none","pointer-events","none"],[1,"float-end"],["pButton","","icon","pi pi-plus","class","p-button-info mr-2 space",3,"click",4,"ngIf"],["pButton","","icon","pi pi-file-excel",1,"p-button-success","mr-2","space",3,"click"],[1,"card"],["responsiveLayout","scroll","id","excel-table","styleClass","p-datatable-striped",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"dismissable","showCloseIcon"],["op",""],["pTemplate",""],["pButton","","icon","pi pi-plus",1,"p-button-info","mr-2","space",3,"click"],["style","font-size: smaller;","class","text-gray-600 text-center uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],["style","font-size: smaller;","class","text-gray-600 text-center uppercase",4,"ngIf"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller"],[1,"text-center","text-gray-700"],["class","text-center text-gray-700",4,"ngIf"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],[1,"form-container"],["ngModel",""],["addForm","ngForm"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user"],["ngModel","","type","text","pInputText","","name","numero"],["for","inputtext-left"],["ngModel","","type","text","pInputText","","name","designation"],["ngModel","","type","number","pInputText","","pKeyFilter","pnum","name","taux_amortissments"],[1,"p-float-label"],["mat-dialog-close","","type","submit",3,"onClick"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"a",1),o._uU(2,"Liste des Categories"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,b_e,1,0,"pButton",3),o.TgZ(5,"pButton",4),o.NdJ("click",function(){return i.fnc.exportExcel()}),o.qZA()()(),o.TgZ(6,"div",5)(7,"p-table",6),o.YNc(8,E_e,3,2,"ng-template",7),o.YNc(9,I_e,8,4,"ng-template",8),o.qZA()(),o.TgZ(10,"p-overlayPanel",9,10),o.YNc(12,k_e,23,0,"ng-template",11),o.qZA()),2&e&&(o.xp6(4),o.Q6J("ngIf",i.AuthService.ChekRole("Gestionnaire")),o.xp6(3),o.Q6J("value",i.Categorie)("paginator",!0)("rows",9)("responsive",!0),o.xp6(3),o.Q6J("dismissable",!0)("showCloseIcon",!0))},directives:[Zl,Tn,_o,Mr,ii,$f,Yf,JM,Sg,Eg,Ch,Tg,Th,bg,Eh,Kx,CS,vy,F0],styles:[".form-container[_ngcontent-%COMP%]{max-width:auto}.p-float-label[_ngcontent-%COMP%]{margin-top:25px;margin-left:5px;display:block}.p-button-outlined[_ngcontent-%COMP%]{text-decoration:none;pointer-events:none}"]}),n})();const A_e=["Designation","tlp","dette","retardpaiement","options"],M_e=["Priorite","Designation","dette","situation","retardpaiement","anciennete","options"];class gj{}class mj{}class Fg{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Fg?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Fg;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Fg?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===s.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class O_e{encodeKey(t){return _j(t)}encodeValue(t){return _j(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const F_e=/%(\d[a-f0-9])/gi,P_e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function _j(n){return encodeURIComponent(n).replace(F_e,(t,e)=>{var i;return null!==(i=P_e[e])&&void 0!==i?i:t})}function vj(n){return`${n}`}class K0{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new O_e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R_e(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],d=e.get(a)||[];d.push(l),e.set(a,d)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new K0({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(vj(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(vj(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class N_e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function yj(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function wj(n){return"undefined"!=typeof Blob&&n instanceof Blob}function xj(n){return"undefined"!=typeof FormData&&n instanceof FormData}class rI{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function L_e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Fg),this.context||(this.context=new N_e),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new K0,this.urlWithParams=e}serializeBody(){return null===this.body?null:yj(this.body)||wj(this.body)||xj(this.body)||function B_e(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof K0?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xj(this.body)?null:wj(this.body)?this.body.type||null:yj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof K0?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,p=t.params||this.params;const m=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((w,b)=>w.set(b,t.setHeaders[b]),f)),t.setParams&&(p=Object.keys(t.setParams).reduce((w,b)=>w.set(b,t.setParams[b]),p)),new rI(i,r,a,{params:p,headers:f,context:m,reportProgress:d,responseType:s,withCredentials:l})}}var bo=(()=>((bo=bo||{})[bo.Sent=0]="Sent",bo[bo.UploadProgress=1]="UploadProgress",bo[bo.ResponseHeader=2]="ResponseHeader",bo[bo.DownloadProgress=3]="DownloadProgress",bo[bo.Response=4]="Response",bo[bo.User=5]="User",bo))();class L3{constructor(t,e=200,i="OK"){this.headers=t.headers||new Fg,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class B3 extends L3{constructor(t={}){super(t),this.type=bo.ResponseHeader}clone(t={}){return new B3({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class XM extends L3{constructor(t={}){super(t),this.type=bo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new XM({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class bj extends L3{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function V3(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Cj=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof rI)s=e;else{let d,f;d=r.headers instanceof Fg?r.headers:new Fg(r.headers),r.params&&(f=r.params instanceof K0?r.params:new K0({fromObject:r.params})),s=new rI(e,i,void 0!==r.body?r.body:null,{headers:d,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=y(s).pipe(zx(d=>this.handler.handle(d)));if(e instanceof rI||"events"===r.observe)return a;const l=a.pipe(hs(d=>d instanceof XM));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe((0,It.U)(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe((0,It.U)(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe((0,It.U)(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return l.pipe((0,It.U)(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new K0).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,V3(r,i))}post(e,i,r={}){return this.request("POST",e,V3(r,i))}put(e,i,r={}){return this.request("PUT",e,V3(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gj))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Tj{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Ej=new o.OlP("HTTP_INTERCEPTORS");let V_e=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const U_e=/^\)\]\}',?\n/;let Sj=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ki.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((b,T)=>r.setRequestHeader(b,T.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const b=e.detectContentTypeHeader();null!==b&&r.setRequestHeader("Content-Type",b)}if(e.responseType){const b=e.responseType.toLowerCase();r.responseType="json"!==b?b:"text"}const s=e.serializeBody();let a=null;const l=()=>{if(null!==a)return a;const b=r.statusText||"OK",T=new Fg(r.getAllResponseHeaders()),E=function H_e(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new B3({headers:T,status:r.status,statusText:b,url:E}),a},d=()=>{let{headers:b,status:T,statusText:E,url:M}=l(),N=null;204!==T&&(N=void 0===r.response?r.responseText:r.response),0===T&&(T=N?200:0);let V=T>=200&&T<300;if("json"===e.responseType&&"string"==typeof N){const U=N;N=N.replace(U_e,"");try{N=""!==N?JSON.parse(N):null}catch(q){N=U,V&&(V=!1,N={error:q,text:N})}}V?(i.next(new XM({body:N,headers:b,status:T,statusText:E,url:M||void 0})),i.complete()):i.error(new bj({error:N,headers:b,status:T,statusText:E,url:M||void 0}))},f=b=>{const{url:T}=l(),E=new bj({error:b,status:r.status||0,statusText:r.statusText||"Unknown Error",url:T||void 0});i.error(E)};let p=!1;const m=b=>{p||(i.next(l()),p=!0);let T={type:bo.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),"text"===e.responseType&&!!r.responseText&&(T.partialText=r.responseText),i.next(T)},w=b=>{let T={type:bo.UploadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),i.next(T)};return r.addEventListener("load",d),r.addEventListener("error",f),r.addEventListener("timeout",f),r.addEventListener("abort",f),e.reportProgress&&(r.addEventListener("progress",m),null!==s&&r.upload&&r.upload.addEventListener("progress",w)),r.send(s),i.next({type:bo.Sent}),()=>{r.removeEventListener("error",f),r.removeEventListener("abort",f),r.removeEventListener("load",d),r.removeEventListener("timeout",f),e.reportProgress&&(r.removeEventListener("progress",m),null!==s&&r.upload&&r.upload.removeEventListener("progress",w)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(wi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const U3=new o.OlP("XSRF_COOKIE_NAME"),H3=new o.OlP("XSRF_HEADER_NAME");class Ij{}let j_e=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ne),o.LFG(o.Lbi),o.LFG(U3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),j3=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ij),o.LFG(H3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),z_e=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Ej,[]);this.chain=i.reduceRight((r,s)=>new Tj(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mj),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Z_e=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:j3,useClass:V_e}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:U3,useValue:e.cookieName}:[],e.headerName?{provide:H3,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[j3,{provide:Ej,useExisting:j3,multi:!0},{provide:Ij,useClass:j_e},{provide:U3,useValue:"XSRF-TOKEN"},{provide:H3,useValue:"X-XSRF-TOKEN"}]}),n})(),W_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Cj,{provide:gj,useClass:z_e},Sj,{provide:mj,useExisting:Sj}],imports:[[Z_e.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),kj=(()=>{class n{constructor(e){this.http=e,this.apiServerUrl="http://localhost:5000"}GetPaiment(){return this.GetJson().subscribe(e=>{this.Fournisseur=e,console.log(this.Fournisseur)},e=>{alert(e.message)}),this.Fournisseur}GetJson(){return this.http.get(`${this.apiServerUrl}/login`)}PostJson(e){return this.http.post(`${this.apiServerUrl}/login`,e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cj))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function q_e(n,t){1&n&&o.GkF(0)}function G_e(n,t){if(1&n&&(o.ynx(0),o.YNc(1,q_e,1,0,"ng-container",3),o.BQk()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}function $_e(n,t){if(1&n&&(o.TgZ(0,"div",1),o.Hsn(1),o.YNc(2,G_e,2,1,"ng-container",2),o.qZA()),2&n){const e=o.oxw();o.Q6J("hidden",!e.selected),o.uIk("id",e.id)("aria-hidden",!e.selected)("aria-labelledby",e.id+"-label"),o.xp6(2),o.Q6J("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const Dj=["*"],Y_e=["content"],K_e=["navbar"],Q_e=["prevBtn"],J_e=["nextBtn"],X_e=["inkbar"];function eve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",12,13),o.NdJ("click",function(){return o.CHM(e),o.oxw().navBackward()}),o._UZ(2,"span",14),o.qZA()}}function tve(n,t){if(1&n&&o._UZ(0,"span",24),2&n){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.leftIcon)}}function nve(n,t){if(1&n&&o._UZ(0,"span",25),2&n){const e=o.oxw(3).$implicit;o.Q6J("ngClass",e.rightIcon)}}function ive(n,t){if(1&n&&(o.ynx(0),o.YNc(1,tve,1,1,"span",21),o.TgZ(2,"span",22),o._uU(3),o.qZA(),o.YNc(4,nve,1,1,"span",23),o.BQk()),2&n){const e=o.oxw(2).$implicit;o.xp6(1),o.Q6J("ngIf",e.leftIcon),o.xp6(2),o.Oqu(e.header),o.xp6(1),o.Q6J("ngIf",e.rightIcon)}}function rve(n,t){1&n&&o.GkF(0)}function sve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"span",26),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw(2).$implicit;return o.oxw().close(r,s)}),o.qZA()}}const ove=function(n,t){return{"p-highlight":n,"p-disabled":t}};function ave(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li",16)(1,"a",17),o.NdJ("click",function(r){o.CHM(e);const s=o.oxw().$implicit;return o.oxw().open(r,s)})("keydown.enter",function(r){o.CHM(e);const s=o.oxw().$implicit;return o.oxw().open(r,s)}),o.YNc(2,ive,5,3,"ng-container",18),o.YNc(3,rve,1,0,"ng-container",19),o.YNc(4,sve,1,0,"span",20),o.qZA()()}if(2&n){const e=o.oxw().$implicit;o.Tol(e.headerStyleClass),o.Q6J("ngClass",o.WLB(16,ove,e.selected,e.disabled))("ngStyle",e.headerStyle),o.xp6(1),o.Q6J("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),o.uIk("id",e.id+"-label")("aria-selected",e.selected)("aria-controls",e.id)("aria-selected",e.selected)("tabindex",e.disabled?null:"0"),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",e.closable)}}function lve(n,t){1&n&&o.YNc(0,ave,5,19,"li",15),2&n&&o.Q6J("ngIf",!t.$implicit.closed)}function cve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",27,28),o.NdJ("click",function(){return o.CHM(e),o.oxw().navForward()}),o._UZ(2,"span",29),o.qZA()}}const uve=function(n){return{"p-tabview p-component":!0,"p-tabview-scrollable":n}};let dve=0,z3=(()=>{class n{constructor(e,i,r){this.viewContainer=i,this.cd=r,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+dve++,this.tabView=e}ngAfterContentInit(){this.templates.forEach(e=>{"header"===e.getType()?this.headerTemplate=e.template:this.contentTemplate=e.template})}get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,this.tabView.updateInkBar(),this.tabView.cd.markForCheck()}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36((0,o.Gpc)(()=>Z3)),o.Y36(o.s_b),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-tabPanel"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:Dj,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,$_e,3,5,"div",0)),2&e&&o.Q6J("ngIf",!i.closed)},directives:[Tn,ir],encapsulation:2}),n})(),Z3=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.orientation="top",this.onChange=new o.vpe,this.onClose=new o.vpe,this.activeIndexChange=new o.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(e=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(e,i){if(i.disabled)e&&e.preventDefault();else{if(!i.selected){let r=this.findSelectedTab();r&&(r.selected=!1),this.tabChanged=!0,i.selected=!0;let s=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(s),this.onChange.emit({originalEvent:e,index:s}),this.updateScrollBar(s)}e&&e.preventDefault()}}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)})),e.stopPropagation()}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let r=this.tabs[i];if(!r.closed&&!e.disabled){r.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let r=0;r<this.tabs.length;r++)if(this.tabs[r]==e){i=r;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}updateInkBar(){if(this.navbar){let e=Se.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=Se.getWidth(e)+"px",this.inkbar.nativeElement.style.left=Se.getOffset(e).left-Se.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){this.navbar.nativeElement.children[e].scrollIntoView({block:"nearest"})}updateButtonState(){const e=this.content.nativeElement,{scrollLeft:i,scrollWidth:r}=e,s=Se.getWidth(e);this.backwardIsDisabled=0===i,this.forwardIsDisabled=parseInt(i)===r-s}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){var e,i;return[null===(e=this.prevBtn)||void 0===e?void 0:e.nativeElement,null===(i=this.nextBtn)||void 0===i?void 0:i.nativeElement].reduce((r,s)=>s?r+Se.getWidth(s):r,0)}navBackward(){const e=this.content.nativeElement,i=Se.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft-i;e.scrollLeft=r<=0?0:r}navForward(){const e=this.content.nativeElement,i=Se.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft+i,s=e.scrollWidth-i;e.scrollLeft=r>=s?s:r}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-tabView"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,z3,4),2&e){let s;o.iGM(s=o.CRH())&&(i.tabPanels=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(Y_e,5),o.Gf(K_e,5),o.Gf(Q_e,5),o.Gf(J_e,5),o.Gf(X_e,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.content=r.first),o.iGM(r=o.CRH())&&(i.navbar=r.first),o.iGM(r=o.CRH())&&(i.prevBtn=r.first),o.iGM(r=o.CRH())&&(i.nextBtn=r.first),o.iGM(r=o.CRH())&&(i.inkbar=r.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:Dj,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,eve,3,0,"button",2),o.TgZ(3,"div",3,4),o.NdJ("scroll",function(s){return i.onScroll(s)}),o.TgZ(5,"ul",5,6),o.YNc(7,lve,1,1,"ng-template",7),o._UZ(8,"li",8,9),o.qZA()(),o.YNc(10,cve,3,0,"button",10),o.qZA(),o.TgZ(11,"div",11),o.Hsn(12),o.qZA()()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass",o.VKq(7,uve,i.scrollable))("ngStyle",i.style),o.xp6(2),o.Q6J("ngIf",i.scrollable&&!i.backwardIsDisabled),o.xp6(5),o.Q6J("ngForOf",i.tabs),o.xp6(3),o.Q6J("ngIf",i.scrollable&&!i.forwardIsDisabled))},directives:[mi,Wi,Tn,Sh,ii,sU,ir],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),n})(),hve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,sa,nL,cd],sa]}),n})();function fve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"pButton",15),o.NdJ("click",function(r){return o.CHM(e),o.oxw(),o.MAs(19).show(r)}),o.qZA()}}function pve(n,t){if(1&n&&(o.TgZ(0,"th",17),o._uU(1),o._UZ(2,"p-sortIcon",18),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function gve(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,pve,3,3,"th",16),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champsfournisseur)}}function mve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",19),o._uU(2),o.qZA(),o.TgZ(3,"td",19),o._uU(4),o.qZA(),o.TgZ(5,"td",19),o._uU(6),o.ALo(7,"currency"),o.qZA(),o.TgZ(8,"td",19),o._uU(9),o.qZA(),o.TgZ(10,"td",19)(11,"button",20),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().onDelete(s)}),o.qZA(),o.TgZ(12,"button",21),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().onShowFacteurdeFournisseur(s)}),o.qZA()()()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.tlp),o.xp6(2),o.Oqu(o.xi3(7,4,e.dette,"DZD ")),o.xp6(3),o.Oqu(e.RetardPaiement)}}function _ve(n,t){if(1&n&&(o.TgZ(0,"th",17),o._uU(1),o._UZ(2,"p-sortIcon",18),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function vve(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,_ve,3,3,"th",16),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champspaiementfournisseur)}}function yve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",26)(1,"a",3),o._uU(2,"Ajouer Une Facteur"),o.qZA(),o.TgZ(3,"form",27,28)(5,"div",29),o._UZ(6,"i",30)(7,"input",31,32),o.TgZ(9,"label",33),o._uU(10,"Designation"),o.qZA()(),o.TgZ(11,"div",34)(12,"p-button",35),o.NdJ("onClick",function(){o.CHM(e);const r=o.MAs(8),s=o.oxw().$implicit;return o.oxw().paiement(s,r.value)}),o._uU(13,"Add"),o.qZA()()()()}}function wve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr"),o._UZ(1,"td",22),o.TgZ(2,"td",19),o._uU(3),o.qZA(),o.TgZ(4,"td",19),o._uU(5),o.ALo(6,"currency"),o.qZA(),o.TgZ(7,"td",19),o._uU(8),o.qZA(),o.TgZ(9,"td",19),o._uU(10),o.qZA(),o.TgZ(11,"td",19),o._uU(12),o.qZA(),o.TgZ(13,"td",19)(14,"button",23),o.NdJ("click",function(r){const a=o.CHM(e).$implicit;return o.MAs(17).show(r,a)}),o.qZA(),o.TgZ(15,"button",24),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().Post(s)}),o.qZA()()(),o.TgZ(16,"p-overlayPanel",12,25),o.YNc(18,yve,14,0,"ng-template",14),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.numero),o.xp6(2),o.Oqu(o.xi3(6,7,e.dette,"DZD ")),o.xp6(3),o.Oqu(e.situation),o.xp6(2),o.Oqu(e.RetardPaiement),o.xp6(2),o.Oqu(e.anciennete),o.xp6(4),o.Q6J("dismissable",!0)("showCloseIcon",!0)}}function xve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",26)(1,"a",3),o._uU(2,"Ajouer Une Facteur"),o.qZA(),o.TgZ(3,"form",27,28)(5,"div",29),o._UZ(6,"i",30)(7,"input",36),o.TgZ(8,"label",33),o._uU(9,"Designation"),o.qZA()(),o.TgZ(10,"div",29),o._UZ(11,"i",30)(12,"input",37),o.TgZ(13,"label",33),o._uU(14,"Tlp"),o.qZA()(),o.TgZ(15,"div",29),o._UZ(16,"i",30)(17,"input",38),o.TgZ(18,"label",33),o._uU(19,"Dette"),o.qZA()(),o.TgZ(20,"div",29),o._UZ(21,"i",30)(22,"input",39),o.TgZ(23,"label",33),o._uU(24,"Situation"),o.qZA()(),o.TgZ(25,"div",29),o._UZ(26,"i",30)(27,"input",40),o.TgZ(28,"label",33),o._uU(29,"RetardPaiement"),o.qZA()(),o.TgZ(30,"div",29),o._UZ(31,"i",30)(32,"input",41),o.TgZ(33,"label",33),o._uU(34,"Anciennete"),o.qZA()(),o.TgZ(35,"div",34)(36,"p-button",35),o.NdJ("onClick",function(){o.CHM(e);const r=o.MAs(4);return o.oxw().onAdd(r.value)}),o._uU(37,"Add"),o.qZA()()()()}}let bve=(()=>{class n{constructor(e,i,r,s,a,l){this.Crud=e,this.AuthService=i,this.dialog=r,this.fnc=s,this.com=a,this.alert=l,this.Facteur=[],this.Fournisseur=[],this.champs=_L,this.champsfournisseur=A_e,this.champspaiementfournisseur=M_e,this.x=0}ngOnInit(){this.ShowFournisseur()}Post(e){this.com.PostJson(e).subscribe(()=>{console.log("Post is Good")},i=>{alert(i.message)}),this.FournisseurP=this.com.GetPaiment(),this.Crud.Update("Fournisseur",this.FournisseurP)}ShowFournisseur(){this.Crud.Get("Fournisseur").subscribe(e=>{this.Fournisseur=e}),this.Crud.Get("Facteur").subscribe(e=>{this.Facteur=e})}onDelete(e){this.Crud.Delete("Fournisseur",e)}onShowFacteurdeFournisseur(e){this.dialog.Display(e,"Fournisseur")}paiement(e,i){e.dette=e.dette-Number(i),e.dette<=0&&(e.payer=!0,e.RetardPaiement=0,e.dette=0,e.priorite=0),this.Crud.Update("Fournisseur",e)}onAdd(e){e.payer=!1,e.priorite=0,this.Crud.Add("Fournisseur",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(Po),o.Y36(ud),o.Y36(Y0),o.Y36(kj),o.Y36(k0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-fournisseur"]],decls:21,vars:11,consts:[[1,"b-3","mt-3"],["header","Liste des fournisseur","leftIcon","pi pi-calendar"],[1,"head","mb-2","mt-2"],["pButton","",1,"p-button-outlined",2,"text-decoration","none","pointer-events","none"],[1,"float-end"],["pButton","","icon","pi pi-plus","class","p-button-info mr-1",3,"click",4,"ngIf"],["pButton","","icon","pi pi-file-excel",1,"p-button-success","mr-2","space",3,"click"],[1,"card"],["responsiveLayout","scroll","id","excel-table","styleClass","p-datatable-striped",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],["header","La Priorit\xe9 de paiement de fournisseur","leftIcon","pi pi-inbox"],[3,"dismissable","showCloseIcon"],["op",""],["pTemplate",""],["pButton","","icon","pi pi-plus",1,"p-button-info","mr-1",3,"click"],["style","font-size: smaller;","class","text-center text-gray-600 uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-center","text-gray-700"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pButton","","icon","pi pi-align-right",1,"p-button-rounded","p-button-text",3,"click"],[1,"text-center","text-gray-700","counterCell"],["pButton","","icon","pi pi-dollar",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","icon","pi pi-info",1,"p-button-rounded","p-button-text",3,"click"],["payer",""],[1,"form-container"],["ngModel",""],["addForm","ngForm"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user"],["type","text","pInputText","","pKeyFilter","num"],["mantant",""],["for","inputtext-left"],[1,"p-float-label","ml-6"],["mat-dialog-close","","type","submit",3,"onClick"],["ngModel","","type","text","pInputText","","name","numero"],["ngModel","","type","text","pKeyFilter","num","pInputText","","name","tlp"],["ngModel","","type","number","pInputText","","pKeyFilter","num","name","dette","pKeyFilter","pnum"],["ngModel","","type","number","pInputText","","pKeyFilter","num","name","situation","pKeyFilter","pnum"],["ngModel","","type","number","pInputText","","pKeyFilter","num","name","RetardPaiement","pKeyFilter","pnum"],["ngModel","","type","number","pInputText","","pKeyFilter","num","name","anciennete","pKeyFilter","pnum"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"p-tabView")(2,"p-tabPanel",1)(3,"div",2)(4,"a",3),o._uU(5,"Liste des Fournisseurs"),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,fve,1,0,"pButton",5),o.TgZ(8,"pButton",6),o.NdJ("click",function(){return i.fnc.exportExcel()}),o.qZA()()(),o.TgZ(9,"div",7)(10,"p-table",8),o.YNc(11,gve,2,1,"ng-template",9),o.YNc(12,mve,13,7,"ng-template",10),o.qZA()()(),o.TgZ(13,"p-tabPanel",11)(14,"div",7)(15,"p-table",8),o.YNc(16,vve,2,1,"ng-template",9),o.YNc(17,wve,19,10,"ng-template",10),o.qZA()()()()(),o.TgZ(18,"p-overlayPanel",12,13),o.YNc(20,xve,38,0,"ng-template",14),o.qZA()),2&e&&(o.xp6(7),o.Q6J("ngIf",i.AuthService.ChekRole("Comptable")),o.xp6(3),o.Q6J("value",i.Fournisseur)("paginator",!0)("rows",5)("responsive",!0),o.xp6(5),o.Q6J("value",i.Fournisseur)("paginator",!0)("rows",5)("responsive",!0),o.xp6(3),o.Q6J("dismissable",!0)("showCloseIcon",!0))},directives:[Z3,z3,Zl,Tn,_o,Mr,ii,$f,Yf,JM,Sg,Eg,Ch,Tg,Th,Eh,CS,vy,F0,bg,Kx],pipes:[ls],styles:[".form-container[_ngcontent-%COMP%]{max-width:auto}.p-float-label[_ngcontent-%COMP%]{margin-top:25px;margin-left:5px;display:block}.p-button-outlined[_ngcontent-%COMP%]{text-decoration:none;pointer-events:none}#excel-table[_ngcontent-%COMP%]{counter-reset:tableCount}.counterCell[_ngcontent-%COMP%]:before{content:counter(tableCount);counter-increment:tableCount}"]}),n})();const Cve=["Numero","Service","Fournisseur","Date","Gestionnaire"],Tve=["DAG","MGX","DMA"];function Eve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"pButton",12),o.NdJ("click",function(r){return o.CHM(e),o.oxw(),o.MAs(11).show(r)}),o.qZA()}}function Sve(n,t){if(1&n&&(o.TgZ(0,"th",15),o._uU(1),o._UZ(2,"p-sortIcon",16),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function Ive(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,Sve,3,3,"th",13),o.TgZ(2,"th",14),o._uU(3,"options"),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs)}}function kve(n,t){1&n&&o._uU(0),2&n&&o.hij(" ",t.$implicit," ")}function Dve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",1),o._uU(1,"Ajouer Des materiels sur cette PV"),o.qZA(),o.TgZ(2,"form",22,23)(4,"div",24)(5,"div",25),o._UZ(6,"i",26)(7,"input",27),o.TgZ(8,"label",28),o._uU(9,"Quantite"),o.qZA()(),o.TgZ(10,"div",25),o._UZ(11,"i",26)(12,"input",29),o.TgZ(13,"label",28),o._uU(14,"Grouop Inventaire"),o.qZA()()(),o.TgZ(15,"div",25),o._UZ(16,"i",26)(17,"input",30),o.TgZ(18,"label",28),o._uU(19,"Marque"),o.qZA()(),o.TgZ(20,"div",25),o._UZ(21,"i",26)(22,"input",31),o.TgZ(23,"label",28),o._uU(24,"Designation"),o.qZA()(),o.TgZ(25,"div",24)(26,"div",32),o._UZ(27,"p-dropdown",33),o.TgZ(28,"label",34),o._uU(29,"Cat\xe9gorie"),o.qZA()(),o.TgZ(30,"div",25)(31,"p-dropdown",35),o.YNc(32,kve,1,1,"ng-template",36),o.qZA(),o.TgZ(33,"label",34),o._uU(34,"Etat"),o.qZA()()(),o.TgZ(35,"div",25),o._UZ(36,"i",26)(37,"input",37),o.TgZ(38,"label",28),o._uU(39,"Prix"),o.qZA()(),o.TgZ(40,"div",38)(41,"p-button",39),o.NdJ("onClick",function(){o.CHM(e);const r=o.MAs(3),s=o.oxw().$implicit;return o.oxw().onAddMateriel(r.value,s)}),o._uU(42,"Add"),o.qZA()()()}if(2&n){const e=o.oxw(2);o.xp6(27),o.Q6J("options",e.Categorie),o.xp6(4),o.Q6J("options",e.ChampsEtat)}}function Ave(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"tr")(1,"td",17),o._uU(2),o.qZA(),o.TgZ(3,"td",17),o._uU(4),o.qZA(),o.TgZ(5,"td",17),o._uU(6),o.qZA(),o.TgZ(7,"td",17),o._uU(8),o.qZA(),o.TgZ(9,"td",17),o._uU(10),o.qZA(),o.TgZ(11,"td",17)(12,"button",18),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().dialog.AddFormDialog("Materiel",s)}),o.qZA(),o.TgZ(13,"button",19),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw().onDelete(s)}),o.qZA(),o.TgZ(14,"button",20),o.NdJ("click",function(r){const a=o.CHM(e).$implicit;return o.MAs(16).show(r,a)}),o.qZA()()(),o.TgZ(15,"p-overlayPanel",9,21),o.YNc(17,Dve,43,2,"ng-template",11),o.qZA()}if(2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.service),o.xp6(2),o.Oqu(e.fournisseur),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.gestionnaire),o.xp6(5),o.Q6J("dismissable",!0)("showCloseIcon",!0)}}function Mve(n,t){1&n&&o._uU(0),2&n&&o.hij(" ",t.$implicit," ")}function Ove(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",1),o._uU(1,"Ajouer un PV de R\xe9ception"),o.qZA(),o.TgZ(2,"form",22,23)(4,"div",25),o._UZ(5,"i",26)(6,"input",40),o.TgZ(7,"label",28),o._uU(8,"Numero"),o.qZA()(),o.TgZ(9,"div",38)(10,"p-dropdown",41),o.YNc(11,Mve,1,1,"ng-template",36),o.qZA(),o.TgZ(12,"label",34),o._uU(13,"Service"),o.qZA()(),o.TgZ(14,"div",25),o._UZ(15,"i",26)(16,"input",42),o.TgZ(17,"label",28),o._uU(18,"Fournisseur"),o.qZA()(),o.TgZ(19,"div",25),o._UZ(20,"i",43)(21,"input",44),o.qZA(),o.TgZ(22,"div",38)(23,"p-button",45),o.NdJ("onClick",function(){o.CHM(e);const r=o.MAs(3);return o.oxw().onAdd(r.value)}),o._uU(24,"Add"),o.qZA()()()}if(2&n){const e=o.oxw();o.xp6(10),o.Q6J("options",e.ChampsService)("autoDisplayFirst",!1)}}let Rve=(()=>{class n{constructor(e,i,r,s){this.Crud=e,this.AuthService=i,this.dialog=r,this.fnc=s,this.pv=[],this.Categorie=[],this.Materiel=[],this.ChampsService=Tve,this.ChampsEtat=rC,this.champs=Cve}ngOnInit(){this.Show()}Show(){this.Crud.Get("Pv").subscribe(e=>{this.pv=e}),this.Crud.Get("Categorie").subscribe(e=>{this.Categorie=e})}onDelete(e){this.Crud.Delete("Pv",e)}onAdd(e){e.gestionnaire=this.AuthService.user.host,e.date=this.fnc.ChekDate(e),this.Crud.Add("Pv",e)}onAddMateriel(e,i){e.PV=i.numero,e.date=new Md("en-US").transform(new Date,"yyyy/MM/dd"),console.log(e.numero),this.Crud.AddSub("Pv",e.PV,"Materiel",e),e.facteur="NaN",e.valide="attente",e.groupe_code_inventaire=e.numero,e.gestionnaire=this.AuthService.user.host,this.Crud.AddMateriel(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(Po),o.Y36(ud),o.Y36(Y0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-pv-reception"]],decls:13,vars:7,consts:[[1,"head","mb-2","mt-2"],["pButton","",1,"p-button-outlined",2,"text-decoration","none","pointer-events","none"],[1,"float-end"],["pButton","","icon","pi pi-plus","class","p-button-info mr-1",3,"click",4,"ngIf"],["pButton","","icon","pi pi-file-excel",1,"p-button-success","mr-1",3,"click"],[1,"card"],["responsiveLayout","scroll","id","excel-table","styleClass","p-datatable-striped",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"dismissable","showCloseIcon"],["add",""],["pTemplate",""],["pButton","","icon","pi pi-plus",1,"p-button-info","mr-1",3,"click"],["style","font-size: smaller;","class","text-gray-600 text-center uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-center","text-gray-700"],["pButton","","icon","pi pi-align-center",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pButton","","icon","pi pi-plus",1,"p-button-rounded","p-button-text",3,"click"],["addmateriel",""],["ngModel",""],["addForm","ngForm"],[1,"flex"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user"],["ngModel","","type","number","pInputText","","name","quantite","pKeyFilter","pnum",2,"width","8rem"],["for","inputtext-left"],["ngModel","","type","text","pInputText","","name","numero","pKeyFilter","pnum",2,"width","8rem"],["ngModel","","type","text","pInputText","","name","marque"],["ngModel","","type","text","pInputText","","name","designation"],[1,"p-float-label","p-input-icon-left","mr-4"],["ngModel","","optionValue","numero","optionLabel","numero","name","categorie","dropdownIcon","pi pi-user",3,"options"],["for","dropdown"],["ngModel","","name","etat","dropdownIcon","pi pi-user",3,"options"],["pTemplate","selectedItem"],["ngModel","","type","number","pInputText","","name","prix","pKeyFilter","pnum"],[1,"p-float-label"],["type","submit",3,"onClick"],["ngModel","","type","text","pInputText","","pKeyFilter","pnum","name","numero"],["ngModel","","name","service",3,"options","autoDisplayFirst"],["ngModel","","type","text","pInputText","","name","fournisseur"],[1,"pi","pi-calendar"],["ngModel","","type","date","pInputText","","name","date",2,"width","14.7rem"],["mat-dialog-close","","type","submit",3,"onClick"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"a",1),o._uU(2,"Liste des Pv de R\xe9ception"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,Eve,1,0,"pButton",3),o.TgZ(5,"pButton",4),o.NdJ("click",function(){return i.fnc.exportExcel()}),o.qZA()()(),o.TgZ(6,"div",5)(7,"p-table",6),o.YNc(8,Ive,4,1,"ng-template",7),o.YNc(9,Ave,18,7,"ng-template",8),o.qZA()(),o.TgZ(10,"p-overlayPanel",9,10),o.YNc(12,Ove,25,2,"ng-template",11),o.qZA()),2&e&&(o.xp6(4),o.Q6J("ngIf",i.AuthService.ChekRole("Gestionnaire")),o.xp6(3),o.Q6J("value",i.pv)("paginator",!0)("rows",6)("responsive",!0),o.xp6(3),o.Q6J("dismissable",!0)("showCloseIcon",!0))},directives:[Zl,Tn,_o,Mr,ii,$f,Yf,JM,Sg,Eg,Ch,Tg,Th,bg,Kx,Eh,CS,wS,vy,F0],styles:[".form-container[_ngcontent-%COMP%]{max-width:auto}.p-float-label[_ngcontent-%COMP%]{margin-top:25px;margin-left:5px;display:block}.p-button-outlined[_ngcontent-%COMP%]{text-decoration:none;pointer-events:none}"]}),n})();const Fve=["content"];function Pve(n,t){1&n&&o.GkF(0)}function Nve(n,t){if(1&n&&(o.TgZ(0,"div",10),o.YNc(1,Pve,1,0,"ng-container",11),o.qZA()),2&n){const e=o.oxw(3);o.xp6(1),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}function Lve(n,t){if(1&n&&(o.TgZ(0,"span",15),o._uU(1),o.qZA()),2&n){const e=o.oxw(4);o.xp6(1),o.Oqu(e.option("header"))}}const Bve=function(){return{"p-dialog-header-icon p-dialog-header-close p-link":!0}};function Vve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(r){return o.CHM(e),o.oxw(4).close(r)})("keydown.enter",function(r){return o.CHM(e),o.oxw(4).close(r)}),o._UZ(1,"span",17),o.qZA()}2&n&&o.Q6J("ngClass",o.DdM(1,Bve))}function Uve(n,t){if(1&n&&(o.TgZ(0,"div",10),o.YNc(1,Lve,2,1,"span",12),o.TgZ(2,"div",13),o.YNc(3,Vve,2,2,"button",14),o.qZA()()),2&n){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("header")),o.xp6(2),o.Q6J("ngIf",e.closable)}}function Hve(n,t){if(1&n&&o._UZ(0,"i",1),2&n){const e=o.oxw(3);o.Tol(e.option("icon")),o.Q6J("ngClass","p-confirm-dialog-icon")}}function jve(n,t){1&n&&o.GkF(0)}function zve(n,t){if(1&n&&(o.TgZ(0,"div",18),o.Hsn(1),o.YNc(2,jve,1,0,"ng-container",11),o.qZA()),2&n){const e=o.oxw(3);o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}function Zve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).reject()}),o.qZA()}if(2&n){const e=o.oxw(4);o.Tol(e.option("rejectButtonStyleClass")),o.Q6J("icon",e.option("rejectIcon"))("label",e.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),o.uIk("aria-label",e.rejectAriaLabel)}}function Wve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw(4).accept()}),o.qZA()}if(2&n){const e=o.oxw(4);o.Tol(e.option("acceptButtonStyleClass")),o.Q6J("icon",e.option("acceptIcon"))("label",e.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),o.uIk("aria-label",e.acceptAriaLabel)}}function qve(n,t){if(1&n&&(o.TgZ(0,"div",18),o.YNc(1,Zve,1,6,"button",19),o.YNc(2,Wve,1,6,"button",19),o.qZA()),2&n){const e=o.oxw(3);o.xp6(1),o.Q6J("ngIf",e.option("rejectVisible")),o.xp6(1),o.Q6J("ngIf",e.option("acceptVisible"))}}const Gve=function(n){return{"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}},$ve=function(n,t){return{transform:n,transition:t}},Yve=function(n){return{value:"visible",params:n}};function Kve(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("mousedown",function(){return o.CHM(e),o.oxw(2).moveOnTop()})("@animation.start",function(r){return o.CHM(e),o.oxw(2).onAnimationStart(r)})("@animation.done",function(r){return o.CHM(e),o.oxw(2).onAnimationEnd(r)}),o.YNc(1,Nve,2,1,"div",4),o.YNc(2,Uve,4,2,"div",4),o.TgZ(3,"div",5,6),o.YNc(5,Hve,1,3,"i",7),o._UZ(6,"span",8),o.qZA(),o.YNc(7,zve,3,1,"div",9),o.YNc(8,qve,3,2,"div",9),o.qZA()}if(2&n){const e=o.oxw(2);o.Tol(e.styleClass),o.Q6J("ngClass",o.VKq(11,Gve,e.rtl))("ngStyle",e.style)("@animation",o.VKq(16,Yve,o.WLB(13,$ve,e.transformOptions,e.transitionOptions))),o.xp6(1),o.Q6J("ngIf",e.headerTemplate),o.xp6(1),o.Q6J("ngIf",!e.headerTemplate),o.xp6(3),o.Q6J("ngIf",e.option("icon")),o.xp6(1),o.Q6J("innerHTML",e.option("message"),o.oJD),o.xp6(1),o.Q6J("ngIf",e.footer||e.footerTemplate),o.xp6(1),o.Q6J("ngIf",!e.footer&&!e.footerTemplate)}}function Qve(n,t){if(1&n&&(o.TgZ(0,"div",1),o.YNc(1,Kve,9,18,"div",2),o.qZA()),2&n){const e=o.oxw();o.Tol(e.maskStyleClass),o.Q6J("ngClass",e.getMaskClass()),o.xp6(1),o.Q6J("ngIf",e.visible)}}const Jve=[[["p-footer"]]],Xve=["p-footer"],eye=gr([re({transform:"{{transform}}",opacity:0}),D("{{transition}}",re({transform:"none",opacity:1}))]),tye=gr([D("{{transition}}",re({transform:"{{transform}}",opacity:0}))]);let nye=(()=>{class n{constructor(e,i,r,s,a,l){this.el=e,this.renderer=i,this.confirmationService=r,this.zone=s,this.cd=a,this.config=l,this.acceptIcon="pi pi-check",this.acceptVisible=!0,this.rejectIcon="pi pi-times",this.rejectVisible=!0,this.closeOnEscape=!0,this.blockScroll=!0,this.closable=!0,this.autoZIndex=!0,this.baseZIndex=0,this.transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.focusTrap=!0,this.defaultFocus="accept",this.onHide=new o.vpe,this._position="center",this.transformOptions="scale(0.7)",this.id=_S(),this.subscription=this.confirmationService.requireConfirmation$.subscribe(d=>{d?d.key===this.key&&(this.confirmation=d,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:null==this.confirmation.rejectVisible?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:null==this.confirmation.acceptVisible?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:!1===this.confirmation.blockScroll||!0===this.confirmation.blockScroll?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:!1===this.confirmation.closeOnEscape||!0===this.confirmation.closeOnEscape?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:!1===this.confirmation.dismissableMask||!0===this.confirmation.dismissableMask?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)"}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}option(e){const i=this.confirmationOptions||this;if(i.hasOwnProperty(e))return i[e]}onAnimationStart(e){if("visible"===e.toState){this.container=e.element,this.wrapper=this.container.parentElement,this.contentContainer=Se.findSingle(this.container,".p-dialog-content"),this.container.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();const i=this.getElementToFocus();i&&i.focus()}}onAnimationEnd(e){"void"===e.toState&&this.onOverlayHide()}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":default:return Se.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return Se.findSingle(this.container,".p-confirm-dialog-reject");case"close":return Se.findSingle(this.container,".p-dialog-header-close");case"none":return null}}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):Se.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&Se.addClass(document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.close(e)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&Se.removeClass(document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints)e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-dialog[${this.id}] {\n                            width: ${this.breakpoints[i]} !important;\n                        }\n                    }\n                `;this.styleElement.innerHTML=e}}close(e){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(R0.CANCEL),this.hide(R0.CANCEL),e.preventDefault()}hide(e){this.onHide.emit(e),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(No.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let e={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return e[this.getPositionClass().toString()]=!0,e}getPositionClass(){const i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener)&&(this.documentEscapeListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","keydown",i=>{if(27==i.which&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===No.get(this.container)&&this.visible&&this.close(i),9===i.which&&this.focusTrap){i.preventDefault();let r=Se.getFocusableElements(this.container);if(r&&r.length>0)if(r[0].ownerDocument.activeElement){let s=r.indexOf(r[0].ownerDocument.activeElement);i.shiftKey?-1==s||0===s?r[r.length-1].focus():r[s-1].focus():-1==s||s===r.length-1?r[0].focus():r[s+1].focus()}else r[0].focus()}}))}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&No.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(R0.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(R0.REJECT),this.hide(R0.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(ra.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(ra.REJECT)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(tL),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(_y))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,rU,5),o.Suo(r,Mr,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.footer=s.first),o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(Fve,5),2&e){let r;o.iGM(r=o.CRH())&&(i.contentViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:"acceptVisible",rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:"rejectVisible",acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:"closeOnEscape",dismissableMask:"dismissableMask",blockScroll:"blockScroll",rtl:"rtl",closable:"closable",appendTo:"appendTo",key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",transitionOptions:"transitionOptions",focusTrap:"focusTrap",defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},ngContentSelectors:Xve,decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle","class","mousedown",4,"ngIf"],[3,"ngClass","ngStyle","mousedown"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-dialog-message",3,"innerHTML"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title"],["type","button",3,"ngClass","click","keydown.enter"],[1,"pi","pi-times"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"icon","label","ngClass","click"]],template:function(e,i){1&e&&(o.F$t(Jve),o.YNc(0,Qve,2,4,"div",0)),2&e&&o.Q6J("ngIf",i.maskVisible)},directives:[Tn,mi,Wi,ir,Sh,Zl],styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[cs("animation",[fn("void => visible",[$a(eye)]),fn("visible => void",[$a(tye)])])]},changeDetection:0}),n})(),iye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,yy,cd],yy,sa]}),n})();function rye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"pButton",13),o.NdJ("click",function(r){return o.CHM(e),o.oxw(),o.MAs(11).show(r)}),o.qZA()}}function sye(n,t){if(1&n&&(o.TgZ(0,"th",16),o._uU(1),o._UZ(2,"p-sortIcon",17),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function oye(n,t){1&n&&(o.TgZ(0,"th",18),o._uU(1,"options"),o.qZA())}function aye(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,sye,3,3,"th",14),o.YNc(2,oye,2,0,"th",15),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs),o.xp6(1),o.Q6J("ngIf",e.AuthService.ChekRole("Comptable"))}}function lye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",27),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().onValide(r)}),o.qZA()}}function cye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().dialog.ShowInfoFacteur(r)}),o.qZA()}}function uye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",29),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().OnDialogValide(r)}),o.qZA()}}function dye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",30),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().onDelete(r)}),o.qZA()}}function hye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",31),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().dialog.ShowInfoFacteur(r)}),o.qZA()}}function fye(n,t){if(1&n&&(o.TgZ(0,"td",21),o.YNc(1,lye,1,0,"button",22),o.YNc(2,cye,1,0,"button",23),o.YNc(3,uye,1,0,"button",24),o.YNc(4,dye,1,0,"button",25),o.YNc(5,hye,1,0,"button",26),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngIf",e.valide),o.xp6(1),o.Q6J("ngIf",e.valide),o.xp6(1),o.Q6J("ngIf",!e.valide),o.xp6(1),o.Q6J("ngIf",!e.valide),o.xp6(1),o.Q6J("ngIf",!e.valide)}}function pye(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",19),o._uU(2),o.qZA(),o.TgZ(3,"td",19),o._uU(4),o.qZA(),o.TgZ(5,"td",19),o._uU(6),o.qZA(),o.TgZ(7,"td",19),o._uU(8),o.qZA(),o.TgZ(9,"td",19),o._uU(10),o.ALo(11,"currency"),o.qZA(),o.TgZ(12,"td",19),o._uU(13),o.ALo(14,"currency"),o.qZA(),o.TgZ(15,"td",19),o._uU(16),o.ALo(17,"currency"),o.qZA(),o.YNc(18,fye,6,5,"td",20),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.fournisseur),o.xp6(2),o.Oqu(e.comptable),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(o.xi3(11,8,e.ht,"DZD ")),o.xp6(3),o.Oqu(o.xi3(14,11,e.tva,"DZD ")),o.xp6(3),o.Oqu(o.xi3(17,14,e.ttc,"DZD ")),o.xp6(2),o.Q6J("ngIf",i.AuthService.ChekRole("Comptable"))}}function gye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",32)(1,"a",1),o._uU(2,"Ajouer Une Facteur"),o.qZA(),o.TgZ(3,"form",33,34)(5,"div",35),o._UZ(6,"i",36)(7,"input",37),o.TgZ(8,"label",38),o._uU(9,"Fournisseur"),o.qZA()(),o.TgZ(10,"div",35),o._UZ(11,"i",36)(12,"input",39),o.TgZ(13,"label",38),o._uU(14,"Numero"),o.qZA()(),o.TgZ(15,"div",35),o._UZ(16,"i",40)(17,"input",41),o.qZA(),o.TgZ(18,"div",42)(19,"p-button",43),o.NdJ("onClick",function(){o.CHM(e);const r=o.MAs(4);return o.oxw().onAdd(r.value)}),o._uU(20,"Add"),o.qZA()()()()}}let mye=(()=>{class n{constructor(e,i,r,s,a){this.Crud=e,this.AuthService=i,this.dialog=r,this.fnc=s,this.confirmationService=a,this.facteur=[],this.champs=_L}ngOnInit(){this.ShowFacteur()}ShowFacteur(){this.Crud.Get("Facteur").subscribe(e=>{this.facteur=e})}onDelete(e){this.confirmationService.confirm({header:"Confirmation",accept:()=>{this.Crud.Delete("Facteur",e)},reject:()=>{}})}onValide(e){e.valide=!e.valide,this.Crud.Update("Facteur",e),this.Crud.UpdateSub("Fournisseur",e.fournisseur,"Facteur",e)}OnDialogValide(e){this.dialog.ValidationFacteur(e)}onAdd(e){e.comptable=this.AuthService.user.host,e.ht=0,e.valide=!1,e.tva=19,e.ttc=0,e.date=this.fnc.ChekDate(e),this.Crud.Add("Facteur",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(Po),o.Y36(ud),o.Y36(Y0),o.Y36(tL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-facteur"]],decls:14,vars:8,consts:[[1,"head","mb-2","mt-2"],["pButton","",1,"p-button-outlined",2,"text-decoration","none","pointer-events","none"],[1,"float-end"],["pButton","","icon","pi pi-plus","class","p-button-info mr-1",3,"click",4,"ngIf"],["pButton","","icon","pi pi-file-excel",1,"p-button-success","mr-1",3,"click"],[1,"card"],["responsiveLayout","scroll",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"dismissable","showCloseIcon"],["op",""],["pTemplate",""],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["pButton","","icon","pi pi-plus",1,"p-button-info","mr-1",3,"click"],["style","font-size: smaller;","class","text-center text-gray-600 uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],["style","font-size: smaller;","class","text-center text-gray-600 uppercase",4,"ngIf"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-center","text-gray-600","uppercase",2,"font-size","smaller"],[1,"text-center","text-gray-700"],["class","text-center",4,"ngIf"],[1,"text-center"],["pButton","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success",3,"click",4,"ngIf"],["pButton","","icon","pi pi-align-right","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-help",3,"click",4,"ngIf"],["pButton","","icon","pi pi-trash","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],["pButton","","icon","pi pi-plus","class","p-button-rounded p-button-text",3,"click",4,"ngIf"],["pButton","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success",3,"click"],["pButton","","icon","pi pi-align-right",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-help",3,"click"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pButton","","icon","pi pi-plus",1,"p-button-rounded","p-button-text",3,"click"],[1,"form-container"],["ngModel",""],["addForm","ngForm"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user"],["ngModel","","type","text","pInputText","","name","fournisseur"],["for","inputtext-left"],["ngModel","","type","text","pInputText","","name","numero"],[1,"pi","pi-calendar"],["ngModel","","type","date","pInputText","","name","date",2,"width","14.7rem"],[1,"p-float-label","ml-6"],["mat-dialog-close","","type","submit",3,"onClick"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"a",1),o._uU(2,"Liste des factures"),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,rye,1,0,"pButton",3),o.TgZ(5,"pButton",4),o.NdJ("click",function(){return i.fnc.exportExcel()}),o.qZA()()(),o.TgZ(6,"div",5)(7,"p-table",6),o.YNc(8,aye,3,2,"ng-template",7),o.YNc(9,pye,19,17,"ng-template",8),o.qZA()(),o.TgZ(10,"p-overlayPanel",9,10),o.YNc(12,gye,21,0,"ng-template",11),o.qZA(),o._UZ(13,"p-confirmDialog",12)),2&e&&(o.xp6(4),o.Q6J("ngIf",i.AuthService.ChekRole("Comptable")),o.xp6(3),o.Q6J("value",i.facteur)("paginator",!0)("rows",6)("responsive",!0),o.xp6(3),o.Q6J("dismissable",!0)("showCloseIcon",!0),o.xp6(3),o.Q6J("baseZIndex",1e4))},directives:[Zl,Tn,_o,Mr,ii,$f,Yf,JM,Sg,Eg,Ch,Tg,Th,bg,Eh,vy,F0,nye],pipes:[ls],styles:[".form-container[_ngcontent-%COMP%]{max-width:auto}.p-float-label[_ngcontent-%COMP%]{margin-top:25px;margin-left:5px;display:block}.p-button-outlined[_ngcontent-%COMP%]{text-decoration:none;pointer-events:none}"]}),n})(),_ye=(()=>{class n{containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value"},decls:2,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass",i.containerClass())("ngStyle",i.style),o.xp6(1),o.hij(" ",i.value," "))},directives:[mi,Wi],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),n})(),vye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi],sa]}),n})(),yye=(()=>{class n{constructor(e,i,r,s){this.authService=e,this.dialog=i,this.crud=r,this.fnc=s,this.Materiel=[],this.MaterielAccipte=[],this.MaterielRefuse=[],this.MaterielAttente=[],this.Facteur=[],this.Facteurvalider=[],this.FacteurAttente=[]}ngOnInit(){this.ShowMateriel(),this.ShowFacteur()}ShowMateriel(){this.crud.Get("Materiel").subscribe(e=>{this.Materiel=e}),this.crud.GetWithCond("Materiel","valide","valide").subscribe(e=>{this.MaterielAccipte=e}),this.crud.GetWithCond("Materiel","valide","refuse").subscribe(e=>{this.MaterielRefuse=e}),this.crud.GetWithCond("Materiel","valide","attente").subscribe(e=>{this.MaterielAttente=e})}ShowFacteur(){this.crud.Get("Facteur").subscribe(e=>{this.Facteur=e}),this.crud.GetWithCond("Facteur","valide",!0).subscribe(e=>{this.Facteurvalider=e}),this.crud.GetWithCond("Facteur","valide",!1).subscribe(e=>{this.FacteurAttente=e})}CalculMatnatTotale(e){let i=0;return e.forEach(r=>{i+=r.ttc}),i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Po),o.Y36(ud),o.Y36(fu),o.Y36(Y0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:62,vars:15,consts:[[1,"grid","mb-2","mt-2"],[1,"col-12","md:col-6","lg:col-3"],[1,"surface-card","shadow-4","p-3","border-round"],[1,"flex","justify-content-between","mb-3"],[1,"block","text-500","font-medium","mb-3"],[1,"flex","fs-4"],["size","large","severity","warning","styleClass","mr-2",3,"value"],["size","large","severity","success","styleClass","mr-2",3,"value"],["size","large","severity","info","styleClass","mr-2",3,"value"],["size","large","severity","danger","styleClass","mr-2",3,"value"],[1,"flex","align-items-center","justify-content-center","bg-blue-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-desktop","text-blue-500","text-xl"],[1,"text-green-500","font-medium"],[1,"text-500"],[1,"flex","align-items-center","justify-content-center","bg-orange-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-file","text-orange-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-cyan-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-dollar","text-cyan-500","text-xl"],[1,"flex","align-items-center","justify-content-center","bg-purple-100","border-round",2,"width","2.5rem","height","2.5rem"],[1,"pi","pi-comment","text-purple-500","text-xl"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"span",4),o._uU(6,"Materiel"),o.qZA(),o.TgZ(7,"div",5),o._UZ(8,"p-badge",6)(9,"p-badge",7)(10,"p-badge",8)(11,"p-badge",9),o.qZA()(),o.TgZ(12,"div",10),o._UZ(13,"i",11),o.qZA()(),o.TgZ(14,"span",12),o._uU(15,"24 new "),o.qZA(),o.TgZ(16,"span",13),o._uU(17,"since last visit"),o.qZA()()(),o.TgZ(18,"div",1)(19,"div",2)(20,"div",3)(21,"div")(22,"span",4),o._uU(23,"Facture"),o.qZA(),o.TgZ(24,"div",5),o._UZ(25,"p-badge",6)(26,"p-badge",7)(27,"p-badge",8),o.qZA()(),o.TgZ(28,"div",14),o._UZ(29,"i",15),o.qZA()(),o.TgZ(30,"span",12),o._uU(31,"%52+ "),o.qZA(),o.TgZ(32,"span",13),o._uU(33,"since last week"),o.qZA()()(),o.TgZ(34,"div",1)(35,"div",2)(36,"div",3)(37,"div")(38,"span",4),o._uU(39,"Mantant"),o.qZA(),o._UZ(40,"p-badge",7),o.ALo(41,"currency"),o.qZA(),o.TgZ(42,"div",16),o._UZ(43,"i",17),o.qZA()(),o.TgZ(44,"span",12),o._uU(45,"520 "),o.qZA(),o.TgZ(46,"span",13),o._uU(47,"newly registered"),o.qZA()()(),o.TgZ(48,"div",1)(49,"div",2)(50,"div",3)(51,"div")(52,"span",4),o._uU(53,"Comments"),o.qZA(),o._UZ(54,"p-badge",7),o.ALo(55,"currency"),o.qZA(),o.TgZ(56,"div",18),o._UZ(57,"i",19),o.qZA()(),o.TgZ(58,"span",12),o._uU(59,"85 "),o.qZA(),o.TgZ(60,"span",13),o._uU(61,"responded"),o.qZA()()()()),2&e&&(o.xp6(8),o.s9C("value",i.Materiel.length),o.xp6(1),o.s9C("value",i.MaterielAccipte.length),o.xp6(1),o.s9C("value",i.MaterielAttente.length),o.xp6(1),o.s9C("value",i.MaterielRefuse.length),o.xp6(14),o.s9C("value",i.Facteur.length),o.xp6(1),o.s9C("value",i.Facteurvalider.length),o.xp6(1),o.s9C("value",i.FacteurAttente.length),o.xp6(13),o.s9C("value",o.xi3(41,9,i.CalculMatnatTotale(i.Facteurvalider),"DZD ")),o.xp6(14),o.s9C("value",o.xi3(55,12,i.CalculMatnatTotale(i.Facteurvalider),"DZD ")))},directives:[_ye],pipes:[ls],styles:[".surface-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out;border-left:solid 5px #1976d2;background-color:#fffc}.surface-card[_ngcontent-%COMP%]:hover{transform:scale(1.03)}"]}),n})(),vb=(()=>{class n{constructor(){this.screenWidth=window.innerWidth,this.collapsed=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wye=["*",[["mat-toolbar-row"]]],xye=["*","mat-toolbar-row"],bye=cte(class{constructor(n){this._elementRef=n}});let Cye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Tye=(()=>{class n extends bye{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Gf),o.Y36(Ne))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Cye,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:xye,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(wye),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Eye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hM],hM]}),n})();function Sye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().dialog.UserInfoDialog()}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw();o.xp6(1),o.AsE("",e.authService.user.role," : ",e.authService.user.host,"")}}function Iye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"a",13),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).dialog.SignupDialog()}),o._UZ(1,"i",16),o.qZA()}}function kye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li",9),o.YNc(1,Iye,2,0,"a",10),o.TgZ(2,"a",11),o._UZ(3,"i",12),o.qZA(),o.TgZ(4,"a",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().dialog.ListUsersDialog()}),o._UZ(5,"i",14),o.qZA(),o.TgZ(6,"a",13),o.NdJ("click",function(){return o.CHM(e),o.oxw().authService.logout()}),o._UZ(7,"i",15),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.authService.ChekRole("Admin"))}}function Dye(n,t){1&n&&(o.TgZ(0,"li",9)(1,"a",11),o._UZ(2,"i",12),o.qZA()())}let Aj=(()=>{class n{constructor(e,i,r){this.authService=e,this.dialog=i,this.screen=r}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Po),o.Y36(ud),o.Y36(vb))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-navbar"]],decls:10,vars:3,consts:[[1,"navbar"],["pButton","","class","p-button-outlined",3,"click",4,"ngIf"],["routerLink","accueil",1,"marklogo"],[1,"logo"],["alt","","src","https://firebasestorage.googleapis.com/v0/b/kanaghazdemo-bc29d.appspot.com/o/kanaghazlogo.png?alt=media&token=dc736f22-8a7e-49af-916e-aa020247d403"],[1,"logo-text"],[1,"nav-nav"],["class","nav-item",4,"ngIf"],["pButton","",1,"p-button-outlined",3,"click"],[1,"nav-item"],["class","link",3,"click",4,"ngIf"],[1,"link"],[1,"link-icon","pi","pi-bell"],[1,"link",3,"click"],[1,"link-icon","pi","pi-users"],[1,"link-icon","pi","pi-sign-out"],[1,"link-icon","pi","pi-user-plus"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-toolbar",0),o.YNc(1,Sye,2,2,"a",1),o.TgZ(2,"a",2)(3,"div",3),o._UZ(4,"img",4),o.qZA(),o.TgZ(5,"div",5),o._uU(6,"KANAGHAZ"),o.qZA()(),o.TgZ(7,"ul",6),o.YNc(8,kye,8,1,"li",7),o.YNc(9,Dye,3,0,"li",7),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("ngIf",i.authService.ChekLogin()),o.xp6(7),o.Q6J("ngIf",i.authService.ChekLogin()),o.xp6(1),o.Q6J("ngIf",!i.authService.ChekLogin()))},directives:[Tye,Tn,Zl,Gx],styles:["mat-toolbar[_ngcontent-%COMP%]{transition:all .5s ease-in-out;position:absolute;height:auto;width:calc(100% - 4rem);margin-left:4rem;z-index:1;top:0;background-color:#3e95eb05}.body-collapsed[_ngcontent-%COMP%]{width:calc(100% - 10rem);margin-left:10rem}.nav-nav[_ngcontent-%COMP%]{list-style:none;margin:0;align-items:center}.nav-item[_ngcontent-%COMP%]{margin-bottom:.625rem;float:left;cursor:pointer}.link[_ngcontent-%COMP%]{align-items:center;padding:12px 0 12px 12px}.link-icon[_ngcontent-%COMP%]{font-size:20px;width:2rem;margin:0rem .3rem;padding-top:.7rem;margin-top:10px;margin-left:5px;color:#1976d2;transition:all .5s ease}.link-icon[_ngcontent-%COMP%]:hover{color:#313a46}.label[_ngcontent-%COMP%]{color:#1976d2;font-size:15px}.marklogo[_ngcontent-%COMP%]{display:flex;margin-left:-20px;text-decoration:none}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px}.logo[_ngcontent-%COMP%]{margin-right:10px}.logo-text[_ngcontent-%COMP%]{margin-top:10px;color:#1976d2;letter-spacing:1px;cursor:pointer}.p-button-outlined[_ngcontent-%COMP%]{text-decoration:none;border:none;color:#1976d2;font-size:20px;font-family:Josefin Sans,sans-serif}.p-button-outlined[_ngcontent-%COMP%]:hover{color:gray}@media (max-width: 750px){.marklogo[_ngcontent-%COMP%], .p-button-outlined[_ngcontent-%COMP%]{display:none}}"]}),n})();function Aye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"p",2),o._uU(2,"Bienveneu dans KANAGHAZ"),o.qZA(),o.TgZ(3,"div",3)(4,"p-button",4),o.NdJ("click",function(){return o.CHM(e),o.oxw().ChangeValue()}),o._uU(5,"LOGIN"),o.qZA()()()}}function Mye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"h1"),o._uU(2,"Login"),o.qZA(),o.TgZ(3,"form")(4,"div",5),o._UZ(5,"input",6,7),o.TgZ(7,"label",8),o._uU(8,"Email Address"),o.qZA(),o._UZ(9,"i",9),o.qZA(),o.TgZ(10,"div",5),o._UZ(11,"input",10,11),o.TgZ(13,"label",8),o._uU(14,"Mote de Passe"),o.qZA(),o._UZ(15,"i",12),o.qZA(),o.TgZ(16,"div",3)(17,"p-button",4),o.NdJ("click",function(){o.CHM(e);const r=o.MAs(6),s=o.MAs(12);return o.oxw().onLogin(r.value,s.value)}),o._uU(18,"LOGIN"),o.qZA()()()()}}let Oye=(()=>{class n{constructor(e){this.authService=e,this.value=!1}ngOnInit(){}onLogin(e,i){this.authService.login(e,i)}ChangeValue(){this.value=!this.value}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Po))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:3,vars:2,consts:[[1,"form-container"],[4,"ngIf"],[1,"text-white","text-center","fs-5"],[1,"p-float-label"],["mat-dialog-close","","type","submit",3,"click"],[1,"p-float-label","p-input-icon-left"],["title","email","pInputText",""],["email",""],["for","inputtext-left"],[1,"pi","pi-user"],["type","password","pInputText",""],["password",""],[1,"pi","pi-lock"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Aye,6,0,"div",1),o.YNc(2,Mye,19,0,"div",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",!i.value),o.xp6(1),o.Q6J("ngIf",i.value))},directives:[Tn,vy,F0,Sg,Eg,Ch,Eh],styles:[".form-container[_ngcontent-%COMP%]{display:block;max-width:350px;margin:auto;padding:20px;border-radius:40px;z-index:1;background-color:#0003}.p-float-label[_ngcontent-%COMP%]{margin-top:25px;text-align:center}form[_ngcontent-%COMP%]{margin-left:2rem}h1[_ngcontent-%COMP%]{color:#1976d2;text-align:center}"]}),n})(),Rye=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Po))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],decls:127,vars:0,consts:[[1,"home"],[1,"login"],[1,"grid"],[1,"col-12","md:col-6","p-6","overflow-hidden"],["src","https://static.vecteezy.com/ti/fotos-gratis/p1/3815647-crescendo-de-negocios-financas-tecnologia-e-investimento-negociacao-comerciante-investidor-mercado-de-acoes-fundos-e-ativos-digitais-empresario-analisando-forex-trading-grafico-financeiro-marketing-dados-gr%C3%A1tis-foto.jpg","alt","Image",1,"md:ml-auto","block","md:h-full",2,"clip-path","polygon(0 0, 92% 0%, 100% 100%, 0% 100%)","width","100%"],[1,"col-12","md:col-6","p-6","text-center","md:text-left","flex","align-items-center"],[1,"block","text-6xl","font-bold","mb-1","text-primary","h4","text-center"],[1,"mt-0","mb-4","text-700","line-height-3","text-center","fs-5"],["src","https://www.ecommercebrasil.com.br/wp-content/uploads/2021/06/crescimento-do-negocio.jpg","alt","Image",1,"md:ml-auto","block","md:h-full",2,"clip-path","polygon(8% 0, 100% 0%, 100% 100%, 0 100%)","width","100%"],["src","https://nirogahian.ir/wp-content/uploads/2020/12/1-4-1100x700.jpg","alt","Image",1,"md:ml-auto","block","md:h-full",2,"clip-path","polygon(0 0, 92% 0%, 100% 100%, 0% 100%)","width","100%"],[1,"mt-0","mb-4","text-700","line-height-3","text-center","m-lg-4","fs-5"],[1,"fs-6","ml-8"],["src","https://yeadim-mashkanta.co.il/wp-content/uploads/2020/05/%D7%94%D7%9C%D7%95%D7%95%D7%90%D7%AA-%D7%92%D7%99%D7%A9%D7%95%D7%A8.jpg","alt","Image",1,"md:ml-auto","block","md:h-full",2,"clip-path","polygon(8% 0, 100% 0%, 100% 100%, 0 100%)","width","100%"],[1,"flex","cards"],[1,"card","shadow","mr-6"],["src","https://regista.ir/wp-content/uploads/2020/02/service2-home4.png","alt","",1,"m-lg-auto",2,"width","7rem"],[1,"h3","text-blue-500","m-lg-auto"],[1,"mt-0","mb-4","text-700","line-height-3","text-center","m-lg-4"],["src","https://regista.ir/wp-content/uploads/2020/02/service3-home4.png","alt","",1,"m-lg-auto",2,"width","7rem"],["src","https://regista.ir/wp-content/uploads/2020/02/service1-home4.png","alt","",1,"m-lg-auto",2,"width","7rem"],[1,"flex"],[1,"text-center","md:text-left","align-items-center"],[1,"block","text-6xl","font-bold","mb-4","text-primary","text-center","text-white"],[1,"text-700","line-height-3","text-center","text-white","fs-6",2,"width","500px"],[1,"social","flex"],["href","#",1,"flex","mr-3","w-4rem","h-4rem"],[1,"fs-3","pi","pi-facebook"],[1,"fs-3","pi","pi-instagram"],[1,"fs-3","pi","pi-twitter"],["xmlns","http://www.w3.org/2000/svg","width","524.67004","height","627.58314","viewBox","0 0 524.67004 627.58314",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"phonefooter"],["d","M369.04619,148.0378h51.762v17.04364c0,28.5682-23.19375,51.76195-51.76195,51.76195h-.00005v-68.80558h0Z","transform","translate(789.85437 364.88118) rotate(-180)","fill","#2f2e41"],["points","409.33502 185.02664 418.23482 225.05637 366.08305 216.39672 387.33502 178.53845 409.33502 185.02664","fill","#a0616a"],["points","409.33502 185.02664 418.23482 225.05637 366.08305 216.39672 387.33502 178.53845 409.33502 185.02664","opacity",".1"],["x","359.33502","y","270.53845","width","50","height","74","transform","translate(768.67004 615.07691) rotate(-180)","fill","#a0616a"],["d","M441.83502,405.03845l-11,59s7,41-14,83l-14,43-21-3s13-32,13-46c0-14,3-68,3-68l-1.5-61.61811,45.5-6.38189Z","fill","#2f2e41"],["d","M378.83502,586.03845s24-9,26,4l-1,6s9,27-4,29c-13,2-25,5-26-1s-.98425-13.48966,1.50787-18.74483c2.49213-5.25517,3.49213-19.25517,3.49213-19.25517Z","fill","#2f2e41"],["d","M366.13446,395.88629l-5.84242,59.73162s-18.12633,37.43576-9.63539,83.61913l1.48898,45.19716,21.00587,2.95865s-3.58764-34.353,.30589-47.80069c3.89353-13.44769,16.0298-66.15169,16.0298-66.15169l18.5774-58.77007-41.93013-18.7841Z","fill","#2f2e41"],["d","M376.31126,587.26662s-20.5502-15.31957-26.08672-3.38865l-.70811,6.04141s-16.1539,23.43185-4.22298,28.96837c11.93092,5.53652,22.62319,11.75548,25.25239,6.2703,2.62921-5.48519,4.69702-12.68375,3.76473-18.42469-.9323-5.74094,2.00069-19.46674,2.00069-19.46674Z","fill","#2f2e41"],["d","M429.83502,310.53845c23.51917,21.94757,25.26404,56.67346,11.5,98,0,0-44,30-76-8l-16-77,80.5-13Z","fill","#2f2e41"],["d","M390.33502,203.53845l25,4-2,63,28,56-36,18s-28-53-33-86-2-57-2-57l20,2Z","fill","#6c63ff"],["d","M371.33502,205.53845l-25,4,2,63-6,58,14,16s28-53,33-86,2-57,2-57l-20,2Z","fill","#6c63ff"],["d","M401.33502,207.03845l5.5-1.5s19.5-2.5,22.5,5.5,2,55,2,55c0,0,5.16,57.68504-14.92,58.34252s-16.08-47.34252-16.08-47.34252l1-70Z","fill","#6c63ff"],["cx","400.60838","cy","170.13134","r","25.881","fill","#a0616a"],["d","M368.33502,209.03845l-5.5-1.5s-19.5-2.5-22.5,5.5-2,55-2,55c0,0-5.16,57.68504,14.92,58.34252s16.08-47.34252,16.08-47.34252l-1-70Z","fill","#6c63ff"],["d","M385.65786,205.75047c-5.55216-1.40863-11.84681,4.52132-14.06128,13.24853-.93243,3.47409-1.01931,7.12088-.2534,10.63535l-2.38571,9.92043-.17551-.00924-18.81824,44.34887c-4.37547,10.31165-3.91314,22.14968,1.66767,31.86201,3.3199,5.77765,7.67792,9.66177,12.79497,5.69682,8.49085-6.57912,14.03686-44.24916,16.56905-65.88826l5.85496-21.9959c2.35018-2.72464,4.01347-5.97257,4.85067-9.47191,2.2149-8.72385-.49107-16.93801-6.04318-18.34671Z","fill","#a0616a"],["d","M351.0597,191.06934c1.31647-4.00284,3.91522-7.50723,5.07796-11.55742,1.54386-5.37763,4.83076,6.55243,5.15143,.96678,.60951-10.61668,16.81288-37.92626,26.06316-43.17205,9.25028-5.24583,14.56315-3.66417,23.98727,1.26249,0,0,4.57463,.29093,10.26981,3.10267,5.69518,2.81174,10.82161,7.31486,13.03674,13.26749,1.7558,4.7183,1.56147,9.89986,2.14813,14.89992,1.63436,13.92994,9.44292,27.17801,7.76691,41.10298-.52286,4.3445-2.17418,8.83707-5.72639,11.39244-3.55221,2.55534-9.29104,2.27736-11.62924-1.42142-.79788-1.26218-1.13531-2.75965-1.81906-4.08713-.6838-1.32748-1.91931-2.56501-3.41201-2.5237-2.2436,.06211-3.38562,3.07261-2.5009,5.13537s2.96377,3.30817,4.91583,4.41597c-4.6491,2.0915-10.41629,1.44022-14.48185-1.63548-4.06552-3.0757-6.26097-8.44832-5.51283-13.49099,1.05424-7.10612,11.4065-5.63531,12.62603-12.71492,.88773-5.15371,4.00542-13.77714,3.15622-18.93732-.8492-5.16022-4.92762,1.08784-.63124-1.89373-4.72678,2.27867-14.83731-13.30983-19.78567-15.05584-4.94831-1.74601-9.14394-5.5267-11.39402-10.26715-5.24845,7.60821-9.86523,5.54211-11.7449,14.59185-1.87967,9.04974-.14171,29.60975,7.598,34.66228-3.09743,2.11334-5.56661,5.13552-7.01993,8.59211-.82334,1.95819-1.35711,4.10081-2.72366,5.72716-2.60993,3.10617-7.4291,3.29511-11.27027,1.98909-4.76288-1.61941-8.83514-5.17625-11.08048-9.67806-2.24534-4.50181-2.63675-9.89451-1.06507-14.67338Z","fill","#2f2e41"],["d","M0,626.13577c0,.66003,.53003,1.19,1.19006,1.19H523.48004c.65997,0,1.19-.52997,1.19-1.19,0-.65997-.53003-1.19-1.19-1.19H1.19006c-.66003,0-1.19006,.53003-1.19006,1.19Z","fill","#3f3d56"],["d","M340.03771,.99983H134.36885c-23.32296,0-42.22995,18.90699-42.22995,42.22995V583.66267c0,23.32291,18.90695,42.22986,42.22986,42.22986h205.66894c23.32296,0,42.22995-18.90699,42.22995-42.22995V43.22978c0-23.32296-18.90699-42.22995-42.22995-42.22995Z","fill","#fff"],["d","M340.03782,626.89209H134.36888c-23.83691,0-43.22998-19.39258-43.22998-43.22949V43.22998C91.1389,19.39307,110.53196,0,134.36888,0h205.66895c23.83691,0,43.22998,19.39307,43.22998,43.22998V583.6626c0,23.83691-19.39307,43.22949-43.22998,43.22949ZM134.36888,2c-22.73438,0-41.22998,18.49561-41.22998,41.22998V583.6626c0,22.73438,18.49561,41.22949,41.22998,41.22949h205.66895c22.73438,0,41.22998-18.49512,41.22998-41.22949V43.22998c0-22.73438-18.49561-41.22998-41.22998-41.22998H134.36888Z","fill","#3f3d56"],["d","M75.14368,94.56643c-1.80561,0-3.27392,1.46831-3.27392,3.27392v26.1914c0,1.80561,1.46831,3.27392,3.27392,3.27392s3.27392-1.46831,3.27392-3.27392v-26.1914c0-1.80561-1.46831-3.27392-3.27392-3.27392Z","fill","#3f3d56"],["d","M354.93558,87.46124h-82.66786c-3.50634,0-6.35907-2.85273-6.35907-6.35907s2.85273-6.35907,6.35907-6.35907h82.66786c3.50634,0,6.35907,2.85273,6.35907,6.35907s-2.85273,6.35907-6.35907,6.35907Z","fill","#e6e6e6"],["d","M277.38221,137.46854h-80.3571c-2.02587,0-3.67427-1.64841-3.67427-3.67428s1.64841-3.67351,3.67427-3.67351h80.3571c2.02587,0,3.67351,1.64765,3.67351,3.67351,0,2.02587-1.64764,3.67427-3.67351,3.67427Z","fill","#6c63ff"],["cx","78.32235","cy","92.07002","rx","64.899","ry","63.53157","fill","#6c63ff"],["d","M100.34912,60.02429c-8.64008,15.73267-17.28021,31.46545-25.92029,47.19818-5.50665-9.72955-10.98322-19.47626-16.50342-29.19818-1.90643-3.3576-7.09204-.33765-5.18079,3.02832,6.39911,11.2699,12.73193,22.57727,19.13104,33.84717,1.09412,1.92694,4.09796,1.97168,5.18085,0,9.49115-17.28241,18.9823-34.56482,28.47345-51.84717,1.8598-3.38647-3.31964-6.41742-5.18085-3.02832Z","fill","#fff"],["x","117.61763","y","14.65784","width","46.49807","height","5.96129","rx",".31021","ry",".31021","fill","#e6e6e6"],["cx","318.33631","cy","15.8501","r","4.76903","fill","#e6e6e6"],["cx","331.45115","cy","15.8501","r","4.76903","fill","#e6e6e6"],["cx","344.56599","cy","15.8501","r","4.76903","fill","#e6e6e6"],["d","M133.86826,157.13577c0,.66003,.53003,1.19,1.19006,1.19h204.28998c.65997,0,1.19-.52997,1.19-1.19,0-.65997-.53003-1.19-1.19-1.19H135.05832c-.66003,0-1.19006,.53003-1.19006,1.19Z","fill","#3f3d56"],["d","M319.7578,250.66658h-122.59803c-2.02587,0-3.67427-1.64842-3.67427-3.67428s1.64841-3.67351,3.67427-3.67351h122.59803c2.02587,0,3.67351,1.64765,3.67351,3.67352,0,2.02587-1.64764,3.67427-3.67351,3.67427Z","fill","#6c63ff"],["d","M319.7578,303.66658h-122.59803c-2.02587,0-3.67427-1.64842-3.67427-3.67428s1.64841-3.67351,3.67427-3.67351h122.59803c2.02587,0,3.67351,1.64765,3.67351,3.67352,0,2.02587-1.64764,3.67427-3.67351,3.67427Z","fill","#6c63ff"],["d","M319.7578,356.66658h-122.59803c-2.02587,0-3.67427-1.64842-3.67427-3.67428s1.64841-3.67351,3.67427-3.67351h122.59803c2.02587,0,3.67351,1.64765,3.67351,3.67352,0,2.02587-1.64764,3.67427-3.67351,3.67427Z","fill","#6c63ff"],["cx","159.97525","cy","246.53845","r","9","fill","#6c63ff"],["d","M158.97516,261.53845v-2c7.44385,0,13.5-6.05615,13.5-13.5s-6.05615-13.5-13.5-13.5v-2c8.54688,0,15.5,6.95312,15.5,15.5s-6.95312,15.5-15.5,15.5Z","fill","#3f3d56"],["cx","159.97525","cy","299.53845","r","9","fill","#6c63ff"],["d","M158.97516,314.53845v-2c7.44385,0,13.5-6.05566,13.5-13.5,0-7.44385-6.05615-13.5-13.5-13.5v-2c8.54688,0,15.5,6.95312,15.5,15.5s-6.95312,15.5-15.5,15.5Z","fill","#3f3d56"],["cx","159.97525","cy","352.53845","r","9","fill","#6c63ff"],["d","M158.97516,367.53845v-2c7.44385,0,13.5-6.05566,13.5-13.5s-6.05615-13.5-13.5-13.5v-2c8.54688,0,15.5,6.95312,15.5,15.5s-6.95312,15.5-15.5,15.5Z","fill","#3f3d56"],["d","M384.01219,203.75047c5.55216-1.40863,11.84681,4.52132,14.06128,13.24853,.93243,3.47409,1.01931,7.12088,.2534,10.63535l2.38571,9.92043,.17551-.00924,18.81824,44.34887c4.37547,10.31165,3.91314,22.14968-1.66767,31.86201-3.3199,5.77765-7.67792,9.66177-12.79497,5.69682-8.49085-6.57912-14.03686-44.24916-16.56905-65.88826l-5.85496-21.9959c-2.35018-2.72464-4.01347-5.97257-4.85067-9.47191-2.2149-8.72385,.49107-16.93801,6.04318-18.34671Z","fill","#a0616a"],["points","405.38874 228.05282 384.33502 243.01874 394.86188 309.31266 408.0646 326.38767 423.44391 321.0686 427.94066 289.72998 422.64886 259.42289 405.38874 228.05282","fill","#6c63ff"],[1,"end"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"router-outlet")(2,"app-navbar"),o.TgZ(3,"section",1),o._UZ(4,"app-login"),o.qZA(),o.TgZ(5,"div",2)(6,"div",3),o._UZ(7,"img",4),o.qZA(),o.TgZ(8,"div",5)(9,"section")(10,"span",6),o._uU(11,"D\xe9cision d\u2019investissement"),o.qZA(),o.TgZ(12,"p",7),o._uU(13,"Le choix d\u2019investissement est probablement une des d\xe9cisions les plus importantes dans le quotidien d\u2019un dirigeant"),o.qZA()()()(),o.TgZ(14,"div",2)(15,"div",5)(16,"section")(17,"span",6),o._uU(18,"Ce choix inclut une prise de risque"),o.qZA(),o.TgZ(19,"p",7),o._uU(20," Le risque d\u2019engager des d\xe9penses importantes sans conna\xeetre \xe0 l\u2019avance le retour sur investissement "),o._UZ(21,"br"),o._uU(22," Cette d\xe9cision peut se prendre au feeling. Mais s\u2019appuyer sur des donn\xe9es permettant d\u2019avoir une bonne visibilit\xe9 sur la rentabilit\xe9 future reste la norme"),o.qZA()()(),o.TgZ(23,"div",3),o._UZ(24,"img",8),o.qZA()(),o.TgZ(25,"div",2)(26,"div",3),o._UZ(27,"img",9),o.qZA(),o.TgZ(28,"div",5)(29,"section")(30,"span",6),o._uU(31,"Qui peut aider le dirigeant \xe0 faire le bon choix ?"),o.qZA(),o.TgZ(32,"p",10),o._uU(33,"J\u2019ai quand m\xeame la conviction profonde que le contr\xf4leur de gestion, de par sa ma\xeetrise des donn\xe9es, ses comp\xe9tences en mod\xe9lisation et sa connaissance du business a un r\xf4le important \xe0 jouer dans ce processus."),o._UZ(34,"br"),o._uU(35," Et surtout parce que l\u2019aide \xe0 la prise de d\xe9cision est le c\u0153ur de ce m\xe9tier."),o.qZA()()()(),o.TgZ(36,"div",2)(37,"div",5)(38,"section")(39,"p",7),o._uU(40," \xab Le contr\xf4le de gestion est une fonction d\u2019appui \xe0 la d\xe9cision par ses dispositifs d\u2019alerte (tableaux de bord), d\u2019analyse et d\u2019anticipation (simulations financi\xe8res, plans et budgets), de suivi \xbb "),o._UZ(41,"br")(42,"br"),o.TgZ(43,"span",11),o._uU(44,"Henri Bouquin \u2013 Les fondements du contr\xf4le de gestion"),o.qZA()()()(),o.TgZ(45,"div",3),o._UZ(46,"img",12),o.qZA()(),o.TgZ(47,"div",2)(48,"div",5)(49,"section",13)(50,"div",14),o._UZ(51,"img",15),o.TgZ(52,"span",16),o._uU(53,"Rapide"),o.qZA(),o.TgZ(54,"p",17),o._uU(55,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nesciunt exercitationem laboriosam quas minus eaque, vero maiores cupiditate quibusdam tenetur autem inventore beatae voluptatum, perferendis nisi? Vitae non soluta tempore cupiditate?"),o.qZA()(),o.TgZ(56,"div",14),o._UZ(57,"img",18),o.TgZ(58,"span",16),o._uU(59,"Simple"),o.qZA(),o.TgZ(60,"p",17),o._uU(61,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nesciunt exercitationem laboriosam quas minus eaque, vero maiores cupiditate quibusdam tenetur autem inventore beatae voluptatum, perferendis nisi? Vitae non soluta tempore cupiditate?"),o.qZA()(),o.TgZ(62,"div",14),o._UZ(63,"img",19),o.TgZ(64,"span",16),o._uU(65,"Temps"),o.qZA(),o.TgZ(66,"p",17),o._uU(67,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nesciunt exercitationem laboriosam quas minus eaque, vero maiores cupiditate quibusdam tenetur autem inventore beatae voluptatum, perferendis nisi? Vitae non soluta tempore cupiditate?"),o.qZA()()()()(),o.TgZ(68,"footer",20)(69,"div",21)(70,"span",22),o._uU(71,"Kanaghaz"),o.qZA(),o.TgZ(72,"p",23),o._uU(73,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Deserunt, animi qui esse facilis omnis dignissimos architecto? Accusamus, dignissimos? Laboriosam laborum, omnis earum ipsum ullam at perspiciatis rerum dicta voluptatem mollitia."),o.qZA()(),o.TgZ(74,"div",24)(75,"a",25),o._UZ(76,"i",26),o.qZA(),o.TgZ(77,"a",25),o._UZ(78,"i",27),o.qZA(),o.TgZ(79,"a",25),o._UZ(80,"i",28),o.qZA()(),o.O4$(),o.TgZ(81,"svg",29),o._UZ(82,"path",30)(83,"polygon",31)(84,"polygon",32)(85,"rect",33)(86,"path",34)(87,"path",35),o.TgZ(88,"g"),o._UZ(89,"path",36)(90,"path",37),o.qZA(),o._UZ(91,"path",38)(92,"path",39)(93,"path",40)(94,"path",41)(95,"circle",42)(96,"path",43)(97,"path",44)(98,"path",45)(99,"path",46),o.TgZ(100,"g"),o._UZ(101,"path",47)(102,"path",48)(103,"path",49)(104,"path",50)(105,"path",51)(106,"ellipse",52)(107,"path",53)(108,"rect",54)(109,"circle",55)(110,"circle",56)(111,"circle",57)(112,"path",58),o.TgZ(113,"g"),o._UZ(114,"path",59)(115,"path",60)(116,"path",61)(117,"circle",62)(118,"path",63)(119,"circle",64)(120,"path",65)(121,"circle",66)(122,"path",67),o.qZA()(),o._UZ(123,"path",68)(124,"polygon",69),o.qZA(),o.kcU(),o.TgZ(125,"p",70),o._uU(126,"CopyRight By KANAGHAZ"),o.qZA()()())},directives:[tS,Aj,Oye],styles:[".login[_ngcontent-%COMP%]{padding-top:10rem;width:100%;height:100vh;background-image:url(https://www.kanaghaz.dz/media/file/1/hero_bg_6062f13625f2e4.49678702.jpg);background-size:cover;background-position:center}.home[_ngcontent-%COMP%]{background-color:#d5fefd;background-image:linear-gradient(315deg,#bffffe 20%,#faefd8 90%)}.cards[_ngcontent-%COMP%]{margin-left:30%}.card[_ngcontent-%COMP%]{transition:all .2s ease-in-out;width:20rem;height:22rem;border:none;border-left:solid 5px #1976d2;background-color:#ffffff1a;border-radius:5%}.card[_ngcontent-%COMP%]:hover{border-left:solid 7px #1976d2;transform:scale(1.03)}footer[_ngcontent-%COMP%]{position:relative;width:100%;height:30rem;background-color:#1976d2;flex-direction:column;align-items:center;justify-content:center}.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .3s ease-in-out;align-items:center;justify-content:center;background:whitesmoke;border-radius:50%;color:#1976d2;text-decoration:none}.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.end[_ngcontent-%COMP%]{position:absolute;color:#f5f5f5;bottom:35px;font-size:14px}.phonefooter[_ngcontent-%COMP%]{position:absolute;width:20%;right:10rem;bottom:0rem}"]}),n})();const Fye=[{routeLink:"accueil",icon:"pi pi-home",label:"Accueil",Gestionnaire:!0,Comptable:!0},{routeLink:"dashboard",icon:"pi pi-th-large",label:"Dashboard",Gestionnaire:!0,Comptable:!0},{routeLink:"facteur",icon:"pi pi-dollar",label:"Facteur",Gestionnaire:!0,Comptable:!0},{routeLink:"pv",icon:"pi pi-file",label:"R\xe9ception",Gestionnaire:!0,Comptable:!0},{routeLink:"materiel",icon:"pi pi-desktop",label:"Materiel",Gestionnaire:!0,Comptable:!0},{routeLink:"allmateriel",icon:"pi pi-inbox",label:"All Materiel",Gestionnaire:!0,Comptable:!0},{routeLink:"fournisseur",icon:"pi pi-phone",label:"Fournisseur",Gestionnaire:!0,Comptable:!0},{routeLink:"categorie",icon:"pi pi-book",label:"Categorie",Gestionnaire:!0,Comptable:!0},{routeLink:"amortissement",icon:"pi pi-whatsapp",label:"Amortissement",Gestionnaire:!0,Comptable:!0}];function Pye(n,t){1&n&&o._UZ(0,"img",9)}function Nye(n,t){1&n&&o._UZ(0,"img",10)}function Lye(n,t){1&n&&o._UZ(0,"img",11)}function Bye(n,t){if(1&n&&(o.TgZ(0,"span",17),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.Q6J("@fadeInOut",void 0),o.xp6(1),o.Oqu(e.label)}}const W3=function(n){return[n]};function Vye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"a",14),o.NdJ("dblclick",function(){return o.CHM(e),o.oxw(2).togglecollapse()}),o._UZ(2,"i",15),o.YNc(3,Bye,2,2,"span",16),o.qZA()()}if(2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.Q6J("routerLink",o.VKq(4,W3,e.routeLink)),o.xp6(1),o.Tol(e.icon),o.xp6(1),o.Q6J("ngIf",i.screen.collapsed)}}function Uye(n,t){if(1&n&&(o.TgZ(0,"span",17),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.Q6J("@fadeInOut",void 0),o.xp6(1),o.Oqu(e.label)}}function Hye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"a",14),o.NdJ("dblclick",function(){return o.CHM(e),o.oxw(2).togglecollapse()}),o._UZ(2,"i",15),o.YNc(3,Uye,2,2,"span",16),o.qZA()()}if(2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.Q6J("routerLink",o.VKq(4,W3,e.routeLink)),o.xp6(1),o.Tol(e.icon),o.xp6(1),o.Q6J("ngIf",i.screen.collapsed)}}function jye(n,t){if(1&n&&(o.TgZ(0,"span",17),o._uU(1),o.qZA()),2&n){const e=o.oxw(2).$implicit;o.Q6J("@fadeInOut",void 0),o.xp6(1),o.Oqu(e.label)}}function zye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"a",14),o.NdJ("dblclick",function(){return o.CHM(e),o.oxw(2).togglecollapse()}),o._UZ(2,"i",15),o.YNc(3,jye,2,2,"span",16),o.qZA()()}if(2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(1),o.Q6J("routerLink",o.VKq(4,W3,e.routeLink)),o.xp6(1),o.Tol(e.icon),o.xp6(1),o.Q6J("ngIf",i.screen.collapsed)}}function Zye(n,t){if(1&n&&(o.TgZ(0,"li",12),o.YNc(1,Vye,4,6,"div",13),o.YNc(2,Hye,4,6,"div",13),o.YNc(3,zye,4,6,"div",13),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.authService.ChekRole("Admin")),o.xp6(1),o.Q6J("ngIf",i.authService.ChekRole("Comptable")&&e.Comptable),o.xp6(1),o.Q6J("ngIf",i.authService.ChekRole("Gestionnaire")&&e.Gestionnaire)}}let Wye=(()=>{class n{constructor(e,i,r){this.screen=e,this.authService=i,this.dialog=r,this.navData=Fye}ngOnInit(){}togglecollapse(){this.screen.collapsed=!this.screen.collapsed}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(vb),o.Y36(Po),o.Y36(ud))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-sidenav"]],decls:10,vars:5,consts:[[1,"sidenav",3,"ngClass"],[1,"side-head"],["alt","","src","https://www.bootdey.com/img/Content/avatar/avatar4.png",4,"ngIf"],["alt","","src","https://www.bootdey.com/img/Content/avatar/avatar1.png",4,"ngIf"],["alt","","src","https://www.bootdey.com/img/Content/avatar/avatar6.png",4,"ngIf"],[1,"side-body"],[1,"item-link",3,"click"],[1,"item-icon","bx","bxl-xing","bx-tada","bx-rotate-270"],["class","item",4,"ngFor","ngForOf"],["alt","","src","https://www.bootdey.com/img/Content/avatar/avatar4.png"],["alt","","src","https://www.bootdey.com/img/Content/avatar/avatar1.png"],["alt","","src","https://www.bootdey.com/img/Content/avatar/avatar6.png"],[1,"item"],[4,"ngIf"],["routerLinkActive","active",1,"item-link",3,"routerLink","dblclick"],[1,"item-icon"],["class","item-text",4,"ngIf"],[1,"item-text"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,Pye,1,0,"img",2),o.YNc(3,Nye,1,0,"img",3),o.YNc(4,Lye,1,0,"img",4),o.qZA(),o.TgZ(5,"ul",5)(6,"li")(7,"a",6),o.NdJ("click",function(){return i.togglecollapse()}),o._UZ(8,"i",7),o.qZA()(),o.YNc(9,Zye,4,3,"li",8),o.qZA()()),2&e&&(o.Q6J("ngClass",i.screen.collapsed?"sidenav-collapsed":""),o.xp6(2),o.Q6J("ngIf",i.authService.ChekRole("Admin")),o.xp6(1),o.Q6J("ngIf",i.authService.ChekRole("Comptable")),o.xp6(1),o.Q6J("ngIf",i.authService.ChekRole("Gestionnaire")),o.xp6(5),o.Q6J("ngForOf",i.navData))},directives:[mi,Tn,ii,Gx,EV],styles:[".sidenav[_ngcontent-%COMP%]{transition:all .5s ease-in-out;position:fixed;width:4rem;z-index:1;top:0}.side-head[_ngcontent-%COMP%]{background-color:#1976d200}.side-head[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:58px}.side-body[_ngcontent-%COMP%]{list-style:none;padding:0 0 500px 2px;flex-direction:column;cursor:pointer;background-color:#313a46}.sidenav-collapsed[_ngcontent-%COMP%]{width:11rem}.item[_ngcontent-%COMP%]{width:100%}.item-link[_ngcontent-%COMP%]{font-size:15px;display:flex;align-items:center;height:3rem;color:#f5f5f5;text-decoration:none;transition:all .3s ease;padding-left:7px}.item-link[_ngcontent-%COMP%]:hover{color:#1976d2}.item-icon[_ngcontent-%COMP%]{font-size:15px;margin:0 .8rem}.active[_ngcontent-%COMP%]{color:#1976d2;border-left:solid}@media (max-width: 750px){.sidenav-collapsed[_ngcontent-%COMP%]{width:4rem}.item-text[_ngcontent-%COMP%], .sidenav[_ngcontent-%COMP%]{display:none}}"],data:{animation:[cs("fadeInOut",[fn(":enter",[re({opacity:0}),D("0.3s",re({opacity:1}))]),fn(":leave",[re({opacity:1}),D("0.3s",re({opacity:0}))])])]}}),n})(),qye=(()=>{class n{constructor(e,i){this.screen=e,this.authService=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(vb),o.Y36(Po))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-admin"]],decls:5,vars:1,consts:[[1,"layout"],[1,"body",3,"ngClass"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-sidenav")(2,"app-navbar"),o.TgZ(3,"div",1),o._UZ(4,"router-outlet"),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngClass",i.screen.collapsed?"body-collapsed":""))},directives:[Wye,Aj,mi,tS],styles:[".layout[_ngcontent-%COMP%]{background-image:url(https://www.kanaghaz.dz/media/file/9/cta_bg_606441a2573118.14434022.JPG);background-color:#f0f8ff;background-size:cover;background-position:center;height:100vh}.body[_ngcontent-%COMP%]{width:calc(100% - 3rem);height:auto;margin-left:3rem;z-index:0;position:static;padding:3rem;transition:all .5s ease-in-out}.body-collapsed[_ngcontent-%COMP%]{width:calc(100% - 10rem);margin-left:10rem}.svg1[_ngcontent-%COMP%]{bottom:0px;z-index:-20;position:fixed}@media (max-width: 750px){.body[_ngcontent-%COMP%]{width:100%;margin-left:0}}"]}),n})(),Gye=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-page-not-found"]],decls:18,vars:0,consts:[["width","380px","height","500px","viewBox","0 0 837 1045","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xmlns","sketch","http://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z","id","Polygon-1","stroke","#007FB2","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z","id","Polygon-2","stroke","#EF4A5B","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z","id","Polygon-3","stroke","#795D9C","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z","id","Polygon-4","stroke","#F2773F","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z","id","Polygon-5","stroke","#36B455","stroke-width","6",0,"sketch","type","MSShapeGroup"],[1,"message-box"],[2,"color","black"],[1,"buttons-con"],[1,"action-link-wrap"],["onclick","history.back(-1)",1,"link-button","link-back-button"],["routerLink","../dashboard",1,"link-button"]],template:function(e,i){1&e&&(o.O4$(),o.TgZ(0,"svg",0)(1,"g",1),o._UZ(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),o.qZA()(),o.kcU(),o.TgZ(7,"div",7)(8,"h1",8),o._uU(9,"404"),o.qZA(),o.TgZ(10,"p",8),o._uU(11,"Page not found"),o.qZA(),o.TgZ(12,"div",9)(13,"div",10)(14,"a",11),o._uU(15,"Go Back"),o.qZA(),o.TgZ(16,"a",12),o._uU(17,"Go to dashboard"),o.qZA()()()())},directives:[Gx],styles:["body[_ngcontent-%COMP%]{background-color:#2f3242}svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-400px}.message-box[_ngcontent-%COMP%]{height:200px;width:380px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:50px;color:#fff;font-family:Roboto;font-weight:300}.message-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;line-height:46px;margin-bottom:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]{margin-top:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#1976d2;padding:8px 25px;border-radius:4px;color:#fff;font-weight:700;font-size:14px;transition:all .3s linear;cursor:pointer;text-decoration:none;margin-right:10px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#5A5C6C;color:#fff}#Polygon-1[_ngcontent-%COMP%], #Polygon-2[_ngcontent-%COMP%], #Polygon-3[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-5[_ngcontent-%COMP%]{animation:float 1s infinite ease-in-out alternate}#Polygon-2[_ngcontent-%COMP%]{animation-delay:.2s}#Polygon-3[_ngcontent-%COMP%]{animation-delay:.4s}#Polygon-4[_ngcontent-%COMP%]{animation-delay:.6s}#Polygon-5[_ngcontent-%COMP%]{animation-delay:.8s}@keyframes float{to{transform:translateY(20px)}}@media (max-width: 450px){svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-190px}.message-box[_ngcontent-%COMP%]{top:50%;left:50%;margin-top:-100px;margin-left:-190px;text-align:center}}"]}),n})(),$ye=(()=>{class n{constructor(e,i){this.AuthService=e,this.router=i}canActivate(e,i){return!this.AuthService.isLogin||(this.router.navigate(["admin"]),!1)}canDeactivate(e,i,r,s){return!this.AuthService.isLogin}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Po),o.LFG(jl))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yye(n,t){if(1&n&&(o.TgZ(0,"th",13),o._uU(1),o._UZ(2,"p-sortIcon",14),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function Kye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"th",15),o._uU(1,"options "),o.TgZ(2,"pButton",16),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).fnc.exportExcel()}),o.qZA()()}}function Qye(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,Yye,3,3,"th",11),o.YNc(2,Kye,3,0,"th",12),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs),o.xp6(1),o.Q6J("ngIf",e.AuthService.ChekRole("Comptable"))}}function Jye(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",20)(1,"button",21),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().onAccipte(r)}),o.qZA(),o.TgZ(2,"button",22),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().onRefuse(r)}),o.qZA()()}}function Xye(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",18),o._uU(2),o.qZA(),o.TgZ(3,"td",18),o._uU(4),o.qZA(),o.TgZ(5,"td",18),o._uU(6),o.qZA(),o.TgZ(7,"td",18),o._uU(8),o.qZA(),o.TgZ(9,"td",18),o._uU(10),o.qZA(),o.TgZ(11,"td",18),o._uU(12),o.qZA(),o.TgZ(13,"td",18),o._uU(14),o.qZA(),o.TgZ(15,"td",18),o._uU(16),o.qZA(),o.TgZ(17,"td",18),o._uU(18),o.qZA(),o.TgZ(19,"td",18),o._uU(20),o.ALo(21,"currency"),o.qZA(),o.YNc(22,Jye,3,0,"td",19),o.qZA()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.marque),o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.serie),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(e.facteur),o.xp6(2),o.Oqu(e.PV),o.xp6(2),o.hij("",o.xi3(21,11,e.prix,"DZD ")," "),o.xp6(2),o.Q6J("ngIf",i.AuthService.ChekRole("Comptable"))}}function e1e(n,t){1&n&&o.YNc(0,Xye,23,14,"tr",17),2&n&&o.Q6J("ngIf","attente"==t.$implicit.valide)}function t1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"pButton",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().fnc.exportExcel()}),o.qZA()}}function n1e(n,t){if(1&n&&(o.TgZ(0,"th",13),o._uU(1),o._UZ(2,"p-sortIcon",14),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function i1e(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,n1e,3,3,"th",11),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs)}}function r1e(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",18),o._uU(2),o.qZA(),o.TgZ(3,"td",18),o._uU(4),o.qZA(),o.TgZ(5,"td",18),o._uU(6),o.qZA(),o.TgZ(7,"td",18),o._uU(8),o.qZA(),o.TgZ(9,"td",18),o._uU(10),o.qZA(),o.TgZ(11,"td",18),o._uU(12),o.qZA(),o.TgZ(13,"td",18),o._uU(14),o.qZA(),o.TgZ(15,"td",18),o._uU(16),o.qZA(),o.TgZ(17,"td",18),o._uU(18),o.qZA(),o.TgZ(19,"td",18),o._uU(20),o.ALo(21,"currency"),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.marque),o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.serie),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(e.facteur),o.xp6(2),o.Oqu(e.PV),o.xp6(2),o.hij("",o.xi3(21,10,e.prix,"DZD ")," ")}}function s1e(n,t){1&n&&o.YNc(0,r1e,22,13,"tr",17),2&n&&o.Q6J("ngIf","valide"==t.$implicit.valide)}function o1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"pButton",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().fnc.exportExcel()}),o.qZA()}}function a1e(n,t){if(1&n&&(o.TgZ(0,"th",13),o._uU(1),o._UZ(2,"p-sortIcon",14),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function l1e(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,a1e,3,3,"th",11),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs)}}function c1e(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",18),o._uU(2),o.qZA(),o.TgZ(3,"td",18),o._uU(4),o.qZA(),o.TgZ(5,"td",18),o._uU(6),o.qZA(),o.TgZ(7,"td",18),o._uU(8),o.qZA(),o.TgZ(9,"td",18),o._uU(10),o.qZA(),o.TgZ(11,"td",18),o._uU(12),o.qZA(),o.TgZ(13,"td",18),o._uU(14),o.qZA(),o.TgZ(15,"td",18),o._uU(16),o.qZA(),o.TgZ(17,"td",18),o._uU(18),o.qZA(),o.TgZ(19,"td",18),o._uU(20),o.ALo(21,"currency"),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.marque),o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.serie),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(e.facteur),o.xp6(2),o.Oqu(e.PV),o.xp6(2),o.hij("",o.xi3(21,10,e.prix,"DZD ")," ")}}function u1e(n,t){1&n&&o.YNc(0,c1e,22,13,"tr",17),2&n&&o.Q6J("ngIf","refuse"==t.$implicit.valide)}function d1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"pButton",16),o.NdJ("click",function(){return o.CHM(e),o.oxw().fnc.exportExcel()}),o.qZA()}}function h1e(n,t){if(1&n&&(o.TgZ(0,"th",13),o._uU(1),o._UZ(2,"p-sortIcon",14),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function f1e(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,h1e,3,3,"th",11),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs)}}function p1e(n,t){if(1&n&&(o.TgZ(0,"tr")(1,"td",18),o._uU(2),o.qZA(),o.TgZ(3,"td",18),o._uU(4),o.qZA(),o.TgZ(5,"td",18),o._uU(6),o.qZA(),o.TgZ(7,"td",18),o._uU(8),o.qZA(),o.TgZ(9,"td",18),o._uU(10),o.qZA(),o.TgZ(11,"td",18),o._uU(12),o.qZA(),o.TgZ(13,"td",18),o._uU(14),o.qZA(),o.TgZ(15,"td",18),o._uU(16),o.qZA(),o.TgZ(17,"td",18),o._uU(18),o.qZA(),o.TgZ(19,"td",18),o._uU(20),o.ALo(21,"currency"),o.ALo(22,"currency"),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.Oqu(e.numero),o.xp6(2),o.Oqu(e.designation),o.xp6(2),o.Oqu(e.marque),o.xp6(2),o.Oqu(e.categorie),o.xp6(2),o.Oqu(e.serie),o.xp6(2),o.Oqu(e.date),o.xp6(2),o.Oqu(e.etat),o.xp6(2),o.Oqu(e.facteur),o.xp6(2),o.Oqu(e.PV),o.xp6(2),o.hij("",o.Dn7(21,10,o.lcZ(22,14,e.prix),"DZD "," ")," ")}}function g1e(n,t){1&n&&o.YNc(0,p1e,23,16,"tr",17),2&n&&o.Q6J("ngIf","reforme"==t.$implicit.valide)}let m1e=(()=>{class n{constructor(e,i,r,s){this.Crud=e,this.AuthService=i,this.dialog=r,this.fnc=s,this.materiel=[],this.champs=_f,this.activeIndex=0}ngOnInit(){this.ShowMateriel()}ShowMateriel(){this.Crud.Get("Materiel").subscribe(e=>{this.materiel=e})}onAccipte(e){this.dialog.FactorationMateriel(e)}onRefuse(e){e.valide="refuse",this.Crud.Update("Materiel",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(Po),o.Y36(ud),o.Y36(Y0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-materiel"]],decls:25,vars:5,consts:[[1,"mb-3","mt-3"],[1,"mb-2","mt-2",3,"activeIndex","activeIndexChange"],["header","Materiel en Attente","leftIcon","pi pi-calendar"],[1,"card"],["id","excel-table","responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["header","Materiel Valider","leftIcon","pi pi-inbox"],["pTemplate","caption"],["header","Materiel Refuse","leftIcon","pi pi-inbox"],["header","Materiel reformer ","leftIcon","pi pi-inbox"],["style","font-size: smaller;","class","text-gray-600 text-center uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],["style","font-size: smaller;","class","text-gray-600 text-center uppercase",4,"ngIf"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller"],["pButton","","icon","pi pi-file-excel",1,"p-button-success","mr-2","space",3,"click"],[4,"ngIf"],[1,"text-center","text-gray-700"],["class","text-center",4,"ngIf"],[1,"text-center"],["pButton","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success",3,"click"],["pButton","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"p-tabView",1),o.NdJ("activeIndexChange",function(s){return i.activeIndex=s}),o.TgZ(2,"p-tabPanel",2)(3,"div",3)(4,"p-table",4),o.YNc(5,Qye,3,2,"ng-template",5),o.YNc(6,e1e,1,1,"ng-template",6),o.qZA()()(),o.TgZ(7,"p-tabPanel",7)(8,"div",3)(9,"p-table",4),o.YNc(10,t1e,1,0,"ng-template",8),o.YNc(11,i1e,2,1,"ng-template",5),o.YNc(12,s1e,1,1,"ng-template",6),o.qZA()()(),o.TgZ(13,"p-tabPanel",9)(14,"div",3)(15,"p-table",4),o.YNc(16,o1e,1,0,"ng-template",8),o.YNc(17,l1e,2,1,"ng-template",5),o.YNc(18,u1e,1,1,"ng-template",6),o.qZA()()(),o.TgZ(19,"p-tabPanel",10)(20,"div",3)(21,"p-table",4),o.YNc(22,d1e,1,0,"ng-template",8),o.YNc(23,f1e,2,1,"ng-template",5),o.YNc(24,g1e,1,1,"ng-template",6),o.qZA()()()()()),2&e&&(o.xp6(1),o.Q6J("activeIndex",i.activeIndex),o.xp6(3),o.Q6J("value",i.materiel),o.xp6(5),o.Q6J("value",i.materiel),o.xp6(6),o.Q6J("value",i.materiel),o.xp6(6),o.Q6J("value",i.materiel))},directives:[Z3,z3,_o,Mr,ii,$f,Yf,Tn,Zl],pipes:[ls],styles:[""]}),n})();function _1e(n,t){if(1&n&&(o.TgZ(0,"th",10),o._uU(1),o._UZ(2,"p-sortIcon",11),o.qZA()),2&n){const e=t.$implicit;o.Q6J("pSortableColumn",e.toLowerCase()),o.xp6(1),o.Oqu(e),o.xp6(1),o.Q6J("field",e)}}function v1e(n,t){1&n&&(o.TgZ(0,"th",12),o._uU(1,"option"),o.qZA())}function y1e(n,t){if(1&n&&(o.TgZ(0,"tr"),o.YNc(1,_1e,3,3,"th",8),o._UZ(2,"th"),o.YNc(3,v1e,2,0,"th",9),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Q6J("ngForOf",e.champs),o.xp6(2),o.Q6J("ngIf",e.AuthService.ChekRole("Gestionnaire"))}}function w1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.designation=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.designation)}}function x1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.designation," ")}}function b1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.marque=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.marque)}}function C1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.marque," ")}}function T1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.categorie=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.categorie)}}function E1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.categorie," ")}}function S1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.serie=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.serie)}}function I1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.serie," ")}}function k1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.date=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.date)}}function D1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.date," ")}}function A1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.etat=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.etat)}}function M1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.etat," ")}}function O1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.facteur=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.facteur)}}function R1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.facteur," ")}}function F1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",20),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.PV=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.PV)}}function P1e(n,t){if(1&n&&o._uU(0),2&n){const e=o.oxw().$implicit;o.hij(" ",e.PV," ")}}function N1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"input",21),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw().$implicit.prix=r}),o.qZA()}if(2&n){const e=o.oxw().$implicit;o.Q6J("ngModel",e.prix)}}function L1e(n,t){if(1&n&&(o._uU(0),o.ALo(1,"currency")),2&n){const e=o.oxw().$implicit;o.hij(" ",o.xi3(1,1,e.prix,"DZD ")," ")}}function B1e(n,t){1&n&&o._UZ(0,"button",27)}function V1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2).$implicit;return o.oxw().onUpdate(r)}),o.qZA()}}function U1e(n,t){1&n&&o._UZ(0,"button",29)}function H1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",22)(1,"button",23),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit;return o.oxw().onDelete(r)}),o.qZA(),o.YNc(2,B1e,1,0,"button",24),o.YNc(3,V1e,1,0,"button",25),o.YNc(4,U1e,1,0,"button",26),o.qZA()}if(2&n){const e=o.oxw().editing;o.xp6(2),o.Q6J("ngIf",!e),o.xp6(1),o.Q6J("ngIf",e),o.xp6(1),o.Q6J("ngIf",e)}}function j1e(n,t){1&n&&(o.TgZ(0,"td")(1,"a",30),o._uU(2,"Valider"),o.qZA()())}const z1e=function(n,t,e,i){return{"true-icon pi-check-circle":n,"false-icon pi-times-circle":t,"info-icon pi-info-circle":e,"pi-exclamation-triangle":i}};function Z1e(n,t){if(1&n&&(o.TgZ(0,"tr",13)(1,"td",14),o._uU(2),o.qZA(),o.TgZ(3,"td",14)(4,"p-cellEditor"),o.YNc(5,w1e,1,1,"ng-template",15),o.YNc(6,x1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(7,"td",14)(8,"p-cellEditor"),o.YNc(9,b1e,1,1,"ng-template",15),o.YNc(10,C1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(11,"td",14)(12,"p-cellEditor"),o.YNc(13,T1e,1,1,"ng-template",15),o.YNc(14,E1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(15,"td",14)(16,"p-cellEditor"),o.YNc(17,S1e,1,1,"ng-template",15),o.YNc(18,I1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(19,"td",14)(20,"p-cellEditor"),o.YNc(21,k1e,1,1,"ng-template",15),o.YNc(22,D1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(23,"td",14)(24,"p-cellEditor"),o.YNc(25,A1e,1,1,"ng-template",15),o.YNc(26,M1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(27,"td",14)(28,"p-cellEditor"),o.YNc(29,O1e,1,1,"ng-template",15),o.YNc(30,R1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(31,"td",14)(32,"p-cellEditor"),o.YNc(33,F1e,1,1,"ng-template",15),o.YNc(34,P1e,1,1,"ng-template",16),o.qZA()(),o.TgZ(35,"td",14)(36,"p-cellEditor"),o.YNc(37,N1e,1,1,"ng-template",15),o.YNc(38,L1e,2,4,"ng-template",16),o.qZA()(),o.TgZ(39,"td",14),o._UZ(40,"i",17),o.qZA(),o.YNc(41,H1e,5,3,"td",18),o.YNc(42,j1e,3,0,"td",19),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.Q6J("pEditableRow",e),o.xp6(2),o.hij(" ",e.numero," "),o.xp6(38),o.Q6J("ngClass",o.l5B(5,z1e,"valide"==e.valide,"refuse"==e.valide,"attente"==e.valide,"reforme"==e.valide)),o.xp6(1),o.Q6J("ngIf",i.AuthService.ChekRole("Gestionnaire")&&"valide"!=e.valide),o.xp6(1),o.Q6J("ngIf",i.AuthService.ChekRole("Gestionnaire")&&"valide"==e.valide)}}let W1e=(()=>{class n{constructor(e,i,r,s){this.Crud=e,this.AuthService=i,this.dialog=r,this.fnc=s,this.materiel=[],this.champs=_f,this.activeIndex=0}ngOnInit(){this.ShowMateriel()}ShowMateriel(){this.Crud.Get("Materiel").subscribe(e=>{this.materiel=e})}onDelete(e){this.Crud.Delete("Materiel",e)}onUpdate(e){this.Crud.Update("Materiel",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fu),o.Y36(Po),o.Y36(ud),o.Y36(Y0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-all-materiel"]],decls:9,vars:4,consts:[[1,"head","mb-2","mt-2"],["pButton","",1,"p-button-outlined",2,"text-decoration","none","pointer-events","none"],[1,"float-end"],["pButton","","icon","pi pi-file-excel",1,"p-button-success","mr-1",3,"click"],[1,"card"],["dataKey","numero","id","excel-table","editMode","row",3,"value","paginator","rows","responsive"],["pTemplate","header"],["pTemplate","body"],["style","font-size: smaller;","class","text-gray-600 text-center uppercase",3,"pSortableColumn",4,"ngFor","ngForOf"],["style","font-size: smaller;","class","text-gray-600 uppercase",4,"ngIf"],[1,"text-gray-600","text-center","uppercase",2,"font-size","smaller",3,"pSortableColumn"],[3,"field"],[1,"text-gray-600","uppercase",2,"font-size","smaller"],[3,"pEditableRow"],[1,"text-center","text-gray-700"],["pTemplate","input"],["pTemplate","output"],[1,"pi",3,"ngClass"],["class","flex",4,"ngIf"],[4,"ngIf"],["pInputText","","type","text","required","",3,"ngModel","ngModelChange"],["pInputText","","type","number",3,"ngModel","ngModelChange"],[1,"flex"],["pButton","","icon","pi pi-trash",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"],["pButton","","pRipple","","pInitEditableRow","","icon","pi pi-pencil","class","p-button-rounded p-button-text",4,"ngIf"],["pButton","","pRipple","","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",4,"ngIf"],["pButton","","pRipple","","pInitEditableRow","","icon","pi pi-pencil",1,"p-button-rounded","p-button-text"],["pButton","","pRipple","","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger"],["pButton","",1,"p-button-outlined","p-button-success",2,"text-decoration","none","pointer-events","none"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"a",1),o._uU(2,"Liste des materiels"),o.qZA(),o.TgZ(3,"div",2)(4,"pButton",3),o.NdJ("click",function(){return i.fnc.exportExcel()}),o.qZA()()(),o.TgZ(5,"div",4)(6,"p-table",5),o.YNc(7,y1e,4,2,"ng-template",6),o.YNc(8,Z1e,43,10,"ng-template",7),o.qZA()()),2&e&&(o.xp6(6),o.Q6J("value",i.materiel)("paginator",!0)("rows",9)("responsive",!0))},directives:[Zl,_o,Mr,ii,$f,Yf,Tn,bS,ise,bg,Eh,tM,Tg,Th,Kx,mi,Sh,ese,tse,nse],pipes:[ls],styles:[".true-icon[_ngcontent-%COMP%]{color:green}.false-icon[_ngcontent-%COMP%]{color:red}.info-icon[_ngcontent-%COMP%]{color:#00f}"]}),n})();const q1e=[{name:"Dashboard",router:"../dashboard",url:"https://img.freepik.com/vecteurs-libre/illustration-concept-statistiques-site_114360-1434.jpg?t=st=1655142439~exp=1655143039~hmac=a8f0a24dd04d49abc44b0136532cce6fce422676da57736349a181683d7e299b&w=740"},{name:"Facture",router:"../facteur",url:"https://img.freepik.com/vecteurs-libre/homme-ayant-entretien-embauche-ligne_52683-43379.jpg?t=st=1655142002~exp=1655142602~hmac=62c4946f80142f6cd7bee0bb041dfd4b1cafac647fda0c85550aedf44518bd8c&w=740"},{name:"Materiel",router:"../materiel",url:"https://img.freepik.com/vecteurs-libre/illustration-concept-vie-demarrage_114360-1068.jpg?t=st=1655142002~exp=1655142602~hmac=fdb6dc5a244abda52d1ff058eb06e21d1a5621b69d01b601029a461a613c89e5&w=740"},{name:"Amortissement",router:"../amortissement",url:"https://www.vozo.xyz/images/slideshow-images/medical-invoice-vozo.jpg"},{name:"Fournisseur",router:"../fournisseur",url:"https://img.freepik.com/vecteurs-libre/gestionnaire-donnant-document-patronne-pour-signature-chef-assistant-masculin-accord-illustration-bande-dessinee_74855-14450.jpg?t=st=1655141816~exp=1655142416~hmac=fd87fe376b8e63c4ee890b708c473876036f7ca355fa15b95a0a58914fccdf23&w=740"},{name:"Edit Materiel",router:"../allmateriel",url:"https://img.freepik.com/vecteurs-libre/illustration-du-concept-donnees-visuelles_114360-1713.jpg?t=st=1655142002~exp=1655142602~hmac=4bf475d4e0c748ccf9b87cc57b8fa6be90c15e180e1ed0990a0c1c90556f5e23&w=740"},{name:"Categorie",router:"../categorie",url:"https://www.vozo.xyz/images/slideshow-images/patient-appointment-vozo.jpg"}],G1e=["itemsContainer"];function $1e(n,t){1&n&&o.GkF(0)}function Y1e(n,t){if(1&n&&(o.TgZ(0,"div",11),o.Hsn(1),o.YNc(2,$1e,1,0,"ng-container",12),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.headerTemplate)}}const K1e=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},Q1e=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":t}};function J1e(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",13),o.NdJ("click",function(r){return o.CHM(e),o.oxw().navBackward(r)}),o._UZ(1,"span",2),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("ngClass",o.VKq(3,K1e,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),o.xp6(1),o.Q6J("ngClass",o.WLB(5,Q1e,!e.isVertical(),e.isVertical()))}}function X1e(n,t){1&n&&o.GkF(0)}const Mj=function(n,t,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}},q3=function(n){return{$implicit:n}};function ewe(n,t){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,X1e,1,0,"ng-container",14),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.Q6J("ngClass",o.kEZ(3,Mj,-1*r.totalShiftedItems===r.value.length,0===i,r.clonedItemsForStarting.length-1===i)),o.xp6(1),o.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",o.VKq(7,q3,e))}}function twe(n,t){1&n&&o.GkF(0)}const nwe=function(n,t,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":t,"p-carousel-item-end":e}};function iwe(n,t){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,twe,1,0,"ng-container",14),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.Q6J("ngClass",o.kEZ(3,nwe,r.firstIndex()<=i&&r.lastIndex()>=i,r.firstIndex()===i,r.lastIndex()===i)),o.xp6(1),o.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",o.VKq(7,q3,e))}}function rwe(n,t){1&n&&o.GkF(0)}function swe(n,t){if(1&n&&(o.TgZ(0,"div",2),o.YNc(1,rwe,1,0,"ng-container",14),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.Q6J("ngClass",o.kEZ(3,Mj,-1*r.totalShiftedItems===r.numVisible,0===i,r.clonedItemsForFinishing.length-1===i)),o.xp6(1),o.Q6J("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",o.VKq(7,q3,e))}}const owe=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},awe=function(n,t){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":t}};function lwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",13),o.NdJ("click",function(r){return o.CHM(e),o.oxw().navForward(r)}),o._UZ(1,"span",2),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("ngClass",o.VKq(3,owe,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),o.xp6(1),o.Q6J("ngClass",o.WLB(5,awe,!e.isVertical(),e.isVertical()))}}const cwe=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function uwe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li",2)(1,"button",15),o.NdJ("click",function(r){const a=o.CHM(e).index;return o.oxw(2).onDotClick(r,a)}),o.qZA()()}if(2&n){const e=t.index,i=o.oxw(2);o.Q6J("ngClass",o.VKq(5,cwe,i._page===e)),o.xp6(1),o.Tol(i.indicatorStyleClass),o.Q6J("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function dwe(n,t){if(1&n&&(o.TgZ(0,"ul",0),o.YNc(1,uwe,2,7,"li",8),o.qZA()),2&n){const e=o.oxw();o.Tol(e.indicatorsContentClass),o.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),o.xp6(1),o.Q6J("ngForOf",e.totalDotsArray())}}function hwe(n,t){1&n&&o.GkF(0)}function fwe(n,t){if(1&n&&(o.TgZ(0,"div",16),o.Hsn(1,1),o.YNc(2,hwe,1,0,"ng-container",12),o.qZA()),2&n){const e=o.oxw();o.xp6(2),o.Q6J("ngTemplateOutlet",e.footerTemplate)}}const pwe=[[["p-header"]],[["p-footer"]]],gwe=function(n,t){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":t}},mwe=function(n){return{height:n}},_we=["p-header","p-footer"];let vwe=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.cd=r,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new o.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=_S(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let r=this._page;0!==this.totalDots()&&r>=this.totalDots()&&(r=this.totalDots()-1,this._page=r,this.onPage.emit({page:this.page})),i=r*this._numScroll*-1,e&&(i-=this._numVisible),r===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,r)=>{const s=i.breakpoint,a=r.breakpoint;let l=null;return l=null==s&&null!=a?-1:null!=s&&null==a?1:null==s&&null==a?0:"string"==typeof s&&"string"==typeof a?s.localeCompare(a,void 0,{numeric:!0}):s<a?-1:s>a?1:0,-1*l});for(let i=0;i<this.responsiveOptions.length;i++){let r=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e=window.innerWidth,i={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let r=0;r<this.responsiveOptions.length;r++){let s=this.responsiveOptions[r];parseInt(s.breakpoint,10)>=e&&(i=s)}if(this._numScroll!==i.numScroll){let r=this._page;r=Math.floor(r*this._numScroll/i.numScroll);let s=i.numScroll*this.page*-1;this.isCircular()&&(s-=i.numVisible),this.totalShiftedItems=s,this._numScroll=i.numScroll,this._page=r,this.onPage.emit({page:this.page})}this._numVisible!==i.numVisible&&(this._numVisible=i.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let r=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>r?this.navForward(e,i):i<r&&this.navBackward(e,i)}step(e,i){let r=this.totalShiftedItems;const s=this.isCircular();null!=i?(r=this._numScroll*i*-1,s&&(r-=this._numVisible),this.isRemainingItemsAdded=!1):(r+=this._numScroll*e,this.isRemainingItemsAdded&&(r+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((s?r+this._numVisible:r)/this._numScroll))),s&&this.page===this.totalDots()-1&&-1===e?(r=-1*(this.value.length+this._numVisible),i=0):s&&0===this.page&&1===e?(r=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(r+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${r*(100/this._numVisible)}%, 0)`:`translate3d(${r*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=r,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-carousel"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,fX,5),o.Suo(r,rU,5),o.Suo(r,Mr,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.headerFacet=s.first),o.iGM(s=o.CRH())&&(i.footerFacet=s.first),o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(G1e,5),2&e){let r;o.iGM(r=o.CRH())&&(i.itemsContainer=r.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[o.TTD],ngContentSelectors:_we,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,i){1&e&&(o.F$t(pwe),o.TgZ(0,"div",0),o.YNc(1,Y1e,3,1,"div",1),o.TgZ(2,"div",2)(3,"div",3),o.YNc(4,J1e,2,8,"button",4),o.TgZ(5,"div",5)(6,"div",6,7),o.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchend",function(s){return i.onTouchEnd(s)})("touchstart",function(s){return i.onTouchStart(s)})("touchmove",function(s){return i.onTouchMove(s)}),o.YNc(8,ewe,2,9,"div",8),o.YNc(9,iwe,2,9,"div",8),o.YNc(10,swe,2,9,"div",8),o.qZA()(),o.YNc(11,lwe,2,8,"button",4),o.qZA(),o.YNc(12,dwe,2,5,"ul",9),o.qZA(),o.YNc(13,fwe,3,1,"div",10),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass",o.WLB(17,gwe,i.isVertical(),!i.isVertical()))("ngStyle",i.style),o.uIk("id",i.id),o.xp6(1),o.Q6J("ngIf",i.headerFacet||i.headerTemplate),o.xp6(1),o.Tol(i.contentClass),o.Q6J("ngClass","p-carousel-content"),o.xp6(2),o.Q6J("ngIf",i.showNavigators),o.xp6(1),o.Q6J("ngStyle",o.VKq(20,mwe,i.isVertical()?i.verticalViewPortHeight:"auto")),o.xp6(3),o.Q6J("ngForOf",i.clonedItemsForStarting),o.xp6(1),o.Q6J("ngForOf",i.value),o.xp6(1),o.Q6J("ngForOf",i.clonedItemsForFinishing),o.xp6(1),o.Q6J("ngIf",i.showNavigators),o.xp6(1),o.Q6J("ngIf",i.showIndicators),o.xp6(1),o.Q6J("ngIf",i.footerFacet||i.footerTemplate))},directives:[mi,Wi,Tn,ir,Sh,ii],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),ywe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,sa,cd],hi,sa]}),n})();function wwe(n,t){if(1&n&&(o.TgZ(0,"div",3),o._UZ(1,"img",4),o.TgZ(2,"h1",5),o._uU(3),o.qZA()()),2&n){const e=t.$implicit;o.Q6J("routerLink",e.router),o.xp6(1),o.Q6J("src",e.url,o.LSH),o.xp6(2),o.Oqu(e.name)}}const xwe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Rye,canActivate:[$ye]},{path:"admin",component:qye,children:[{path:"",redirectTo:"accueil",pathMatch:"full"},{path:"accueil",component:(()=>{class n{constructor(e){this.screen=e,this.numVisible=3,this.image=q1e}ngOnInit(){this.screen.screenWidth<=500&&(this.numVisible=1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(vb))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-accueil"]],decls:3,vars:5,consts:[[1,"layout"],[3,"value","numVisible","numScroll","circular","autoplayInterval"],["pTemplate","item"],[1,"text-center","content",3,"routerLink"],["alt","",1,"shadow",3,"src"],[1,"text-block"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"p-carousel",1),o.YNc(2,wwe,4,3,"ng-template",2),o.qZA()()),2&e&&(o.xp6(1),o.Q6J("value",i.image)("numVisible",i.numVisible)("numScroll",1)("circular",!0)("autoplayInterval",3e3))},directives:[vwe,Mr,WA],styles:[".content[_ngcontent-%COMP%]{transition:all .5s ease-in-out;margin:2rem;cursor:pointer;position:relative}.content[_ngcontent-%COMP%]:hover{transform:scale(1.1)}img[_ngcontent-%COMP%]{width:20rem;height:20rem;border-radius:30%}.text-block[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px;background-color:#313a4633;color:#000;padding-left:5px;padding-right:5px;border-radius:10%}.layout[_ngcontent-%COMP%]{margin-top:7%}@media (max-width: 500px){img[_ngcontent-%COMP%]{width:10rem;height:10rem;margin-left:-2rem}.text-block[_ngcontent-%COMP%]{font-size:15px}}"]}),n})()},{path:"facteur",component:mye},{path:"pv",component:Rve},{path:"dashboard",component:yye},{path:"materiel",component:m1e},{path:"allmateriel",component:W1e},{path:"fournisseur",component:bve},{path:"categorie",component:D_e},{path:"amortissement",component:f_e},{path:"**",component:Gye}]}];let bwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[AV.forRoot(xwe)],AV]}),n})(),Cwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Twe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[k0,ud,vb]}),n})();const Ewe_firebase={apiKey:"AIzaSyB6lam2oxwfBkjPwJjIOsBqqa9hATVgL-Q",authDomain:"kanaghazdemo-bc29d.firebaseapp.com",projectId:"kanaghazdemo-bc29d",storageBucket:"kanaghazdemo-bc29d.appspot.com",messagingSenderId:"647736439257",appId:"1:647736439257:web:ca7b9fd7a89a268459a9c8",measurementId:"G-C6YYSWM784"},Rj="@firebase/database";let G3="";function Pj(n){G3=n}class kwe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,X.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,X.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Dwe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,X.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Nj=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kwe(t)}}catch(t){}return new Dwe},By=Nj("localStorage"),$3=Nj("sessionStorage"),wb=new Rl.Yd("@firebase/database"),Lj=function(){let n=1;return function(){return n++}}(),Bj=function(n){const t=(0,X.dS)(n),e=new X.gQ;e.update(t);const i=e.digest();return X.US.encodeByteArray(i)},sI=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=sI.apply(null,i):t+="object"==typeof i?(0,X.Pz)(i):i,t+=" "}return t};let Vy=null,Vj=!0;const Uj=function(n,t){(0,X.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(wb.logLevel=Rl.in.VERBOSE,Vy=wb.log.bind(wb),t&&$3.set("logging_enabled",!0)):"function"==typeof n?Vy=n:(Vy=null,$3.remove("logging_enabled"))},ha=function(...n){if(!0===Vj&&(Vj=!1,null===Vy&&!0===$3.get("logging_enabled")&&Uj(!0)),Vy){const t=sI.apply(null,n);Vy(t)}},oI=function(n){return function(...t){ha(n,...t)}},Y3=function(...n){const t="FIREBASE INTERNAL ERROR: "+sI(...n);wb.error(t)},rp=function(...n){const t=`FIREBASE FATAL ERROR: ${sI(...n)}`;throw wb.error(t),new Error(t)},dl=function(...n){const t="FIREBASE WARNING: "+sI(...n);wb.warn(t)},eO=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Pg="[MIN_NAME]",sp="[MAX_NAME]",Uy=function(n,t){if(n===t)return 0;if(n===Pg||t===sp)return-1;if(t===Pg||n===sp)return 1;{const e=tO(n),i=tO(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},Owe=function(n,t){return n===t?0:n<t?-1:1},aI=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,X.Pz)(t))},K3=function(n){if("object"!=typeof n||null===n)return(0,X.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,X.Pz)(t[i]),e+=":",e+=K3(n[t[i]]);return e+="}",e},Hj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function fa(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const jj=function(n){(0,X.hu)(!eO(n),"Invalid JSON number");const i=1023;let r,s,a,l,d;0===n?(s=0,a=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=l+i,a=Math.round(n*Math.pow(2,52-l)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const f=[];for(d=52;d;d-=1)f.push(a%2?1:0),a=Math.floor(a/2);for(d=11;d;d-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(r?1:0),f.reverse();const p=f.join("");let m="";for(d=0;d<64;d+=8){let w=parseInt(p.substr(d,8),2).toString(16);1===w.length&&(w="0"+w),m+=w}return m.toLowerCase()},Nwe=new RegExp("^-?(0*)\\d{1,10}$"),zj=-2147483648,Q3=2147483647,tO=function(n){if(Nwe.test(n)){const t=Number(n);if(t>=zj&&t<=Q3)return t}return null},xb=function(n){try{n()}catch(t){setTimeout(()=>{throw dl("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},lI=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Bwe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){dl(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Vwe{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ha("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',dl(t)}}let cI=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const $j=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qj="websocket",Jj="long_polling";class X3{constructor(t,e,i,r,s=!1,a="",l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=By.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&By.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Xj(n,t,e){let i;if((0,X.hu)("string"==typeof t,"typeof type must == string"),(0,X.hu)("object"==typeof e,"typeof params must == object"),t===Qj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Jj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Uwe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return fa(e,(s,a)=>{r.push(s+"="+a)}),i+r.join("&")}class Hwe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,X.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,X.p$)(this.counters_)}}const e6={},t6={};function n6(n){const t=n.toString();return e6[t]||(e6[t]=new Hwe),e6[t]}class zwe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&xb(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Q0{constructor(t,e,i,r,s,a,l){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=oI(t),this.stats_=n6(e),this.urlFn=d=>(this.appCheckToken&&(d.ac=this.appCheckToken),Xj(e,Jj,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new zwe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,X.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new r6((...s)=>{const[a,l,d,f,p]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=l,this.password=d;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&$j.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Q0.forceAllow_=!0}static forceDisallow(){Q0.forceDisallow_=!0}static isAvailable(){return!((0,X.Yr)()||!Q0.forceAllow_&&(Q0.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,X.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,X.h$)(e),r=Hj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,X.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,X.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class r6{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,X.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Lj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=r6.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){ha("frame writing exception"),l.stack&&ha(l.stack),ha(l)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ha("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const a=this.pendingSegs.shift();i=i+"&seg"+r+"="+a.seg+"&ts"+r+"="+a.ts+"&d"+r+"="+a.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,X.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ha("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let iO=null;"undefined"!=typeof MozWebSocket?iO=MozWebSocket:"undefined"!=typeof WebSocket&&(iO=WebSocket);let bb=(()=>{class n{constructor(e,i,r,s,a,l,d){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=oI(this.connId),this.stats_=n6(i),this.connURL=n.connectionURL_(i,l,d,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,a){const l={v:"5"};return!(0,X.Yr)()&&"undefined"!=typeof location&&location.hostname&&$j.test(location.hostname)&&(l.r="f"),i&&(l.s=i),r&&(l.ls=r),s&&(l.ac=s),a&&(l.p=a),Xj(e,Qj,l)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,By.set("previous_websocket_failure",!0);try{let r;if((0,X.Yr)()){const a={headers:{"User-Agent":`Firebase/5/${G3}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,d=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;d&&(a.proxy={origin:d})}this.mySock=new iO(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==iO&&!n.forceDisallow_}static previouslyFailed(){return By.isInMemoryStorage||!0===By.get("previous_websocket_failure")}markConnectionHealthy(){By.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,X.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,X.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,X.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Hj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),oz=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Q0,bb]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=bb&&bb.isAvailable();let r=i&&!bb.previouslyFailed();if(e.webSocketOnly&&(i||dl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[bb];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class fz{constructor(t,e,i,r,s,a,l,d,f,p){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=d,this.onKill_=f,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=oI("c:"+this.id+":"),this.transportManager_=new oz(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=lI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=aI("t",t),i=aI("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=aI("t",t),i=aI("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=aI("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Y3("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Y3("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&dl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),lI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(By.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pz{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class gz{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,X.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,X.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class rO extends gz{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,X.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rO}getInitialEvent(t){return(0,X.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class er{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function ji(){return new er("")}function pi(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function J0(n){return n.pieces_.length-n.pieceNum_}function xr(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new er(n.pieces_,t)}function o6(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function uI(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function vz(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new er(t,0)}function ns(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof er)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new er(e,0)}function gi(n){return n.pieceNum_>=n.pieces_.length}function Yl(n,t){const e=pi(n),i=pi(t);if(null===e)return t;if(e===i)return Yl(xr(n),xr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function dxe(n,t){const e=uI(n,0),i=uI(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Uy(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function a6(n,t){if(J0(n)!==J0(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function yd(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(J0(n)>J0(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class hxe{constructor(t,e){this.errorPrefix_=e,this.parts_=uI(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,X.ug)(this.parts_[i]);yz(this)}}function yz(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Hy(n))}function Hy(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class l6 extends gz{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new l6}getInitialEvent(t){return(0,X.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const dI=1e3;let oO,jy=(()=>{class n extends pz{constructor(e,i,r,s,a,l,d,f){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=n.nextPersistentConnectionId_++,this.log_=oI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=dI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f&&!(0,X.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");l6.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rO.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,a={r:s,a:e,b:i};this.log_((0,X.Pz)(a)),(0,X.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new X.BH,r={p:e._path.toString(),q:e._queryObject},s={action:"g",request:r,onComplete:l=>{const d=l.d;"ok"===l.s?(this.onDataUpdate_(r.p,d,!1,null),i.resolve(d)):i.reject(d)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const l=this.outstandingGets_[a];void 0===l||s!==l||(delete this.outstandingGets_[a],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+a+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),i.promise}listen(e,i,r,s){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),(0,X.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,X.hu)(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const d={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(l).set(a,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const a={p:r};e.tag&&(a.q=i._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,d=>{const f=d.d,p=d.s;n.warnOnListenWarnings_(f,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",d),"ok"!==p&&this.removeListen_(r,s),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,X.r3)(e,"w")){const r=(0,X.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',a=i._path.toString();dl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,X.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,X.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const a=s.s,l=s.d||"error";this.authToken_===e&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,X.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const a={p:e};s&&(a.q=r,a.t=s),this.sendRequest("n",a)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const a={p:i,d:r};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,a){this.initConnection_();const l={p:i,d:r};void 0!==a&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,a=>{this.log_(i+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,X.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Y3("Unrecognized action received from server: "+(0,X.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,X.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=dI,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=dI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=dI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,ot.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),a=e.id+":"+n.nextConnectionId_++,l=e.lastSessionId;let d=!1,f=null;const p=function(){f?f.close():(d=!0,s())};e.realtime_={close:p,sendRequest:function(b){(0,X.hu)(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(b)}};const w=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[b,T]=yield Promise.all([e.authTokenProvider_.getToken(w),e.appCheckTokenProvider_.getToken(w)]);d?ha("getToken() completed but was canceled"):(ha("getToken() completed. Creating connection."),e.authToken_=b&&b.accessToken,e.appCheckToken_=T&&T.token,f=new fz(a,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,E=>{dl(E+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},l))}catch(b){e.log_("Failed to get token: "+b),d||(e.repoInfo_.nodeAdmin&&dl(b),p())}}})()}interrupt(e){ha("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ha("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,X.xb)(this.interruptReasons_)&&(this.reconnectDelay_=dI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(a=>K3(a)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new er(e).toString();let s;if(this.listens.has(r)){const a=this.listens.get(r);s=a.get(i),a.delete(i),0===a.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ha("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ha("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,X.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+G3.replace(/\./g,"-")]=1,(0,X.uI)()?e["framework.cordova"]=1:(0,X.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rO.getInstance().currentlyOnline();return(0,X.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class vi{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vi(t,e)}}class sO{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new vi(Pg,t),r=new vi(Pg,e);return 0!==this.compare(i,r)}minPost(){return vi.MIN}}class bz extends sO{static get __EMPTY_NODE(){return oO}static set __EMPTY_NODE(t){oO=t}compare(t,e){return Uy(t.name,e.name)}isDefinedOn(t){throw(0,X.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vi.MIN}maxPost(){return new vi(sp,oO)}makePost(t,e){return(0,X.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new vi(t,oO)}toString(){return".key"}}const op=new bz;class aO{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!t.isEmpty();)if(t=t,a=e?i(t.key,e):1,r&&(a*=-1),a<0)t=this.isReverse_?t.left:t.right;else{if(0===a){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let u6,Mh=(()=>{class n{constructor(e,i,r,s,a){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Dc.EMPTY_NODE,this.right=null!=a?a:Dc.EMPTY_NODE}copy(e,i,r,s,a){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=a?a:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===a?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dc.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Dc.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Dc{constructor(t,e=Dc.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Dc(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Mh.BLACK,null,null))}remove(t){return new Dc(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Mh.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new aO(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new aO(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new aO(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new aO(this.root_,null,this.comparator_,!0,t)}}function xxe(n,t){return Uy(n.name,t.name)}function c6(n,t){return Uy(n,t)}Dc.EMPTY_NODE=new class wxe{copy(t,e,i,r,s){return this}insert(t,e,i){return new Mh(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Cz=function(n){return"number"==typeof n?"number:"+jj(n):"string:"+n},Tz=function(n){if(n.isLeafNode()){const t=n.val();(0,X.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,X.r3)(t,".sv"),"Priority must be a string or number.")}else(0,X.hu)(n===u6||n.isEmpty(),"priority of unexpected type.");(0,X.hu)(n===u6||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ez,Sz,Iz,Cb=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,X.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tz(this.priorityNode_)}static set __childrenNodeConstructor(e){Ez=e}static get __childrenNodeConstructor(){return Ez}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gi(e)?this:".priority"===pi(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=pi(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,X.hu)(".priority"!==r||1===J0(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(xr(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Cz(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?jj(this.value_):this.value_,this.lazyHash_=Bj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,X.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),a=n.VALUE_TYPE_ORDER.indexOf(r);return(0,X.hu)(s>=0,"Unknown leaf type: "+i),(0,X.hu)(a>=0,"Unknown leaf type: "+r),s===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Or=new class Exe extends sO{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Uy(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vi.MIN}maxPost(){return new vi(sp,new Cb("[PRIORITY-POST]",Iz))}makePost(t,e){const i=Sz(t);return new vi(e,new Cb("[PRIORITY-POST]",i))}toString(){return".priority"}},Sxe=Math.log(2);class Ixe{constructor(t){this.count=parseInt(Math.log(t+1)/Sxe,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const lO=function(n,t,e,i){n.sort(t);const r=function(d,f){const p=f-d;let m,w;if(0===p)return null;if(1===p)return m=n[d],w=e?e(m):m,new Mh(w,m.node,Mh.BLACK,null,null);{const b=parseInt(p/2,10)+d,T=r(d,b),E=r(b+1,f);return m=n[b],w=e?e(m):m,new Mh(w,m.node,Mh.BLACK,T,E)}},l=function(d){let f=null,p=null,m=n.length;const w=function(T,E){const M=m-T,N=m;m-=T;const V=r(M+1,N),U=n[M],q=e?e(U):U;b(new Mh(q,U.node,E,null,V))},b=function(T){f?(f.left=T,f=T):(p=T,f=T)};for(let T=0;T<d.count;++T){const E=d.nextBitIsOne(),M=Math.pow(2,d.count-(T+1));E?w(M,Mh.BLACK):(w(M,Mh.BLACK),w(M,Mh.RED))}return p}(new Ixe(n.length));return new Dc(i||t,l)};let d6;const Tb={};class Ng{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,X.hu)(Tb&&Or,"ChildrenNode.ts has not been loaded"),d6=d6||new Ng({".priority":Tb},{".priority":Or}),d6}get(t){const e=(0,X.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Dc?e:null}hasIndex(t){return(0,X.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,X.hu)(t!==op,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(vi.Wrap);let l,a=s.getNext();for(;a;)r=r||t.isDefinedOn(a.node),i.push(a),a=s.getNext();l=r?lO(i,t.getCompare()):Tb;const d=t.toString(),f=Object.assign({},this.indexSet_);f[d]=t;const p=Object.assign({},this.indexes_);return p[d]=l,new Ng(p,f)}addToIndexes(t,e){const i=(0,X.UI)(this.indexes_,(r,s)=>{const a=(0,X.DV)(this.indexSet_,s);if((0,X.hu)(a,"Missing index implementation for "+s),r===Tb){if(a.isDefinedOn(t.node)){const l=[],d=e.getIterator(vi.Wrap);let f=d.getNext();for(;f;)f.name!==t.name&&l.push(f),f=d.getNext();return l.push(t),lO(l,a.getCompare())}return Tb}{const l=e.get(t.name);let d=r;return l&&(d=d.remove(new vi(t.name,l))),d.insert(t,t.node)}});return new Ng(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,X.UI)(this.indexes_,r=>{if(r===Tb)return r;{const s=e.get(t.name);return s?r.remove(new vi(t.name,s)):r}});return new Ng(i,this.indexSet_)}}let hI,ti=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Tz(this.priorityNode_),this.children_.isEmpty()&&(0,X.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hI||(hI=new n(new Dc(c6),null,Ng.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hI}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?hI:i}}getChild(e){const i=pi(e);return null===i?this:this.getImmediateChild(i).getChild(xr(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,X.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new vi(e,i);let s,a;i.isEmpty()?(s=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),a=this.indexMap_.addToIndexes(r,this.children_));const l=s.isEmpty()?hI:this.priorityNode_;return new n(s,l,a)}}updateChild(e,i){const r=pi(e);if(null===r)return i;{(0,X.hu)(".priority"!==pi(e)||1===J0(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(xr(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,a=!0;if(this.forEachChild(Or,(l,d)=>{i[l]=d.val(e),r++,a&&n.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):a=!1}),!e&&a&&s<2*r){const l=[];for(const d in i)l[d]=i[d];return l}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Cz(this.getPriority().val())+":"),this.forEachChild(Or,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Bj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const a=s.getPredecessorKey(new vi(e,i));return a?a.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new vi(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new vi(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,vi.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,vi.Wrap);let a=s.peek();for(;null!=a&&i.compare(a,e)>0;)s.getNext(),a=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fI?-1:0}withIndex(e){if(e===op||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===op||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Or),s=i.getIterator(Or);let a=r.getNext(),l=s.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=r.getNext(),l=s.getNext()}return null===a&&null===l}return!1}return!1}}resolveIndex_(e){return e===op?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const fI=new class kxe extends ti{constructor(){super(new Dc(c6),ti.EMPTY_NODE,Ng.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ti.EMPTY_NODE}isEmpty(){return!1}};function vs(n,t=null){if(null===n)return ti.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,X.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Cb(n,vs(t));if(n instanceof Array){let e=ti.EMPTY_NODE;return fa(n,(i,r)=>{if((0,X.r3)(n,i)&&"."!==i.substring(0,1)){const s=vs(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(vs(t))}{const e=[];let i=!1;if(fa(n,(a,l)=>{if("."!==a.substring(0,1)){const d=vs(l);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),e.push(new vi(a,d)))}}),0===e.length)return ti.EMPTY_NODE;const s=lO(e,xxe,a=>a.name,c6);if(i){const a=lO(e,Or.getCompare());return new ti(s,vs(t),new Ng({".priority":a},{".priority":Or}))}return new ti(s,vs(t),Ng.Default)}}Object.defineProperties(vi,{MIN:{value:new vi(Pg,ti.EMPTY_NODE)},MAX:{value:new vi(sp,fI)}}),bz.__EMPTY_NODE=ti.EMPTY_NODE,Cb.__childrenNodeConstructor=ti,function bxe(n){u6=n}(fI),function Txe(n){Iz=n}(fI),function Cxe(n){Sz=n}(vs);class h6 extends sO{constructor(t){super(),this.indexPath_=t,(0,X.hu)(!gi(t)&&".priority"!==pi(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Uy(t.name,e.name):s}makePost(t,e){const i=vs(t),r=ti.EMPTY_NODE.updateChild(this.indexPath_,i);return new vi(e,r)}maxPost(){const t=ti.EMPTY_NODE.updateChild(this.indexPath_,fI);return new vi(sp,t)}toString(){return uI(this.indexPath_,0).join("/")}}const f6=new class Axe extends sO{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Uy(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vi.MIN}maxPost(){return vi.MAX}makePost(t,e){const i=vs(t);return new vi(e,i)}toString(){return".value"}},Eb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mxe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Eb.charAt(e%64),e=Math.floor(e/64);(0,X.hu)(0===e,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=Eb.charAt(t[r]);return(0,X.hu)(20===a.length,"nextPushId: Length should be 20."),a}}(),Az=function(n){if(n===""+Q3)return"-";const t=tO(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let a=0;a<e.length;a++)e[a]=n.charAt(a);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return sp;const s=Eb.charAt(Eb.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},Mz=function(n){if(n===""+zj)return Pg;const t=tO(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Q3:(delete e[e.length-1],e.join("")):(e[e.length-1]=Eb.charAt(Eb.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Oz(n){return{type:"value",snapshotNode:n}}function Sb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function pI(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function gI(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class g6{constructor(t){this.index_=t}updateChild(t,e,i,r,s,a){(0,X.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=t.getImmediateChild(e);return l.getChild(r).equals(i.getChild(r))&&l.isEmpty()===i.isEmpty()||(null!=a&&(i.isEmpty()?t.hasChild(e)?a.trackChildChange(pI(e,l)):(0,X.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Sb(e,i)):a.trackChildChange(gI(e,i,l))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Or,(r,s)=>{e.hasChild(r)||i.trackChildChange(pI(r,s))}),e.isLeafNode()||e.forEachChild(Or,(r,s)=>{if(t.hasChild(r)){const a=t.getImmediateChild(r);a.equals(s)||i.trackChildChange(gI(r,s,a))}else i.trackChildChange(Sb(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ti.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class mI{constructor(t){this.indexedFilter_=new g6(t.getIndex()),this.index_=t.getIndex(),this.startPost_=mI.getStartPost_(t),this.endPost_=mI.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,a){return this.matches(new vi(e,i))||(i=ti.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,a)}updateFullNode(t,e,i){e.isLeafNode()&&(e=ti.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(ti.EMPTY_NODE);const s=this;return e.forEachChild(Or,(a,l)=>{s.matches(new vi(a,l))||(r=r.updateImmediateChild(a,ti.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Rxe{constructor(t){this.rangedFilter_=new mI(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,a){return this.rangedFilter_.matches(new vi(e,i))||(i=ti.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,a):this.fullLimitUpdateChild_(t,e,i,s,a)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=ti.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=ti.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const l=s.getNext();let d;if(d=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,!d)break;r=r.updateImmediateChild(l.name,l.node),a++}}else{let s,a,l,d;if(r=e.withIndex(this.index_),r=r.updatePriority(ti.EMPTY_NODE),this.reverse_){d=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),a=this.rangedFilter_.getStartPost();const m=this.index_.getCompare();l=(w,b)=>m(b,w)}else d=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),a=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();let f=0,p=!1;for(;d.hasNext();){const m=d.getNext();!p&&l(s,m)<=0&&(p=!0),p&&f<this.limit_&&l(m,a)<=0?f++:r=r.updateImmediateChild(m.name,ti.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let a;if(this.reverse_){const m=this.index_.getCompare();a=(w,b)=>m(b,w)}else a=this.index_.getCompare();const l=t;(0,X.hu)(l.numChildren()===this.limit_,"");const d=new vi(e,i),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),p=this.rangedFilter_.matches(d);if(l.hasChild(e)){const m=l.getImmediateChild(e);let w=r.getChildAfterChild(this.index_,f,this.reverse_);for(;null!=w&&(w.name===e||l.hasChild(w.name));)w=r.getChildAfterChild(this.index_,w,this.reverse_);const b=null==w?1:a(w,d);if(p&&!i.isEmpty()&&b>=0)return null!=s&&s.trackChildChange(gI(e,i,m)),l.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(pI(e,m));const E=l.updateImmediateChild(e,ti.EMPTY_NODE);return null!=w&&this.rangedFilter_.matches(w)?(null!=s&&s.trackChildChange(Sb(w.name,w.node)),E.updateImmediateChild(w.name,w.node)):E}}return i.isEmpty()?t:p&&a(f,d)>=0?(null!=s&&(s.trackChildChange(pI(f.name,f.node)),s.trackChildChange(Sb(e,i))),l.updateImmediateChild(e,i).updateImmediateChild(f.name,ti.EMPTY_NODE)):t}}class cO{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Or}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,X.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,X.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sp}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,X.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Or}copy(){const t=new cO;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function m6(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function _6(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function uO(n,t){const e=n.copy();return e.index_=t,e}function Rz(n){const t={};if(n.isDefault())return t;let e;return n.index_===Or?e="$priority":n.index_===f6?e="$value":n.index_===op?e="$key":((0,X.hu)(n.index_ instanceof h6,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,X.Pz)(e),n.startSet_&&(t.startAt=(0,X.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,X.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,X.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,X.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Fz(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Or&&(t.i=n.index_.toString()),t}class dO extends pz{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=oI("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,X.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const a=dO.getListenId_(t,i),l={};this.listens_[a]=l;const d=Rz(t._queryParams);this.restRequest_(s+".json",d,(f,p)=>{let m=p;if(404===f&&(m=null,f=null),null===f&&this.onDataUpdate_(s,m,!1,i),(0,X.DV)(this.listens_,a)===l){let w;w=f?401===f?"permission_denied":"rest_error:"+f:"ok",r(w,null)}})}unlisten(t,e){const i=dO.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Rz(t._queryParams),i=t._path.toString(),r=new X.BH;return this.restRequest_(i+".json",e,(s,a)=>{let l=a;404===s&&(l=null,s=null),null===s?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,X.xO)(e);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&4===l.readyState){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let d=null;if(l.status>=200&&l.status<300){try{d=(0,X.cI)(l.responseText)}catch(f){dl("Failed to parse JSON response for "+a+": "+l.responseText)}i(null,d)}else 401!==l.status&&404!==l.status&&dl("Got unsuccessful REST response for "+a+" Status: "+l.status),i(l.status);i=null}},l.open("GET",a,!0),l.send()})}}class Vxe{constructor(){this.rootNode_=ti.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function hO(){return{value:null,children:new Map}}function Ib(n,t,e){if(gi(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=pi(t);n.children.has(i)||n.children.set(i,hO()),Ib(n.children.get(i),t=xr(t),e)}}function v6(n,t){if(gi(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Or,(i,r)=>{Ib(n,new er(i),r)}),v6(n,t)}}if(n.children.size>0){const e=pi(t);return t=xr(t),n.children.has(e)&&v6(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function y6(n,t,e){null!==n.value?e(t,n.value):function Uxe(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{y6(r,new er(t.toString()+"/"+i),e)})}class Hxe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&fa(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Zxe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Hxe(t);const i=1e4+2e4*Math.random();lI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;fa(t,(r,s)=>{s>0&&(0,X.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),lI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wd=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(wd||(wd={})),wd))();function b6(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class fO{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=wd.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(gi(this.path)){if(null!=this.affectedTree.value)return(0,X.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new er(t));return new fO(ji(),e,this.revert)}}return(0,X.hu)(pi(this.path)===t,"operationForChild called for unrelated child."),new fO(xr(this.path),this.affectedTree,this.revert)}}class _I{constructor(t,e){this.source=t,this.path=e,this.type=wd.LISTEN_COMPLETE}operationForChild(t){return gi(this.path)?new _I(this.source,ji()):new _I(this.source,xr(this.path))}}class zy{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=wd.OVERWRITE}operationForChild(t){return gi(this.path)?new zy(this.source,ji(),this.snap.getImmediateChild(t)):new zy(this.source,xr(this.path),this.snap)}}class kb{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=wd.MERGE}operationForChild(t){if(gi(this.path)){const e=this.children.subtree(new er(t));return e.isEmpty()?null:e.value?new zy(this.source,ji(),e.value):new kb(this.source,ji(),e)}return(0,X.hu)(pi(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new kb(this.source,xr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class X0{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(gi(t))return this.isFullyInitialized()&&!this.filtered_;const e=pi(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Wxe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function vI(n,t,e,i,r,s){const a=i.filter(l=>l.type===e);a.sort((l,d)=>function $xe(n,t,e){if(null==t.childName||null==e.childName)throw(0,X.g5)("Should only compare child_ events.");const i=new vi(t.childName,t.snapshotNode),r=new vi(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,l,d)),a.forEach(l=>{const d=function Gxe(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,l,s);r.forEach(f=>{f.respondsTo(l.type)&&t.push(f.createEvent(d,n.query_))})})}function pO(n,t){return{eventCache:n,serverCache:t}}function yI(n,t,e,i){return pO(new X0(t,e,i),n.serverCache)}function Nz(n,t,e,i){return pO(n.eventCache,new X0(t,e,i))}function gO(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Zy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let C6;class Rr{constructor(t,e=(()=>(C6||(C6=new Dc(Owe)),C6))()){this.value=t,this.children=e}static fromObject(t){let e=new Rr(null);return fa(t,(i,r)=>{e=e.set(new er(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:ji(),value:this.value};if(gi(t))return null;{const i=pi(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(xr(t),e);return null!=s?{path:ns(new er(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(gi(t))return this;{const e=pi(t),i=this.children.get(e);return null!==i?i.subtree(xr(t)):new Rr(null)}}set(t,e){if(gi(t))return new Rr(e,this.children);{const i=pi(t),s=(this.children.get(i)||new Rr(null)).set(xr(t),e),a=this.children.insert(i,s);return new Rr(this.value,a)}}remove(t){if(gi(t))return this.children.isEmpty()?new Rr(null):new Rr(null,this.children);{const e=pi(t),i=this.children.get(e);if(i){const r=i.remove(xr(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Rr(null):new Rr(this.value,s)}return this}}get(t){if(gi(t))return this.value;{const e=pi(t),i=this.children.get(e);return i?i.get(xr(t)):null}}setTree(t,e){if(gi(t))return e;{const i=pi(t),s=(this.children.get(i)||new Rr(null)).setTree(xr(t),e);let a;return a=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Rr(this.value,a)}}fold(t){return this.fold_(ji(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ns(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,ji(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(gi(t))return null;{const s=pi(t),a=this.children.get(s);return a?a.findOnPath_(xr(t),ns(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,ji(),e)}foreachOnPath_(t,e,i){if(gi(t))return this;{this.value&&i(e,this.value);const r=pi(t),s=this.children.get(r);return s?s.foreachOnPath_(xr(t),ns(e,r),i):new Rr(null)}}foreach(t){this.foreach_(ji(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ns(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Oh{constructor(t){this.writeTree_=t}static empty(){return new Oh(new Rr(null))}}function wI(n,t,e){if(gi(t))return new Oh(new Rr(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=Yl(r,t);return s=s.updateChild(a,e),new Oh(n.writeTree_.set(r,s))}{const r=new Rr(e),s=n.writeTree_.setTree(t,r);return new Oh(s)}}}function T6(n,t,e){let i=n;return fa(e,(r,s)=>{i=wI(i,ns(t,r),s)}),i}function Lz(n,t){if(gi(t))return Oh.empty();{const e=n.writeTree_.setTree(t,new Rr(null));return new Oh(e)}}function E6(n,t){return null!=Wy(n,t)}function Wy(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Yl(e.path,t)):null}function Bz(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Or,(i,r)=>{t.push(new vi(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new vi(i,r.value))}),t}function e_(n,t){if(gi(t))return n;{const e=Wy(n,t);return new Oh(null!=e?new Rr(e):n.writeTree_.subtree(t))}}function S6(n){return n.writeTree_.isEmpty()}function Db(n,t){return Vz(ji(),n.writeTree_,t)}function Vz(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,X.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=Vz(ns(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ns(n,".priority"),i)),e}}function mO(n,t){return Zz(t,n)}function ebe(n,t){if(n.snap)return yd(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&yd(ns(n.path,e),t))return!0;return!1}function nbe(n){return n.visible}function Uz(n,t,e){let i=Oh.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const a=s.path;let l;if(s.snap)yd(e,a)?(l=Yl(e,a),i=wI(i,l,s.snap)):yd(a,e)&&(l=Yl(a,e),i=wI(i,ji(),s.snap.getChild(l)));else{if(!s.children)throw(0,X.g5)("WriteRecord should have .snap or .children");if(yd(e,a))l=Yl(e,a),i=T6(i,l,s.children);else if(yd(a,e))if(l=Yl(a,e),gi(l))i=T6(i,ji(),s.children);else{const d=(0,X.DV)(s.children,pi(l));if(d){const f=d.getChild(xr(l));i=wI(i,ji(),f)}}}}}return i}function Hz(n,t,e,i,r){if(i||r){const s=e_(n.visibleWrites,t);return!r&&S6(s)?e:r||null!=e||E6(s,ji())?Db(Uz(n.allWrites,function(f){return(f.visible||r)&&(!i||!~i.indexOf(f.writeId))&&(yd(f.path,t)||yd(t,f.path))},t),e||ti.EMPTY_NODE):null}{const s=Wy(n.visibleWrites,t);if(null!=s)return s;{const a=e_(n.visibleWrites,t);return S6(a)?e:null!=e||E6(a,ji())?Db(a,e||ti.EMPTY_NODE):null}}}function _O(n,t,e,i){return Hz(n.writeTree,n.treePath,t,e,i)}function I6(n,t){return function ibe(n,t,e){let i=ti.EMPTY_NODE;const r=Wy(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Or,(s,a)=>{i=i.updateImmediateChild(s,a)}),i;if(e){const s=e_(n.visibleWrites,t);return e.forEachChild(Or,(a,l)=>{const d=Db(e_(s,new er(a)),l);i=i.updateImmediateChild(a,d)}),Bz(s).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}return Bz(e_(n.visibleWrites,t)).forEach(a=>{i=i.updateImmediateChild(a.name,a.node)}),i}(n.writeTree,n.treePath,t)}function jz(n,t,e,i){return function rbe(n,t,e,i,r){(0,X.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ns(t,e);if(E6(n.visibleWrites,s))return null;{const a=e_(n.visibleWrites,s);return S6(a)?r.getChild(e):Db(a,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function vO(n,t){return function obe(n,t){return Wy(n.visibleWrites,t)}(n.writeTree,ns(n.treePath,t))}function k6(n,t,e){return function sbe(n,t,e,i){const r=ns(t,e),s=Wy(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Db(e_(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function zz(n,t){return Zz(ns(n.treePath,t),n.writeTree)}function Zz(n,t){return{treePath:n,writeTree:t}}class ube{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,X.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,X.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,gI(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,pI(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Sb(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,X.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,gI(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Wz=new class dbe{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class D6{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new X0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return k6(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zy(this.viewCache_),s=function cbe(n,t,e,i,r,s){return function abe(n,t,e,i,r,s,a){let l;const d=e_(n.visibleWrites,t),f=Wy(d,ji());if(null!=f)l=f;else{if(null==e)return[];l=Db(d,e)}if(l=l.withIndex(a),l.isEmpty()||l.isLeafNode())return[];{const p=[],m=a.getCompare(),w=s?l.getReverseIteratorFrom(i,a):l.getIteratorFrom(i,a);let b=w.getNext();for(;b&&p.length<r;)0!==m(b,i)&&p.push(b),b=w.getNext();return p}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function qz(n,t,e,i,r,s){const a=t.eventCache;if(null!=vO(i,e))return t;{let l,d;if(gi(e))if((0,X.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=Zy(t),m=I6(i,f instanceof ti?f:ti.EMPTY_NODE);l=n.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{const f=_O(i,Zy(t));l=n.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=pi(e);if(".priority"===f){(0,X.hu)(1===J0(e),"Can't have a priority with additional path components");const p=a.getNode();d=t.serverCache.getNode();const m=jz(i,e,p,d);l=null!=m?n.filter.updatePriority(p,m):a.getNode()}else{const p=xr(e);let m;if(a.isCompleteForChild(f)){d=t.serverCache.getNode();const w=jz(i,e,a.getNode(),d);m=null!=w?a.getNode().getImmediateChild(f).updateChild(p,w):a.getNode().getImmediateChild(f)}else m=k6(i,f,t.serverCache);l=null!=m?n.filter.updateChild(a.getNode(),f,m,p,r,s):a.getNode()}}return yI(t,l,a.isFullyInitialized()||gi(e),n.filter.filtersNodes())}}function yO(n,t,e,i,r,s,a,l){const d=t.serverCache;let f;const p=a?n.filter:n.filter.getIndexedFilter();if(gi(e))f=p.updateFullNode(d.getNode(),i,null);else if(p.filtersNodes()&&!d.isFiltered()){const b=d.getNode().updateChild(e,i);f=p.updateFullNode(d.getNode(),b,null)}else{const b=pi(e);if(!d.isCompleteForPath(e)&&J0(e)>1)return t;const T=xr(e),M=d.getNode().getImmediateChild(b).updateChild(T,i);f=".priority"===b?p.updatePriority(d.getNode(),M):p.updateChild(d.getNode(),b,M,T,Wz,null)}const m=Nz(t,f,d.isFullyInitialized()||gi(e),p.filtersNodes());return qz(n,m,e,r,new D6(r,m,s),l)}function A6(n,t,e,i,r,s,a){const l=t.eventCache;let d,f;const p=new D6(r,t,s);if(gi(e))f=n.filter.updateFullNode(t.eventCache.getNode(),i,a),d=yI(t,f,!0,n.filter.filtersNodes());else{const m=pi(e);if(".priority"===m)f=n.filter.updatePriority(t.eventCache.getNode(),i),d=yI(t,f,l.isFullyInitialized(),l.isFiltered());else{const w=xr(e),b=l.getNode().getImmediateChild(m);let T;if(gi(w))T=i;else{const E=p.getCompleteChild(m);T=null!=E?".priority"===o6(w)&&E.getChild(vz(w)).isEmpty()?E:E.updateChild(w,i):ti.EMPTY_NODE}d=b.equals(T)?t:yI(t,n.filter.updateChild(l.getNode(),m,T,w,p,a),l.isFullyInitialized(),n.filter.filtersNodes())}}return d}function Gz(n,t){return n.eventCache.isCompleteForChild(t)}function $z(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function M6(n,t,e,i,r,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let f,d=t;f=gi(e)?i:new Rr(null).setTree(e,i);const p=t.serverCache.getNode();return f.children.inorderTraversal((m,w)=>{if(p.hasChild(m)){const T=$z(0,t.serverCache.getNode().getImmediateChild(m),w);d=yO(n,d,new er(m),T,r,s,a,l)}}),f.children.inorderTraversal((m,w)=>{const b=!t.serverCache.isCompleteForChild(m)&&void 0===w.value;if(!p.hasChild(m)&&!b){const E=$z(0,t.serverCache.getNode().getImmediateChild(m),w);d=yO(n,d,new er(m),E,r,s,a,l)}}),d}class wbe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new g6(i.getIndex()),s=function Fxe(n){return n.loadsAllData()?new g6(n.getIndex()):n.hasLimit()?new Rxe(n):new mI(n)}(i);this.processor_=function hbe(n){return{filter:n}}(s);const a=e.serverCache,l=e.eventCache,d=r.updateFullNode(ti.EMPTY_NODE,a.getNode(),null),f=s.updateFullNode(ti.EMPTY_NODE,l.getNode(),null),p=new X0(d,a.isFullyInitialized(),r.filtersNodes()),m=new X0(f,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=pO(m,p),this.eventGenerator_=new Wxe(this.query_)}get query(){return this.query_}}function Cbe(n,t){const e=Zy(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!gi(t)&&!e.getImmediateChild(pi(t)).isEmpty())?e.getChild(t):null}function Yz(n){return 0===n.eventRegistrations_.length}function Kz(n,t,e){const i=[];if(e){(0,X.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(e,r);a&&i.push(a)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(a)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Qz(n,t,e,i){t.type===wd.MERGE&&null!==t.source.queryId&&((0,X.hu)(Zy(n.viewCache_),"We should always have a full cache before handling merges"),(0,X.hu)(gO(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function pbe(n,t,e,i,r){const s=new ube;let a,l;if(e.type===wd.OVERWRITE){const f=e;f.source.fromUser?a=A6(n,t,f.path,f.snap,i,r,s):((0,X.hu)(f.source.fromServer,"Unknown source."),l=f.source.tagged||t.serverCache.isFiltered()&&!gi(f.path),a=yO(n,t,f.path,f.snap,i,r,l,s))}else if(e.type===wd.MERGE){const f=e;f.source.fromUser?a=function mbe(n,t,e,i,r,s,a){let l=t;return i.foreach((d,f)=>{const p=ns(e,d);Gz(t,pi(p))&&(l=A6(n,l,p,f,r,s,a))}),i.foreach((d,f)=>{const p=ns(e,d);Gz(t,pi(p))||(l=A6(n,l,p,f,r,s,a))}),l}(n,t,f.path,f.children,i,r,s):((0,X.hu)(f.source.fromServer,"Unknown source."),l=f.source.tagged||t.serverCache.isFiltered(),a=M6(n,t,f.path,f.children,i,r,l,s))}else if(e.type===wd.ACK_USER_WRITE){const f=e;a=f.revert?function ybe(n,t,e,i,r,s){let a;if(null!=vO(i,e))return t;{const l=new D6(i,t,r),d=t.eventCache.getNode();let f;if(gi(e)||".priority"===pi(e)){let p;if(t.serverCache.isFullyInitialized())p=_O(i,Zy(t));else{const m=t.serverCache.getNode();(0,X.hu)(m instanceof ti,"serverChildren would be complete if leaf node"),p=I6(i,m)}p=p,f=n.filter.updateFullNode(d,p,s)}else{const p=pi(e);let m=k6(i,p,t.serverCache);null==m&&t.serverCache.isCompleteForChild(p)&&(m=d.getImmediateChild(p)),f=null!=m?n.filter.updateChild(d,p,m,xr(e),l,s):t.eventCache.getNode().hasChild(p)?n.filter.updateChild(d,p,ti.EMPTY_NODE,xr(e),l,s):d,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=_O(i,Zy(t)),a.isLeafNode()&&(f=n.filter.updateFullNode(f,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=vO(i,ji()),yI(t,f,a,n.filter.filtersNodes())}}(n,t,f.path,i,r,s):function _be(n,t,e,i,r,s,a){if(null!=vO(r,e))return t;const l=t.serverCache.isFiltered(),d=t.serverCache;if(null!=i.value){if(gi(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return yO(n,t,e,d.getNode().getChild(e),r,s,l,a);if(gi(e)){let f=new Rr(null);return d.getNode().forEachChild(op,(p,m)=>{f=f.set(new er(p),m)}),M6(n,t,e,f,r,s,l,a)}return t}{let f=new Rr(null);return i.foreach((p,m)=>{const w=ns(e,p);d.isCompleteForPath(w)&&(f=f.set(p,d.getNode().getChild(w)))}),M6(n,t,e,f,r,s,l,a)}}(n,t,f.path,f.affectedTree,i,r,s)}else{if(e.type!==wd.LISTEN_COMPLETE)throw(0,X.g5)("Unknown operation type: "+e.type);a=function vbe(n,t,e,i,r){const s=t.serverCache;return qz(n,Nz(t,s.getNode(),s.isFullyInitialized()||gi(e),s.isFiltered()),e,i,Wz,r)}(n,t,e.path,i,s)}const d=s.getChanges();return function gbe(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=gO(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(Oz(gO(t)))}}(t,a,d),{viewCache:a,changes:d}}(n.processor_,r,t,e,i);return function fbe(n,t){(0,X.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,X.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,X.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,Jz(n,s.changes,s.viewCache.eventCache.getNode(),null)}function Jz(n,t,e,i){return function qxe(n,t,e,i){const r=[],s=[];return t.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function Oxe(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(a.childName,a.snapshotNode))}),vI(n,r,"child_removed",t,i,e),vI(n,r,"child_added",t,i,e),vI(n,r,"child_moved",s,i,e),vI(n,r,"child_changed",t,i,e),vI(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let wO,bO;class Xz{constructor(){this.views=new Map}}function O6(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,X.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Qz(s,t,e,i)}{let s=[];for(const a of n.views.values())s=s.concat(Qz(a,t,e,i));return s}}function eZ(n,t,e,i,r){const a=n.views.get(t._queryIdentifier);if(!a){let l=_O(e,r?i:null),d=!1;l?d=!0:i instanceof ti?(l=I6(e,i),d=!1):(l=ti.EMPTY_NODE,d=!1);const f=pO(new X0(l,d,!1),new X0(i,r,!1));return new wbe(t,f)}return a}function tZ(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function t_(n,t){let e=null;for(const i of n.views.values())e=e||Cbe(i,t);return e}function nZ(n,t){return t._queryParams.loadsAllData()?xO(n):n.views.get(t._queryIdentifier)}function iZ(n,t){return null!=nZ(n,t)}function n_(n){return null!=xO(n)}function xO(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Rbe=1;class rZ{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Rr(null),this.pendingWriteTree_=function lbe(){return{visibleWrites:Oh.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function R6(n,t,e,i,r){return function Kxe(n,t,e,i,r){(0,X.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=wI(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Ab(n,new zy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function i_(n,t,e=!1){const i=function Jxe(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function Xxe(n,t){const e=n.allWrites.findIndex(l=>l.writeId===t);(0,X.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,a=n.allWrites.length-1;for(;r&&a>=0;){const l=n.allWrites[a];l.visible&&(a>=e&&ebe(l,i.path)?r=!1:yd(i.path,l.path)&&(s=!0)),a--}return!!r&&(s?(function tbe(n){n.visibleWrites=Uz(n.allWrites,nbe,ji()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Lz(n.visibleWrites,i.path):fa(i.children,d=>{n.visibleWrites=Lz(n.visibleWrites,ns(i.path,d))}),!0))}(n.pendingWriteTree_,t)){let s=new Rr(null);return null!=i.snap?s=s.set(ji(),!0):fa(i.children,a=>{s=s.set(new er(a),!0)}),Ab(n,new fO(i.path,s,e))}return[]}function xI(n,t,e){return Ab(n,new zy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function F6(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let a=[];if(s&&("default"===t._queryIdentifier||iZ(s,t))){const l=function Abe(n,t,e,i){const r=t._queryIdentifier,s=[];let a=[];const l=n_(n);if("default"===r)for(const[d,f]of n.views.entries())a=a.concat(Kz(f,e,i)),Yz(f)&&(n.views.delete(d),f.query._queryParams.loadsAllData()||s.push(f.query));else{const d=n.views.get(r);d&&(a=a.concat(Kz(d,e,i)),Yz(d)&&(n.views.delete(r),d.query._queryParams.loadsAllData()||s.push(d.query)))}return l&&!n_(n)&&s.push(new(function Ibe(){return(0,X.hu)(wO,"Reference.ts has not been loaded"),wO}())(t._repo,t._path)),{removed:s,events:a}}(s,t,e,i);(function kbe(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const d=l.removed;a=l.events;const f=-1!==d.findIndex(m=>m._queryParams.loadsAllData()),p=n.syncPointTree_.findOnPath(r,(m,w)=>n_(w));if(f&&!p){const m=n.syncPointTree_.subtree(r);if(!m.isEmpty()){const w=function Hbe(n){return n.fold((t,e,i)=>{if(e&&n_(e))return[xO(e)];{let r=[];return e&&(r=tZ(e)),fa(i,(s,a)=>{r=r.concat(a)}),r}})}(m);for(let b=0;b<w.length;++b){const T=w[b],E=T.query,M=lZ(n,T);n.listenProvider_.startListening(bI(E),TO(n,E),M.hashFn,M.onComplete)}}}!p&&d.length>0&&!i&&(f?n.listenProvider_.stopListening(bI(t),null):d.forEach(m=>{const w=n.queryToTagMap.get(EO(m));n.listenProvider_.stopListening(bI(m),w)})),function jbe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=EO(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,d)}return a}function sZ(n,t,e){const i=t._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(m,w)=>{const b=Yl(m,i);r=r||t_(w,b),s=s||n_(w)});let l,a=n.syncPointTree_.get(i);a?(s=s||n_(a),r=r||t_(a,ji())):(a=new Xz,n.syncPointTree_=n.syncPointTree_.set(i,a)),null!=r?l=!0:(l=!1,r=ti.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((w,b)=>{const T=t_(b,ji());T&&(r=r.updateImmediateChild(w,T))}));const d=iZ(a,t);if(!d&&!t._queryParams.loadsAllData()){const m=EO(t);(0,X.hu)(!n.queryToTagMap.has(m),"View does not exist, but we have a tag");const w=function zbe(){return Rbe++}();n.queryToTagMap.set(m,w),n.tagToQueryMap.set(w,m)}let p=function Dbe(n,t,e,i,r,s){const a=eZ(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,a),function Tbe(n,t){n.eventRegistrations_.push(t)}(a,e),function Ebe(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Or,(s,a)=>{i.push(Sb(s,a))}),e.isFullyInitialized()&&i.push(Oz(e.getNode())),Jz(n,i,e.getNode(),t)}(a,e)}(a,t,e,mO(n.pendingWriteTree_,i),r,l);if(!d&&!s){const m=nZ(a,t);p=p.concat(function Zbe(n,t,e){const i=t._path,r=TO(n,t),s=lZ(n,e),a=n.listenProvider_.startListening(bI(t),r,s.hashFn,s.onComplete),l=n.syncPointTree_.subtree(i);if(r)(0,X.hu)(!n_(l.value),"If we're adding a query, it shouldn't be shadowed");else{const d=l.fold((f,p,m)=>{if(!gi(f)&&p&&n_(p))return[xO(p).query];{let w=[];return p&&(w=w.concat(tZ(p).map(b=>b.query))),fa(m,(b,T)=>{w=w.concat(T)}),w}});for(let f=0;f<d.length;++f){const p=d[f];n.listenProvider_.stopListening(bI(p),TO(n,p))}}return a}(n,t,m))}return p}function CO(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(a,l)=>{const f=t_(l,Yl(a,t));if(f)return f});return Hz(r,t,s,e,!0)}function Ab(n,t){return oZ(t,n.syncPointTree_,null,mO(n.pendingWriteTree_,ji()))}function oZ(n,t,e,i){if(gi(n.path))return aZ(n,t,e,i);{const r=t.get(ji());null==e&&null!=r&&(e=t_(r,ji()));let s=[];const a=pi(n.path),l=n.operationForChild(a),d=t.children.get(a);if(d&&l){const f=e?e.getImmediateChild(a):null,p=zz(i,a);s=s.concat(oZ(l,d,f,p))}return r&&(s=s.concat(O6(r,n,i,e))),s}}function aZ(n,t,e,i){const r=t.get(ji());null==e&&null!=r&&(e=t_(r,ji()));let s=[];return t.children.inorderTraversal((a,l)=>{const d=e?e.getImmediateChild(a):null,f=zz(i,a),p=n.operationForChild(a);p&&(s=s.concat(aZ(p,l,d,f)))}),r&&(s=s.concat(O6(r,n,i,e))),s}function lZ(n,t){const e=t.query,i=TO(n,e);return{hashFn:()=>(function xbe(n){return n.viewCache_.serverCache.getNode()}(t)||ti.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Lbe(n,t,e){const i=P6(n,e);if(i){const r=N6(i),s=r.path,a=r.queryId,l=Yl(s,t);return L6(n,s,new _I(b6(a),l))}return[]}(n,e._path,i):function Nbe(n,t){return Ab(n,new _I({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function Pwe(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return F6(n,e,null,s)}}}}function TO(n,t){const e=EO(t);return n.queryToTagMap.get(e)}function EO(n){return n._path.toString()+"$"+n._queryIdentifier}function P6(n,t){return n.tagToQueryMap.get(t)}function N6(n){const t=n.indexOf("$");return(0,X.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new er(n.substr(0,t))}}function L6(n,t,e){const i=n.syncPointTree_.get(t);return(0,X.hu)(i,"Missing sync point for query tag that we're tracking"),O6(i,e,mO(n.pendingWriteTree_,t),null)}function bI(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Obe(){return(0,X.hu)(bO,"Reference.ts has not been loaded"),bO}())(n._repo,n._path):n}class B6{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new B6(e)}node(){return this.node_}}class V6{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ns(this.path_,t);return new V6(this.syncTree_,e)}node(){return CO(this.syncTree_,this.path_)}}const cZ=function(n,t,e){return n&&"object"==typeof n?((0,X.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?qbe(n[".sv"],t,e):"object"==typeof n[".sv"]?Gbe(n[".sv"],t):void(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},qbe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,X.hu)(!1,"Unexpected server value: "+n)},Gbe=function(n,t,e){n.hasOwnProperty("increment")||(0,X.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,X.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,X.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const a=r.getValue();return"number"!=typeof a?i:a+i},uZ=function(n,t,e,i){return H6(t,new V6(e,n),i)},U6=function(n,t,e){return H6(n,new B6(t),e)};function H6(n,t,e){const i=n.getPriority().val(),r=cZ(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const a=n,l=cZ(a.getValue(),t,e);return l!==a.getValue()||r!==a.getPriority().val()?new Cb(l,vs(r)):n}{const a=n;return s=a,r!==a.getPriority().val()&&(s=s.updatePriority(new Cb(r))),a.forEachChild(Or,(l,d)=>{const f=H6(d,t.getImmediateChild(l),e);f!==d&&(s=s.updateImmediateChild(l,f))}),s}}class j6{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function SO(n,t){let e=t instanceof er?t:new er(t),i=n,r=pi(e);for(;null!==r;){const s=(0,X.DV)(i.node.children,r)||{children:{},childCount:0};i=new j6(r,i,s),e=xr(e),r=pi(e)}return i}function qy(n){return n.node.value}function z6(n,t){n.node.value=t,Z6(n)}function dZ(n){return n.node.childCount>0}function IO(n,t){fa(n.node.children,(e,i)=>{t(new j6(e,n,i))})}function hZ(n,t,e,i){e&&!i&&t(n),IO(n,r=>{hZ(r,t,!0,i)}),e&&i&&t(n)}function CI(n){return new er(null===n.parent?n.name:CI(n.parent)+"/"+n.name)}function Z6(n){null!==n.parent&&function Kbe(n,t,e){const i=function $be(n){return void 0===qy(n)&&!dZ(n)}(e),r=(0,X.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,Z6(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,Z6(n))}(n.parent,n.name,n)}const Qbe=/[\[\].#$\/\u0000-\u001F\u007F]/,Jbe=/[\[\].#$\u0000-\u001F\u007F]/,W6=10485760,kO=function(n){return"string"==typeof n&&0!==n.length&&!Qbe.test(n)},fZ=function(n){return"string"==typeof n&&0!==n.length&&!Jbe.test(n)},TI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!eO(n)||n&&"object"==typeof n&&(0,X.r3)(n,".sv")},ap=function(n,t,e,i){i&&void 0===t||EI((0,X.gK)(n,"value"),t,e)},EI=function(n,t,e){const i=e instanceof er?new hxe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Hy(i));if("function"==typeof t)throw new Error(n+"contains a function "+Hy(i)+" with contents = "+t.toString());if(eO(t))throw new Error(n+"contains "+t.toString()+" "+Hy(i));if("string"==typeof t&&t.length>W6/3&&(0,X.ug)(t)>W6)throw new Error(n+"contains a string greater than "+W6+" utf8 bytes "+Hy(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(fa(t,(a,l)=>{if(".value"===a)r=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!kO(a)))throw new Error(n+" contains an invalid key ("+a+") "+Hy(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function fxe(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,X.ug)(t),yz(n)})(i,a),EI(n,l,i),function pxe(n){const t=n.parts_.pop();n.byteLength_-=(0,X.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Hy(i)+" in addition to actual children.")}},pZ=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,X.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];fa(t,(a,l)=>{const d=new er(a);if(EI(r,l,ns(e,d)),".priority"===o6(d)&&!TI(l))throw new Error(r+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(d)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=uI(i);for(let a=0;a<s.length;a++)if((".priority"!==s[a]||a!==s.length-1)&&!kO(s[a]))throw new Error(n+"contains an invalid key ("+s[a]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(dxe);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&yd(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},q6=function(n,t,e){if(!e||void 0!==t){if(eO(t))throw new Error((0,X.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!TI(t))throw new Error((0,X.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},SI=function(n,t,e,i){if(!(i&&void 0===e||kO(e)))throw new Error((0,X.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},II=function(n,t,e,i){if(!(i&&void 0===e||fZ(e)))throw new Error((0,X.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xd=function(n,t){if(".info"===pi(t))throw new Error(n+" failed = Can't modify data under /.info/")},gZ=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!kO(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fZ(n)}(e))throw new Error((0,X.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nCe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DO(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!a6(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function G6(n,t,e){DO(n,e),mZ(n,i=>a6(i,t))}function bd(n,t,e){DO(n,e),mZ(n,i=>yd(i,t)||yd(t,i))}function mZ(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(iCe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function iCe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Vy&&ha("event: "+e.toString()),xb(i)}}}const _Z="repo_interrupt";class sCe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nCe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hO(),this.transactionQueueTree_=new j6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vZ(n){const e=n.infoData_.getNode(new er(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function kI(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:vZ(n)})}function yZ(n,t,e,i,r){n.dataUpdateCount++;const s=new er(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let a=[];if(r)if(i){const d=(0,X.UI)(e,f=>vs(f));a=function Vbe(n,t,e,i){const r=P6(n,i);if(r){const s=N6(r),a=s.path,l=s.queryId,d=Yl(a,t),f=Rr.fromObject(e);return L6(n,a,new kb(b6(l),d,f))}return[]}(n.serverSyncTree_,s,d,r)}else{const d=vs(e);a=function Bbe(n,t,e,i){const r=P6(n,i);if(null!=r){const s=N6(r),a=s.path,l=s.queryId,d=Yl(a,t);return L6(n,a,new zy(b6(l),d,e))}return[]}(n.serverSyncTree_,s,d,r)}else if(i){const d=(0,X.UI)(e,f=>vs(f));a=function Pbe(n,t,e){const i=Rr.fromObject(e);return Ab(n,new kb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,d)}else{const d=vs(e);a=xI(n.serverSyncTree_,s,d)}let l=s;a.length>0&&(l=Ob(n,s)),bd(n.eventQueue_,l,a)}function wZ(n,t){$6(n,"connected",t),!1===t&&function uCe(n){Mb(n,"onDisconnectEvents");const t=kI(n),e=hO();y6(n.onDisconnect_,ji(),(r,s)=>{const a=uZ(r,s,n.serverSyncTree_,t);Ib(e,r,a)});let i=[];y6(e,ji(),(r,s)=>{i=i.concat(xI(n.serverSyncTree_,r,s));const a=J6(n,r);Ob(n,a)}),n.onDisconnect_=hO(),bd(n.eventQueue_,ji(),i)}(n)}function $6(n,t,e){const i=new er("/.info/"+t),r=vs(e);n.infoData_.updateSnapshot(i,r);const s=xI(n.infoSyncTree_,i,r);bd(n.eventQueue_,i,s)}function AO(n){return n.nextWriteId_++}function Y6(n,t,e,i,r){Mb(n,"set",{path:t.toString(),value:e,priority:i});const s=kI(n),a=vs(e,i),l=CO(n.serverSyncTree_,t),d=U6(a,l,s),f=AO(n),p=R6(n.serverSyncTree_,t,d,f,!0);DO(n.eventQueue_,p),n.server_.put(t.toString(),a.val(!0),(w,b)=>{const T="ok"===w;T||dl("set at "+t+" failed: "+w);const E=i_(n.serverSyncTree_,f,!T);bd(n.eventQueue_,t,E),r_(0,r,w,b)});const m=J6(n,t);Ob(n,m),bd(n.eventQueue_,m,[])}function dCe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&v6(n.onDisconnect_,t),r_(0,e,i,r)})}function xZ(n,t,e,i){const r=vs(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,a)=>{"ok"===s&&Ib(n.onDisconnect_,t,r),r_(0,i,s,a)})}function K6(n,t,e){let i;i=".info"===pi(t._path)?F6(n.infoSyncTree_,t,e):F6(n.serverSyncTree_,t,e),G6(n.eventQueue_,t._path,i)}function bZ(n){n.persistentConnection_&&n.persistentConnection_.interrupt(_Z)}function Mb(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ha(e,...t)}function r_(n,t,e,i){t&&xb(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const a=new Error(s);a.code=r,t(a)}})}function Q6(n,t,e){return CO(n.serverSyncTree_,t,e)||ti.EMPTY_NODE}function MO(n,t=n.transactionQueueTree_){if(t||OO(n,t),qy(t)){const e=TZ(n,t);(0,X.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function _Ce(n,t,e){const i=e.map(f=>f.currentWriteId),r=Q6(n,t,i);let s=r;const a=r.hash();for(let f=0;f<e.length;f++){const p=e[f];(0,X.hu)(0===p.status,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Yl(t,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const l=s.val(!0),d=t;n.server_.put(d.toString(),l,f=>{Mb(n,"transaction put response",{path:d.toString(),status:f});let p=[];if("ok"===f){const m=[];for(let w=0;w<e.length;w++)e[w].status=2,p=p.concat(i_(n.serverSyncTree_,e[w].currentWriteId)),e[w].onComplete&&m.push(()=>e[w].onComplete(null,!0,e[w].currentOutputSnapshotResolved)),e[w].unwatcher();OO(n,SO(n.transactionQueueTree_,t)),MO(n,n.transactionQueueTree_),bd(n.eventQueue_,t,p);for(let w=0;w<m.length;w++)xb(m[w])}else{if("datastale"===f)for(let m=0;m<e.length;m++)e[m].status=3===e[m].status?4:0;else{dl("transaction at "+d.toString()+" failed: "+f);for(let m=0;m<e.length;m++)e[m].status=4,e[m].abortReason=f}Ob(n,t)}},a)}(n,CI(t),e)}else dZ(t)&&IO(t,e=>{MO(n,e)})}function Ob(n,t){const e=CZ(n,t),i=CI(e);return function vCe(n,t,e){if(0===t.length)return;const i=[];let r=[];const a=t.filter(l=>0===l.status).map(l=>l.currentWriteId);for(let l=0;l<t.length;l++){const d=t[l],f=Yl(e,d.path);let m,p=!1;if((0,X.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===d.status)p=!0,m=d.abortReason,r=r.concat(i_(n.serverSyncTree_,d.currentWriteId,!0));else if(0===d.status)if(d.retryCount>=25)p=!0,m="maxretry",r=r.concat(i_(n.serverSyncTree_,d.currentWriteId,!0));else{const w=Q6(n,d.path,a);d.currentInputSnapshot=w;const b=t[l].update(w.val());if(void 0!==b){EI("transaction failed: Data returned ",b,d.path);let T=vs(b);"object"==typeof b&&null!=b&&(0,X.r3)(b,".priority")||(T=T.updatePriority(w.getPriority()));const M=d.currentWriteId,N=kI(n),V=U6(T,w,N);d.currentOutputSnapshotRaw=T,d.currentOutputSnapshotResolved=V,d.currentWriteId=AO(n),a.splice(a.indexOf(M),1),r=r.concat(R6(n.serverSyncTree_,d.path,V,d.currentWriteId,d.applyLocally)),r=r.concat(i_(n.serverSyncTree_,M,!0))}else p=!0,m="nodata",r=r.concat(i_(n.serverSyncTree_,d.currentWriteId,!0))}bd(n.eventQueue_,e,r),r=[],p&&(t[l].status=2,setTimeout(t[l].unwatcher,Math.floor(0)),t[l].onComplete&&i.push("nodata"===m?()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot):()=>t[l].onComplete(new Error(m),!1,null)))}OO(n,n.transactionQueueTree_);for(let l=0;l<i.length;l++)xb(i[l]);MO(n,n.transactionQueueTree_)}(n,TZ(n,e),i),i}function CZ(n,t){let e,i=n.transactionQueueTree_;for(e=pi(t);null!==e&&void 0===qy(i);)i=SO(i,e),e=pi(t=xr(t));return i}function TZ(n,t){const e=[];return EZ(n,t,e),e.sort((i,r)=>i.order-r.order),e}function EZ(n,t,e){const i=qy(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);IO(t,r=>{EZ(n,r,e)})}function OO(n,t){const e=qy(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,z6(t,e.length>0?e:void 0)}IO(t,i=>{OO(n,i)})}function J6(n,t){const e=CI(CZ(n,t)),i=SO(n.transactionQueueTree_,t);return function Ybe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{X6(n,r)}),X6(n,i),hZ(i,r=>{X6(n,r)}),e}function X6(n,t){const e=qy(t);if(e){const i=[];let r=[],s=-1;for(let a=0;a<e.length;a++)3===e[a].status||(1===e[a].status?((0,X.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,e[a].status=3,e[a].abortReason="set"):((0,X.hu)(0===e[a].status,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(i_(n.serverSyncTree_,e[a].currentWriteId,!0)),e[a].onComplete&&i.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?z6(t,void 0):e.length=s+1,bd(n.eventQueue_,CI(t),r);for(let a=0;a<i.length;a++)xb(i[a])}}const e4=function(n,t){const e=xCe(n),i=e.namespace;return"firebase.com"===e.domain&&rp(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&rp("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&dl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new X3(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new er(e.pathString)}},xCe=function(n){let t="",e="",i="",r="",s="",a=!0,l="https",d=443;if("string"==typeof n){let f=n.indexOf("//");f>=0&&(l=n.substring(0,f-1),n=n.substring(f+2));let p=n.indexOf("/");-1===p&&(p=n.length);let m=n.indexOf("?");-1===m&&(m=n.length),t=n.substring(0,Math.min(p,m)),p<m&&(r=function yCe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(p,m)));const w=function wCe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):dl(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,m)));f=t.indexOf(":"),f>=0?(a="https"===l||"wss"===l,d=parseInt(t.substring(f+1),10)):f=t.length;const b=t.slice(0,f);if("localhost"===b.toLowerCase())e="localhost";else if(b.split(".").length<=2)e=b;else{const T=t.indexOf(".");i=t.substring(0,T).toLowerCase(),e=t.substring(T+1),s=i}"ns"in w&&(s=w.ns)}return{host:t,port:d,domain:e,subdomain:i,secure:a,scheme:l,pathString:r,namespace:s}};class SZ{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,X.Pz)(this.snapshot.exportVal())}}class IZ{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class kZ{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,X.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class DZ{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new X.BH;return dCe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){xd("OnDisconnect.remove",this._path);const t=new X.BH;return xZ(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){xd("OnDisconnect.set",this._path),ap("OnDisconnect.set",t,this._path,!1);const e=new X.BH;return xZ(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){xd("OnDisconnect.setWithPriority",this._path),ap("OnDisconnect.setWithPriority",t,this._path,!1),q6("OnDisconnect.setWithPriority",e,!1);const i=new X.BH;return function hCe(n,t,e,i,r){const s=vs(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(a,l)=>{"ok"===a&&Ib(n.onDisconnect_,t,s),r_(0,r,a,l)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){xd("OnDisconnect.update",this._path),pZ("OnDisconnect.update",t,this._path,!1);const e=new X.BH;return function fCe(n,t,e,i){if((0,X.xb)(e))return ha("onDisconnect().update() called with empty data.  Don't do anything."),void r_(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&fa(e,(a,l)=>{const d=vs(l);Ib(n.onDisconnect_,ns(t,a),d)}),r_(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ac{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return gi(this._path)?null:o6(this._path)}get ref(){return new Cd(this._repo,this._path)}get _queryIdentifier(){const t=Fz(this._queryParams),e=K3(t);return"{}"===e?"default":e}get _queryObject(){return Fz(this._queryParams)}isEqual(t){if(!((t=(0,X.m9)(t))instanceof Ac))return!1;const e=this._repo===t._repo,i=a6(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function uxe(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function RO(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function s_(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===op){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Pg)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==sp)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Or){if(null!=t&&!TI(t)||null!=e&&!TI(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,X.hu)(n.getIndex()instanceof h6||n.getIndex()===f6,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function FO(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Cd extends Ac{constructor(t,e){super(t,e,new cO,!1)}get parent(){const t=vz(this._path);return null===t?null:new Cd(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Gy{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new er(t),i=$y(this.ref,t);return new Gy(this._node.getChild(e),i,Or)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Gy(r,$y(this.ref,i),Or)))}hasChild(t){const e=new er(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function AZ(n,t){return(n=(0,X.m9)(n))._checkNotDeleted("ref"),void 0!==t?$y(n._root,t):n._root}function MZ(n,t){(n=(0,X.m9)(n))._checkNotDeleted("refFromURL");const e=e4(t,n._repo.repoInfo_.nodeAdmin);gZ("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&rp("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),AZ(n,e.path.toString())}function $y(n,t){return null===pi((n=(0,X.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),II("child","path",e,!1)):II("child","path",t,!1),new Cd(n._repo,ns(n._path,t));var e}function t4(n,t){n=(0,X.m9)(n),xd("set",n._path),ap("set",t,n._path,!1);const e=new X.BH;return Y6(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function SCe(n,t){pZ("update",t,n._path,!1);const e=new X.BH;return function cCe(n,t,e,i){Mb(n,"update",{path:t.toString(),value:e});let r=!0;const s=kI(n),a={};if(fa(e,(l,d)=>{r=!1,a[l]=uZ(ns(t,l),vs(d),n.serverSyncTree_,s)}),r)ha("update() called with empty data.  Don't do anything."),r_(0,i,"ok",void 0);else{const l=AO(n),d=function Fbe(n,t,e,i){!function Qxe(n,t,e,i){(0,X.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=T6(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Rr.fromObject(e);return Ab(n,new kb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,a,l);DO(n.eventQueue_,d),n.server_.merge(t.toString(),e,(f,p)=>{const m="ok"===f;m||dl("update at "+t+" failed: "+f);const w=i_(n.serverSyncTree_,l,!m),b=w.length>0?Ob(n,t):t;bd(n.eventQueue_,b,w),r_(0,i,f,p)}),fa(e,f=>{const p=J6(n,ns(t,f));Ob(n,p)}),bd(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function ICe(n){return function lCe(n,t){const e=function Ube(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(f,p)=>{const m=Yl(f,e);i=i||t_(p,m)});let r=n.syncPointTree_.get(e);r?i=i||t_(r,ji()):(r=new Xz,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,a=s?new X0(i,!0,!1):null;return function bbe(n){return gO(n.viewCache_)}(eZ(r,t,mO(n.pendingWriteTree_,t._path),s?a.getNode():ti.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=vs(i).withIndex(t._queryParams.getIndex()),s=xI(n.serverSyncTree_,t._path,r);return G6(n.eventQueue_,t._path,s),Promise.resolve(r)},i=>(Mb(n,"get for query "+(0,X.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,X.m9)(n))._repo,n).then(t=>new Gy(t,new Cd(n._repo,n._path),n._queryParams.getIndex()))}class PO{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new SZ("value",this,new Gy(t.snapshotNode,new Cd(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new IZ(this,t,e):null}matches(t){return t instanceof PO&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class NO{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new IZ(this,t,e):null}createEvent(t,e){(0,X.hu)(null!=t.childName,"Child events should have a childName.");const i=$y(new Cd(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new SZ(t.type,this,new Gy(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof NO&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function DI(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const d=e,f=(p,m)=>{K6(n._repo,n,l),d(p,m)};f.userCallback=e.userCallback,f.context=e.context,e=f}const a=new kZ(e,s||void 0),l="value"===t?new PO(a):new NO(t,a);return function pCe(n,t,e){let i;i=".info"===pi(t._path)?sZ(n.infoSyncTree_,t,e):sZ(n.serverSyncTree_,t,e),G6(n.eventQueue_,t._path,i)}(n._repo,n,l),()=>K6(n._repo,n,l)}function n4(n,t,e,i){return DI(n,"value",t,e,i)}function OZ(n,t,e,i){return DI(n,"child_added",t,e,i)}function RZ(n,t,e,i){return DI(n,"child_changed",t,e,i)}function FZ(n,t,e,i){return DI(n,"child_moved",t,e,i)}function PZ(n,t,e,i){return DI(n,"child_removed",t,e,i)}function NZ(n,t,e){let i=null;const r=e?new kZ(e):null;"value"===t?i=new PO(r):t&&(i=new NO(t,r)),K6(n._repo,n,i)}class Rh{}class LZ extends Rh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ap("endAt",this._value,t._path,!0);const e=_6(t._queryParams,this._value,this._key);if(FO(e),s_(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ac(t._repo,t._path,e,t._orderByCalled)}}class DCe extends Rh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ap("endBefore",this._value,t._path,!1);const e=function Bxe(n,t,e){let i,r;return n.index_===op?("string"==typeof t&&(t=Mz(t)),r=_6(n,t,e)):(i=null==e?Pg:Mz(e),r=_6(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(FO(e),s_(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ac(t._repo,t._path,e,t._orderByCalled)}}class BZ extends Rh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ap("startAt",this._value,t._path,!0);const e=m6(t._queryParams,this._value,this._key);if(FO(e),s_(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ac(t._repo,t._path,e,t._orderByCalled)}}class OCe extends Rh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ap("startAfter",this._value,t._path,!1);const e=function Lxe(n,t,e){let i;if(n.index_===op)"string"==typeof t&&(t=Az(t)),i=m6(n,t,e);else{let r;r=null==e?sp:Az(e),i=m6(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(FO(e),s_(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ac(t._repo,t._path,e,t._orderByCalled)}}class FCe extends Rh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ac(t._repo,t._path,function Pxe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class NCe extends Rh{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ac(t._repo,t._path,function Nxe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class BCe extends Rh{constructor(t){super(),this._path=t}_apply(t){RO(t,"orderByChild");const e=new er(this._path);if(gi(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new h6(e),r=uO(t._queryParams,i);return s_(r),new Ac(t._repo,t._path,r,!0)}}class UCe extends Rh{_apply(t){RO(t,"orderByKey");const e=uO(t._queryParams,op);return s_(e),new Ac(t._repo,t._path,e,!0)}}class jCe extends Rh{_apply(t){RO(t,"orderByPriority");const e=uO(t._queryParams,Or);return s_(e),new Ac(t._repo,t._path,e,!0)}}class ZCe extends Rh{_apply(t){RO(t,"orderByValue");const e=uO(t._queryParams,f6);return s_(e),new Ac(t._repo,t._path,e,!0)}}class qCe extends Rh{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ap("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new LZ(this._value,this._key)._apply(new BZ(this._value,this._key)._apply(t))}}function Fh(n,...t){let e=(0,X.m9)(n);for(const i of t)e=i._apply(e);return e}(function Sbe(n){(0,X.hu)(!wO,"__referenceConstructor has already been defined"),wO=n})(Cd),function Mbe(n){(0,X.hu)(!bO,"__referenceConstructor has already been defined"),bO=n}(Cd);const r4={};function UZ(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||rp("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ha("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let d,f,a=e4(s,r),l=a.repoInfo;"undefined"!=typeof process&&process.env&&(f=process.env.FIREBASE_DATABASE_EMULATOR_HOST),f?(d=!0,s=`http://${f}?ns=${l.namespace}`,a=e4(s,r),l=a.repoInfo):d=!a.repoInfo.secure;const p=r&&d?new cI(cI.OWNER):new Vwe(n.name,n.options,t);gZ("Invalid Firebase Database URL",a),gi(a.path)||rp("Database URL must point to the root of a Firebase Database (not including a child path).");const m=function QCe(n,t,e,i){let r=r4[t.name];r||(r={},r4[t.name]=r);let s=r[n.toURLString()];return s&&rp("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sCe(n,false,e,i),r[n.toURLString()]=s,s}(l,n,p,new Bwe(n.name,e));return new XCe(m,n)}class XCe{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function oCe(n,t,e){if(n.stats_=n6(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new dO(n.repoInfo_,(i,r,s,a)=>{yZ(n,i,r,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>wZ(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,X.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new jy(n.repoInfo_,t,(i,r,s,a)=>{yZ(n,i,r,s,a)},i=>{wZ(n,i)},i=>{!function aCe(n,t){fa(t,(e,i)=>{$6(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function jwe(n,t){const e=n.toString();return t6[e]||(t6[e]=t()),t6[e]}(n.repoInfo_,()=>new Zxe(n.stats_,n.server_)),n.infoData_=new Vxe,n.infoSyncTree_=new rZ({startListening:(i,r,s,a)=>{let l=[];const d=n.infoData_.getNode(i._path);return d.isEmpty()||(l=xI(n.infoSyncTree_,i._path,d),setTimeout(()=>{a("ok")},0)),l},stopListening:()=>{}}),$6(n,"connected",!1),n.serverSyncTree_=new rZ({startListening:(i,r,s,a)=>(n.server_.listen(i,s,r,(l,d)=>{const f=a(l,d);bd(n.eventQueue_,i._path,f)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cd(this._repo,ji())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function KCe(n,t){const e=r4[t];(!e||e[n.key]!==n)&&rp(`Database ${t}(${n.repoInfo_}) has already been deleted.`),bZ(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&rp("Cannot call "+t+" on a deleted database.")}}function HZ(){oz.IS_TRANSPORT_INITIALIZED&&dl("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function eTe(){HZ(),Q0.forceDisallow()}function tTe(){HZ(),bb.forceDisallow(),Q0.forceAllow()}function sTe(n,t){Uj(n,t)}const aTe={".sv":"timestamp"};class uTe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}jy.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},jy.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function oTe(n){Pj(Sa.SDK_VERSION),(0,Sa._registerComponent)(new xc.wA("database",(t,{instanceIdentifier:e})=>UZ(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Sa.registerVersion)(Rj,"0.13.0",n),(0,Sa.registerVersion)(Rj,"0.13.0","esm2017")}();const pTe=new Rl.Yd("@firebase/database-compat"),jZ=function(n){pTe.warn("FIREBASE WARNING: "+n)};class _Te{constructor(t){this._delegate=t}cancel(t){(0,X.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,X.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,X.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,X.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,X.Dv)("OnDisconnect.set",1,2,arguments.length),(0,X.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,X.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,X.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,X.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,jZ("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,X.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class vTe{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,X.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class o_{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,X.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,X.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,X.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,X.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,X.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),II("DataSnapshot.child","path",t,!1),new o_(this._database,this._delegate.child(t))}hasChild(t){return(0,X.Dv)("DataSnapshot.hasChild",1,1,arguments.length),II("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,X.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,X.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,X.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new o_(this._database,e)))}hasChildren(){return(0,X.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,X.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,X.Dv)("DataSnapshot.ref",0,0,arguments.length),new xu(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class La{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,X.Dv)("Query.on",2,4,arguments.length),(0,X.Wj)("Query.on","callback",e,!1);const a=La.getCancelAndContextArgs_("Query.on",i,r),l=(f,p)=>{e.call(a.context,new o_(this.database,f),p)};l.userCallback=e,l.context=a.context;const d=null===(s=a.cancel)||void 0===s?void 0:s.bind(a.context);switch(t){case"value":return n4(this._delegate,l,d),e;case"child_added":return OZ(this._delegate,l,d),e;case"child_removed":return PZ(this._delegate,l,d),e;case"child_changed":return RZ(this._delegate,l,d),e;case"child_moved":return FZ(this._delegate,l,d),e;default:throw new Error((0,X.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,X.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,X.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,X.Wj)("Query.off","callback",e,!0),(0,X.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,NZ(this._delegate,t,r)}else NZ(this._delegate,t)}get(){return ICe(this._delegate).then(t=>new o_(this.database,t))}once(t,e,i,r){(0,X.Dv)("Query.once",1,4,arguments.length),(0,X.Wj)("Query.once","callback",e,!0);const s=La.getCancelAndContextArgs_("Query.once",i,r),a=new X.BH,l=(f,p)=>{const m=new o_(this.database,f);e&&e.call(s.context,m,p),a.resolve(m)};l.userCallback=e,l.context=s.context;const d=f=>{s.cancel&&s.cancel.call(s.context,f),a.reject(f)};switch(t){case"value":n4(this._delegate,l,d,{onlyOnce:!0});break;case"child_added":OZ(this._delegate,l,d,{onlyOnce:!0});break;case"child_removed":PZ(this._delegate,l,d,{onlyOnce:!0});break;case"child_changed":RZ(this._delegate,l,d,{onlyOnce:!0});break;case"child_moved":FZ(this._delegate,l,d,{onlyOnce:!0});break;default:throw new Error((0,X.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return a.promise}limitToFirst(t){return(0,X.Dv)("Query.limitToFirst",1,1,arguments.length),new La(this.database,Fh(this._delegate,function PCe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new FCe(n)}(t)))}limitToLast(t){return(0,X.Dv)("Query.limitToLast",1,1,arguments.length),new La(this.database,Fh(this._delegate,function LCe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new NCe(n)}(t)))}orderByChild(t){return(0,X.Dv)("Query.orderByChild",1,1,arguments.length),new La(this.database,Fh(this._delegate,function VCe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return II("orderByChild","path",n,!1),new BCe(n)}(t)))}orderByKey(){return(0,X.Dv)("Query.orderByKey",0,0,arguments.length),new La(this.database,Fh(this._delegate,function HCe(){return new UCe}()))}orderByPriority(){return(0,X.Dv)("Query.orderByPriority",0,0,arguments.length),new La(this.database,Fh(this._delegate,function zCe(){return new jCe}()))}orderByValue(){return(0,X.Dv)("Query.orderByValue",0,0,arguments.length),new La(this.database,Fh(this._delegate,function WCe(){return new ZCe}()))}startAt(t=null,e){return(0,X.Dv)("Query.startAt",0,2,arguments.length),new La(this.database,Fh(this._delegate,function MCe(n=null,t){return SI("startAt","key",t,!0),new BZ(n,t)}(t,e)))}startAfter(t=null,e){return(0,X.Dv)("Query.startAfter",0,2,arguments.length),new La(this.database,Fh(this._delegate,function RCe(n,t){return SI("startAfter","key",t,!0),new OCe(n,t)}(t,e)))}endAt(t=null,e){return(0,X.Dv)("Query.endAt",0,2,arguments.length),new La(this.database,Fh(this._delegate,function kCe(n,t){return SI("endAt","key",t,!0),new LZ(n,t)}(t,e)))}endBefore(t=null,e){return(0,X.Dv)("Query.endBefore",0,2,arguments.length),new La(this.database,Fh(this._delegate,function ACe(n,t){return SI("endBefore","key",t,!0),new DCe(n,t)}(t,e)))}equalTo(t,e){return(0,X.Dv)("Query.equalTo",1,2,arguments.length),new La(this.database,Fh(this._delegate,function GCe(n,t){return SI("equalTo","key",t,!0),new qCe(n,t)}(t,e)))}toString(){return(0,X.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,X.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,X.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof La))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,X.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,X.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,X.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new xu(this.database,new Cd(this._delegate._repo,this._delegate._path))}}class xu extends La{constructor(t,e){super(t,new Ac(e._repo,e._path,new cO,!1)),this.database=t,this._delegate=e}getKey(){return(0,X.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,X.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new xu(this.database,$y(this._delegate,t))}getParent(){(0,X.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new xu(this.database,t):null}getRoot(){return(0,X.Dv)("Reference.root",0,0,arguments.length),new xu(this.database,this._delegate.root)}set(t,e){(0,X.Dv)("Reference.set",1,2,arguments.length),(0,X.Wj)("Reference.set","onComplete",e,!0);const i=t4(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,X.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,jZ("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xd("Reference.update",this._delegate._path),(0,X.Wj)("Reference.update","onComplete",e,!0);const i=SCe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,X.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,X.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function ECe(n,t,e){if(xd("setWithPriority",n._path),ap("setWithPriority",t,n._path,!1),q6("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new X.BH;return Y6(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,X.Dv)("Reference.remove",0,1,arguments.length),(0,X.Wj)("Reference.remove","onComplete",t,!0);const e=function CCe(n){return xd("remove",n._path),t4(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,X.Dv)("Reference.transaction",1,3,arguments.length),(0,X.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,X.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,X.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function dTe(n,t,e){var i;if(n=(0,X.m9)(n),xd("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new X.BH,l=n4(n,()=>{});return function mCe(n,t,e,i,r,s){Mb(n,"transaction on "+t);const a={path:t,update:e,onComplete:i,status:null,order:Lj(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=Q6(n,t,void 0);a.currentInputSnapshot=l;const d=a.update(l.val());if(void 0===d)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{EI("transaction failed: Data returned ",d,a.path),a.status=0;const f=SO(n.transactionQueueTree_,t),p=qy(f)||[];let m;p.push(a),z6(f,p),"object"==typeof d&&null!==d&&(0,X.r3)(d,".priority")?(m=(0,X.DV)(d,".priority"),(0,X.hu)(TI(m),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):m=(CO(n.serverSyncTree_,t)||ti.EMPTY_NODE).getPriority().val();const w=kI(n),b=vs(d,m),T=U6(b,l,w);a.currentOutputSnapshotRaw=b,a.currentOutputSnapshotResolved=T,a.currentWriteId=AO(n);const E=R6(n.serverSyncTree_,t,T,a.currentWriteId,a.applyLocally);bd(n.eventQueue_,t,E),MO(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(d,f,p)=>{let m=null;d?s.reject(d):(m=new Gy(p,new Cd(n._repo,n._path),Or),s.resolve(new uTe(f,m)))},l,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new vTe(s.committed,new o_(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,X.Dv)("Reference.setPriority",1,2,arguments.length),(0,X.Wj)("Reference.setPriority","onComplete",e,!0);const i=function TCe(n,t){n=(0,X.m9)(n),xd("setPriority",n._path),q6("setPriority",t,!1);const e=new X.BH;return Y6(n._repo,ns(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,X.Dv)("Reference.push",0,2,arguments.length),(0,X.Wj)("Reference.push","onComplete",e,!0);const i=function bCe(n,t){n=(0,X.m9)(n),xd("push",n._path),ap("push",t,n._path,!0);const e=vZ(n._repo),i=Mxe(e),r=$y(n,i),s=$y(n,i);let a;return a=null!=t?t4(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(this._delegate,t),r=i.then(a=>new xu(this.database,a));e&&r.then(()=>e(null),a=>e(a));const s=new xu(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return xd("Reference.onDisconnect",this._delegate._path),new _Te(new DZ(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class AI{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:eTe,forceLongPolling:tTe}}useEmulator(t,e,i={}){!function nTe(n,t,e,i={}){(n=(0,X.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&rp("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&rp('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new cI(cI.OWNER);else if(i.mockUserToken){const a="string"==typeof i.mockUserToken?i.mockUserToken:(0,X.Sg)(i.mockUserToken,n.app.options.projectId);s=new cI(a)}!function YCe(n,t,e,i){n.repoInfo_=new X3(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,X.Dv)("database.ref",0,1,arguments.length),t instanceof xu){const e=MZ(this._delegate,t.toString());return new xu(this,e)}{const e=AZ(this._delegate,t);return new xu(this,e)}}refFromURL(t){(0,X.Dv)("database.refFromURL",1,1,arguments.length);const i=MZ(this._delegate,t);return new xu(this,i)}goOffline(){return(0,X.Dv)("database.goOffline",0,0,arguments.length),function iTe(n){(n=(0,X.m9)(n))._checkNotDeleted("goOffline"),bZ(n._repo)}(this._delegate)}goOnline(){return(0,X.Dv)("database.goOnline",0,0,arguments.length),function rTe(n){(n=(0,X.m9)(n))._checkNotDeleted("goOnline"),function gCe(n){n.persistentConnection_&&n.persistentConnection_.resume(_Z)}(n._repo)}(this._delegate)}}AI.ServerValue={TIMESTAMP:function lTe(){return aTe}(),increment:n=>function cTe(n){return{".sv":{increment:n}}}(n)};var wTe=Object.freeze({__proto__:null,initStandalone:function yTe({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Pj(e);const a=new xc.zt("auth-internal",new xc.H0("database-standalone"));return a.setComponent(new xc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new AI(UZ(n,a,void 0,t,s),n),namespace:r}}});const xTe=AI.ServerValue;function zZ(n){return null==n}function ZZ(n){return"function"==typeof n.set}function WZ(n,t){return ZZ(t)?t:n.ref(t)}function qZ(n,t){if(function CTe(n){return"string"==typeof n}(n))return t.stringCase();if(ZZ(n))return t.firebaseCase();if(function TTe(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function MI(n,t,e="on",i=iu.z){return new Ki.y(r=>{let s=null;return s=n[e](t,(a,l)=>{i.schedule(()=>{r.next({snapshot:a,prevKey:l})}),"once"===e&&i.schedule(()=>r.complete())},a=>{i.schedule(()=>r.error(a))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,It.U)(r=>{const{snapshot:s,prevKey:a}=r;let l=null;return s.exists()&&(l=s.key),{type:t,payload:s,prevKey:a,key:l}}),(0,WB.B)())}function GZ(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function ITe(n,t){const{payload:e,prevKey:i,key:r}=t,s=GZ(n,r),a=function STe(n,t){if(zZ(t))return 0;{const e=GZ(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let l=null;t.payload.forEach(d=>{const f={payload:d,type:"value",prevKey:l,key:d.key};return l=d.key,n=[...n,f],!1})}return n;case"child_added":if(s>-1){const l=n[s-1];(l&&l.key||null)!==i&&(n=n.filter(d=>d.payload.key!==e.key)).splice(a,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(a,0,t)}return n;case"child_removed":return n.filter(l=>l.payload.key!==e.key);case"child_changed":return n.map(l=>l.payload.key===r?t:l);case"child_moved":if(s>-1){const l=n.splice(s,1)[0];return(n=n.slice()).splice(a,0,l),n}return n;default:return n}}function $Z(n){return(zZ(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function YZ(n,t,e){return function ETe(n,t,e){return MI(n,"value","once",e).pipe(Aa(i=>{const r=[y(i)];return t.forEach(s=>r.push(MI(n,s,"on",e))),(0,mA.T)(...r).pipe(ds(ITe,[]))}),Cm())}(n,t=$Z(t),e)}function KZ(n,t,e){const i=(t=$Z(t)).map(r=>MI(n,r,"on",e));return(0,mA.T)(...i)}function QZ(n,t){return function(i,r){return qZ(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function MTe(n){return function(e){return e?qZ(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function JZ(n,t){return function(){return MI(n,"value","on",t)}}!function bTe(n){n.INTERNAL.registerComponent(new xc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new AI(r,i)},"PUBLIC").setServiceProps({Reference:xu,Query:La,Database:AI,DataSnapshot:o_,enableLogging:sTe,INTERNAL:wTe,ServerValue:xTe}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(Rp.Z);const FTe=new o.OlP("angularfire2.realtimeDatabaseURL"),PTe=new o.OlP("angularfire2.database.use-emulator");let NTe=(()=>{class n{constructor(e,i,r,s,a,l,d,f,p,m,w,b,T,E,M){this.schedulers=l;const N=d,V=(0,Ws.on)(e,a,i);f&&tN(V,a,p,w,b,T,m,E),this.database=(0,Ws.cc)(`${V.name}.database.${r}`,"AngularFireDatabase",V.name,()=>{const U=a.runOutsideAngular(()=>V.database(r||void 0));return N&&U.useEmulator(...N),U},[N])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>WZ(this.database,e));let s=r;return i&&(s=i(r)),function OTe(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:QZ(i,"update"),set:QZ(i,"set"),push:r=>i.push(r),remove:MTe(i),snapshotChanges:r=>YZ(n,r,e).pipe(I.iC),stateChanges:r=>KZ(n,r,e).pipe(I.iC),auditTrail:r=>function kTe(n,t,e){return function ATe(n,t,e){return function DTe(n,t){return MI(n,"value","on",t).pipe((0,It.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Swe(...n){const t=(0,v.jO)(n);return(0,ze.e)((e,i)=>{const r=n.length,s=new Array(r);let a=n.map(()=>!1),l=!1;for(let d=0;d<r;d++)(0,S0.Xf)(n[d]).subscribe((0,Ot.x)(i,f=>{s[d]=f,!l&&!a[d]&&(a[d]=!0,(l=a.every(wc.y))&&(a=null))},Z8.Z));e.subscribe((0,Ot.x)(i,d=>{if(l){const f=[d,...s];i.next(t?t(...f):f)}}))})}(t),(0,It.U)(([r,s])=>{const a=r.lastKeyToLoad,l=s.map(d=>d.key);return{actions:s,lastKeyToLoad:a,loadedKeys:l}}),function Iwe(n){return(0,ze.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Ot.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,It.U)(r=>r.actions))}(n,KZ(n,t).pipe(ds((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(I.iC),valueChanges:(r,s)=>YZ(n,r,e).pipe((0,It.U)(l=>l.map(d=>s&&s.idField?Object.assign(Object.assign({},d.payload.val()),{[s.idField]:d.key}):d.payload.val())),I.iC)}}(s,this)}object(e){return function RTe(n,t){return{query:n,snapshotChanges:()=>JZ(n,t.schedulers.outsideAngular)().pipe(I.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>JZ(n,t.schedulers.outsideAngular)().pipe(I.iC,(0,It.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>WZ(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ws.Dh),o.LFG(Ws.xv,8),o.LFG(FTe,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(I.HU),o.LFG(PTe,8),o.LFG(Ux,8),o.LFG(YP,8),o.LFG(KP,8),o.LFG(QP,8),o.LFG(JP,8),o.LFG(XP,8),o.LFG(eN,8),o.LFG(IA,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LTe=(()=>{class n{constructor(){$P.Z.registerVersion("angularfire",I.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[NTe]}),n})();const BTe=["rb"],VTe=function(n,t,e){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":t,"p-radiobutton-label-focus":e}};function UTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",4),o.NdJ("click",function(r){return o.CHM(e),o.oxw().select(r)}),o._uU(1),o.qZA()}if(2&n){const e=o.oxw(),i=o.MAs(3);o.Tol(e.labelStyleClass),o.Q6J("ngClass",o.kEZ(5,VTe,i.checked,e.disabled,e.focused)),o.uIk("for",e.inputId),o.xp6(1),o.Oqu(e.label)}}const HTe=function(n,t,e){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":t,"p-radiobutton-focused":e}},jTe=function(n,t,e){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":t,"p-focus":e}},zTe={provide:ia,useExisting:(0,o.Gpc)(()=>WTe),multi:!0};let ZTe=(()=>{class n{constructor(){this.accessors=[]}add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return!!e[0].control&&e[0].control.root===i.control.control.root&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WTe=(()=>{class n{constructor(e,i,r){this.cd=e,this.injector=i,this.registry=r,this.onClick=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(Cg),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,r){e.preventDefault(),!this.disabled&&(this.select(e),r&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(e))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.zs3),o.Y36(ZTe))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-radioButton"]],viewQuery:function(e,i){if(1&e&&o.Gf(BTe,5),2&e){let r;o.iGM(r=o.CRH())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[o._Bn([zTe])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),o.NdJ("change",function(a){return i.onChange(a)})("focus",function(a){return i.onInputFocus(a)})("blur",function(a){return i.onInputBlur(a)}),o.qZA()(),o.TgZ(4,"div",4),o.NdJ("click",function(a){o.CHM(r);const l=o.MAs(3);return i.handleClick(a,l,!0)}),o._UZ(5,"span",5),o.qZA()(),o.YNc(6,UTe,2,9,"label",6)}2&e&&(o.Tol(i.styleClass),o.Q6J("ngStyle",i.style)("ngClass",o.kEZ(15,HTe,i.checked,i.disabled,i.focused)),o.xp6(2),o.Q6J("checked",i.checked)("disabled",i.disabled),o.uIk("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),o.xp6(2),o.Q6J("ngClass",o.kEZ(19,jTe,i.checked,i.disabled,i.focused)),o.xp6(2),o.Q6J("ngIf",i.label))},directives:[Wi,mi,Tn],encapsulation:2,changeDetection:0}),n})(),qTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})();const GTe=["input"];function $Te(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",5),o.NdJ("click",function(){return o.CHM(e),o.oxw().clear()}),o.qZA()}}function YTe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().onMaskToggle()}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("ngClass",e.toggleIconClass())}}function KTe(n,t){1&n&&o.GkF(0)}function QTe(n,t){1&n&&o.GkF(0)}function JTe(n,t){if(1&n&&(o.ynx(0),o.YNc(1,QTe,1,0,"ng-container",8),o.BQk()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngTemplateOutlet",e.contentTemplate)}}const XTe=function(n){return{width:n}};function eEe(n,t){if(1&n&&(o.TgZ(0,"div",11),o._UZ(1,"div",0),o.qZA(),o.TgZ(2,"div",12),o._uU(3),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Q6J("ngClass",e.strengthClass())("ngStyle",o.VKq(3,XTe,e.meter?e.meter.width:"")),o.xp6(2),o.Oqu(e.infoText)}}function tEe(n,t){1&n&&o.GkF(0)}const nEe=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},iEe=function(n){return{value:"visible",params:n}};function rEe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",6,7),o.NdJ("click",function(r){return o.CHM(e),o.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return o.CHM(e),o.oxw().onAnimationStart(r)})("@overlayAnimation.done",function(r){return o.CHM(e),o.oxw().onAnimationEnd(r)}),o.YNc(2,KTe,1,0,"ng-container",8),o.YNc(3,JTe,2,1,"ng-container",9),o.YNc(4,eEe,4,5,"ng-template",null,10,o.W1O),o.YNc(6,tEe,1,0,"ng-container",8),o.qZA()}if(2&n){const e=o.MAs(5),i=o.oxw();o.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",o.VKq(9,iEe,o.WLB(6,nEe,i.showTransitionOptions,i.hideTransitionOptions))),o.xp6(2),o.Q6J("ngTemplateOutlet",i.headerTemplate),o.xp6(1),o.Q6J("ngIf",i.contentTemplate)("ngIfElse",e),o.xp6(3),o.Q6J("ngTemplateOutlet",i.footerTemplate)}}const sEe={provide:ia,useExisting:(0,o.Gpc)(()=>oEe),multi:!0};let oEe=(()=>{class n{constructor(e,i,r,s){this.cd=e,this.config=i,this.el=r,this.overlayService=s,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.showClear=!1,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onClear=new o.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,No.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(e){"void"===e.toState&&No.clear(e.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=Se.getOuterWidth(this.input.nativeElement)+"px",Se.absolutePosition(this.overlay,this.input.nativeElement)):Se.relativePosition(this.overlay,this.input.nativeElement)}onInput(e){this.value=e.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(e){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(e)}onKeyDown(e){"Escape"===e.key&&(this.overlayVisible=!1)}onKeyUp(e){this.feedback&&(this.updateUI(e.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(e){let i=null,r=null;switch(this.testStrength(e)){case 1:i=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),r={strength:"strong",width:"100%"};break;default:i=this.promptText(),r=null}this.meter=r,this.infoText=i}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}testStrength(e){let i=0;return this.strongCheckRegExp.test(e)?i=3:this.mediumCheckRegExp.test(e)?i=2:e.length&&(i=1),i}writeValue(e){this.value=void 0===e?null:e,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new yS(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(ra.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(ra.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(ra.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(ra.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(e){return this.config.getTranslation(e)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(No.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(_y),o.Y36(o.SBq),o.Y36(vS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-password"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mr,4),2&e){let s;o.iGM(s=o.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(GTe,5),2&e){let r;o.iGM(r=o.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("p-inputwrapper-filled",i.filled())("p-inputwrapper-focus",i.focused)("p-password-clearable",i.showClear)("p-password-mask",i.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[o._Bn([sEe])],decls:6,vars:18,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],["class","p-password-clear-icon pi pi-times",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[1,"p-password-clear-icon","pi","pi-times",3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"input",1,2),o.NdJ("input",function(s){return i.onInput(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keyup",function(s){return i.onKeyUp(s)})("keydown",function(s){return i.onKeyDown(s)}),o.qZA(),o.YNc(3,$Te,1,0,"i",3),o.YNc(4,YTe,1,1,"i",4),o.YNc(5,rEe,7,11,"div",4),o.qZA()),2&e&&(o.Tol(i.styleClass),o.Q6J("ngClass",i.containerClass())("ngStyle",i.style),o.xp6(1),o.Tol(i.inputStyleClass),o.Q6J("ngClass",i.inputFieldClass())("ngStyle",i.inputStyle)("value",i.value),o.uIk("label",i.label)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.inputId)("type",i.inputType())("placeholder",i.placeholder),o.xp6(2),o.Q6J("ngIf",i.showClear&&null!=i.value),o.xp6(1),o.Q6J("ngIf",i.toggleMask),o.xp6(1),o.Q6J("ngIf",i.overlayVisible))},directives:[mi,Wi,Eh,Tn,ir],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[cs("overlayAnimation",[fn(":enter",[re({opacity:0,transform:"scaleY(0.8)"}),D("{{showTransitionParams}}")]),fn(":leave",[D("{{hideTransitionParams}}",re({opacity:0}))])])]},changeDetection:0}),n})(),aEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cS],sa]}),n})(),hEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi],sa]}),n})();const fEe=["input"];function pEe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"i",3),o.NdJ("click",function(){return o.CHM(e),o.oxw().clear()}),o.qZA()}}const gEe={provide:ia,useExisting:(0,o.Gpc)(()=>mEe),multi:!0};let mEe=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new o.vpe,this.onFocus=new o.vpe,this.onBlur=new o.vpe,this.onInput=new o.vpe,this.onKeydown=new o.vpe,this.onClear=new o.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let e=Se.getUserAgent();this.androidChrome=/chrome/i.test(e)&&/android/i.test(e),this.initMask()}get mask(){return this._mask}set mask(e){this._mask=e,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let e=this.mask.split("");for(let i=0;i<e.length;i++){let r=e[i];"?"==r?(this.len--,this.partialPosition=i):this.defs[r]?(this.tests.push(new RegExp(this.defs[r])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),i<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let i=0;i<e.length;i++){let r=e[i];"?"!=r&&this.buffer.push(this.defs[r]?this.getPlaceholder(i):r)}this.defaultBuffer=this.buffer.join("")}writeValue(e){this.value=e,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}caret(e,i){let r,s,a;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof e)return this.inputViewChild.nativeElement.setSelectionRange?(s=this.inputViewChild.nativeElement.selectionStart,a=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),s=0-r.duplicate().moveStart("character",-1e5),a=s+r.text.length),{begin:s,end:a};s=e,a="number"==typeof i?i:s,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(s,a):this.inputViewChild.nativeElement.createTextRange&&(r=this.inputViewChild.nativeElement.createTextRange(),r.collapse(!0),r.moveEnd("character",a),r.moveStart("character",s),r.select())}}isCompleted(){for(let i=this.firstNonMaskPos;i<=this.lastRequiredNonMaskPos;i++)if(this.tests[i]&&this.buffer[i]===this.getPlaceholder(i))return!1;return!0}getPlaceholder(e){return this.slotChar.charAt(e<this.slotChar.length?e:0)}seekNext(e){for(;++e<this.len&&!this.tests[e];);return e}seekPrev(e){for(;--e>=0&&!this.tests[e];);return e}shiftL(e,i){let r,s;if(!(e<0)){for(r=e,s=this.seekNext(i);r<this.len;r++)if(this.tests[r]){if(!(s<this.len&&this.tests[r].test(this.buffer[s])))break;this.buffer[r]=this.buffer[s],this.buffer[s]=this.getPlaceholder(s),s=this.seekNext(s)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}}shiftR(e){let i,r,s,a;for(i=e,r=this.getPlaceholder(e);i<this.len;i++)if(this.tests[i]){if(s=this.seekNext(i),a=this.buffer[i],this.buffer[i]=r,!(s<this.len&&this.tests[s].test(a)))break;r=a}}handleAndroidInput(e){var i=this.inputViewChild.nativeElement.value,r=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>i.length){for(this.checkVal(!0);r.begin>0&&!this.tests[r.begin-1];)r.begin--;if(0===r.begin)for(;r.begin<this.firstNonMaskPos&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);r.begin<this.len&&!this.tests[r.begin];)r.begin++;setTimeout(()=>{this.caret(r.begin,r.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(e){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(e),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(e);let i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(i)}}onInputKeydown(e){if(this.readonly)return;let r,s,a,i=e.which||e.keyCode,l=/iphone/i.test(Se.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(e),8===i||46===i||l&&127===i?(r=this.caret(),s=r.begin,a=r.end,a-s==0&&(s=46!==i?this.seekPrev(s):a=this.seekNext(s-1),a=46===i?this.seekNext(a):a),this.clearBuffer(s,a),this.shiftL(s,a-1),this.updateModel(e),this.onInput.emit(e),e.preventDefault()):13===i?(this.onInputBlur(e),this.updateModel(e)):27===i&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault())}onKeyPress(e){if(!this.readonly){var s,a,l,d,i=e.which||e.keyCode,r=this.caret();e.ctrlKey||e.altKey||e.metaKey||i<32||i>34&&i<41||(i&&13!==i&&(r.end-r.begin!=0&&(this.clearBuffer(r.begin,r.end),this.shiftL(r.begin,r.end-1)),(s=this.seekNext(r.begin-1))<this.len&&(a=String.fromCharCode(i),this.tests[s].test(a)&&(this.shiftR(s),this.buffer[s]=a,this.writeBuffer(),l=this.seekNext(s),/android/i.test(Se.getUserAgent())?setTimeout(()=>{this.caret(l)},0):this.caret(l),r.begin<=this.lastRequiredNonMaskPos&&(d=this.isCompleted()),this.onInput.emit(e))),e.preventDefault()),this.updateModel(e),this.updateFilledState(),d&&this.onComplete.emit())}}clearBuffer(e,i){let r;for(r=e;r<i&&r<this.len;r++)this.tests[r]&&(this.buffer[r]=this.getPlaceholder(r))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(e){let s,a,l,i=this.inputViewChild.nativeElement.value,r=-1;for(s=0,l=0;s<this.len;s++)if(this.tests[s]){for(this.buffer[s]=this.getPlaceholder(s);l++<i.length;)if(a=i.charAt(l-1),this.tests[s].test(a)){this.buffer[s]=a,r=s;break}if(l>i.length){this.clearBuffer(s+1,this.len);break}}else this.buffer[s]===i.charAt(l)&&l++,s<this.partialPosition&&(r=s);return e?this.writeBuffer():r+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,r+1)),this.partialPosition?s:this.firstNonMaskPos}onInputFocus(e){if(this.readonly)return;let i;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,i=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),i==this.mask.replace("?","").length?this.caret(0,i):this.caret(i))},10),this.onFocus.emit(e)}onInputChange(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.onInput.emit(e)}handleInputChange(e){this.readonly||setTimeout(()=>{var i=this.checkVal(!0);this.caret(i),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let e=[];for(let i=0;i<this.buffer.length;i++){let r=this.buffer[i];this.tests[i]&&r!=this.getPlaceholder(i)&&e.push(r)}return e.join("")}updateModel(e){const i=this.unmask?this.getUnmaskedValue():e.target.value;(null!==i||void 0!==i)&&(this.value=i,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["p-inputMask"]],viewQuery:function(e,i){if(1&e&&o.Gf(fEe,7),2&e){let r;o.iGM(r=o.CRH())&&(i.inputViewChild=r.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(e,i){2&e&&o.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)("p-inputmask-clearable",i.showClear&&!i.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[o._Bn([gEe])],decls:3,vars:18,consts:[["pInputText","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"input",0,1),o.NdJ("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keydown",function(s){return i.onInputKeydown(s)})("keypress",function(s){return i.onKeyPress(s)})("input",function(s){return i.onInputChange(s)})("paste",function(s){return i.handleInputChange(s)}),o.qZA(),o.YNc(2,pEe,1,0,"i",2)),2&e&&(o.Q6J("ngStyle",i.style)("ngClass",i.styleClass)("disabled",i.disabled)("readonly",i.readonly),o.uIk("id",i.inputId)("type",i.type)("name",i.name)("placeholder",i.placeholder)("title",i.title)("size",i.size)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("autofocus",i.autoFocus),o.xp6(2),o.Q6J("ngIf",null!=i.value&&i.filled&&i.showClear&&!i.disabled))},directives:[Eh,Wi,mi,Tn],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),n})(),_Ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cS]]}),n})();gr([re({transform:"{{transform}}",opacity:0}),D("{{transition}}",re({transform:"none",opacity:1}))]),gr([D("{{transition}}",re({transform:"{{transform}}",opacity:0}))]);let EEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})();const XZ="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function eW(n,t,e){const i=e||(a=>Array.prototype.slice.call(a));let r=!1,s=[];return function(...a){s=i(a),r||(r=!0,XZ.call(window,()=>{r=!1,n.apply(t,s)}))}}const s4=n=>"start"===n?"left":"end"===n?"right":"center",hl=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Lg(){}const kEe=function(){let n=0;return function(){return n++}}();function zi(n){return null==n}function Fr(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Ri(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const to=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function Td(n,t){return to(n)?n:t}function ui(n,t){return void 0===n?t:n}const tW=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Pr(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function lr(n,t,e,i){let r,s,a;if(Fr(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(Ri(n))for(a=Object.keys(n),s=a.length,r=0;r<s;r++)t.call(e,n[a[r]],a[r])}function LO(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function BO(n){if(Fr(n))return n.map(BO);if(Ri(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=BO(n[e[r]]);return t}return n}function nW(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function AEe(n,t,e,i){if(!nW(n))return;const r=t[n],s=e[n];Ri(r)&&Ri(s)?OI(r,s,i):t[n]=BO(s)}function OI(n,t,e){const i=Fr(t)?t:[t],r=i.length;if(!Ri(n))return n;const s=(e=e||{}).merger||AEe;for(let a=0;a<r;++a){if(!Ri(t=i[a]))continue;const l=Object.keys(t);for(let d=0,f=l.length;d<f;++d)s(l[d],n,t,e)}return n}function RI(n,t){return OI(n,t,{merger:MEe})}function MEe(n,t,e){if(!nW(n))return;const i=t[n],r=e[n];Ri(i)&&Ri(r)?RI(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=BO(r))}function iW(n,t){const e=n.indexOf(".",t);return-1===e?n.length:e}function a_(n,t){if(""===t)return n;let e=0,i=iW(t,e);for(;n&&i>e;)n=n[t.slice(e,i)],e=i+1,i=iW(t,e);return n}function o4(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ed=n=>void 0!==n,l_=n=>"function"==typeof n,rW=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},is=Math.PI,br=2*is,PEe=br+is,VO=Number.POSITIVE_INFINITY,NEe=is/180,Ls=is/2,FI=is/4,sW=2*is/3,Sd=Math.log10,lp=Math.sign;function oW(n){const t=Math.round(n);n=NI(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Sd(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function PI(n){return!isNaN(parseFloat(n))&&isFinite(n)}function NI(n,t,e){return Math.abs(n-t)<e}function aW(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Ph(n){return n*(is/180)}function a4(n){return n*(180/is)}function lW(n){if(!to(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function cW(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*is&&(s+=br),{angle:s,distance:r}}function l4(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function VEe(n,t){return(n-t+PEe)%br-is}function bu(n){return(n%br+br)%br}function LI(n,t,e,i){const r=bu(n),s=bu(t),a=bu(e),l=bu(s-r),d=bu(a-r),f=bu(r-s),p=bu(r-a);return r===s||r===a||i&&s===a||l>d&&f<p}function pa(n,t,e){return Math.max(t,Math.min(e,n))}function Bg(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}const UO=n=>0===n||1===n,uW=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*br/e),dW=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*br/e)+1,BI={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Ls),easeOutSine:n=>Math.sin(n*Ls),easeInOutSine:n=>-.5*(Math.cos(is*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>UO(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>UO(n)?n:uW(n,.075,.3),easeOutElastic:n=>UO(n)?n:dW(n,.075,.3),easeInOutElastic:n=>UO(n)?n:n<.5?.5*uW(2*n,.1125,.45):.5+.5*dW(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-BI.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*BI.easeInBounce(2*n):.5*BI.easeOutBounce(2*n-1)+.5};function VI(n){return n+.5|0}const c_=(n,t,e)=>Math.max(Math.min(n,e),t);function UI(n){return c_(VI(2.55*n),0,255)}function u_(n){return c_(VI(255*n),0,255)}function Vg(n){return c_(VI(n/2.55)/100,0,1)}function hW(n){return c_(VI(100*n),0,100)}const Id={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},c4=[..."0123456789ABCDEF"],HEe=n=>c4[15&n],jEe=n=>c4[(240&n)>>4]+c4[15&n],HO=n=>(240&n)>>4==(15&n);const GEe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fW(n,t,e){const i=t*Math.min(e,1-e),r=(s,a=(s+n/30)%12)=>e-i*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function $Ee(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function YEe(n,t,e){const i=fW(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function u4(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),a=Math.min(e,i,r),l=(s+a)/2;let d,f,p;return s!==a&&(p=s-a,f=l>.5?p/(2-s-a):p/(s+a),d=function KEe(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,p,s),d=60*d+.5),[0|d,f||0,l]}function d4(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(u_)}function h4(n,t,e){return d4(fW,n,t,e)}function pW(n){return(n%360+360)%360}const gW={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mW={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let jO;const rSe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,f4=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Rb=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function zO(n,t,e){if(n){let i=u4(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=h4(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function _W(n,t){return n&&Object.assign(t||{},n)}function vW(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=u_(n[3]))):(t=_W(n,{r:0,g:0,b:0,a:1})).a=u_(t.a),t}function lSe(n){return"r"===n.charAt(0)?function sSe(n){const t=rSe.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const a=+t[7];e=t[8]?UI(a):c_(255*a,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?UI(i):c_(i,0,255)),r=255&(t[4]?UI(r):c_(r,0,255)),s=255&(t[6]?UI(s):c_(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function XEe(n){const t=GEe.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?UI(+t[5]):u_(+t[5]));const r=pW(+t[2]),s=+t[3]/100,a=+t[4]/100;return i="hwb"===t[1]?function QEe(n,t,e){return d4(YEe,n,t,e)}(r,s,a):"hsv"===t[1]?function JEe(n,t,e){return d4($Ee,n,t,e)}(r,s,a):h4(r,s,a),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class ZO{constructor(t){if(t instanceof ZO)return t;const e=typeof t;let i;"object"===e?i=vW(t):"string"===e&&(i=function ZEe(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*Id[n[1]],g:255&17*Id[n[2]],b:255&17*Id[n[3]],a:5===t?17*Id[n[4]]:255}:(7===t||9===t)&&(e={r:Id[n[1]]<<4|Id[n[2]],g:Id[n[3]]<<4|Id[n[4]],b:Id[n[5]]<<4|Id[n[6]],a:9===t?Id[n[7]]<<4|Id[n[8]]:255})),e}(t)||function iSe(n){jO||(jO=function nSe(){const n={},t=Object.keys(mW),e=Object.keys(gW);let i,r,s,a,l;for(i=0;i<t.length;i++){for(a=l=t[i],r=0;r<e.length;r++)s=e[r],l=l.replace(s,gW[s]);s=parseInt(mW[a],16),n[l]=[s>>16&255,s>>8&255,255&s]}return n}(),jO.transparent=[0,0,0,0]);const t=jO[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||lSe(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=_W(this._rgb);return t&&(t.a=Vg(t.a)),t}set rgb(t){this._rgb=vW(t)}rgbString(){return this._valid?function oSe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Vg(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function qEe(n){var t=(n=>HO(n.r)&&HO(n.g)&&HO(n.b)&&HO(n.a))(n)?HEe:jEe;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function tSe(n){if(!n)return;const t=u4(n),e=t[0],i=hW(t[1]),r=hW(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Vg(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const a=e===s?.5:e,l=2*a-1,d=i.a-r.a,f=((l*d==-1?l:(l+d)/(1+l*d))+1)/2;s=1-f,i.r=255&f*i.r+s*r.r+.5,i.g=255&f*i.g+s*r.g+.5,i.b=255&f*i.b+s*r.b+.5,i.a=a*i.a+(1-a)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function aSe(n,t,e){const i=Rb(Vg(n.r)),r=Rb(Vg(n.g)),s=Rb(Vg(n.b));return{r:u_(f4(i+e*(Rb(Vg(t.r))-i))),g:u_(f4(r+e*(Rb(Vg(t.g))-r))),b:u_(f4(s+e*(Rb(Vg(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new ZO(this.rgb)}alpha(t){return this._rgb.a=u_(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=VI(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return zO(this._rgb,2,t),this}darken(t){return zO(this._rgb,2,-t),this}saturate(t){return zO(this._rgb,1,t),this}desaturate(t){return zO(this._rgb,1,-t),this}rotate(t){return function eSe(n,t){var e=u4(n);e[0]=pW(e[0]+t),e=h4(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function yW(n){return new ZO(n)}function wW(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function xW(n){return wW(n)?n:yW(n)}function p4(n){return wW(n)?n:yW(n).saturate(.5).darken(.1).hexString()}const Yy=Object.create(null),g4=Object.create(null);function HI(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function m4(n,t,e){return"string"==typeof t?OI(HI(n,t),e):OI(HI(n,""),t)}var Fi=new class cSe{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>p4(i.backgroundColor),this.hoverBorderColor=(e,i)=>p4(i.borderColor),this.hoverColor=(e,i)=>p4(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return m4(this,t,e)}get(t){return HI(this,t)}describe(t,e){return m4(g4,t,e)}override(t,e){return m4(Yy,t,e)}route(t,e,i,r){const s=HI(this,t),a=HI(this,i),l="_"+e;Object.defineProperties(s,{[l]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[l],f=a[r];return Ri(d)?Object.assign({},f,d):ui(d,f)},set(d){this[l]=d}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function WO(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function dSe(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let a=0;const l=e.length;let d,f,p,m,w;for(d=0;d<l;d++)if(m=e[d],null!=m&&!0!==Fr(m))a=WO(n,r,s,a,m);else if(Fr(m))for(f=0,p=m.length;f<p;f++)w=m[f],null!=w&&!Fr(w)&&(a=WO(n,r,s,a,w));n.restore();const b=s.length/2;if(b>e.length){for(d=0;d<b;d++)delete r[s[d]];s.splice(0,b)}return a}function Ky(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function bW(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function qO(n,t,e,i){let r,s,a,l,d;const f=t.pointStyle,p=t.rotation,m=t.radius;let w=(p||0)*NEe;if(f&&"object"==typeof f&&(r=f.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return n.save(),n.translate(e,i),n.rotate(w),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void n.restore();if(!(isNaN(m)||m<=0)){switch(n.beginPath(),f){default:n.arc(e,i,m,0,br),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(w)*m,i-Math.cos(w)*m),w+=sW,n.lineTo(e+Math.sin(w)*m,i-Math.cos(w)*m),w+=sW,n.lineTo(e+Math.sin(w)*m,i-Math.cos(w)*m),n.closePath();break;case"rectRounded":d=.516*m,l=m-d,s=Math.cos(w+FI)*l,a=Math.sin(w+FI)*l,n.arc(e-s,i-a,d,w-is,w-Ls),n.arc(e+a,i-s,d,w-Ls,w),n.arc(e+s,i+a,d,w,w+Ls),n.arc(e-a,i+s,d,w+Ls,w+is),n.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,n.rect(e-l,i-l,2*l,2*l);break}w+=FI;case"rectRot":s=Math.cos(w)*m,a=Math.sin(w)*m,n.moveTo(e-s,i-a),n.lineTo(e+a,i-s),n.lineTo(e+s,i+a),n.lineTo(e-a,i+s),n.closePath();break;case"crossRot":w+=FI;case"cross":s=Math.cos(w)*m,a=Math.sin(w)*m,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a),n.moveTo(e+a,i-s),n.lineTo(e-a,i+s);break;case"star":s=Math.cos(w)*m,a=Math.sin(w)*m,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a),n.moveTo(e+a,i-s),n.lineTo(e-a,i+s),w+=FI,s=Math.cos(w)*m,a=Math.sin(w)*m,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a),n.moveTo(e+a,i-s),n.lineTo(e-a,i+s);break;case"line":s=Math.cos(w)*m,a=Math.sin(w)*m,n.moveTo(e-s,i-a),n.lineTo(e+s,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*m,i+Math.sin(w)*m)}n.fill(),t.borderWidth>0&&n.stroke()}}function jI(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function GO(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function $O(n){n.restore()}function hSe(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function fSe(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Qy(n,t,e,i,r,s={}){const a=Fr(t)?t:[t],l=s.strokeWidth>0&&""!==s.strokeColor;let d,f;for(n.save(),n.font=r.string,function pSe(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),zi(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),d=0;d<a.length;++d)f=a[d],l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),zi(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,e,i,s.maxWidth)),n.fillText(f,e,i,s.maxWidth),gSe(n,e,i,f,s),i+=r.lineHeight;n.restore()}function gSe(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),a=t-s.actualBoundingBoxLeft,l=t+s.actualBoundingBoxRight,d=e-s.actualBoundingBoxAscent,f=e+s.actualBoundingBoxDescent,p=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(a,p),n.lineTo(l,p),n.stroke()}}function zI(n,t){const{x:e,y:i,w:r,h:s,radius:a}=t;n.arc(e+a.topLeft,i+a.topLeft,a.topLeft,-Ls,is,!0),n.lineTo(e,i+s-a.bottomLeft),n.arc(e+a.bottomLeft,i+s-a.bottomLeft,a.bottomLeft,is,Ls,!0),n.lineTo(e+r-a.bottomRight,i+s),n.arc(e+r-a.bottomRight,i+s-a.bottomRight,a.bottomRight,Ls,0,!0),n.lineTo(e+r,i+a.topRight),n.arc(e+r-a.topRight,i+a.topRight,a.topRight,0,-Ls,!0),n.lineTo(e+a.topLeft,i)}const mSe=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),_Se=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function vSe(n,t){const e=(""+n).match(mSe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const ySe=n=>+n||0;function _4(n,t){const e={},i=Ri(t),r=i?Object.keys(t):t,s=Ri(n)?i?a=>ui(n[a],n[t[a]]):a=>n[a]:()=>n;for(const a of r)e[a]=ySe(s(a));return e}function CW(n){return _4(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Jy(n){return _4(n,["topLeft","topRight","bottomLeft","bottomRight"])}function fl(n){const t=CW(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Lo(n,t){let e=ui((n=n||{}).size,(t=t||Fi.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=ui(n.style,t.style);i&&!(""+i).match(_Se)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:ui(n.family,t.family),lineHeight:vSe(ui(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:ui(n.weight,t.weight),string:""};return r.string=function uSe(n){return!n||zi(n.size)||zi(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function ZI(n,t,e,i){let s,a,l,r=!0;for(s=0,a=n.length;s<a;++s)if(l=n[s],void 0!==l&&(void 0!==t&&"function"==typeof l&&(l=l(t),r=!1),void 0!==e&&Fr(l)&&(l=l[e%l.length],r=!1),void 0!==l))return i&&!r&&(i.cacheable=!1),l}function d_(n,t){return Object.assign(Object.create(n),t)}function v4(n,t,e){e=e||(a=>n[a]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Ug=(n,t,e)=>v4(n,e,i=>n[i][t]<e),xSe=(n,t,e)=>v4(n,e,i=>n[i][t]>=e),TW=["push","pop","shift","splice","unshift"];function EW(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(TW.forEach(s=>{delete n[s]}),delete n._chartjs)}function SW(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}function y4(n,t=[""],e=n,i,r=(()=>n[0])){Ed(i)||(i=MW("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:a=>y4([a,...n],t,e,i)};return new Proxy(s,{deleteProperty:(a,l)=>(delete a[l],delete a._keys,delete n[0][l],!0),get:(a,l)=>kW(a,l,()=>function MSe(n,t,e,i){let r;for(const s of t)if(r=MW(TSe(s,n),e),Ed(r))return w4(n,r)?x4(e,i,n,r):r}(l,t,n,a)),getOwnPropertyDescriptor:(a,l)=>Reflect.getOwnPropertyDescriptor(a._scopes[0],l),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(a,l)=>OW(a).includes(l),ownKeys:a=>OW(a),set(a,l,d){const f=a._storage||(a._storage=r());return a[l]=f[l]=d,delete a._keys,!0}})}function Fb(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:IW(n,i),setContext:s=>Fb(n,s,e,i),override:s=>Fb(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,a)=>(delete s[a],delete n[a],!0),get:(s,a,l)=>kW(s,a,()=>function ESe(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:a}=n;let l=i[t];return l_(l)&&a.isScriptable(t)&&(l=function SSe(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_stack:l}=e;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);return l.add(n),t=t(s,a||i),l.delete(n),w4(n,t)&&(t=x4(r._scopes,r,n,t)),t}(t,l,n,e)),Fr(l)&&l.length&&(l=function ISe(n,t,e,i){const{_proxy:r,_context:s,_subProxy:a,_descriptors:l}=e;if(Ed(s.index)&&i(n))t=t[s.index%t.length];else if(Ri(t[0])){const d=t,f=r._scopes.filter(p=>p!==d);t=[];for(const p of d){const m=x4(f,r,n,p);t.push(Fb(m,s,a&&a[n],l))}}return t}(t,l,n,a.isIndexable)),w4(t,l)&&(l=Fb(l,r,s&&s[t],a)),l}(s,a,l)),getOwnPropertyDescriptor:(s,a)=>s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,a)=>Reflect.has(n,a),ownKeys:()=>Reflect.ownKeys(n),set:(s,a,l)=>(n[a]=l,delete s[a],!0)})}function IW(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:l_(e)?e:()=>e,isIndexable:l_(i)?i:()=>i}}const TSe=(n,t)=>n?n+o4(t):t,w4=(n,t)=>Ri(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function kW(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function DW(n,t,e){return l_(n)?n(t,e):n}const kSe=(n,t)=>!0===n?t:"string"==typeof n?a_(t,n):void 0;function DSe(n,t,e,i,r){for(const s of t){const a=kSe(e,s);if(a){n.add(a);const l=DW(a._fallback,e,r);if(Ed(l)&&l!==e&&l!==i)return l}else if(!1===a&&Ed(i)&&e!==i)return null}return!1}function x4(n,t,e,i){const r=t._rootScopes,s=DW(t._fallback,e,i),a=[...n,...r],l=new Set;l.add(i);let d=AW(l,a,e,s||e,i);return!(null===d||Ed(s)&&s!==e&&(d=AW(l,a,s,d,i),null===d))&&y4(Array.from(l),[""],r,s,()=>function ASe(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Fr(r)&&Ri(e)?e:r}(t,e,i))}function AW(n,t,e,i,r){for(;e;)e=DSe(n,t,e,i,r);return e}function MW(n,t){for(const e of t){if(!e)continue;const i=e[n];if(Ed(i))return i}}function OW(n){let t=n._keys;return t||(t=n._keys=function OSe(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function RW(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,a=new Array(i);let l,d,f,p;for(l=0,d=i;l<d;++l)f=l+e,p=t[f],a[l]={r:r.parse(a_(p,s),f)};return a}const RSe=Number.EPSILON||1e-14,Pb=(n,t)=>t<n.length&&!n[t].skip&&n[t],FW=n=>"x"===n?"y":"x";function FSe(n,t,e,i){const r=n.skip?t:n,s=t,a=e.skip?t:e,l=l4(s,r),d=l4(a,s);let f=l/(l+d),p=d/(l+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const m=i*f,w=i*p;return{previous:{x:s.x-m*(a.x-r.x),y:s.y-m*(a.y-r.y)},next:{x:s.x+w*(a.x-r.x),y:s.y+w*(a.y-r.y)}}}function YO(n,t,e){return Math.max(Math.min(n,e),t)}function VSe(n,t,e,i,r){let s,a,l,d;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),"monotone"===t.cubicInterpolationMode)!function LSe(n,t="x"){const e=FW(t),i=n.length,r=Array(i).fill(0),s=Array(i);let a,l,d,f=Pb(n,0);for(a=0;a<i;++a)if(l=d,d=f,f=Pb(n,a+1),d){if(f){const p=f[t]-d[t];r[a]=0!==p?(f[e]-d[e])/p:0}s[a]=l?f?lp(r[a-1])!==lp(r[a])?0:(r[a-1]+r[a])/2:r[a-1]:r[a]}(function PSe(n,t,e){const i=n.length;let r,s,a,l,d,f=Pb(n,0);for(let p=0;p<i-1;++p)if(d=f,f=Pb(n,p+1),d&&f){if(NI(t[p],0,RSe)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],s=e[p+1]/t[p],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),e[p]=r*a*t[p],e[p+1]=s*a*t[p])}})(n,r,s),function NSe(n,t,e="x"){const i=FW(e),r=n.length;let s,a,l,d=Pb(n,0);for(let f=0;f<r;++f){if(a=l,l=d,d=Pb(n,f+1),!l)continue;const p=l[e],m=l[i];a&&(s=(p-a[e])/3,l[`cp1${e}`]=p-s,l[`cp1${i}`]=m-s*t[f]),d&&(s=(d[e]-p)/3,l[`cp2${e}`]=p+s,l[`cp2${i}`]=m+s*t[f])}}(n,s,t)}(n,r);else{let f=i?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],d=FSe(f,l,n[Math.min(s+1,a-(i?0:1))%a],t.tension),l.cp1x=d.previous.x,l.cp1y=d.previous.y,l.cp2x=d.next.x,l.cp2y=d.next.y,f=l}t.capBezierPoints&&function BSe(n,t){let e,i,r,s,a,l=jI(n[0],t);for(e=0,i=n.length;e<i;++e)a=s,s=l,l=e<i-1&&jI(n[e+1],t),s&&(r=n[e],a&&(r.cp1x=YO(r.cp1x,t.left,t.right),r.cp1y=YO(r.cp1y,t.top,t.bottom)),l&&(r.cp2x=YO(r.cp2x,t.left,t.right),r.cp2y=YO(r.cp2y,t.top,t.bottom)))}(n,e)}function PW(){return"undefined"!=typeof window&&"undefined"!=typeof document}function b4(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function KO(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const QO=n=>window.getComputedStyle(n,null),HSe=["top","right","bottom","left"];function Xy(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=HSe[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function e1(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=QO(e),s="border-box"===r.boxSizing,a=Xy(r,"padding"),l=Xy(r,"border","width"),{x:d,y:f,box:p}=function zSe(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let l,d,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,s,n.target))l=r,d=s;else{const f=t.getBoundingClientRect();l=i.clientX-f.left,d=i.clientY-f.top,a=!0}return{x:l,y:d,box:a}}(n,e),m=a.left+(p&&l.left),w=a.top+(p&&l.top);let{width:b,height:T}=t;return s&&(b-=a.width+l.width,T-=a.height+l.height),{x:Math.round((d-m)/b*e.width/i),y:Math.round((f-w)/T*e.height/i)}}const C4=n=>Math.round(10*n)/10;function NW(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const a=n.canvas;return a.style&&(e||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||a.height!==r||a.width!==s)&&(n.currentDevicePixelRatio=i,a.height=r,a.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const qSe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function LW(n,t){const e=function USe(n,t){return QO(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function t1(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function GSe(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function $Se(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},a=t1(n,r,e),l=t1(r,s,e),d=t1(s,t,e),f=t1(a,l,e),p=t1(l,d,e);return t1(f,p,e)}const BW=new Map;function WI(n,t,e){return function YSe(n,t){t=t||{};const e=n+JSON.stringify(t);let i=BW.get(e);return i||(i=new Intl.NumberFormat(n,t),BW.set(e,i)),i}(t,e).format(n)}function Nb(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function VW(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function UW(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function HW(n){return"angle"===n?{between:LI,compare:VEe,normalize:bu}:{between:Bg,compare:(t,e)=>t-e,normalize:t=>t}}function jW({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function zW(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,a=t.length,{compare:l,between:d,normalize:f}=HW(i),{start:p,end:m,loop:w,style:b}=function JSe(n,t,e){const{property:i,start:r,end:s}=e,{between:a,normalize:l}=HW(i),d=t.length;let w,b,{start:f,end:p,loop:m}=n;if(m){for(f+=d,p+=d,w=0,b=d;w<b&&a(l(t[f%d][i]),r,s);++w)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:m,style:n.style}}(n,t,e),T=[];let N,V,U,E=!1,M=null;for(let he=p,de=p;he<=m;++he)V=t[he%a],!V.skip&&(N=f(V[i]),N!==U&&(E=d(N,r,s),null===M&&(E||d(r,U,N)&&0!==l(r,U))&&(M=0===l(N,r)?he:de),null!==M&&(!E||0===l(s,N)||d(s,U,N))&&(T.push(jW({start:M,end:he,loop:w,count:a,style:b})),M=null),de=he,U=N));return null!==M&&T.push(jW({start:M,end:m,loop:w,count:a,style:b})),T}function ZW(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=zW(i[r],n.points,t);s.length&&e.push(...s)}return e}function qW(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function iIe(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var Hg=new class rIe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const a=e.duration;e.listeners[r].forEach(l=>l({chart:t,initial:e.initial,numSteps:a,currentStep:Math.min(i-e.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=XZ.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let d,a=s.length-1,l=!1;for(;a>=0;--a)d=s[a],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),l=!0):(s[a]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const GW="transparent",sIe={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=xW(n||GW),r=i.valid&&xW(t||GW);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class oIe{constructor(t,e,i,r){const s=e[i];r=ZI([t.to,r,s,t.from]);const a=ZI([t.from,s,r]);this._active=!0,this._fn=t.fn||sIe[t.type||typeof a],this._easing=BI[t.easing]||BI.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,a=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=ZI([t.to,e,r,t.from]),this._from=ZI([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,a=this._loop,l=this._to;let d;if(this._active=s!==l&&(a||e<i),!this._active)return this._target[r]=l,void this._notify(!0);e<0?this._target[r]=s:(d=e/i%2,d=a&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(s,l,d))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}Fi.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const cIe=Object.keys(Fi.animation);Fi.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),Fi.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Fi.describe("animations",{_fallback:"animation"}),Fi.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class $W{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ri(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!Ri(r))return;const s={};for(const a of cIe)s[a]=r[a];(Fr(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!e.has(a))&&e.set(a,s)})})}_animateOptions(t,e){const i=e.options,r=function dIe(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function uIe(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),a=Object.keys(e),l=Date.now();let d;for(d=a.length-1;d>=0;--d){const f=a[d];if("$"===f.charAt(0))continue;if("options"===f){r.push(...this._animateOptions(t,e));continue}const p=e[f];let m=s[f];const w=i.get(f);if(m){if(w&&m.active()){m.update(w,p,l);continue}m.cancel()}w&&w.duration?(s[f]=m=new oIe(w,t,f,p),r.push(m)):t[f]=p}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Hg.add(this._chart,i),!0):void 0}}function YW(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function KW(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function QW(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let a,l,d,f;if(null!==t){for(a=0,l=r.length;a<l;++a){if(d=+r[a],d===e){if(i.all)continue;break}f=n.values[d],to(f)&&(s||0===t||lp(t)===lp(f))&&(t+=f)}return t}}function JW(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function _Ie(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function XW(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function eq(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:a,index:l}=i,d=s.axis,f=a.axis,p=function gIe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,a,i),m=t.length;let w;for(let b=0;b<m;++b){const T=t[b],{[d]:E,[f]:M}=T;w=(T._stacks||(T._stacks={}))[f]=_Ie(r,p,E),w[l]=M,w._top=XW(w,a,!0,i.type),w._bottom=XW(w,a,!1,i.type)}}function T4(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function qI(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e]}}}const E4=n=>"reset"===n||"none"===n,tq=(n,t)=>t?n:Object.assign({},n);let jg=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=JW(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&qI(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(w,b,T,E)=>"x"===w?b:"r"===w?E:T,a=i.xAxisID=ui(r.xAxisID,T4(e,"x")),l=i.yAxisID=ui(r.yAxisID,T4(e,"y")),d=i.rAxisID=ui(r.rAxisID,T4(e,"r")),f=i.indexAxis,p=i.iAxisID=s(f,a,l,d),m=i.vAxisID=s(f,l,a,d);i.xScale=this.getScaleForId(a),i.yScale=this.getScaleForId(l),i.rScale=this.getScaleForId(d),i.iScale=this.getScaleForId(p),i.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&EW(this._data,this),e._stacked&&qI(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(Ri(i))this._data=function pIe(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(i);else if(r!==i){if(r){EW(r,this);const s=this._cachedMeta;qI(s),s._parsed=[]}i&&Object.isExtensible(i)&&function CSe(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),TW.forEach(e=>{const i="_onData"+o4(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const a=r.apply(this,s);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...s)}),a}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=i._stacked;i._stacked=JW(i.vScale,i),i.stack!==r.stack&&(s=!0,qI(i),i.stack=r.stack),this._resyncElements(e),(s||a!==i._stacked)&&eq(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:l}=r,d=a.axis;let m,w,b,f=0===e&&i===s.length||r._sorted,p=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,b=s;else{b=Fr(s[e])?this.parseArrayData(r,s,e,i):Ri(s[e])?this.parseObjectData(r,s,e,i):this.parsePrimitiveData(r,s,e,i);const T=()=>null===w[d]||p&&w[d]<p[d];for(m=0;m<i;++m)r._parsed[m+e]=w=b[m],f&&(T()&&(f=!1),p=w);r._sorted=f}l&&eq(this,b)}parsePrimitiveData(e,i,r,s){const{iScale:a,vScale:l}=e,d=a.axis,f=l.axis,p=a.getLabels(),m=a===l,w=new Array(s);let b,T,E;for(b=0,T=s;b<T;++b)E=b+r,w[b]={[d]:m||a.parse(p[E],E),[f]:l.parse(i[E],E)};return w}parseArrayData(e,i,r,s){const{xScale:a,yScale:l}=e,d=new Array(s);let f,p,m,w;for(f=0,p=s;f<p;++f)m=f+r,w=i[m],d[f]={x:a.parse(w[0],m),y:l.parse(w[1],m)};return d}parseObjectData(e,i,r,s){const{xScale:a,yScale:l}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,p=new Array(s);let m,w,b,T;for(m=0,w=s;m<w;++m)b=m+r,T=i[b],p[m]={x:a.parse(a_(T,d),b),y:l.parse(a_(T,f),b)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const a=this._cachedMeta,l=i[e.axis];return QW({keys:KW(this.chart,!0),values:i._stacks[e.axis]},l,a.index,{mode:r})}updateRangeFromParsed(e,i,r,s){const a=r[i.axis];let l=null===a?NaN:a;const d=s&&r._stacks[i.axis];s&&d&&(s.values=d,l=QW(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,i){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,l=s.length,d=this._getOtherScale(e),f=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:KW(this.chart,!0),values:null})(i,r),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:w}=function mIe(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(d);let b,T;function E(){T=s[b];const M=T[d.axis];return!to(T[e.axis])||m>M||w<M}for(b=0;b<l&&(E()||(this.updateRangeFromParsed(p,e,T,f),!a));++b);if(a)for(b=l-1;b>=0;--b)if(!E()){this.updateRangeFromParsed(p,e,T,f);break}return p}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let s,a,l;for(s=0,a=i.length;s<a;++s)l=i[s][e.axis],to(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,s=i.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function fIe(n){let t,e,i,r;return Ri(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(ui(this.options.clip,function hIe(n,t,e){if(!1===e)return!1;const i=YW(n,e),r=YW(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,s=r.data||[],a=this.chart.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||s.length-d,p=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,a,d,f),m=d;m<d+f;++m){const w=s[m];w.hidden||(w.active&&p?l.push(w):w.draw(e,a))}for(m=0;m<l.length;++m)l[m].draw(e,a)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=function yIe(n,t,e){return d_(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function vIe(n,t){return d_(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!i,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const s="active"===i,a=this._cachedDataOpts,l=e+"-"+i,d=a[l],f=this.enableOptionSharing&&Ed(r);if(d)return tq(d,f);const p=this.chart.config,m=p.datasetElementScopeKeys(this._type,e),w=s?[`${e}Hover`,"hover",e,""]:[e,""],b=p.getOptionScopes(this.getDataset(),m),T=Object.keys(Fi.elements[e]),M=p.resolveNamedOptions(b,T,()=>this.getContext(r,s),w);return M.$shared&&(M.$shared=f,a[l]=Object.freeze(tq(M,f))),M}_resolveAnimations(e,i,r){const s=this.chart,a=this._cachedDataOpts,l=`animation-${i}`,d=a[l];if(d)return d;let f;if(!1!==s.options.animation){const m=this.chart.config,w=m.datasetAnimationScopeKeys(this._type,i),b=m.getOptionScopes(this.getDataset(),w);f=m.createResolver(b,this.getContext(e,r,i))}const p=new $W(s,f&&f.animations);return f&&f._cacheable&&(a[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||E4(e)||this.chart._animationsDisabled}updateElement(e,i,r,s){E4(s)?Object.assign(e,r):this._resolveAnimations(i,s).update(e,r)}updateSharedOptions(e,i,r){e&&!E4(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,s){e.active=s;const a=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[d,f,p]of this._syncList)this[d](f,p);this._syncList=[];const s=r.length,a=i.length,l=Math.min(a,s);l&&this.parse(0,l),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,i,r=!0){const s=this._cachedMeta,a=s.data,l=e+i;let d;const f=p=>{for(p.length+=i,d=p.length-1;d>=l;d--)p[d]=p[d-i]};for(f(a),d=e;d<l;++d)a[d]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(e,i),r&&this.updateElements(a,e,i,"reset")}updateElements(e,i,r,s){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,i);r._stacked&&qI(r,s)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,s]=e;this[i](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function bIe(n){const t=n.iScale,e=function xIe(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=SW(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,a,l,i=t._length;const d=()=>{32767===a||-32768===a||(Ed(l)&&(i=Math.min(i,Math.abs(a-l)||i)),l=a)};for(r=0,s=e.length;r<s;++r)a=t.getPixelForValue(e[r]),d();for(l=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),d();return i}function nq(n,t,e,i){return Fr(n)?function EIe(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),a=Math.min(r,s),l=Math.max(r,s);let d=a,f=l;Math.abs(a)>Math.abs(l)&&(d=l,f=a),t[e.axis]=f,t._custom={barStart:d,barEnd:f,start:r,end:s,min:a,max:l}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function iq(n,t,e,i){const r=n.iScale,s=n.vScale,a=r.getLabels(),l=r===s,d=[];let f,p,m,w;for(f=e,p=e+i;f<p;++f)w=t[f],m={},m[r.axis]=l||r.parse(a[f],f),d.push(nq(w,m,s,f));return d}function S4(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function kIe(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);const{start:a,end:l,reverse:d,top:f,bottom:p}=function IIe(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=p:(s[rq(p,a,l,d)]=!0,r=f)),s[rq(r,a,l,d)]=!0,n.borderSkipped=s}function rq(n,t,e,i){return i?(n=function DIe(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=sq(n,e,t)):n=sq(n,t,e),n}function sq(n,t,e){return"start"===n?t:"end"===n?e:n}function AIe(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}jg.prototype.datasetElementType=null,jg.prototype.dataElementType=null;let MIe=(()=>{class n extends jg{parsePrimitiveData(e,i,r,s){return iq(e,i,r,s)}parseArrayData(e,i,r,s){return iq(e,i,r,s)}parseObjectData(e,i,r,s){const{iScale:a,vScale:l}=e,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,p="x"===a.axis?d:f,m="x"===l.axis?d:f,w=[];let b,T,E,M;for(b=r,T=r+s;b<T;++b)M=i[b],E={},E[a.axis]=a.parse(a_(M,p),b),w.push(nq(a_(M,m),E,l,b));return w}updateRangeFromParsed(e,i,r,s){super.updateRangeFromParsed(e,i,r,s);const a=r._custom;a&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:s}=i,a=this.getParsed(e),l=a._custom,d=S4(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,s){const a="reset"===s,{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),p=d.isHorizontal(),m=this._getRuler(),w=this.resolveDataElementOptions(i,s),b=this.getSharedOptions(w),T=this.includeOptions(s,b);this.updateSharedOptions(b,s,w);for(let E=i;E<i+r;E++){const M=this.getParsed(E),N=a||zi(M[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),V=this._calculateBarIndexPixels(E,m),U=(M._stacks||{})[d.axis],q={horizontal:p,base:N.base,enableBorderRadius:!U||S4(M._custom)||l===U._top||l===U._bottom,x:p?N.head:V.center,y:p?V.center:N.head,height:p?V.size:Math.abs(N.size),width:p?Math.abs(N.size):V.size};T&&(q.options=b||this.resolveDataElementOptions(E,e[E].active?"active":s));const Q=q.options||e[E].options;kIe(q,Q,U,l),AIe(q,Q,m.ratio),this.updateElement(e[E],E,q,s)}}_getStacks(e,i){const s=this._cachedMeta.iScale,a=s.getMatchingVisibleMetas(this._type),l=s.options.stacked,d=a.length,f=[];let p,m;for(p=0;p<d;++p)if(m=a[p],m.controller.options.grouped){if(void 0!==i){const w=m.controller.getParsed(i)[m.controller._cachedMeta.vScale.axis];if(zi(w)||isNaN(w))continue}if((!1===l||-1===f.indexOf(m.stack)||void 0===l&&void 0===m.stack)&&f.push(m.stack),m.index===e)break}return f.length||f.push(void 0),f}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const s=this._getStacks(e,r),a=void 0!==i?s.indexOf(i):-1;return-1===a?s.length-1:a}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,s=[];let a,l;for(a=0,l=i.data.length;a<l;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const d=e.barThickness;return{min:d||bIe(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:s,minBarLength:a}}=this,l=s||0,d=this.getParsed(e),f=d._custom,p=S4(f);let T,E,m=d[i.axis],w=0,b=r?this.applyStack(i,d,r):m;b!==m&&(w=b-m,b=m),p&&(m=f.barStart,b=f.barEnd-f.barStart,0!==m&&lp(m)!==lp(f.barEnd)&&(w=0),w+=m);const M=zi(s)||p?w:s;let N=i.getPixelForValue(M);if(T=this.chart.getDataVisibility(e)?i.getPixelForValue(w+b):N,E=T-N,Math.abs(E)<a){E=function SIe(n,t,e){return 0!==n?lp(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(E,i,l)*a,m===l&&(N-=E/2);const V=i.getPixelForDecimal(0),U=i.getPixelForDecimal(1),q=Math.min(V,U),Q=Math.max(V,U);N=Math.max(Math.min(N,Q),q),T=N+E}if(N===i.getPixelForValue(l)){const V=lp(E)*i.getLineWidthForValue(l)/2;N+=V,E-=V}return{size:E,base:N,head:T,center:T+E/2}}_calculateBarIndexPixels(e,i){const r=i.scale,s=this.options,a=s.skipNull,l=ui(s.maxBarThickness,1/0);let d,f;if(i.grouped){const p=a?this._getStackCount(e):i.stackCount,m="flex"===s.barThickness?function TIe(n,t,e,i){const r=t.pixels,s=r[n];let a=n>0?r[n-1]:null,l=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;null===a&&(a=s-(null===l?t.end-t.start:l-s)),null===l&&(l=s+s-a);const f=s-(s-Math.min(a,l))/2*d;return{chunk:Math.abs(l-a)/2*d/i,ratio:e.barPercentage,start:f}}(e,i,s,p):function CIe(n,t,e,i){const r=e.barThickness;let s,a;return zi(r)?(s=t.min*e.categoryPercentage,a=e.barPercentage):(s=r*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[n]-s/2}}(e,i,s,p),w=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);d=m.start+m.chunk*w+m.chunk/2,f=Math.min(l,m.chunk*m.ratio)}else d=r.getPixelForValue(this.getParsed(e)[r.axis],e),f=Math.min(l,i.min*i.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)null!==this.getParsed(a)[i.axis]&&r[a].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),OIe=(()=>{class n extends jg{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,s){const a=super.parsePrimitiveData(e,i,r,s);for(let l=0;l<a.length;l++)a[l]._custom=this.resolveDataElementOptions(l+r).radius;return a}parseArrayData(e,i,r,s){const a=super.parseArrayData(e,i,r,s);for(let l=0;l<a.length;l++)a[l]._custom=ui(i[r+l][2],this.resolveDataElementOptions(l+r).radius);return a}parseObjectData(e,i,r,s){const a=super.parseObjectData(e,i,r,s);for(let l=0;l<a.length;l++){const d=i[r+l];a[l]._custom=ui(d&&d.r&&+d.r,this.resolveDataElementOptions(l+r).radius)}return a}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:r,yScale:s}=i,a=this.getParsed(e),l=r.getLabelForValue(a.x),d=s.getLabelForValue(a.y),f=a._custom;return{label:i.label,value:"("+l+", "+d+(f?", "+f:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,s){const a="reset"===s,{iScale:l,vScale:d}=this._cachedMeta,f=this.resolveDataElementOptions(i,s),p=this.getSharedOptions(f),m=this.includeOptions(s,p),w=l.axis,b=d.axis;for(let T=i;T<i+r;T++){const E=e[T],M=!a&&this.getParsed(T),N={},V=N[w]=a?l.getPixelForDecimal(.5):l.getPixelForValue(M[w]),U=N[b]=a?d.getBasePixel():d.getPixelForValue(M[b]);N.skip=isNaN(V)||isNaN(U),m&&(N.options=this.resolveDataElementOptions(T,E.active?"active":s),a&&(N.options.radius=0)),this.updateElement(E,T,N,s)}this.updateSharedOptions(p,s,f)}resolveDataElementOptions(e,i){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const a=s.radius;return"active"!==i&&(s.radius=0),s.radius+=ui(r&&r._custom,a),s}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),oq=(()=>{class n extends jg{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let l,d,a=f=>+r[f];if(Ri(r[e])){const{key:f="value"}=this._parsing;a=p=>+a_(r[p],f)}for(l=e,d=e+i;l<d;++l)s._parsed[l]=a(l)}}_getRotation(){return Ph(this.options.rotation-90)}_getCircumference(){return Ph(this.options.circumference)}_getRotationExtents(){let e=br,i=-br;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),l=s._getCircumference();e=Math.min(e,a),i=Math.max(i,a+l)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,a=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,d=Math.max((Math.min(r.width,r.height)-l)/2,0),f=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,d),1),p=this._getRingWeight(this.index),{circumference:m,rotation:w}=this._getRotationExtents(),{ratioX:b,ratioY:T,offsetX:E,offsetY:M}=function RIe(n,t,e){let i=1,r=1,s=0,a=0;if(t<br){const l=n,d=l+t,f=Math.cos(l),p=Math.sin(l),m=Math.cos(d),w=Math.sin(d),b=(U,q,Q)=>LI(U,l,d,!0)?1:Math.max(q,q*e,Q,Q*e),T=(U,q,Q)=>LI(U,l,d,!0)?-1:Math.min(q,q*e,Q,Q*e),E=b(0,f,m),M=b(Ls,p,w),N=T(is,f,m),V=T(is+Ls,p,w);i=(E-N)/2,r=(M-V)/2,s=-(E+N)/2,a=-(M+V)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:a}}(w,m,f),U=Math.max(Math.min((r.width-l)/b,(r.height-l)/T)/2,0),q=tW(this.options.radius,U),ue=(q-Math.max(q*f,0))/this._getVisibleDatasetWeightTotal();this.offsetX=E*q,this.offsetY=M*q,s.total=this.calculateTotal(),this.outerRadius=q-ue*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ue*p,0),this.updateElements(a,0,a.length,e)}_circumference(e,i){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/br)}updateElements(e,i,r,s){const a="reset"===s,l=this.chart,d=l.chartArea,m=(d.left+d.right)/2,w=(d.top+d.bottom)/2,b=a&&l.options.animation.animateScale,T=b?0:this.innerRadius,E=b?0:this.outerRadius,M=this.resolveDataElementOptions(i,s),N=this.getSharedOptions(M),V=this.includeOptions(s,N);let q,U=this._getRotation();for(q=0;q<i;++q)U+=this._circumference(q,a);for(q=i;q<i+r;++q){const Q=this._circumference(q,a),ue=e[q],K={x:m+this.offsetX,y:w+this.offsetY,startAngle:U,endAngle:U+Q,circumference:Q,outerRadius:E,innerRadius:T};V&&(K.options=N||this.resolveDataElementOptions(q,ue.active?"active":s)),U+=Q,this.updateElement(ue,q,K,s)}this.updateSharedOptions(N,s,M)}calculateTotal(){const e=this._cachedMeta,i=e.data;let s,r=0;for(s=0;s<i.length;s++){const a=e._parsed[s];null!==a&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?br*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],a=WI(this._cachedMeta._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let i=0;const r=this.chart;let s,a,l,d,f;if(!e)for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){l=r.getDatasetMeta(s),e=l.data,d=l.controller;break}if(!e)return 0;for(s=0,a=e.length;s<a;++s)f=d.resolveDataElementOptions(s),"inner"!==f.borderAlign&&(i=Math.max(i,f.borderWidth||0,f.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,s=e.length;r<s;++r){const a=this.resolveDataElementOptions(r);i=Math.max(i,a.offset||0,a.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(ui(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,s)=>{const l=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return Fr(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),aq=(()=>{class n extends jg{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=i,l=this.chart._animationsDisabled;let{start:d,count:f}=function FIe(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:a,_parsed:l}=n,d=a.axis,{min:f,max:p,minDefined:m,maxDefined:w}=a.getUserBounds();m&&(r=pa(Math.min(Ug(l,a.axis,f).lo,e?i:Ug(t,d,a.getPixelForValue(f)).lo),0,i-1)),s=w?pa(Math.max(Ug(l,a.axis,p).hi+1,e?0:Ug(t,d,a.getPixelForValue(p)).hi+1),r,i)-r:i-r}return{start:r,count:s}}(i,s,l);this._drawStart=d,this._drawCount=f,function PIe(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}(i)&&(d=0,f=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:p},e),this.updateElements(s,d,f,e)}updateElements(e,i,r,s){const a="reset"===s,{iScale:l,vScale:d,_stacked:f,_dataset:p}=this._cachedMeta,m=this.resolveDataElementOptions(i,s),w=this.getSharedOptions(m),b=this.includeOptions(s,w),T=l.axis,E=d.axis,{spanGaps:M,segment:N}=this.options,V=PI(M)?M:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||a||"none"===s;let q=i>0&&this.getParsed(i-1);for(let Q=i;Q<i+r;++Q){const ue=e[Q],K=this.getParsed(Q),he=U?ue:{},de=zi(K[E]),Me=he[T]=l.getPixelForValue(K[T],Q),Fe=he[E]=a||de?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,K,f):K[E],Q);he.skip=isNaN(Me)||isNaN(Fe)||de,he.stop=Q>0&&Math.abs(K[T]-q[T])>V,N&&(he.parsed=K,he.raw=p.data[Q]),b&&(he.options=w||this.resolveDataElementOptions(Q,ue.active?"active":s)),U||this.updateElement(ue,Q,he,s),q=K}this.updateSharedOptions(w,s,m)}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})();var NIe=Object.freeze({__proto__:null,BarController:MIe,BubbleController:OIe,DoughnutController:oq,LineController:aq,PolarAreaController:(()=>{class n extends jg{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],a=WI(this._cachedMeta._parsed[e].r,r.options.locale);return{label:s[e]||"",value:a}}parseObjectData(e,i,r,s){return RW.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<i.min&&(i.min=a),a>i.max&&(i.max=a))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),a=Math.max(s/2,0),d=(a-Math.max(r.cutoutPercentage?a/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=a-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(e,i,r,s){const a="reset"===s,l=this.chart,f=l.options.animation,p=this._cachedMeta.rScale,m=p.xCenter,w=p.yCenter,b=p.getIndexAngle(0)-.5*is;let E,T=b;const M=360/this.countVisibleElements();for(E=0;E<i;++E)T+=this._computeAngle(E,s,M);for(E=i;E<i+r;E++){const N=e[E];let V=T,U=T+this._computeAngle(E,s,M),q=l.getDataVisibility(E)?p.getDistanceFromCenterForValue(this.getParsed(E).r):0;T=U,a&&(f.animateScale&&(q=0),f.animateRotate&&(V=U=b));const Q={x:m,y:w,innerRadius:0,outerRadius:q,startAngle:V,endAngle:U,options:this.resolveDataElementOptions(E,N.active?"active":s)};this.updateElement(N,E,Q,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?Ph(this.resolveDataElementOptions(e,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,s)=>{const l=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),PieController:(()=>{class n extends oq{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),RadarController:(()=>{class n extends jg{getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,s){return RW.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta,r=i.dataset,s=i.data||[],a=i.iScale.getLabels();if(r.points=s,"resize"!==e){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:a.length===s.length,options:l},e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,r,s){const a=this._cachedMeta.rScale,l="reset"===s;for(let d=i;d<i+r;d++){const f=e[d],p=this.resolveDataElementOptions(d,f.active?"active":s),m=a.getPointPositionForValue(d,this.getParsed(d).r),w=l?a.xCenter:m.x,b=l?a.yCenter:m.y,T={x:w,y:b,angle:m.angle,skip:isNaN(w)||isNaN(b),options:p};this.updateElement(f,d,T,s)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),ScatterController:(()=>{class n extends aq{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function n1(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var LIe={_date:(()=>{class n{constructor(e){this.options=e||{}}formats(){return n1()}parse(e,i){return n1()}format(e,i){return n1()}add(e,i,r){return n1()}diff(e,i,r){return n1()}startOf(e,i,r){return n1()}endOf(e,i){return n1()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function BIe(n,t,e,i){const{controller:r,data:s,_sorted:a}=n,l=r._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const d=l._reversePixels?xSe:Ug;if(!i)return d(s,t,e);if(r._sharedOptions){const f=s[0],p="function"==typeof f.getRange&&f.getRange(t);if(p){const m=d(s,t,e-p),w=d(s,t,e+p);return{lo:m.lo,hi:w.hi}}}}return{lo:0,hi:s.length-1}}function GI(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),a=e[t];for(let l=0,d=s.length;l<d;++l){const{index:f,data:p}=s[l],{lo:m,hi:w}=BIe(s[l],t,a,r);for(let b=m;b<=w;++b){const T=p[b];T.skip||i(T,f,b)}}}function I4(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||GI(n,e,t,function(l,d,f){!r&&!jI(l,n.chartArea,0)||l.inRange(t.x,t.y,i)&&s.push({element:l,datasetIndex:d,index:f})},!0),s}function k4(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function HIe(n,t,e,i,r,s){let a=[];const l=function VIe(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,a=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(e);let d=Number.POSITIVE_INFINITY;return GI(n,e,t,function f(p,m,w){const b=p.inRange(t.x,t.y,r);if(i&&!b)return;const T=p.getCenterPoint(r);if(!s&&!n.isPointInArea(T)&&!b)return;const M=l(t,T);M<d?(a=[{element:p,datasetIndex:m,index:w}],d=M):M===d&&a.push({element:p,datasetIndex:m,index:w})}),a}(n,t,e,i,r,s):function UIe(n,t,e,i){let r=[];return GI(n,e,t,function s(a,l,d){const{startAngle:f,endAngle:p}=a.getProps(["startAngle","endAngle"],i),{angle:m}=cW(a,{x:t.x,y:t.y});LI(m,f,p)&&r.push({element:a,datasetIndex:l,index:d})}),r}(n,t,e,r):[]}function lq(n,t,e,i,r){const s=[],a="x"===e?"inXRange":"inYRange";let l=!1;return GI(n,e,t,(d,f,p)=>{d[a](t[e],r)&&(s.push({element:d,datasetIndex:f,index:p}),l=l||d.inRange(t.x,t.y,r))}),i&&!l?[]:s}var jIe={evaluateInteractionItems:GI,modes:{index(n,t,e,i){const r=e1(t,n),s=e.axis||"x",a=e.includeInvisible||!1,l=e.intersect?I4(n,r,s,i,a):k4(n,r,s,!1,i,a),d=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=l[0].index,m=f.data[p];m&&!m.skip&&d.push({element:m,datasetIndex:f.index,index:p})}),d):[]},dataset(n,t,e,i){const r=e1(t,n),s=e.axis||"xy",a=e.includeInvisible||!1;let l=e.intersect?I4(n,r,s,i,a):k4(n,r,s,!1,i,a);if(l.length>0){const d=l[0].datasetIndex,f=n.getDatasetMeta(d).data;l=[];for(let p=0;p<f.length;++p)l.push({element:f[p],datasetIndex:d,index:p})}return l},point:(n,t,e,i)=>I4(n,e1(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>k4(n,e1(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>lq(n,e1(t,n),"x",e.intersect,i),y:(n,t,e,i)=>lq(n,e1(t,n),"y",e.intersect,i)}};const cq=["left","top","right","bottom"];function $I(n,t){return n.filter(e=>e.pos===t)}function uq(n,t){return n.filter(e=>-1===cq.indexOf(e.pos)&&e.box.axis===t)}function YI(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function dq(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function hq(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function GIe(n,t,e,i){const{pos:r,box:s}=e,a=n.maxPadding;if(!Ri(r)){e.size&&(n[r]-=e.size);const m=i[e.stack]||{size:0,count:1};m.size=Math.max(m.size,e.horizontal?s.height:s.width),e.size=m.size/m.count,n[r]+=e.size}s.getPadding&&hq(a,s.getPadding());const l=Math.max(0,t.outerWidth-dq(a,n,"left","right")),d=Math.max(0,t.outerHeight-dq(a,n,"top","bottom")),f=l!==n.w,p=d!==n.h;return n.w=l,n.h=d,e.horizontal?{same:f,other:p}:{same:p,other:f}}function YIe(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{s[a]=Math.max(t[a],e[a])}),s}(n?["left","right"]:["top","bottom"])}function KI(n,t,e,i){const r=[];let s,a,l,d,f,p;for(s=0,a=n.length,f=0;s<a;++s){l=n[s],d=l.box,d.update(l.width||t.w,l.height||t.h,YIe(l.horizontal,t));const{same:m,other:w}=GIe(t,e,l,i);f|=m&&r.length,p=p||w,d.fullSize||r.push(l)}return f&&KI(r,t,e,i)||p}function JO(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function fq(n,t,e,i){const r=e.padding;let{x:s,y:a}=t;for(const l of n){const d=l.box,f=i[l.stack]||{count:1,placed:0,weight:1},p=l.stackWeight/f.weight||1;if(l.horizontal){const m=t.w*p,w=f.size||d.height;Ed(f.start)&&(a=f.start),d.fullSize?JO(d,r.left,a,e.outerWidth-r.right-r.left,w):JO(d,t.left+f.placed,a,m,w),f.start=a,f.placed+=m,a=d.bottom}else{const m=t.h*p,w=f.size||d.width;Ed(f.start)&&(s=f.start),d.fullSize?JO(d,s,r.top,w,e.outerHeight-r.bottom-r.top):JO(d,s,t.top+f.placed,w,m),f.start=s,f.placed+=m,s=d.right}}t.x=s,t.y=a}Fi.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var pl={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=fl(n.options.layout.padding),s=Math.max(t-r.width,0),a=Math.max(e-r.height,0),l=function qIe(n){const t=function zIe(n){const t=[];let e,i,r,s,a,l;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:a,stackWeight:l=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&s+a,stackWeight:l});return t}(n),e=YI(t.filter(f=>f.box.fullSize),!0),i=YI($I(t,"left"),!0),r=YI($I(t,"right")),s=YI($I(t,"top"),!0),a=YI($I(t,"bottom")),l=uq(t,"x"),d=uq(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(d).concat(a).concat(l),chartArea:$I(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:s.concat(a).concat(l)}}(n.boxes),d=l.vertical,f=l.horizontal;lr(n.boxes,E=>{"function"==typeof E.beforeLayout&&E.beforeLayout()});const p=d.reduce((E,M)=>M.box.options&&!1===M.box.options.display?E:E+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/p,hBoxMaxHeight:a/2}),w=Object.assign({},r);hq(w,fl(i));const b=Object.assign({maxPadding:w,w:s,h:a,x:r.left,y:r.top},r),T=function WIe(n,t){const e=function ZIe(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!cq.includes(r))continue;const a=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:d}=l.box,f=e[l.stack],p=f&&l.stackWeight/f.weight;l.horizontal?(l.width=p?p*i:d&&t.availableWidth,l.height=r):(l.width=i,l.height=p?p*r:d&&t.availableHeight)}return e}(d.concat(f),m);KI(l.fullSize,b,m,T),KI(d,b,m,T),KI(f,b,m,T)&&KI(d,b,m,T),function $Ie(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(b),fq(l.leftAndTop,b,m,T),b.x+=b.w,b.y+=b.h,fq(l.rightAndBottom,b,m,T),n.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},lr(l.chartArea,E=>{const M=E.box;Object.assign(M,n.chartArea),M.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class pq{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class KIe extends pq{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const XO="$chartjs",QIe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gq=n=>null===n||""===n,mq=!!qSe&&{passive:!0};function eke(n,t,e){n.canvas.removeEventListener(t,e,mq)}function eR(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function nke(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||eR(l.addedNodes,i),a=a&&!eR(l.removedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function ike(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||eR(l.removedNodes,i),a=a&&!eR(l.addedNodes,i);a&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const QI=new Map;let _q=0;function vq(){const n=window.devicePixelRatio;n!==_q&&(_q=n,QI.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function oke(n,t,e){const i=n.canvas,r=i&&b4(i);if(!r)return;const s=eW((l,d)=>{const f=r.clientWidth;e(l,d),f<r.clientWidth&&e()},window),a=new ResizeObserver(l=>{const d=l[0],f=d.contentRect.width,p=d.contentRect.height;0===f&&0===p||s(f,p)});return a.observe(r),function rke(n,t){QI.size||window.addEventListener("resize",vq),QI.set(n,t)}(n,s),a}function D4(n,t,e){e&&e.disconnect(),"resize"===t&&function ske(n){QI.delete(n),QI.size||window.removeEventListener("resize",vq)}(n)}function ake(n,t,e){const i=n.canvas,r=eW(s=>{null!==n.ctx&&e(function tke(n,t){const e=QIe[n.type]||n.type,{x:i,y:r}=e1(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n,s=>{const a=s[0];return[a,a.offsetX,a.offsetY]});return function XIe(n,t,e){n.addEventListener(t,e,mq)}(i,t,r),r}class lke extends pq{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function JIe(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[XO]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",gq(r)){const s=LW(n,"width");void 0!==s&&(n.width=s)}if(gq(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=LW(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[XO])return!1;const i=e[XO].initial;["height","width"].forEach(s=>{const a=i[s];zi(a)?e.removeAttribute(s):e.setAttribute(s,a)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[XO],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:nke,detach:ike,resize:oke}[e]||ake)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:D4,detach:D4,resize:D4}[e]||eke)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function WSe(n,t,e,i){const r=QO(n),s=Xy(r,"margin"),a=KO(r.maxWidth,n,"clientWidth")||VO,l=KO(r.maxHeight,n,"clientHeight")||VO,d=function ZSe(n,t,e){let i,r;if(void 0===t||void 0===e){const s=b4(n);if(s){const a=s.getBoundingClientRect(),l=QO(s),d=Xy(l,"border","width"),f=Xy(l,"padding");t=a.width-f.width-d.width,e=a.height-f.height-d.height,i=KO(l.maxWidth,s,"clientWidth"),r=KO(l.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||VO,maxHeight:r||VO}}(n,t,e);let{width:f,height:p}=d;if("content-box"===r.boxSizing){const m=Xy(r,"border","width"),w=Xy(r,"padding");f-=w.width+m.width,p-=w.height+m.height}return f=Math.max(0,f-s.width),p=Math.max(0,i?Math.floor(f/i):p-s.height),f=C4(Math.min(f,a,d.maxWidth)),p=C4(Math.min(p,l,d.maxHeight)),f&&!p&&(p=C4(f/2)),{width:f,height:p}}(t,e,i,r)}isAttached(t){const e=b4(t);return!(!e||!e.isConnected)}}class Nh{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return PI(this.x)&&PI(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Nh.defaults={},Nh.defaultRoutes=void 0;const yq={values:n=>Fr(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),s=function uke(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const a=Sd(Math.abs(s)),l=Math.max(Math.min(-1*Math.floor(a),20),0),d={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(d,this.options.ticks.format),WI(n,i,d)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(Sd(n)));return 1===i||2===i||5===i?yq.numeric.call(this,n,t,e):""}};var tR={formatters:yq};function nR(n,t,e,i,r){const s=ui(i,0),a=Math.min(ui(r,n.length),n.length);let d,f,p,l=0;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),p=s;p<0;)l++,p=Math.round(s+l*e);for(f=Math.max(s,0);f<a;f++)f===p&&(t.push(n[f]),l++,p=Math.round(s+l*e))}Fi.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Fi.route("scale.ticks","color","","color"),Fi.route("scale.grid","color","","borderColor"),Fi.route("scale.grid","borderColor","","borderColor"),Fi.route("scale.title","color","","color"),Fi.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),Fi.describe("scales",{_fallback:"scale"}),Fi.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const wq=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function xq(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function vke(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,a=n._endPixel,l=1e-6;let f,d=n.getPixelForTick(r);if(!(e&&(f=1===i?Math.max(d-s,a-d):0===t?(n.getPixelForTick(1)-d)/2:(d-n.getPixelForTick(r-1))/2,d+=r<t?f:-f,d<s-l||d>a+l)))return d}function JI(n){return n.drawTicks?n.tickLength:0}function bq(n,t){if(!n.display)return 0;const e=Lo(n.font,t),i=fl(n.padding);return(Fr(n.text)?n.text.length:1)*e.lineHeight+i.height}function bke(n,t,e){let i=s4(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class r1 extends Nh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Td(t,Number.POSITIVE_INFINITY),e=Td(e,Number.NEGATIVE_INFINITY),i=Td(i,Number.POSITIVE_INFINITY),r=Td(r,Number.NEGATIVE_INFINITY),{min:Td(t,i),max:Td(e,r),minDefined:to(t),maxDefined:to(e)}}getMinMax(t){let a,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const l=this.getMatchingVisibleMetas();for(let d=0,f=l.length;d<f;++d)a=l[d].controller.getMinMax(this,t),r||(e=Math.min(e,a.min)),s||(i=Math.max(i,a.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:Td(e,Td(i,e)),max:Td(i,Td(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pr(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function wSe(n,t,e){const{min:i,max:r}=n,s=tW(t,(r-i)/2),a=(l,d)=>e&&0===l?0:l+d;return{min:a(i,-Math.abs(s)),max:a(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=l<this.ticks.length;this._convertTicksToLabels(d?xq(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=function dke(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function hke(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=e.major.enabled?function pke(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],s=r.length,a=r[0],l=r[s-1],d=[];if(s>i)return function gke(n,t,e,i){let a,r=0,s=e[0];for(i=Math.ceil(i),a=0;a<n.length;a++)a===s&&(t.push(n[a]),r++,s=e[r*i])}(t,d,r,s/i),d;const f=function fke(n,t,e){const i=function mke(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function LEe(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let a=0,l=s.length-1;a<l;a++){const d=s[a];if(d>r)return d}return Math.max(r,1)}(r,t,i);if(s>0){let p,m;const w=s>1?Math.round((l-a)/(s-1)):null;for(nR(t,d,f,zi(w)?0:a-w,a),p=0,m=s-1;p<m;p++)nR(t,d,f,r[p],r[p+1]);return nR(t,d,f,l,zi(w)?t.length:l+w),d}return nR(t,d,f),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pr(this.options.afterUpdate,[this])}beforeSetDimensions(){Pr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pr(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pr(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Pr(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Pr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let l,d,f,a=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const p=this._getLabelSizes(),m=p.widest.width,w=p.highest.height,b=pa(this.chart.width-m,0,this.maxWidth);l=t.offset?this.maxWidth/i:b/(i-1),m+6>l&&(l=b/(i-(t.offset?.5:1)),d=this.maxHeight-JI(t.grid)-e.padding-bq(t.title,this.chart.options.font),f=Math.sqrt(m*m+w*w),a=a4(Math.min(Math.asin(pa((p.highest.height+6)/l,-1,1)),Math.asin(pa(d/f,-1,1))-Math.asin(pa(w/f,-1,1)))),a=Math.max(r,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){Pr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pr(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const d=bq(r,e.options.font);if(l?(t.width=this.maxWidth,t.height=JI(s)+d):(t.height=this.maxHeight,t.width=JI(s)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:m,highest:w}=this._getLabelSizes(),b=2*i.padding,T=Ph(this.labelRotation),E=Math.cos(T),M=Math.sin(T);l?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:M*m.width+E*w.height)+b):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:E*m.width+M*w.height)+b),this._calculatePadding(f,p,M,E)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:a},position:l}=this.options,d=0!==this.labelRotation,f="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,m=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,b=0;d?f?(w=r*t.width,b=i*e.height):(w=i*t.height,b=r*e.width):"start"===s?b=e.width:"end"===s?w=t.width:"inner"!==s&&(w=t.width/2,b=e.width/2),this.paddingLeft=Math.max((w-p+a)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-m+a)*this.width/(this.width-m),0)}else{let p=e.height/2,m=t.height/2;"start"===s?(p=0,m=t.height):"end"===s&&(p=e.height,m=0),this.paddingTop=p+a,this.paddingBottom=m+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pr(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)zi(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=xq(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],a=[];let f,p,m,w,b,T,E,M,N,V,U,l=0,d=0;for(f=0;f<e;++f){if(w=t[f].label,b=this._resolveTickFontOptions(f),i.font=T=b.string,E=r[T]=r[T]||{data:{},gc:[]},M=b.lineHeight,N=V=0,zi(w)||Fr(w)){if(Fr(w))for(p=0,m=w.length;p<m;++p)U=w[p],!zi(U)&&!Fr(U)&&(N=WO(i,E.data,E.gc,N,U),V+=M)}else N=WO(i,E.data,E.gc,N,w),V=M;s.push(N),a.push(V),l=Math.max(N,l),d=Math.max(V,d)}!function yke(n,t){lr(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(r,e);const q=s.indexOf(l),Q=a.indexOf(d),ue=K=>({width:s[K]||0,height:a[K]||0});return{first:ue(0),last:ue(e-1),widest:ue(q),highest:ue(Q),widths:s,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function UEe(n){return pa(n,-32768,32767)}(this._alignToPixels?Ky(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function xke(n,t,e){return d_(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function wke(n,t){return d_(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ph(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),a=t.autoSkipPadding||0,l=s?s.widest.width+a:0,d=s?s.highest.height+a:0;return this.isHorizontal()?d*i>l*r?l/i:d/r:d*r<l*i?d/i:l/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:a}=r,l=s.offset,d=this.isHorizontal(),p=this.ticks.length+(l?1:0),m=JI(s),w=[],b=s.setContext(this.getContext()),T=b.drawBorder?b.borderWidth:0,E=T/2,M=function(pt){return Ky(i,pt,T)};let N,V,U,q,Q,ue,K,he,de,Me,Fe,Te;if("top"===a)N=M(this.bottom),ue=this.bottom-m,he=N-E,Me=M(t.top)+E,Te=t.bottom;else if("bottom"===a)N=M(this.top),Me=t.top,Te=M(t.bottom)-E,ue=N+E,he=this.top+m;else if("left"===a)N=M(this.right),Q=this.right-m,K=N-E,de=M(t.left)+E,Fe=t.right;else if("right"===a)N=M(this.left),de=t.left,Fe=M(t.right)-E,Q=N+E,K=this.left+m;else if("x"===e){if("center"===a)N=M((t.top+t.bottom)/2+.5);else if(Ri(a)){const pt=Object.keys(a)[0];N=M(this.chart.scales[pt].getPixelForValue(a[pt]))}Me=t.top,Te=t.bottom,ue=N+E,he=ue+m}else if("y"===e){if("center"===a)N=M((t.left+t.right)/2);else if(Ri(a)){const pt=Object.keys(a)[0];N=M(this.chart.scales[pt].getPixelForValue(a[pt]))}Q=N-E,K=Q-m,de=t.left,Fe=t.right}const bt=ui(r.ticks.maxTicksLimit,p),qt=Math.max(1,Math.ceil(p/bt));for(V=0;V<p;V+=qt){const pt=s.setContext(this.getContext(V)),Xe=pt.lineWidth,gt=pt.color,Ft=s.borderDash||[],Ct=pt.borderDashOffset,cn=pt.tickWidth,mt=pt.tickColor,fe=pt.tickBorderDash||[],Be=pt.tickBorderDashOffset;U=vke(this,V,l),void 0!==U&&(q=Ky(i,U,Xe),d?Q=K=de=Fe=q:ue=he=Me=Te=q,w.push({tx1:Q,ty1:ue,tx2:K,ty2:he,x1:de,y1:Me,x2:Fe,y2:Te,width:Xe,color:gt,borderDash:Ft,borderDashOffset:Ct,tickWidth:cn,tickColor:mt,tickBorderDash:fe,tickBorderDashOffset:Be}))}return this._ticksLength=p,this._borderValue=N,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,a=this.isHorizontal(),l=this.ticks,{align:d,crossAlign:f,padding:p,mirror:m}=s,w=JI(i.grid),b=w+p,T=m?-p:b,E=-Ph(this.labelRotation),M=[];let N,V,U,q,Q,ue,K,he,de,Me,Fe,Te,bt="middle";if("top"===r)ue=this.bottom-T,K=this._getXAxisLabelAlignment();else if("bottom"===r)ue=this.top+T,K=this._getXAxisLabelAlignment();else if("left"===r){const pt=this._getYAxisLabelAlignment(w);K=pt.textAlign,Q=pt.x}else if("right"===r){const pt=this._getYAxisLabelAlignment(w);K=pt.textAlign,Q=pt.x}else if("x"===e){if("center"===r)ue=(t.top+t.bottom)/2+b;else if(Ri(r)){const pt=Object.keys(r)[0];ue=this.chart.scales[pt].getPixelForValue(r[pt])+b}K=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)Q=(t.left+t.right)/2-b;else if(Ri(r)){const pt=Object.keys(r)[0];Q=this.chart.scales[pt].getPixelForValue(r[pt])}K=this._getYAxisLabelAlignment(w).textAlign}"y"===e&&("start"===d?bt="top":"end"===d&&(bt="bottom"));const qt=this._getLabelSizes();for(N=0,V=l.length;N<V;++N){U=l[N],q=U.label;const pt=s.setContext(this.getContext(N));he=this.getPixelForTick(N)+s.labelOffset,de=this._resolveTickFontOptions(N),Me=de.lineHeight,Fe=Fr(q)?q.length:1;const Xe=Fe/2,gt=pt.color,Ft=pt.textStrokeColor,Ct=pt.textStrokeWidth;let mt,cn=K;if(a?(Q=he,"inner"===K&&(cn=N===V-1?this.options.reverse?"left":"right":0===N?this.options.reverse?"right":"left":"center"),Te="top"===r?"near"===f||0!==E?-Fe*Me+Me/2:"center"===f?-qt.highest.height/2-Xe*Me+Me:Me/2-qt.highest.height:"near"===f||0!==E?Me/2:"center"===f?qt.highest.height/2-Xe*Me:qt.highest.height-Fe*Me,m&&(Te*=-1)):(ue=he,Te=(1-Fe)*Me/2),pt.showLabelBackdrop){const fe=fl(pt.backdropPadding),Be=qt.heights[N],ge=qt.widths[N];let we=ue+Te-fe.top,lt=Q-fe.left;switch(bt){case"middle":we-=Be/2;break;case"bottom":we-=Be}switch(K){case"center":lt-=ge/2;break;case"right":lt-=ge}mt={left:lt,top:we,width:ge+fe.width,height:Be+fe.height,color:pt.backdropColor}}M.push({rotation:E,label:q,font:de,color:gt,strokeColor:Ft,strokeWidth:Ct,textOffset:Te,textAlign:cn,textBaseline:bt,translation:[Q,ue],backdrop:mt})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ph(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,l=t+s,d=this._getLabelSizes().widest.width;let f,p;return"left"===e?r?(p=this.right+s,"near"===i?f="left":"center"===i?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-l,"near"===i?f="right":"center"===i?(f="center",p-=d/2):(f="left",p=this.left)):"right"===e?r?(p=this.left+s,"near"===i?f="right":"center"===i?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+l,"near"===i?f="left":"center"===i?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:a}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,a),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,a;const l=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(s=0,a=r.length;s<a;++s){const d=r[s];e.drawOnChartArea&&l({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&l({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let d,f,p,m;this.isHorizontal()?(d=Ky(t,this.left,s)-s/2,f=Ky(t,this.right,a)+a/2,p=m=l):(p=Ky(t,this.top,s)-s/2,m=Ky(t,this.bottom,a)+a/2,d=f=l),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(d,p),e.lineTo(f,m),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&GO(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let a,l;for(a=0,l=s.length;a<l;++a){const d=s[a],f=d.font,p=d.label;d.backdrop&&(i.fillStyle=d.backdrop.color,i.fillRect(d.backdrop.left,d.backdrop.top,d.backdrop.width,d.backdrop.height)),Qy(i,p,0,d.textOffset,f,d)}r&&$O(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Lo(i.font),a=fl(i.padding),l=i.align;let d=s.lineHeight/2;"bottom"===e||"center"===e||Ri(e)?(d+=a.bottom,Fr(i.text)&&(d+=s.lineHeight*(i.text.length-1))):d+=a.top;const{titleX:f,titleY:p,maxWidth:m,rotation:w}=function Cke(n,t,e,i){const{top:r,left:s,bottom:a,right:l,chart:d}=n,{chartArea:f,scales:p}=d;let w,b,T,m=0;const E=a-r,M=l-s;if(n.isHorizontal()){if(b=hl(i,s,l),Ri(e)){const N=Object.keys(e)[0];T=p[N].getPixelForValue(e[N])+E-t}else T="center"===e?(f.bottom+f.top)/2+E-t:wq(n,e,t);w=l-s}else{if(Ri(e)){const N=Object.keys(e)[0];b=p[N].getPixelForValue(e[N])-M+t}else b="center"===e?(f.left+f.right)/2-M+t:wq(n,e,t);T=hl(i,a,r),m="left"===e?-Ls:Ls}return{titleX:b,titleY:T,maxWidth:w,rotation:m}}(this,d,e,l);Qy(t,i.text,0,0,s,{color:i.color,maxWidth:m,rotation:w,textAlign:bke(l,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=ui(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===r1.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,a;for(s=0,a=e.length;s<a;++s){const l=e[s];l[i]===this.id&&(!t||l.type===t)&&r.push(l)}return r}_resolveTickFontOptions(t){return Lo(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class iR{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function Ske(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function Tke(n,t,e){const i=OI(Object.create(null),[e?Fi.get(e):{},Fi.get(t),n.defaults]);Fi.set(t,i),n.defaultRoutes&&function Eke(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),a=t[e].split("."),l=a.pop(),d=a.join(".");Fi.route(s,r,d,l)})}(t,n.defaultRoutes),n.descriptors&&Fi.describe(t,n.descriptors)}(t,a,i),this.override&&Fi.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Fi[r]&&(delete Fi[r][i],this.override&&delete Yy[i])}}var zg=new class Ike{constructor(){this.controllers=new iR(jg,"datasets",!0),this.elements=new iR(Nh,"elements"),this.plugins=new iR(Object,"plugins"),this.scales=new iR(r1,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):lr(r,a=>{const l=i||this._getRegistryForType(a);this._exec(t,l,a)})})}_exec(t,e,i){const r=o4(t);Pr(i["before"+r],[],i),e[t](i),Pr(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}};class kke{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),a}_notify(t,e,i,r){r=r||{};for(const s of t){const a=s.plugin;if(!1===Pr(a[i],[e,r,s.options],a)&&r.cancelable)return!1}return!0}invalidate(){zi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=ui(i.options&&i.options.plugins,{}),s=function Dke(n){const t=[],e=Object.keys(zg.plugins.items);for(let r=0;r<e.length;r++)t.push(zg.getPlugin(e[r]));const i=n.plugins||[];for(let r=0;r<i.length;r++){const s=i[r];-1===t.indexOf(s)&&t.push(s)}return t}(i);return!1!==r||e?function Mke(n,t,e,i){const r=[],s=n.getContext();for(let a=0;a<t.length;a++){const l=t[a],f=Ake(e[l.id],i);null!==f&&r.push({plugin:l,options:Oke(n.config,l,f,s)})}return r}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,a)=>s.filter(l=>!a.some(d=>l.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Ake(n,t){return t||!1!==n?!0===n?{}:n:null}function Oke(n,t,e,i){const r=n.pluginScopeKeys(t),s=n.getOptionScopes(e,r);return n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A4(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(Fi.datasets[n]||{}).indexAxis||"x"}function M4(n,t){return"x"===n||"y"===n?n:t.axis||function Pke(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function Cq(n){const t=n.options||(n.options={});t.plugins=ui(t.plugins,{}),t.scales=function Nke(n,t){const e=Yy[n.type]||{scales:{}},i=t.scales||{},r=A4(n.type,t),s=Object.create(null),a=Object.create(null);return Object.keys(i).forEach(l=>{const d=i[l];if(!Ri(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=M4(l,d),p=function Fke(n,t){return n===t?"_index_":"_value_"}(f,r),m=e.scales||{};s[f]=s[f]||l,a[l]=RI(Object.create(null),[{axis:f},d,m[f],m[p]])}),n.data.datasets.forEach(l=>{const d=l.type||n.type,f=l.indexAxis||A4(d,t),m=(Yy[d]||{}).scales||{};Object.keys(m).forEach(w=>{const b=function Rke(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(w,f),T=l[b+"AxisID"]||s[b]||b;a[T]=a[T]||Object.create(null),RI(a[T],[{axis:b},i[T],m[w]])})}),Object.keys(a).forEach(l=>{const d=a[l];RI(d,[Fi.scales[d.type],Fi.scale])}),a}(n,t)}function Tq(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Eq=new Map,Sq=new Set;function rR(n,t){let e=Eq.get(n);return e||(e=t(),Eq.set(n,e),Sq.add(e)),e}const XI=(n,t,e)=>{const i=a_(t,e);void 0!==i&&n.add(i)};class Bke{constructor(t){this._config=function Lke(n){return(n=n||{}).data=Tq(n.data),Cq(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Tq(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Cq(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return rR(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return rR(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return rR(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return rR(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,a=this._cachedScopes(t,i),l=a.get(e);if(l)return l;const d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(m=>XI(d,t,m))),p.forEach(m=>XI(d,r,m)),p.forEach(m=>XI(d,Yy[s]||{},m)),p.forEach(m=>XI(d,Fi,m)),p.forEach(m=>XI(d,g4,m))});const f=Array.from(d);return 0===f.length&&f.push(Object.create(null)),Sq.has(e)&&a.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Yy[e]||{},Fi.datasets[e]||{},{type:e},Fi,g4]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=Iq(this._resolverCache,t,r);let d=a;(function Uke(n,t){const{isScriptable:e,isIndexable:i}=IW(n);for(const r of t){const s=e(r),a=i(r),l=(a||s)&&n[r];if(s&&(l_(l)||Vke(l))||a&&Fr(l))return!0}return!1})(a,e)&&(s.$shared=!1,d=Fb(a,i=l_(i)?i():i,this.createResolver(t,i,l)));for(const f of e)s[f]=d[f];return s}createResolver(t,e,i=[""],r){const{resolver:s}=Iq(this._resolverCache,t,i);return Ri(e)?Fb(s,e,void 0,r):s}}function Iq(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:y4(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const Vke=n=>Ri(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||l_(n[e]),!1),jke=["top","bottom","left","right","chartArea"];function kq(n,t){return"top"===n||"bottom"===n||-1===jke.indexOf(n)&&"x"===t}function Dq(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Aq(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Pr(e&&e.onComplete,[n],t)}function zke(n){const t=n.chart,e=t.options.animation;Pr(e&&e.onProgress,[n],t)}function Mq(n){return PW()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const sR={},Oq=n=>{const t=Mq(n);return Object.values(sR).filter(e=>e.canvas===t).pop()};function Zke(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const a=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=a)}}}class O4{constructor(t,e){const i=this.config=new Bke(e),r=Mq(t),s=Oq(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas can be reused.");const a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function cke(n){return!PW()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?KIe:lke}(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,a.aspectRatio),d=l&&l.canvas,f=d&&d.height,p=d&&d.width;this.id=kEe(),this.ctx=l,this.canvas=d,this.width=p,this.height=f,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kke,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function SEe(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(m=>this.update(m),a.resizeDelay||0),this._dataChanges=[],sR[this.id]=this,l&&d?(Hg.listen(this,"complete",Aq),Hg.listen(this,"progress",zke),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return zi(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NW(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bW(this.canvas,this.ctx),this}stop(){return Hg.stop(this),this}resize(t,e){Hg.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,NW(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Pr(i.onResize,[this,a],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){lr(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((a,l)=>(a[l]=!1,a),{});let s=[];e&&(s=s.concat(Object.keys(e).map(a=>{const l=e[a],d=M4(a,l),f="r"===d,p="x"===d;return{options:l,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),lr(s,a=>{const l=a.options,d=l.id,f=M4(d,l),p=ui(l.type,a.dtype);(void 0===l.position||kq(l.position,f)!==kq(a.dposition))&&(l.position=a.dposition),r[d]=!0;let m=null;d in i&&i[d].type===p?m=i[d]:(m=new(zg.getScale(p))({id:d,type:p,ctx:this.ctx,chart:this}),i[m.id]=m),m.init(l,t)}),lr(r,(a,l)=>{a||delete i[l]}),lr(i,a=>{pl.configure(this,a,a.options),pl.addBox(this,a)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Dq("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let a=this.getDatasetMeta(i);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=l,a.indexAxis=s.indexAxis||A4(l,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{const d=zg.getController(l),{datasetElementType:f,dataElementType:p}=Fi.datasets[l];Object.assign(d.prototype,{dataElementType:zg.getElement(p),datasetElementType:f&&zg.getElement(f)}),a.controller=new d(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){lr(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:m}=this.getDatasetMeta(f),w=!r&&-1===s.indexOf(m);m.buildOrUpdateElements(w),a=Math.max(+m.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),r||lr(s,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Dq("z","_idx"));const{_active:l,_lastEvent:d}=this;d?this._eventHandler(d,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){lr(this.scales,t=>{pl.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!rW(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)Zke(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!rW(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;pl.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],lr(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,l_(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Hg.has(this)?this.attached&&!Hg.running(this)&&Hg.start(this):(this.draw(),Aq({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const a=e[r];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=this.chartArea,a={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&GO(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&$O(e),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return jI(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=jIe.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=d_(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,r);Ed(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(l=>l.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Hg.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bW(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete sR[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,a)=>{e.addEventListener(this,s,a),t[s]=a},r=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};lr(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},r=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},s=(d,f)=>{this.canvas&&this.resize(d,f)};let a;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},e.isAttached(this.canvas)?l():a()}unbindEvents(){lr(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},lr(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,a,l,d;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,d=t.length;l<d;++l){a=t[l];const f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!LO(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(d,f)=>d.filter(p=>!f.some(m=>p.datasetIndex===m.datasetIndex&&p.index===m.index)),a=s(e,t),l=i?t:s(t,e);a.length&&this.updateHoverStyle(a,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,l=this._getActiveElements(t,r,i,e),d=function FEe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),f=function Wke(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,d);i&&(this._lastEvent=null,Pr(s.onHover,[t,l,this],this),d&&Pr(s.onClick,[t,l,this],this));const p=!LO(l,r);return(p||e)&&(this._active=l,this._updateHoverStyles(l,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}const Rq=()=>lr(O4.instances,n=>n._plugins.invalidate()),h_=!0;function Fq(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:a,outerRadius:l,innerRadius:d}=t;let f=r/l;n.beginPath(),n.arc(s,a,l,i-f,e+f),d>r?(f=r/d,n.arc(s,a,d,e+f,i-f,!0)):n.arc(s,a,r,e+Ls,i-Ls),n.closePath(),n.clip()}function Lb(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function R4(n,t,e,i,r){const{x:s,y:a,startAngle:l,pixelMargin:d,innerRadius:f}=t,p=Math.max(t.outerRadius+i+e-d,0),m=f>0?f+i+e+d:0;let w=0;const b=r-l;if(i){const Ft=((f>0?f-i:0)+(p>0?p-i:0))/2;w=(b-(0!==Ft?b*Ft/(Ft+i):b))/2}const E=(b-Math.max(.001,b*p-e/is)/p)/2,M=l+E+w,N=r-E-w,{outerStart:V,outerEnd:U,innerStart:q,innerEnd:Q}=function Gke(n,t,e,i){const r=function qke(n){return _4(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,a=Math.min(s,i*t/2),l=d=>{const f=(e-Math.min(s,d))*i/2;return pa(d,0,Math.min(s,f))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:pa(r.innerStart,0,a),innerEnd:pa(r.innerEnd,0,a)}}(t,m,p,N-M),ue=p-V,K=p-U,he=M+V/ue,de=N-U/K,Me=m+q,Fe=m+Q,Te=M+q/Me,bt=N-Q/Fe;if(n.beginPath(),n.arc(s,a,p,he,de),U>0){const Xe=Lb(K,de,s,a);n.arc(Xe.x,Xe.y,U,de,N+Ls)}const qt=Lb(Fe,N,s,a);if(n.lineTo(qt.x,qt.y),Q>0){const Xe=Lb(Fe,bt,s,a);n.arc(Xe.x,Xe.y,Q,N+Ls,bt+Math.PI)}if(n.arc(s,a,m,N-Q/m,M+q/m,!0),q>0){const Xe=Lb(Me,Te,s,a);n.arc(Xe.x,Xe.y,q,Te+Math.PI,M-Ls)}const pt=Lb(ue,M,s,a);if(n.lineTo(pt.x,pt.y),V>0){const Xe=Lb(ue,he,s,a);n.arc(Xe.x,Xe.y,V,M-Ls,he)}n.closePath()}Object.defineProperties(O4,{defaults:{enumerable:h_,value:Fi},instances:{enumerable:h_,value:sR},overrides:{enumerable:h_,value:Yy},registry:{enumerable:h_,value:zg},version:{enumerable:h_,value:"3.8.0"},getChart:{enumerable:h_,value:Oq},register:{enumerable:h_,value:(...n)=>{zg.add(...n),Rq()}},unregister:{enumerable:h_,value:(...n)=>{zg.remove(...n),Rq()}}});class oR extends Nh{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:a}=cW(r,{x:t,y:e}),{startAngle:l,endAngle:d,innerRadius:f,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),w=this.options.spacing/2,T=ui(m,d-l)>=br||LI(s,l,d),E=Bg(a,f+w,p+w);return T&&E}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:d,spacing:f}=this.options,p=(r+s)/2,m=(a+l+f+d)/2;return{x:e+Math.cos(p)*m,y:i+Math.sin(p)*m}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/2,s=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>br?Math.floor(i/br):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*a,Math.sin(d)*a),this.circumference>=is&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const l=function $ke(n,t,e,i){const{fullCircles:r,startAngle:s,circumference:a}=t;let l=t.endAngle;if(r){R4(n,t,e,i,s+br);for(let d=0;d<r;++d)n.fill();isNaN(a)||(l=s+a%br,a%br==0&&(l+=br))}return R4(n,t,e,i,l),n.fill(),l}(t,this,a,s);(function Kke(n,t,e,i,r){const{options:s}=t,{borderWidth:a,borderJoinStyle:l}=s,d="inner"===s.borderAlign;!a||(d?(n.lineWidth=2*a,n.lineJoin=l||"round"):(n.lineWidth=a,n.lineJoin=l||"bevel"),t.fullCircles&&function Yke(n,t,e){const{x:i,y:r,startAngle:s,pixelMargin:a,fullCircles:l}=t,d=Math.max(t.outerRadius-a,0),f=t.innerRadius+a;let p;for(e&&Fq(n,t,s+br),n.beginPath(),n.arc(i,r,f,s+br,s,!0),p=0;p<l;++p)n.stroke();for(n.beginPath(),n.arc(i,r,d,s,s+br),p=0;p<l;++p)n.stroke()}(n,t,d),d&&Fq(n,t,r),R4(n,t,e,i,r),n.stroke())})(t,this,a,s,l),t.restore()}}function Pq(n,t,e=t){n.lineCap=ui(e.borderCapStyle,t.borderCapStyle),n.setLineDash(ui(e.borderDash,t.borderDash)),n.lineDashOffset=ui(e.borderDashOffset,t.borderDashOffset),n.lineJoin=ui(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ui(e.borderWidth,t.borderWidth),n.strokeStyle=ui(e.borderColor,t.borderColor)}function Qke(n,t,e){n.lineTo(e.x,e.y)}function Nq(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:a,end:l}=t,d=Math.max(r,a),f=Math.min(s,l);return{count:i,start:d,loop:t.loop,ilen:f<d&&!(r<a&&s<a||r>l&&s>l)?i+f-d:f-d}}function Xke(n,t,e,i){const{points:r,options:s}=t,{count:a,start:l,loop:d,ilen:f}=Nq(r,e,i),p=function Jke(n){return n.stepped?hSe:n.tension||"monotone"===n.cubicInterpolationMode?fSe:Qke}(s);let b,T,E,{move:m=!0,reverse:w}=i||{};for(b=0;b<=f;++b)T=r[(l+(w?f-b:b))%a],!T.skip&&(m?(n.moveTo(T.x,T.y),m=!1):p(n,E,T,w,s.stepped),E=T);return d&&(T=r[(l+(w?f:0))%a],p(n,E,T,w,s.stepped)),!!d}function eDe(n,t,e,i){const r=t.points,{count:s,start:a,ilen:l}=Nq(r,e,i),{move:d=!0,reverse:f}=i||{};let w,b,T,E,M,N,p=0,m=0;const V=q=>(a+(f?l-q:q))%s,U=()=>{E!==M&&(n.lineTo(p,M),n.lineTo(p,E),n.lineTo(p,N))};for(d&&(b=r[V(0)],n.moveTo(b.x,b.y)),w=0;w<=l;++w){if(b=r[V(w)],b.skip)continue;const q=b.x,Q=b.y,ue=0|q;ue===T?(Q<E?E=Q:Q>M&&(M=Q),p=(m*p+q)/++m):(U(),n.lineTo(q,Q),T=ue,m=0,E=M=Q),N=Q}U()}function F4(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Xke:eDe}oR.id="arc",oR.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},oR.defaultRoutes={backgroundColor:"backgroundColor"};const rDe="function"==typeof Path2D;let aR=(()=>{class n extends Nh{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(VSe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function tIe(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:a,end:l}=function XSe(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function WW(n,t,e,i){return i&&i.setContext&&e?function nIe(n,t,e,i){const r=n._chart.getContext(),s=qW(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,d=e.length,f=[];let p=s,m=t[0].start,w=m;function b(T,E,M,N){const V=l?-1:1;if(T!==E){for(T+=d;e[T%d].skip;)T-=V;for(;e[E%d].skip;)E+=V;T%d!=E%d&&(f.push({start:T%d,end:E%d,loop:M,style:N}),p=N,m=E%d)}}for(const T of t){m=l?m:T.start;let M,E=e[m%d];for(w=m+1;w<=T.end;w++){const N=e[w%d];M=qW(i.setContext(d_(r,{type:"segment",p0:E,p1:N,p0DataIndex:(w-1)%d,p1DataIndex:w%d,datasetIndex:a}))),iIe(M,p)&&b(m,w-1,T.loop,p),E=N,p=M}m<w-1&&b(m,w-1,T.loop,p)}return f}(n,t,e,i):t}(n,!0===i?[{start:a,end:l,loop:s}]:function eIe(n,t,e,i){const r=n.length,s=[];let d,a=t,l=n[t];for(d=t+1;d<=e;++d){const f=n[d%r];f.skip||f.stop?l.skip||(s.push({start:t%r,end:(d-1)%r,loop:i=!1}),t=a=f.stop?d:null):(a=d,l.skip&&(t=d)),l=f}return null!==a&&s.push({start:t%r,end:a%r,loop:i}),s}(e,a,l<a?l+r:l,!!n._fullLoop&&0===a&&l===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,s=e[i],a=this.points,l=ZW(this,{property:i,start:s,end:s});if(!l.length)return;const d=[],f=function tDe(n){return n.stepped?GSe:n.tension||"monotone"===n.cubicInterpolationMode?$Se:t1}(r);let p,m;for(p=0,m=l.length;p<m;++p){const{start:w,end:b}=l[p],T=a[w],E=a[b];if(T===E){d.push(T);continue}const N=f(T,E,Math.abs((s-T[i])/(E[i]-T[i])),r.stepped);N[i]=e[i],d.push(N)}return 1===d.length?d[0]:d}pathSegment(e,i,r){return F4(this)(e,this,i,r)}path(e,i,r){const s=this.segments,a=F4(this);let l=this._loop;i=i||0,r=r||this.points.length-i;for(const d of s)l&=a(e,this,d,{start:i,end:i+r-1});return!!l}draw(e,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function sDe(n,t,e,i){rDe&&!t.options.segment?function nDe(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),Pq(n,t.options),n.stroke(r)}(n,t,e,i):function iDe(n,t,e,i){const{segments:r,options:s}=t,a=F4(t);for(const l of r)Pq(n,s,l.style),n.beginPath(),a(n,t,l,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function Lq(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}let oDe=(()=>{class n extends Nh{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return Lq(this,e,"x",i)}inYRange(e,i){return Lq(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!jI(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,qO(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function Bq(n,t){const{x:e,y:i,base:r,width:s,height:a}=n.getProps(["x","y","base","width","height"],t);let l,d,f,p,m;return n.horizontal?(m=a/2,l=Math.min(e,r),d=Math.max(e,r),f=i-m,p=i+m):(m=s/2,l=e-m,d=e+m,f=Math.min(i,r),p=Math.max(i,r)),{left:l,top:f,right:d,bottom:p}}function f_(n,t,e,i){return n?0:pa(t,e,i)}function P4(n,t,e,i){const r=null===t,s=null===e,l=n&&!(r&&s)&&Bq(n,i);return l&&(r||Bg(t,l.left,l.right))&&(s||Bg(e,l.top,l.bottom))}function dDe(n,t){n.rect(t.x,t.y,t.w,t.h)}function N4(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class lR extends Nh{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:a}=function cDe(n){const t=Bq(n),e=t.right-t.left,i=t.bottom-t.top,r=function aDe(n,t,e){const r=n.borderSkipped,s=CW(n.options.borderWidth);return{t:f_(r.top,s.top,0,e),r:f_(r.right,s.right,0,t),b:f_(r.bottom,s.bottom,0,e),l:f_(r.left,s.left,0,t)}}(n,e/2,i/2),s=function lDe(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=Jy(r),a=Math.min(t,e),l=n.borderSkipped,d=i||Ri(r);return{topLeft:f_(!d||l.top||l.left,s.topLeft,0,a),topRight:f_(!d||l.top||l.right,s.topRight,0,a),bottomLeft:f_(!d||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:f_(!d||l.bottom||l.right,s.bottomRight,0,a)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),l=function uDe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(a.radius)?zI:dDe;t.save(),(a.w!==s.w||a.h!==s.h)&&(t.beginPath(),l(t,N4(a,e,s)),t.clip(),l(t,N4(s,-e,a)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),l(t,N4(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return P4(this,t,e,i)}inXRange(t,e){return P4(this,t,null,e)}inYRange(t,e){return P4(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}lR.id="bar",lR.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},lR.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var hDe=Object.freeze({__proto__:null,ArcElement:oR,LineElement:aR,PointElement:oDe,BarElement:lR});function Vq(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function Uq(n){n.data.datasets.forEach(t=>{Vq(t)})}var mDe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void Uq(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:a,indexAxis:l}=r,d=n.getDatasetMeta(s),f=a||r.data;if("y"===ZI([l,n.options.indexAxis])||!d.controller.supportsDecimation)return;const p=n.scales[d.xAxisID];if("linear"!==p.type&&"time"!==p.type||n.options.parsing)return;let T,{start:m,count:w}=function gDe(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:a,max:l,minDefined:d,maxDefined:f}=s.getUserBounds();return d&&(i=pa(Ug(t,s.axis,a).lo,0,e-1)),r=f?pa(Ug(t,s.axis,l).hi+1,i,e)-i:e-i,{start:i,count:r}}(d,f);if(w<=(e.threshold||4*i))Vq(r);else{switch(zi(a)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}})),e.algorithm){case"lttb":T=function fDe(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const a=[],l=(e-2)/(s-2);let d=0;const f=t+e-1;let m,w,b,T,E,p=t;for(a[d++]=n[p],m=0;m<s-2;m++){let V,M=0,N=0;const U=Math.floor((m+1)*l)+1+t,q=Math.min(Math.floor((m+2)*l)+1,e)+t,Q=q-U;for(V=U;V<q;V++)M+=n[V].x,N+=n[V].y;M/=Q,N/=Q;const ue=Math.floor(m*l)+1+t,K=Math.min(Math.floor((m+1)*l)+1,e)+t,{x:he,y:de}=n[p];for(b=T=-1,V=ue;V<K;V++)T=.5*Math.abs((he-M)*(n[V].y-de)-(he-n[V].x)*(N-de)),T>b&&(b=T,w=n[V],E=V);a[d++]=w,p=E}return a[d++]=n[f],a}(f,m,w,i,e);break;case"min-max":T=function pDe(n,t,e,i){let a,l,d,f,p,m,w,b,T,E,r=0,s=0;const M=[],V=n[t].x,q=n[t+e-1].x-V;for(a=t;a<t+e;++a){l=n[a],d=(l.x-V)/q*i,f=l.y;const Q=0|d;if(Q===p)f<T?(T=f,m=a):f>E&&(E=f,w=a),r=(s*r+l.x)/++s;else{const ue=a-1;if(!zi(m)&&!zi(w)){const K=Math.min(m,w),he=Math.max(m,w);K!==b&&K!==ue&&M.push(_R(mR({},n[K]),{x:r})),he!==b&&he!==ue&&M.push(_R(mR({},n[he]),{x:r}))}a>0&&ue!==b&&M.push(n[ue]),M.push(l),p=Q,s=0,T=E=f,m=w=b=a}}return M}(f,m,w,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=T}})},destroy(n){Uq(n)}};function L4(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=bu(r),s=bu(s)),{property:n,start:r,end:s}}function B4(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Hq(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function jq(n,t){let e=[],i=!1;return Fr(n)?(i=!0,e=n):e=function vDe(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:a,end:l})=>{l=B4(a,l,r);const d=r[a],f=r[l];null!==i?(s.push({x:d.x,y:i}),s.push({x:f.x,y:i})):null!==e&&(s.push({x:e,y:d.y}),s.push({x:e,y:f.y}))}),s}(n,t),e.length?new aR({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function yDe(n,t,e){let r=n[t].fill;const s=[t];let a;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!to(r))return r;if(a=n[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function wDe(n,t,e){const i=function TDe(n){const t=n.options,e=t.fill;let i=ui(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(Ri(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return to(r)&&Math.floor(r)===r?function xDe(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function IDe(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:a,last:l,point:d}=kDe(s,t,"x");if(!(!d||a&&l))if(a)i.unshift(d);else if(n.push(d),!l)break}n.push(...i)}function kDe(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,a=n.points;let l=!1,d=!1;for(let f=0;f<s.length;f++){const p=s[f],m=a[p.start][e],w=a[p.end][e];if(Bg(r,m,w)){l=r===m,d=r===w;break}}return{first:l,last:d,point:i}}class zq{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:a}=this;return t.arc(r,s,a,(e=e||{start:0,end:br}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function V4(n,t,e){const i=function DDe(n){const{chart:t,fill:e,line:i}=n;if(to(e))return function ADe(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function EDe(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,a=i.points,l=function SDe(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);l.push(jq({x:null,y:t.bottom},i));for(let d=0;d<s.length;d++){const f=s[d];for(let p=f.start;p<=f.end;p++)IDe(r,a[p],l)}return new aR({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function MDe(n){return(n.scale||{}).getPointPositionForValue?function RDe(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,a=function CDe(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:Ri(n)?n.value:t.getBaseValue(),i}(e,t,s),l=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,s);return new zq({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(a)})}for(let d=0;d<r;++d)l.push(t.getPointPositionForValue(d,a));return l}(n):function ODe(n){const{scale:t={},fill:e}=n,i=function bDe(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:Ri(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(to(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof zq?r:jq(r,i)}(t),{line:r,scale:s,axis:a}=t,l=r.options,d=l.fill,f=l.backgroundColor,{above:p=f,below:m=f}=d||{};i&&r.points.length&&(GO(n,e),function FDe(n,t){const{line:e,target:i,above:r,below:s,area:a,scale:l}=t,d=e._loop?"angle":t.axis;n.save(),"x"===d&&s!==r&&(Zq(n,i,a.top),Wq(n,{line:e,target:i,color:r,scale:l,property:d}),n.restore(),n.save(),Zq(n,i,a.bottom)),Wq(n,{line:e,target:i,color:s,scale:l,property:d}),n.restore()}(n,{line:r,target:i,above:p,below:m,area:e,scale:s,axis:a}),$O(n))}function Zq(n,t,e){const{segments:i,points:r}=t;let s=!0,a=!1;n.beginPath();for(const l of i){const{start:d,end:f}=l,p=r[d],m=r[B4(d,f,r)];s?(n.moveTo(p.x,p.y),s=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),a=!!t.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(m.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function Wq(n,t){const{line:e,target:i,property:r,color:s,scale:a}=t,l=function _De(n,t,e){const i=n.segments,r=n.points,s=t.points,a=[];for(const l of i){let{start:d,end:f}=l;f=B4(d,f,r);const p=L4(e,r[d],r[f],l.loop);if(!t.segments){a.push({source:l,target:p,start:r[d],end:r[f]});continue}const m=ZW(t,p);for(const w of m){const b=L4(e,s[w.start],s[w.end],w.loop),T=zW(l,r,b);for(const E of T)a.push({source:E,target:w,start:{[e]:Hq(p,b,"start",Math.max)},end:{[e]:Hq(p,b,"end",Math.min)}})}}return a}(e,i,r);for(const{source:d,target:f,start:p,end:m}of l){const{style:{backgroundColor:w=s}={}}=d,b=!0!==i;n.save(),n.fillStyle=w,PDe(n,a,b&&L4(r,p,m)),n.beginPath();const T=!!e.pathSegment(n,d);let E;if(b){T?n.closePath():qq(n,i,m,r);const M=!!i.pathSegment(n,f,{move:T,reverse:!0});E=T&&M,E||qq(n,i,p,r)}n.closePath(),n.fill(E?"evenodd":"nonzero"),n.restore()}}function PDe(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:a,end:l}=e||{};"x"===s&&(n.beginPath(),n.rect(a,i,l-a,r-i),n.clip())}function qq(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var NDe={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,a,l,d;for(a=0;a<i;++a)s=n.getDatasetMeta(a),l=s.dataset,d=null,l&&l.options&&l instanceof aR&&(d={visible:n.isDatasetVisible(a),index:a,fill:wDe(l,a,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=d,r.push(d);for(a=0;a<i;++a)d=r[a],d&&!1!==d.fill&&(d.fill=yDe(r,a,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=r.length-1;a>=0;--a){const l=r[a].$filler;!l||(l.line.updateControlPoints(s,l.axis),i&&V4(n.ctx,l,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;s&&V4(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==e.drawTime||V4(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Gq=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class $q extends Nh{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Pr(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Lo(i.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:d}=Gq(i,s);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(a,s,l,d)+10):(p=this.maxHeight,f=this._fitCols(a,s,l,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+l;let m=t;s.textAlign="left",s.textBaseline="middle";let w=-1,b=-p;return this.legendItems.forEach((T,E)=>{const M=i+e/2+s.measureText(T.text).width;(0===E||f[f.length-1]+M+2*l>a)&&(m+=p,f[f.length-(E>0?0:1)]=0,b+=p,w++),d[E]={left:0,top:b,row:w,width:M,height:r},f[f.length-1]+=M+l}),m}_fitCols(t,e,i,r){const{ctx:s,maxHeight:a,options:{labels:{padding:l}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=a-t;let m=l,w=0,b=0,T=0,E=0;return this.legendItems.forEach((M,N)=>{const V=i+e/2+s.measureText(M.text).width;N>0&&b+r+2*l>p&&(m+=w+l,f.push({width:w,height:b}),T+=w+l,E++,w=b=0),d[N]={left:T,top:b,col:E,width:V,height:r},w=Math.max(w,V),b+=r+l}),m+=w,f.push({width:w,height:b}),m}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,a=Nb(s,this.left,this.width);if(this.isHorizontal()){let l=0,d=hl(i,this.left+r,this.right-this.lineWidths[l]);for(const f of e)l!==f.row&&(l=f.row,d=hl(i,this.left+r,this.right-this.lineWidths[l])),f.top+=this.top+t+r,f.left=a.leftForLtr(a.x(d),f.width),d+=f.width+r}else{let l=0,d=hl(i,this.top+t+r,this.bottom-this.columnSizes[l].height);for(const f of e)f.col!==l&&(l=f.col,d=hl(i,this.top+t+r,this.bottom-this.columnSizes[l].height)),f.top=d,f.left+=this.left+r,f.left=a.leftForLtr(a.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;GO(t,this),this._draw(),$O(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:a}=t,l=Fi.color,d=Nb(t.rtl,this.left,this.width),f=Lo(a.font),{color:p,padding:m}=a,w=f.size,b=w/2;let T;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:E,boxHeight:M,itemHeight:N}=Gq(a,w),q=this.isHorizontal(),Q=this._computeTitleHeight();T=q?{x:hl(s,this.left+m,this.right-i[0]),y:this.top+m+Q,line:0}:{x:this.left+m,y:hl(s,this.top+Q+m,this.bottom-e[0].height),line:0},VW(this.ctx,t.textDirection);const ue=N+m;this.legendItems.forEach((K,he)=>{r.strokeStyle=K.fontColor||p,r.fillStyle=K.fontColor||p;const de=r.measureText(K.text).width,Me=d.textAlign(K.textAlign||(K.textAlign=a.textAlign)),Fe=E+b+de;let Te=T.x,bt=T.y;d.setWidth(this.width),q?he>0&&Te+Fe+m>this.right&&(bt=T.y+=ue,T.line++,Te=T.x=hl(s,this.left+m,this.right-i[T.line])):he>0&&bt+ue>this.bottom&&(Te=T.x=Te+e[T.line].width+m,T.line++,bt=T.y=hl(s,this.top+Q+m,this.bottom-e[T.line].height)),function(K,he,de){if(isNaN(E)||E<=0||isNaN(M)||M<0)return;r.save();const Me=ui(de.lineWidth,1);if(r.fillStyle=ui(de.fillStyle,l),r.lineCap=ui(de.lineCap,"butt"),r.lineDashOffset=ui(de.lineDashOffset,0),r.lineJoin=ui(de.lineJoin,"miter"),r.lineWidth=Me,r.strokeStyle=ui(de.strokeStyle,l),r.setLineDash(ui(de.lineDash,[])),a.usePointStyle){const Fe={radius:E*Math.SQRT2/2,pointStyle:de.pointStyle,rotation:de.rotation,borderWidth:Me},Te=d.xPlus(K,E/2);qO(r,Fe,Te,he+b)}else{const Fe=he+Math.max((w-M)/2,0),Te=d.leftForLtr(K,E),bt=Jy(de.borderRadius);r.beginPath(),Object.values(bt).some(qt=>0!==qt)?zI(r,{x:Te,y:Fe,w:E,h:M,radius:bt}):r.rect(Te,Fe,E,M),r.fill(),0!==Me&&r.stroke()}r.restore()}(d.x(Te),bt,K),Te=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(Me,Te+E+b,q?Te+Fe:this.right,t.rtl),function(K,he,de){Qy(r,de.text,K,he+N/2,f,{strikethrough:de.hidden,textAlign:d.textAlign(de.textAlign)})}(d.x(Te),bt,K),q?T.x+=Fe+m:T.y+=ue}),UW(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Lo(e.font),r=fl(e.padding);if(!e.display)return;const s=Nb(t.rtl,this.left,this.width),a=this.ctx,l=e.position,f=r.top+i.size/2;let p,m=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),p=this.top+f,m=hl(t.align,m,this.right-w);else{const T=this.columnSizes.reduce((E,M)=>Math.max(E,M.height),0);p=f+hl(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const b=hl(l,m,m+w);a.textAlign=s.textAlign(s4(l)),a.textBaseline="middle",a.strokeStyle=e.color,a.fillStyle=e.color,a.font=i.string,Qy(a,e.text,b,p,i)}_computeTitleHeight(){const t=this.options.title,e=Lo(t.font),i=fl(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Bg(t,this.left,this.right)&&Bg(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Bg(t,r.left,r.left+r.width)&&Bg(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function BDe(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&Pr(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Pr(e.onHover,[t,i,this],this)}else i&&Pr(e.onClick,[t,i,this],this)}}var VDe={id:"legend",_element:$q,start(n,t,e){const i=n.legend=new $q({ctx:n.ctx,options:e,chart:n});pl.configure(n,i,e),pl.addBox(n,i)},stop(n){pl.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;pl.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(a=>{const l=a.controller.getStyle(e?0:void 0),d=fl(l.borderWidth);return{text:t[a.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!a.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class U4 extends Nh{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Fr(i.text)?i.text.length:1;this._padding=fl(i.padding);const s=r*Lo(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:a}=this,l=a.align;let f,p,m,d=0;return this.isHorizontal()?(p=hl(l,i,s),m=e+t,f=s-i):("left"===a.position?(p=i+t,m=hl(l,r,e),d=-.5*is):(p=s-t,m=hl(l,e,r),d=.5*is),f=r-e),{titleX:p,titleY:m,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Lo(e.font),s=i.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:d,rotation:f}=this._drawArgs(s);Qy(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:s4(e.align),textBaseline:"middle",translation:[a,l]})}}var HDe={id:"title",_element:U4,start(n,t,e){!function UDe(n,t){const e=new U4({ctx:n.ctx,options:t,chart:n});pl.configure(n,e,t),pl.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){pl.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;pl.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cR=new WeakMap;var jDe={id:"subtitle",start(n,t,e){const i=new U4({ctx:n.ctx,options:e,chart:n});pl.configure(n,i,e),pl.addBox(n,i),cR.set(n,i)},stop(n){pl.removeBox(n,cR.get(n)),cR.delete(n)},beforeUpdate(n,t,e){const i=cR.get(n);pl.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ek={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const a=n[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i+=l.x,r+=l.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,a,l,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,a=n.length;s<a;++s){const d=n[s].element;if(d&&d.hasValue()){const p=l4(t,d.getCenterPoint());p<r&&(r=p,l=d)}}if(l){const d=l.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function cp(n,t){return t&&(Fr(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Zg(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function zDe(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:a,value:l}=s.getLabelAndValue(r);return{chart:n,label:a,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function Yq(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:a,boxHeight:l}=t,d=Lo(t.bodyFont),f=Lo(t.titleFont),p=Lo(t.footerFont),m=s.length,w=r.length,b=i.length,T=fl(t.padding);let E=T.height,M=0,N=i.reduce((q,Q)=>q+Q.before.length+Q.lines.length+Q.after.length,0);N+=n.beforeBody.length+n.afterBody.length,m&&(E+=m*f.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),N&&(E+=b*(t.displayColors?Math.max(l,d.lineHeight):d.lineHeight)+(N-b)*d.lineHeight+(N-1)*t.bodySpacing),w&&(E+=t.footerMarginTop+w*p.lineHeight+(w-1)*t.footerSpacing);let V=0;const U=function(q){M=Math.max(M,e.measureText(q).width+V)};return e.save(),e.font=f.string,lr(n.title,U),e.font=d.string,lr(n.beforeBody.concat(n.afterBody),U),V=t.displayColors?a+2+t.boxPadding:0,lr(i,q=>{lr(q.before,U),lr(q.lines,U),lr(q.after,U)}),V=0,e.font=p.string,lr(n.footer,U),e.restore(),M+=T.width,{width:M,height:E}}function qDe(n,t,e,i){const{x:r,width:s}=e,{width:a,chartArea:{left:l,right:d}}=n;let f="center";return"center"===i?f=r<=(l+d)/2?"left":"right":r<=s/2?f="left":r>=a-s/2&&(f="right"),function WDe(n,t,e,i){const{x:r,width:s}=i,a=e.caretSize+e.caretPadding;if("left"===n&&r+s+a>t.width||"right"===n&&r-s-a<0)return!0}(f,n,t,e)&&(f="center"),f}function Kq(n,t,e){const i=e.yAlign||t.yAlign||function ZDe(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||qDe(n,t,e,i),yAlign:i}}function Qq(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:d}=e,f=r+s,{topLeft:p,topRight:m,bottomLeft:w,bottomRight:b}=Jy(a);let T=function GDe(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,l);const E=function $De(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,d,f);return"center"===d?"left"===l?T+=f:"right"===l&&(T-=f):"left"===l?T-=Math.max(p,w)+r:"right"===l&&(T+=Math.max(m,b)+r),{x:pa(T,0,i.width-t.width),y:pa(E,0,i.height-t.height)}}function uR(n,t,e){const i=fl(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function Jq(n){return cp([],Zg(n))}function Xq(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let eG=(()=>{class n extends Nh{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,a=new $W(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=function YDe(n,t,e){return d_(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,s=r.beforeTitle.apply(this,[e]),a=r.title.apply(this,[e]),l=r.afterTitle.apply(this,[e]);let d=[];return d=cp(d,Zg(s)),d=cp(d,Zg(a)),d=cp(d,Zg(l)),d}getBeforeBody(e,i){return Jq(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:r}=i,s=[];return lr(e,a=>{const l={before:[],lines:[],after:[]},d=Xq(r,a);cp(l.before,Zg(d.beforeLabel.call(this,a))),cp(l.lines,d.label.call(this,a)),cp(l.after,Zg(d.afterLabel.call(this,a))),s.push(l)}),s}getAfterBody(e,i){return Jq(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:r}=i,s=r.beforeFooter.apply(this,[e]),a=r.footer.apply(this,[e]),l=r.afterFooter.apply(this,[e]);let d=[];return d=cp(d,Zg(s)),d=cp(d,Zg(a)),d=cp(d,Zg(l)),d}_createItems(e){const i=this._active,r=this.chart.data,s=[],a=[],l=[];let f,p,d=[];for(f=0,p=i.length;f<p;++f)d.push(zDe(this.chart,i[f]));return e.filter&&(d=d.filter((m,w,b)=>e.filter(m,w,b,r))),e.itemSort&&(d=d.sort((m,w)=>e.itemSort(m,w,r))),lr(d,m=>{const w=Xq(e.callbacks,m);s.push(w.labelColor.call(this,m)),a.push(w.labelPointStyle.call(this,m)),l.push(w.labelTextColor.call(this,m))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=d,d}update(e,i){const r=this.options.setContext(this.getContext()),s=this._active;let a,l=[];if(s.length){const d=ek[r.position].call(this,s,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const f=this._size=Yq(this,r),p=Object.assign({},d,f),m=Kq(this.chart,r,p),w=Qq(r,p,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:w.x,y:w.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,s){const a=this.getCaretPosition(e,r,s);i.lineTo(a.x1,a.y1),i.lineTo(a.x2,a.y2),i.lineTo(a.x3,a.y3)}getCaretPosition(e,i,r){const{xAlign:s,yAlign:a}=this,{caretSize:l,cornerRadius:d}=r,{topLeft:f,topRight:p,bottomLeft:m,bottomRight:w}=Jy(d),{x:b,y:T}=e,{width:E,height:M}=i;let N,V,U,q,Q,ue;return"center"===a?(Q=T+M/2,"left"===s?(N=b,V=N-l,q=Q+l,ue=Q-l):(N=b+E,V=N+l,q=Q-l,ue=Q+l),U=N):(V="left"===s?b+Math.max(f,m)+l:"right"===s?b+E-Math.max(p,w)-l:this.caretX,"top"===a?(q=T,Q=q-l,N=V-l,U=V+l):(q=T+M,Q=q+l,N=V+l,U=V-l),ue=q),{x1:N,x2:V,x3:U,y1:q,y2:Q,y3:ue}}drawTitle(e,i,r){const s=this.title,a=s.length;let l,d,f;if(a){const p=Nb(r.rtl,this.x,this.width);for(e.x=uR(this,r.titleAlign,r),i.textAlign=p.textAlign(r.titleAlign),i.textBaseline="middle",l=Lo(r.titleFont),d=r.titleSpacing,i.fillStyle=r.titleColor,i.font=l.string,f=0;f<a;++f)i.fillText(s[f],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+d,f+1===a&&(e.y+=r.titleMarginBottom-d)}}_drawColorBox(e,i,r,s,a){const l=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:f,boxWidth:p,boxPadding:m}=a,w=Lo(a.bodyFont),b=uR(this,"left",a),T=s.x(b),M=i.y+(f<w.lineHeight?(w.lineHeight-f)/2:0);if(a.usePointStyle){const N={radius:Math.min(p,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},V=s.leftForLtr(T,p)+p/2,U=M+f/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,qO(e,N,V,U),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,qO(e,N,V,U)}else{e.lineWidth=l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const N=s.leftForLtr(T,p-m),V=s.leftForLtr(s.xPlus(T,1),p-m-2),U=Jy(l.borderRadius);Object.values(U).some(q=>0!==q)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,zI(e,{x:N,y:M,w:p,h:f,radius:U}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),zI(e,{x:V,y:M+1,w:p-2,h:f-2,radius:U}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(N,M,p,f),e.strokeRect(N,M,p,f),e.fillStyle=l.backgroundColor,e.fillRect(V,M+1,p-2,f-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:s}=this,{bodySpacing:a,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:p,boxPadding:m}=r,w=Lo(r.bodyFont);let b=w.lineHeight,T=0;const E=Nb(r.rtl,this.x,this.width),M=function(de){i.fillText(de,E.x(e.x+T),e.y+b/2),e.y+=b+a},N=E.textAlign(l);let V,U,q,Q,ue,K,he;for(i.textAlign=l,i.textBaseline="middle",i.font=w.string,e.x=uR(this,N,r),i.fillStyle=r.bodyColor,lr(this.beforeBody,M),T=d&&"right"!==N?"center"===l?p/2+m:p+2+m:0,Q=0,K=s.length;Q<K;++Q){for(V=s[Q],U=this.labelTextColors[Q],i.fillStyle=U,lr(V.before,M),q=V.lines,d&&q.length&&(this._drawColorBox(i,e,Q,E,r),b=Math.max(w.lineHeight,f)),ue=0,he=q.length;ue<he;++ue)M(q[ue]),b=w.lineHeight;lr(V.after,M)}T=0,b=w.lineHeight,lr(this.afterBody,M),e.y-=a}drawFooter(e,i,r){const s=this.footer,a=s.length;let l,d;if(a){const f=Nb(r.rtl,this.x,this.width);for(e.x=uR(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=f.textAlign(r.footerAlign),i.textBaseline="middle",l=Lo(r.footerFont),i.fillStyle=r.footerColor,i.font=l.string,d=0;d<a;++d)i.fillText(s[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,i,r,s){const{xAlign:a,yAlign:l}=this,{x:d,y:f}=e,{width:p,height:m}=r,{topLeft:w,topRight:b,bottomLeft:T,bottomRight:E}=Jy(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(d+w,f),"top"===l&&this.drawCaret(e,i,r,s),i.lineTo(d+p-b,f),i.quadraticCurveTo(d+p,f,d+p,f+b),"center"===l&&"right"===a&&this.drawCaret(e,i,r,s),i.lineTo(d+p,f+m-E),i.quadraticCurveTo(d+p,f+m,d+p-E,f+m),"bottom"===l&&this.drawCaret(e,i,r,s),i.lineTo(d+T,f+m),i.quadraticCurveTo(d,f+m,d,f+m-T),"center"===l&&"left"===a&&this.drawCaret(e,i,r,s),i.lineTo(d,f+w),i.quadraticCurveTo(d,f,d+w,f),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const l=ek[e.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=Yq(this,e),f=Object.assign({},l,this._size),p=Kq(i,e,f),m=Qq(e,f,p,i);(s._to!==m.x||a._to!==m.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=fl(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,i),VW(e,i.textDirection),a.y+=l.top,this.drawTitle(a,e,i),this.drawBody(a,e,i),this.drawFooter(a,e,i),UW(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,s=e.map(({datasetIndex:d,index:f})=>{const p=this.chart.getDatasetMeta(d);if(!p)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:p.data[f],index:f}}),a=!LO(r,s),l=this._positionChanged(s,i);(a||l)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],l=this._getActiveElements(e,a,i,r),d=this._positionChanged(l,e),f=i||!LO(l,a)||d;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),f}_getActiveElements(e,i,r,s){const a=this.options;if("mouseout"===e.type)return[];if(!s)return i;const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,i){const{caretX:r,caretY:s,options:a}=this,l=ek[a.position].call(this,e,i);return!1!==l&&(r!==l.x||s!==l.y)}}return n.positioners=ek,n})();var KDe={id:"tooltip",_element:eG,positioners:ek,afterInit(n,t,e){e&&(n.tooltip=new eG({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",e))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Lg,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Lg,beforeBody:Lg,beforeLabel:Lg,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return zi(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Lg,afterBody:Lg,beforeFooter:Lg,footer:Lg,afterFooter:Lg}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},QDe=Object.freeze({__proto__:null,Decimation:mDe,Filler:NDe,Legend:VDe,SubTitle:jDe,Title:HDe,Tooltip:KDe});class dR extends r1{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(zi(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:pa(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function XDe(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,ui(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=e;a++)r.push({value:a});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function tG(n,t,{horizontal:e,minRotation:i}){const r=Ph(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}dR.id="category",dR.defaults={ticks:{callback:dR.prototype.getLabelForValue}};class hR extends r1{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return zi(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const a=d=>r=e?r:d,l=d=>s=i?s:d;if(t){const d=lp(r),f=lp(s);d<0&&f<0?l(0):d>0&&f>0&&a(0)}if(r===s){let d=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(d=Math.abs(.05*s)),l(s+d),t||a(r-d)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a=function t2e(n,t){const e=[],{bounds:r,step:s,min:a,max:l,precision:d,count:f,maxTicks:p,maxDigits:m,includeBounds:w}=n,b=s||1,T=p-1,{min:E,max:M}=t,N=!zi(a),V=!zi(l),U=!zi(f),q=(M-E)/(m+1);let ue,K,he,de,Q=oW((M-E)/T/b)*b;if(Q<1e-14&&!N&&!V)return[{value:E},{value:M}];de=Math.ceil(M/Q)-Math.floor(E/Q),de>T&&(Q=oW(de*Q/T/b)*b),zi(d)||(ue=Math.pow(10,d),Q=Math.ceil(Q*ue)/ue),"ticks"===r?(K=Math.floor(E/Q)*Q,he=Math.ceil(M/Q)*Q):(K=E,he=M),N&&V&&s&&function BEe(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((l-a)/s,Q/1e3)?(de=Math.round(Math.min((l-a)/Q,p)),Q=(l-a)/de,K=a,he=l):U?(K=N?a:K,he=V?l:he,de=f-1,Q=(he-K)/de):(de=(he-K)/Q,de=NI(de,Math.round(de),Q/1e3)?Math.round(de):Math.ceil(de));const Me=Math.max(lW(Q),lW(K));ue=Math.pow(10,zi(d)?Me:d),K=Math.round(K*ue)/ue,he=Math.round(he*ue)/ue;let Fe=0;for(N&&(w&&K!==a?(e.push({value:a}),K<a&&Fe++,NI(Math.round((K+Fe*Q)*ue)/ue,a,tG(a,q,n))&&Fe++):K<a&&Fe++);Fe<de;++Fe)e.push({value:Math.round((K+Fe*Q)*ue)/ue});return V&&w&&he!==l?e.length&&NI(e[e.length-1].value,l,tG(l,q,n))?e[e.length-1].value=l:e.push({value:l}):(!V||he===l)&&e.push({value:he}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&aW(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return WI(t,this.chart.options.locale,this.options.ticks.format)}}class H4 extends hR{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=to(t)?t:0,this.max=to(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ph(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function nG(n){return n/Math.pow(10,Math.floor(Sd(n)))==1}H4.id="linear",H4.defaults={ticks:{callback:tR.formatters.numeric}};class j4 extends r1{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=hR.prototype.parse.apply(this,[t,e]);if(0!==i)return to(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=to(t)?Math.max(0,t):null,this.max=to(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=d=>i=t?i:d,a=d=>r=e?r:d,l=(d,f)=>Math.pow(10,Math.floor(Sd(d))+f);i===r&&(i<=0?(s(1),a(10)):(s(l(i,-1)),a(l(r,1)))),i<=0&&s(l(r,-1)),r<=0&&a(l(i,1)),this._zero&&this.min!==this._suggestedMin&&i===l(this.min,0)&&s(l(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function n2e(n,t){const e=Math.floor(Sd(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let s=Td(n.min,Math.pow(10,Math.floor(Sd(t.min)))),a=Math.floor(Sd(s)),l=Math.floor(s/Math.pow(10,a)),d=a<0?Math.pow(10,Math.abs(a)):1;do{r.push({value:s,major:nG(s)}),++l,10===l&&(l=1,++a,d=a>=0?1:d),s=Math.round(l*Math.pow(10,a)*d)/d}while(a<e||a===e&&l<i);const f=Td(n.max,s);return r.push({value:f,major:nG(s)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&aW(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":WI(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Sd(t),this._valueRange=Sd(this.max)-Sd(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Sd(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function z4(n){const t=n.ticks;if(t.display&&n.display){const e=fl(t.backdropPadding);return ui(t.font&&t.font.size,Fi.font.size)+e.height}return 0}function i2e(n,t,e){return e=Fr(e)?e:[e],{w:dSe(n,t.string,e),h:e.length*t.lineHeight}}function iG(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function s2e(n,t,e,i,r){const s=Math.abs(Math.sin(e)),a=Math.abs(Math.cos(e));let l=0,d=0;i.start<t.l?(l=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-l)):i.end>t.r&&(l=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+l)),r.start<t.t?(d=(t.t-r.start)/a,n.t=Math.min(n.t,t.t-d)):r.end>t.b&&(d=(r.end-t.b)/a,n.b=Math.max(n.b,t.b+d))}function a2e(n){return 0===n||180===n?"center":n<180?"left":"right"}function l2e(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function c2e(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function rG(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,br);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let a=1;a<i;a++)s=n.getPointPosition(a,t),r.lineTo(s.x,s.y)}}j4.id="logarithmic",j4.defaults={ticks:{callback:tR.formatters.logarithmic,major:{enabled:!0}}};class tk extends hR{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=fl(z4(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=to(t)&&!isNaN(t)?t:0,this.max=to(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/z4(this.options))}generateTickLabels(t){hR.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Pr(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function r2e(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?is/s:0;for(let d=0;d<s;d++){const f=a.setContext(n.getPointLabelContext(d));r[d]=f.padding;const p=n.getPointPosition(d,n.drawingArea+r[d],l),m=Lo(f.font),w=i2e(n.ctx,m,n._pointLabels[d]);i[d]=w;const b=bu(n.getIndexAngle(d)+l),T=Math.round(a4(b));s2e(e,t,b,iG(T,p.x,w.w,0,180),iG(T,p.y,w.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function o2e(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,a=z4(s)/2,l=n.drawingArea,d=s.pointLabels.centerPointLabels?is/r:0;for(let f=0;f<r;f++){const p=n.getPointPosition(f,l+a+e[f],d),m=Math.round(a4(bu(p.angle+Ls))),w=t[f],b=c2e(p.y,w.h,m),T=a2e(m),E=l2e(p.x,w.w,T);i.push({x:p.x,y:b,textAlign:T,left:E,top:b,right:E+w.w,bottom:b+w.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return bu(t*(br/(this._pointLabels.length||1))+Ph(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(zi(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(zi(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function h2e(n,t,e){return d_(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Ls+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),rG(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r}=e,s=this._pointLabels.length;let a,l,d;if(e.pointLabels.display&&function u2e(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),a=Lo(s.font),{x:l,y:d,textAlign:f,left:p,top:m,right:w,bottom:b}=n._pointLabelItems[r],{backdropColor:T}=s;if(!zi(T)){const E=Jy(s.borderRadius),M=fl(s.backdropPadding);e.fillStyle=T;const N=p-M.left,V=m-M.top,U=w-p+M.width,q=b-m+M.height;Object.values(E).some(Q=>0!==Q)?(e.beginPath(),zI(e,{x:N,y:V,w:U,h:q,radius:E}),e.fill()):e.fillRect(N,V,U,q)}Qy(e,n._pointLabels[r],l,d+a.lineHeight/2,a,{color:s.color,textAlign:f,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((f,p)=>{0!==p&&(l=this.getDistanceFromCenterForValue(f.value),function d2e(n,t,e,i){const r=n.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!i||!a||!l||e<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),rG(n,e,s,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(p-1)),l,s))}),i.display){for(t.save(),a=s-1;a>=0;a--){const f=i.setContext(this.getPointLabelContext(a)),{color:p,lineWidth:m}=f;!m||!p||(t.lineWidth=m,t.strokeStyle=p,t.setLineDash(f.borderDash),t.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),d=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,a;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,d)=>{if(0===d&&!e.reverse)return;const f=i.setContext(this.getContext(d)),p=Lo(f.font);if(s=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){t.font=p.string,a=t.measureText(l.label).width,t.fillStyle=f.backdropColor;const m=fl(f.backdropPadding);t.fillRect(-a/2-m.left,-s-p.size/2-m.top,a+m.width,p.size+m.height)}Qy(t,l.label,0,-s,p,{color:f.color})}),t.restore()}drawTitle(){}}tk.id="radialLinear",tk.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tR.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},tk.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},tk.descriptors={angleLines:{_fallback:"grid"}};const fR={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mc=Object.keys(fR);function f2e(n,t){return n-t}function sG(n,t){if(zi(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let a=t;return"function"==typeof i&&(a=i(a)),to(a)||(a="string"==typeof i?e.parse(a,i):e.parse(a)),null===a?null:(r&&(a="week"!==r||!PI(s)&&!0!==s?e.startOf(a,r):e.startOf(a,"isoWeek",s)),+a)}function oG(n,t,e,i){const r=Mc.length;for(let s=Mc.indexOf(n);s<r-1;++s){const a=fR[Mc[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((e-t)/(l*a.size))<=i)return Mc[s]}return Mc[r-1]}function aG(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=v4(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function lG(n,t,e){const i=[],r={},s=t.length;let a,l;for(a=0;a<s;++a)l=t[a],r[l]=a,i.push({value:l,major:!1});return 0!==s&&e?function m2e(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),a=t[t.length-1].value;let l,d;for(l=s;l<=a;l=+r.add(l,1,i))d=e[l],d>=0&&(t[d].major=!0);return t}(n,i,r,e):i}let Z4=(()=>{class n extends r1{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const r=e.time||(e.time={}),s=this._adapter=new LIe._date(e.adapters.date);RI(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:sG(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:l,maxDefined:d}=this.getUserBounds();function f(p){!l&&!isNaN(p.min)&&(s=Math.min(s,p.min)),!d&&!isNaN(p.max)&&(a=Math.max(a,p.max))}(!l||!d)&&(f(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&f(this.getMinMax(!1))),s=to(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),a=to(a)&&!isNaN(a)?a:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,d=function bSe(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,a,this.max);return this._unit=i.unit||(r.autoSkip?oG(i.minUnit,this.min,this.max,this._getLabelCapacity(a)):function p2e(n,t,e,i,r){for(let s=Mc.length-1;s>=Mc.indexOf(e);s--){const a=Mc[s];if(fR[a].common&&n._adapter.diff(r,i,a)>=t-1)return a}return Mc[e?Mc.indexOf(e):0]}(this,d.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function g2e(n){for(let t=Mc.indexOf(n)+1,e=Mc.length;t<e;++t)if(fR[Mc[t]].common)return Mc[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&d.reverse(),lG(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let s,a,i=0,r=0;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),i=1===e.length?1-s:(this.getDecimalForValue(e[1])-s)/2,a=this.getDecimalForValue(e[e.length-1]),r=1===e.length?a:(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;i=pa(i,0,l),r=pa(r,0,l),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,s=this.options,a=s.time,l=a.unit||oG(a.minUnit,i,r,this._getLabelCapacity(i)),d=ui(a.stepSize,1),f="week"===l&&a.isoWeekday,p=PI(f)||!0===f,m={};let b,T,w=i;if(p&&(w=+e.startOf(w,"isoWeek",f)),w=+e.startOf(w,p?"day":l),e.diff(r,i,l)>1e5*d)throw new Error(i+" and "+r+" are too far apart with stepSize of "+d+" "+l);const E="data"===s.ticks.source&&this.getDataTimestamps();for(b=w,T=0;b<r;b=+e.add(b,d,l),T++)aG(m,b,E);return(b===r||"ticks"===s.bounds||1===T)&&aG(m,b,E),Object.keys(m).sort((M,N)=>M-N).map(M=>+M)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,i,r,s){const a=this.options,l=a.time.displayFormats,d=this._unit,f=this._majorUnit,m=f&&l[f],w=r[i],T=this._adapter.format(e,s||(f&&m&&w&&w.major?m:d&&l[d])),E=a.ticks.callback;return E?Pr(E,[T,i,r],this):T}generateTickLabels(e){let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,s=Ph(this.isHorizontal()?i.maxRotation:i.minRotation),a=Math.cos(s),l=Math.sin(s),d=this._resolveTickFontOptions(0).size;return{w:r*a+d*l,h:r*l+d*a}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,a=this._tickFormatFunction(e,0,lG(this,[e],this._majorUnit),s),l=this._getLabelSize(a),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)e.push(sG(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return SW(e.sort(f2e))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function pR(n,t,e){let s,a,l,d,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ug(n,"pos",t)),({pos:s,time:l}=n[i]),({pos:a,time:d}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ug(n,"time",t)),({time:s,pos:l}=n[i]),({time:a,pos:d}=n[r]));const f=a-s;return f?l+(d-l)*(t-s)/f:l}class W4 extends Z4{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pR(e,this.min),this._tableRange=pR(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let a,l,d,f,p;for(a=0,l=t.length;a<l;++a)f=t[a],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,l=r.length;a<l;++a)p=r[a+1],d=r[a-1],f=r[a],Math.round((p+d)/2)!==f&&s.push({time:f,pos:a/(l-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(pR(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return pR(this._table,i*this._tableRange+this._minPos,!0)}}W4.id="timeseries",W4.defaults=Z4.defaults,O4.register(NIe,hDe,QDe,Object.freeze({__proto__:null,CategoryScale:dR,LinearScale:H4,LogarithmicScale:j4,RadialLinearScale:tk,TimeScale:Z4,TimeSeriesScale:W4}));let y2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})(),O2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi,cd]]}),n})(),B2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[hi]]}),n})(),V2e=(()=>{class n{constructor(e,i,r){this.authService=e,this.screen=i,this.com=r}ngOnInit(){this.authService.NavigateAuth(),this.screen.screenWidth=window.innerWidth,this.authService.DeleteUser()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Po),o.Y36(vb),o.Y36(kj))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[tS],styles:[""]}),n})(),U2e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[V2e]}),n.\u0275inj=o.cJS({providers:[tL],imports:[[hi,Twe,uc,bwe,M1,Eye,Cwe,CJ,nM,W_e,Ste,LTe,aY,X$,Ws.hO.initializeApp(Ewe_firebase),yy,cS,cM,qTe,rse,aEe,zU,fM,bse,BU,hEe,hve,nL,_Ee,cd,EEe,Gse,y2e,ywe,O2e,B2e,vye,x_e,iye]]}),n})();(0,o.G48)(),Fu().bootstrapModule(U2e).catch(n=>console.error(n))},5867:(sn,tt,J)=>{"use strict";J.d(tt,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=J(9681);(0,o.registerVersion)("firebase","9.8.1","app")},127:(sn,tt,J)=>{"use strict";J.d(tt,{Z:()=>o.Z});var o=J(3942);o.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(sn,tt,J)=>{"use strict";J.r(tt);var o=J(5861),Ie=J(3942),ee=J(2090),Ue=J(9681),Ve=J(655),et=J(1877),Ne=J(4859);const kt=function zt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Vt=function yt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gt=new et.Yd("@firebase/auth");function rn(C,...v){Gt.logLevel<=et.in.ERROR&&Gt.error(`Auth (${Ue.SDK_VERSION}): ${C}`,...v)}function _t(C,...v){throw Ut(C,...v)}function rt(C,...v){return Ut(C,...v)}function ut(C,v,y){const I=Object.assign(Object.assign({},Vt()),{[v]:y});return new ee.LL("auth","Firebase",I).create(v,{appName:C.name})}function Ht(C,v,y){if(!(v instanceof y))throw y.name!==v.constructor.name&&_t(C,"argument-error"),ut(C,"argument-error",`Type of ${v.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ut(C,...v){if("string"!=typeof C){const y=v[0],I=[...v.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(y,...I)}return Qe.create(C,...v)}function G(C,v,...y){if(!C)throw Ut(v,...y)}function nt(C){const v="INTERNAL ASSERTION FAILED: "+C;throw rn(v),new Error(v)}function xe(C,v){C||nt(v)}const Le=new Map;function De(C){xe(C instanceof Function,"Expected a class definition");let v=Le.get(C);return v?(xe(v instanceof C,"Instance stored in cache mismatched with class"),v):(v=new C,Le.set(C,v),v)}function Dt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function mn(){return"http:"===ni()||"https:"===ni()}function ni(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class zn{constructor(v,y){this.shortDelay=v,this.longDelay=y,xe(y>v,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return function qn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mn()||(0,ee.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Di(C,v){xe(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return v?`${y}${v.startsWith("/")?v.slice(1):v}`:y}class Ai{static initialize(v,y,I){this.fetchImpl=v,y&&(this.headersImpl=y),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dr=new zn(3e4,6e4);function Kn(C,v){return C.tenantId&&!v.tenantId?Object.assign(Object.assign({},v),{tenantId:C.tenantId}):v}function Gn(C,v,y,I){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,o.Z)(function*(C,v,y,I,L={}){return ys(C,L,(0,o.Z)(function*(){let Y={},Ee={};I&&("GET"===v?Ee=I:Y={body:JSON.stringify(I)});const ze=(0,ee.xO)(Object.assign({key:C.config.apiKey},Ee)).slice(1),Mt=yield C._getAdditionalHeaders();return Mt["Content-Type"]="application/json",C.languageCode&&(Mt["X-Firebase-Locale"]=C.languageCode),Ai.fetch()(To(C,C.config.apiHost,y,ze),Object.assign({method:v,headers:Mt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function ys(C,v,y){return rs.apply(this,arguments)}function rs(){return(rs=(0,o.Z)(function*(C,v,y){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},Xn),v);try{const L=new Vs(C),Y=yield Promise.race([y(),L.promise]);L.clearNetworkTimeout();const Ee=yield Y.json();if("needConfirmation"in Ee)throw ss(C,"account-exists-with-different-credential",Ee);if(Y.ok&&!("errorMessage"in Ee))return Ee;{const ze=Y.ok?Ee.errorMessage:Ee.error.message,[Mt,Ot]=ze.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw ss(C,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===Mt)throw ss(C,"email-already-in-use",Ee);const In=I[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if(Ot)throw ut(C,In,Ot);_t(C,In)}}catch(L){if(L instanceof ee.ZR)throw L;_t(C,"network-request-failed")}})).apply(this,arguments)}function Zr(C,v,y,I){return ro.apply(this,arguments)}function ro(){return(ro=(0,o.Z)(function*(C,v,y,I,L={}){const Y=yield Gn(C,v,y,I,L);return"mfaPendingCredential"in Y&&_t(C,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function To(C,v,y,I){const L=`${v}${y}?${I}`;return C.config.emulator?Di(C.config,L):`${C.config.apiScheme}://${L}`}class Vs{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((y,I)=>{this.timer=setTimeout(()=>I(rt(this.auth,"network-request-failed")),dr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ss(C,v,y){const I={appName:C.name};y.email&&(I.email=y.email),y.phoneNumber&&(I.phoneNumber=y.phoneNumber);const L=rt(C,v,I);return L.customData._tokenResponse=y,L}function hr(){return(hr=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function tr(C,v){return di.apply(this,arguments)}function di(){return(di=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Vo(C,v){return ws.apply(this,arguments)}function ws(){return(ws=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Cr(C){if(C)try{const v=new Date(Number(C));if(!isNaN(v.getTime()))return v.toUTCString()}catch(v){}}function xs(){return(xs=(0,o.Z)(function*(C,v=!1){const y=(0,ee.m9)(C),I=yield y.getIdToken(v),L=Jt(I);G(L&&L.exp&&L.auth_time&&L.iat,y.auth,"internal-error");const Y="object"==typeof L.firebase?L.firebase:void 0,Ee=null==Y?void 0:Y.sign_in_provider;return{claims:L,token:I,authTime:Cr($n(L.auth_time)),issuedAtTime:Cr($n(L.iat)),expirationTime:Cr($n(L.exp)),signInProvider:Ee||null,signInSecondFactor:(null==Y?void 0:Y.sign_in_second_factor)||null}})).apply(this,arguments)}function $n(C){return 1e3*Number(C)}function Jt(C){const[v,y,I]=C.split(".");if(void 0===v||void 0===y||void 0===I)return rn("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,ee.tV)(y);return L?JSON.parse(L):(rn("Failed to decode base64 JWT payload"),null)}catch(L){return rn("Caught error parsing JWT payload as JSON",L),null}}function Wr(C,v){return os.apply(this,arguments)}function os(){return(os=(0,o.Z)(function*(C,v,y=!1){if(y)return v;try{return yield v}catch(I){throw I instanceof ee.ZR&&An(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function An({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class gl{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var y;if(v){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const L=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(v=!1){var y=this;if(!this.isRunning)return;const I=this.getInterval(v);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),I)}iteration(){var v=this;return(0,o.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&v.schedule(!0))}v.schedule()})()}}class qr{constructor(v,y){this.createdAt=v,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cr(this.lastLoginAt),this.creationTime=Cr(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gr(C){return pe.apply(this,arguments)}function pe(){return(pe=(0,o.Z)(function*(C){var v;const y=C.auth,I=yield C.getIdToken(),L=yield Wr(C,Vo(y,{idToken:I}));G(null==L?void 0:L.users.length,y,"internal-error");const Y=L.users[0];C._notifyReloadListener(Y);const Ee=(null===(v=Y.providerUserInfo)||void 0===v?void 0:v.length)?ae(Y.providerUserInfo):[],ze=ht(C.providerData,Ee),In=!!C.isAnonymous&&!(C.email&&Y.passwordHash||(null==ze?void 0:ze.length)),It={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ze,metadata:new qr(Y.createdAt,Y.lastLoginAt),isAnonymous:In};Object.assign(C,It)})).apply(this,arguments)}function Ce(){return(Ce=(0,o.Z)(function*(C){const v=(0,ee.m9)(C);yield Gr(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function ht(C,v){return[...C.filter(I=>!v.some(L=>L.providerId===I.providerId)),...v]}function ae(C){return C.map(v=>{var{providerId:y}=v,I=(0,Ve._T)(v,["providerId"]);return{providerId:y,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function Tt(){return(Tt=(0,o.Z)(function*(C,v){const y=yield ys(C,{},(0,o.Z)(function*(){const I=(0,ee.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:L,apiKey:Y}=C.config,Ee=To(C,L,"/v1/token",`key=${Y}`),ze=yield C._getAdditionalHeaders();return ze["Content-Type"]="application/x-www-form-urlencoded",Ai.fetch()(Ee,{method:"POST",headers:ze,body:I})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class on{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){G(v.idToken,"internal-error"),G(void 0!==v.idToken,"internal-error"),G(void 0!==v.refreshToken,"internal-error");const y="expiresIn"in v&&void 0!==v.expiresIn?Number(v.expiresIn):function dn(C){const v=Jt(C);return G(v,"internal-error"),G(void 0!==v.exp,"internal-error"),G(void 0!==v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,y)}getToken(v,y=!1){var I=this;return(0,o.Z)(function*(){return G(!I.accessToken||I.refreshToken,v,"user-token-expired"),y||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(v,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,y){var I=this;return(0,o.Z)(function*(){const{accessToken:L,refreshToken:Y,expiresIn:Ee}=yield function Oe(C,v){return Tt.apply(this,arguments)}(v,y);I.updateTokensAndExpiration(L,Y,Number(Ee))})()}updateTokensAndExpiration(v,y,I){this.refreshToken=y||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(v,y){const{refreshToken:I,accessToken:L,expirationTime:Y}=y,Ee=new on;return I&&(G("string"==typeof I,"internal-error",{appName:v}),Ee.refreshToken=I),L&&(G("string"==typeof L,"internal-error",{appName:v}),Ee.accessToken=L),Y&&(G("number"==typeof Y,"internal-error",{appName:v}),Ee.expirationTime=Y),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new on,this.toJSON())}_performRefresh(){return nt("not implemented")}}function bn(C,v){G("string"==typeof C||void 0===C,"internal-error",{appName:v})}class Cn{constructor(v){var{uid:y,auth:I,stsTokenManager:L}=v,Y=(0,Ve._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=I,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new qr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(v){var y=this;return(0,o.Z)(function*(){const I=yield Wr(y,y.stsTokenManager.getToken(y.auth,v));return G(I,y.auth,"internal-error"),y.accessToken!==I&&(y.accessToken=I,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),I})()}getIdTokenResult(v){return function nr(C){return xs.apply(this,arguments)}(this,v)}reload(){return function be(C){return Ce.apply(this,arguments)}(this)}_assign(v){this!==v&&(G(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(y=>Object.assign({},y)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new Cn(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,y=!1){var I=this;return(0,o.Z)(function*(){let L=!1;v.idToken&&v.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(v),L=!0),y&&(yield Gr(I)),yield I.auth._persistUserIfCurrent(I),L&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var v=this;return(0,o.Z)(function*(){const y=yield v.getIdToken();return yield Wr(v,function ln(C,v){return hr.apply(this,arguments)}(v.auth,{idToken:y})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,y){var I,L,Y,Ee,ze,Mt,Ot,In;const It=null!==(I=y.displayName)&&void 0!==I?I:void 0,Vr=null!==(L=y.email)&&void 0!==L?L:void 0,ds=null!==(Y=y.phoneNumber)&&void 0!==Y?Y:void 0,wc=null!==(Ee=y.photoURL)&&void 0!==Ee?Ee:void 0,Cm=null!==(ze=y.tenantId)&&void 0!==ze?ze:void 0,Qu=null!==(Mt=y._redirectEventId)&&void 0!==Mt?Mt:void 0,hs=null!==(Ot=y.createdAt)&&void 0!==Ot?Ot:void 0,Ws=null!==(In=y.lastLoginAt)&&void 0!==In?In:void 0,{uid:O1,emailVerified:Rp,isAnonymous:ot,providerData:Sa,stsTokenManager:xc}=y;G(O1&&xc,v,"internal-error");const Rl=on.fromJSON(this.name,xc);G("string"==typeof O1,v,"internal-error"),bn(It,v.name),bn(Vr,v.name),G("boolean"==typeof Rp,v,"internal-error"),G("boolean"==typeof ot,v,"internal-error"),bn(ds,v.name),bn(wc,v.name),bn(Cm,v.name),bn(Qu,v.name),bn(hs,v.name),bn(Ws,v.name);const X=new Cn({uid:O1,auth:v,email:Vr,emailVerified:Rp,displayName:It,isAnonymous:ot,photoURL:wc,phoneNumber:ds,tenantId:Cm,stsTokenManager:Rl,createdAt:hs,lastLoginAt:Ws});return Sa&&Array.isArray(Sa)&&(X.providerData=Sa.map(sC=>Object.assign({},sC))),Qu&&(X._redirectEventId=Qu),X}static _fromIdTokenResponse(v,y,I=!1){return(0,o.Z)(function*(){const L=new on;L.updateFromServerResponse(y);const Y=new Cn({uid:y.localId,auth:v,stsTokenManager:L,isAnonymous:I});return yield Gr(Y),Y})()}}const Mn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,I){var L=this;return(0,o.Z)(function*(){L.storage[y]=I})()}_get(y){var I=this;return(0,o.Z)(function*(){const L=I.storage[y];return void 0===L?null:L})()}_remove(y){var I=this;return(0,o.Z)(function*(){delete I.storage[y]})()}_addListener(y,I){}_removeListener(y,I){}}return C.type="NONE",C})();function Tr(C,v,y){return`firebase:${C}:${v}:${y}`}class bs{constructor(v,y,I){this.persistence=v,this.auth=y,this.userKey=I;const{config:L,name:Y}=this.auth;this.fullUserKey=Tr(this.userKey,L.apiKey,Y),this.fullPersistenceKey=Tr("persistence",L.apiKey,Y),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,o.Z)(function*(){const y=yield v.persistence._get(v.fullUserKey);return y?Cn._fromJSON(v.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var y=this;return(0,o.Z)(function*(){if(y.persistence===v)return;const I=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=v,I?y.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,y,I="authUser"){return(0,o.Z)(function*(){if(!y.length)return new bs(De(Mn),v,I);const L=(yield Promise.all(y.map(function(){var Ot=(0,o.Z)(function*(In){if(yield In._isAvailable())return In});return function(In){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let Y=L[0]||De(Mn);const Ee=Tr(I,v.config.apiKey,v.name);let ze=null;for(const Ot of y)try{const In=yield Ot._get(Ee);if(In){const It=Cn._fromJSON(v,In);Ot!==Y&&(ze=It),Y=Ot;break}}catch(In){}const Mt=L.filter(Ot=>Ot._shouldAllowMigration);return Y._shouldAllowMigration&&Mt.length?(Y=Mt[0],ze&&(yield Y._set(Ee,ze.toJSON())),yield Promise.all(y.map(function(){var Ot=(0,o.Z)(function*(In){if(In!==Y)try{yield In._remove(Ee)}catch(It){}});return function(In){return Ot.apply(this,arguments)}}())),new bs(Y,v,I)):new bs(Y,v,I)})()}}function Eu(C){const v=C.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(Er(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(Rc(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(ga(v))return"Blackberry";if(Ir(v))return"Webos";if(Ql(v))return"Safari";if((v.includes("chrome/")||Fc(v))&&!v.includes("edge/"))return"Chrome";if(Sr(v))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function Rc(C=(0,ee.z$)()){return/firefox\//i.test(C)}function Ql(C=(0,ee.z$)()){const v=C.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}function Fc(C=(0,ee.z$)()){return/crios\//i.test(C)}function Er(C=(0,ee.z$)()){return/iemobile/i.test(C)}function Sr(C=(0,ee.z$)()){return/android/i.test(C)}function ga(C=(0,ee.z$)()){return/blackberry/i.test(C)}function Ir(C=(0,ee.z$)()){return/webos/i.test(C)}function Us(C=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(C)}function Ba(C=(0,ee.z$)()){return Us(C)||Sr(C)||Ir(C)||ga(C)||/windows phone/i.test(C)||Er(C)}function Jl(C,v=[]){let y;switch(C){case"Browser":y=Eu((0,ee.z$)());break;case"Worker":y=`${Eu((0,ee.z$)())}-${C}`;break;default:y=C}const I=v.length?v.join(","):"FirebaseCore-web";return`${y}/JsCore/${Ue.SDK_VERSION}/${I}`}class Sn{constructor(v){this.auth=v,this.queue=[]}pushCallback(v,y){const I=Y=>new Promise((Ee,ze)=>{try{Ee(v(Y))}catch(Mt){ze(Mt)}});I.onAbort=y,this.queue.push(I);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(v){var y=this;return(0,o.Z)(function*(){if(y.auth.currentUser===v)return;const I=[];try{for(const L of y.queue)yield L(v),L.onAbort&&I.push(L.onAbort)}catch(L){I.reverse();for(const Y of I)try{Y()}catch(Ee){}throw y.auth._errorFactory.create("login-blocked",{originalMessage:L.message})}})()}}class en{constructor(v,y,I){this.app=v,this.heartbeatServiceProvider=y,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mi(this),this.idTokenSubscription=new Mi(this),this.beforeStateQueue=new Sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(v,y){var I=this;return y&&(this._popupRedirectResolver=De(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var L,Y;if(!I._deleted&&(I.persistenceManager=yield bs.create(I,v),!I._deleted)){if(null===(L=I._popupRedirectResolver)||void 0===L?void 0:L._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Ee){}yield I.initializeCurrentUser(y),I.lastNotifiedUid=(null===(Y=I.currentUser)||void 0===Y?void 0:Y.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,o.Z)(function*(){if(v._deleted)return;const y=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||y){if(v.currentUser&&y&&v.currentUser.uid===y.uid)return v._currentUser._assign(y),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(y,!0)}})()}initializeCurrentUser(v){var y=this;return(0,o.Z)(function*(){var I;const L=yield y.assertedPersistence.getCurrentUser();let Y=L,Ee=!1;if(v&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ze=null===(I=y.redirectUser)||void 0===I?void 0:I._redirectEventId,Mt=null==Y?void 0:Y._redirectEventId,Ot=yield y.tryRedirectSignIn(v);(!ze||ze===Mt)&&(null==Ot?void 0:Ot.user)&&(Y=Ot.user,Ee=!0)}if(!Y)return y.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Ee)try{yield y.beforeStateQueue.runMiddleware(Y)}catch(ze){Y=L,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ze))}return Y?y.reloadAndSetCurrentUserOrClear(Y):y.directlySetCurrentUser(null)}return G(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===Y._redirectEventId?y.directlySetCurrentUser(Y):y.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(v){var y=this;return(0,o.Z)(function*(){let I=null;try{I=yield y._popupRedirectResolver._completeRedirectFn(y,v,!0)}catch(L){yield y._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(v){var y=this;return(0,o.Z)(function*(){try{yield Gr(v)}catch(I){if("auth/network-request-failed"!==I.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function tn(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var v=this;return(0,o.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var y=this;return(0,o.Z)(function*(){const I=v?(0,ee.m9)(v):null;return I&&G(I.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(I&&I._clone(y))})()}_updateCurrentUser(v,y=!1){var I=this;return(0,o.Z)(function*(){if(!I._deleted)return v&&G(I.tenantId===v.tenantId,I,"tenant-id-mismatch"),y||(yield I.beforeStateQueue.runMiddleware(v)),I.queue((0,o.Z)(function*(){yield I.directlySetCurrentUser(v),I.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,o.Z)(function*(){return yield v.beforeStateQueue.runMiddleware(null),(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null,!0)})()}setPersistence(v){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(De(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new ee.LL("auth","Firebase",v())}onAuthStateChanged(v,y,I){return this.registerStateListener(this.authStateSubscription,v,y,I)}beforeAuthStateChanged(v,y){return this.beforeStateQueue.pushCallback(v,y)}onIdTokenChanged(v,y,I){return this.registerStateListener(this.idTokenSubscription,v,y,I)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,y){var I=this;return(0,o.Z)(function*(){const L=yield I.getOrInitRedirectPersistenceManager(y);return null===v?L.removeCurrentUser():L.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const I=v&&De(v)||y._popupRedirectResolver;G(I,y,"argument-error"),y.redirectPersistenceManager=yield bs.create(y,[De(I._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(v){var y=this;return(0,o.Z)(function*(){var I,L;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(I=y._currentUser)||void 0===I?void 0:I._redirectEventId)===v?y._currentUser:(null===(L=y.redirectUser)||void 0===L?void 0:L._redirectEventId)===v?y.redirectUser:null})()}_persistUserIfCurrent(v){var y=this;return(0,o.Z)(function*(){if(v===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(y=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,y,I,L){if(this._deleted)return()=>{};const Y="function"==typeof y?y:y.next.bind(y),Ee=this._isInitialized?Promise.resolve():this._initializationPromise;return G(Ee,this,"internal-error"),Ee.then(()=>Y(this.currentUser)),"function"==typeof y?v.addObserver(y,I,L):v.addObserver(y)}directlySetCurrentUser(v){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==v&&(y._currentUser._stopProactiveRefresh(),v&&y.isProactiveRefreshEnabled&&v._startProactiveRefresh()),y.currentUser=v,v?yield y.assertedPersistence.setCurrentUser(v):yield y.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Jl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,o.Z)(function*(){var y;const I={"X-Client-Version":v.clientVersion};v.app.options.appId&&(I["X-Firebase-gmpid"]=v.app.options.appId);const L=yield null===(y=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return L&&(I["X-Firebase-Client"]=L),I})()}}function vn(C){return(0,ee.m9)(C)}class Mi{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,ee.ne)(y=>this.observer=y)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Uo(C){const v=C.indexOf(":");return v<0?"":C.substr(0,v+1)}function so(C){if(!C)return null;const v=Number(C);return isNaN(v)?null:v}class oo{constructor(v,y){this.providerId=v,this.signInMethod=y}toJSON(){return nt("not implemented")}_getIdTokenResponse(v){return nt("not implemented")}_linkToIdToken(v,y){return nt("not implemented")}_getReauthenticationResolver(v){return nt("not implemented")}}function oi(C,v){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:resetPassword",Kn(C,v))})).apply(this,arguments)}function Xl(C,v){return mi.apply(this,arguments)}function mi(){return(mi=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function Su(C,v){return _a.apply(this,arguments)}function _a(){return(_a=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:update",Kn(C,v))})).apply(this,arguments)}function ml(){return(ml=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signInWithPassword",Kn(C,v))})).apply(this,arguments)}function Va(C,v){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:sendOobCode",Kn(C,v))})).apply(this,arguments)}function Pi(C,v){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,o.Z)(function*(C,v){return Va(C,v)})).apply(this,arguments)}function Lc(C,v){return js.apply(this,arguments)}function js(){return(js=(0,o.Z)(function*(C,v){return Va(C,v)})).apply(this,arguments)}function Ho(C,v){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,o.Z)(function*(C,v){return Va(C,v)})).apply(this,arguments)}function Bh(C,v){return jo.apply(this,arguments)}function jo(){return(jo=(0,o.Z)(function*(C,v){return Va(C,v)})).apply(this,arguments)}function Wi(){return(Wi=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signInWithEmailLink",Kn(C,v))})).apply(this,arguments)}function Vh(){return(Vh=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signInWithEmailLink",Kn(C,v))})).apply(this,arguments)}class Yr extends oo{constructor(v,y,I,L=null){super("password",I),this._email=v,this._password=y,this._tenantId=L}static _fromEmailAndPassword(v,y){return new Yr(v,y,"password")}static _fromEmailAndCode(v,y,I=null){return new Yr(v,y,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(v){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function ii(C,v){return ml.apply(this,arguments)}(v,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function zo(C,v){return Wi.apply(this,arguments)}(v,{email:y._email,oobCode:y._password});default:_t(v,"internal-error")}})()}_linkToIdToken(v,y){var I=this;return(0,o.Z)(function*(){switch(I.signInMethod){case"password":return Xl(v,{idToken:y,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ir(C,v){return Vh.apply(this,arguments)}(v,{idToken:y,email:I._email,oobCode:I._password});default:_t(v,"internal-error")}})()}_getReauthenticationResolver(v){return this._getIdTokenResponse(v)}}function va(C,v){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signInWithIdp",Kn(C,v))})).apply(this,arguments)}class ya extends oo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(v){const y=new ya(v.providerId,v.signInMethod);return v.idToken||v.accessToken?(v.idToken&&(y.idToken=v.idToken),v.accessToken&&(y.accessToken=v.accessToken),v.nonce&&!v.pendingToken&&(y.nonce=v.nonce),v.pendingToken&&(y.pendingToken=v.pendingToken)):v.oauthToken&&v.oauthTokenSecret?(y.accessToken=v.oauthToken,y.secret=v.oauthTokenSecret):_t("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:I,signInMethod:L}=y,Y=(0,Ve._T)(y,["providerId","signInMethod"]);if(!I||!L)return null;const Ee=new ya(I,L);return Ee.idToken=Y.idToken||void 0,Ee.accessToken=Y.accessToken||void 0,Ee.secret=Y.secret,Ee.nonce=Y.nonce,Ee.pendingToken=Y.pendingToken||null,Ee}_getIdTokenResponse(v){return va(v,this.buildRequest())}_linkToIdToken(v,y){const I=this.buildRequest();return I.idToken=y,va(v,I)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,va(v,y)}buildRequest(){const v={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)v.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),v.postBody=(0,ee.xO)(y)}return v}}function Yg(C,v){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:sendVerificationCode",Kn(C,v))})).apply(this,arguments)}function Ua(){return(Ua=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signInWithPhoneNumber",Kn(C,v))})).apply(this,arguments)}function Ha(){return(Ha=(0,o.Z)(function*(C,v){const y=yield Zr(C,"POST","/v1/accounts:signInWithPhoneNumber",Kn(C,v));if(y.temporaryProof)throw ss(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Md={USER_NOT_FOUND:"user-not-found"};function jh(){return(jh=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signInWithPhoneNumber",Kn(C,Object.assign(Object.assign({},v),{operation:"REAUTH"})),Md)})).apply(this,arguments)}class ec extends oo{constructor(v){super("phone","phone"),this.params=v}static _fromVerification(v,y){return new ec({verificationId:v,verificationCode:y})}static _fromTokenResponse(v,y){return new ec({phoneNumber:v,temporaryProof:y})}_getIdTokenResponse(v){return function Ad(C,v){return Ua.apply(this,arguments)}(v,this._makeVerificationRequest())}_linkToIdToken(v,y){return function Kg(C,v){return Ha.apply(this,arguments)}(v,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(v){return function Qg(C,v){return jh.apply(this,arguments)}(v,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:v,phoneNumber:y,verificationId:I,verificationCode:L}=this.params;return v&&y?{temporaryProof:v,phoneNumber:y}:{sessionInfo:I,code:L}}toJSON(){const v={providerId:this.providerId};return this.params.phoneNumber&&(v.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(v.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(v.verificationCode=this.params.verificationCode),this.params.verificationId&&(v.verificationId=this.params.verificationId),v}static fromJSON(v){"string"==typeof v&&(v=JSON.parse(v));const{verificationId:y,verificationCode:I,phoneNumber:L,temporaryProof:Y}=v;return I||y||L||Y?new ec({verificationId:y,verificationCode:I,phoneNumber:L,temporaryProof:Y}):null}}class ku{constructor(v){var y,I,L,Y,Ee,ze;const Mt=(0,ee.zd)((0,ee.pd)(v)),Ot=null!==(y=Mt.apiKey)&&void 0!==y?y:null,In=null!==(I=Mt.oobCode)&&void 0!==I?I:null,It=function hp(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Mt.mode)&&void 0!==L?L:null);G(Ot&&In&&It,"argument-error"),this.apiKey=Ot,this.operation=It,this.code=In,this.continueUrl=null!==(Y=Mt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Ee=Mt.languageCode)&&void 0!==Ee?Ee:null,this.tenantId=null!==(ze=Mt.tenantId)&&void 0!==ze?ze:null}static parseLink(v){const y=function Bc(C){const v=(0,ee.zd)((0,ee.pd)(C)).link,y=v?(0,ee.zd)((0,ee.pd)(v)).deep_link_id:null,I=(0,ee.zd)((0,ee.pd)(C)).deep_link_id;return(I?(0,ee.zd)((0,ee.pd)(I)).link:null)||I||y||v||C}(v);try{return new ku(y)}catch(I){return null}}}let Zh=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,I){return Yr._fromEmailAndPassword(y,I)}static credentialWithLink(y,I){const L=ku.parseLink(I);return G(L,"argument-error"),Yr._fromEmailAndCode(y,L.code,L.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class as{constructor(v){this.providerId=v,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(v){this.defaultLanguageCode=v}setCustomParameters(v){return this.customParameters=v,this}getCustomParameters(){return this.customParameters}}class ls extends as{constructor(){super(...arguments),this.scopes=[]}addScope(v){return this.scopes.includes(v)||this.scopes.push(v),this}getScopes(){return[...this.scopes]}}class Zo extends ls{static credentialFromJSON(v){const y="string"==typeof v?JSON.parse(v):v;return G("providerId"in y&&"signInMethod"in y,"argument-error"),ya._fromParams(y)}credential(v){return this._credential(Object.assign(Object.assign({},v),{nonce:v.rawNonce}))}_credential(v){return G(v.idToken||v.accessToken,"argument-error"),ya._fromParams(Object.assign(Object.assign({},v),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(v){return Zo.oauthCredentialFromTaggedObject(v)}static credentialFromError(v){return Zo.oauthCredentialFromTaggedObject(v.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:y,oauthAccessToken:I,oauthTokenSecret:L,pendingToken:Y,nonce:Ee,providerId:ze}=v;if(!I&&!L&&!y&&!Y||!ze)return null;try{return new Zo(ze)._credential({idToken:y,accessToken:I,nonce:Ee,pendingToken:Y})}catch(Mt){return null}}}let tc=(()=>{class C extends ls{constructor(){super("facebook.com")}static credential(y){return ya._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Wh=(()=>{class C extends ls{constructor(){super("google.com"),this.addScope("profile")}static credential(y,I){return ya._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:I})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:I,oauthAccessToken:L}=y;if(!I&&!L)return null;try{return C.credential(I,L)}catch(Y){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),qh=(()=>{class C extends ls{constructor(){super("github.com")}static credential(y){return ya._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class ja extends oo{constructor(v,y){super(v,v),this.pendingToken=y}_getIdTokenResponse(v){return va(v,this.buildRequest())}_linkToIdToken(v,y){const I=this.buildRequest();return I.idToken=y,va(v,I)}_getReauthenticationResolver(v){const y=this.buildRequest();return y.autoCreate=!1,va(v,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(v){const y="string"==typeof v?JSON.parse(v):v,{providerId:I,signInMethod:L,pendingToken:Y}=y;return I&&L&&Y&&I===L?new ja(I,Y):null}static _create(v,y){return new ja(v,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cs extends as{constructor(v){G(v.startsWith("saml."),"argument-error"),super(v)}static credentialFromResult(v){return Cs.samlCredentialFromTaggedObject(v)}static credentialFromError(v){return Cs.samlCredentialFromTaggedObject(v.customData||{})}static credentialFromJSON(v){const y=ja.fromJSON(v);return G(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{pendingToken:y,providerId:I}=v;if(!y||!I)return null;try{return ja._create(I,y)}catch(L){return null}}}let Gh=(()=>{class C extends ls{constructor(){super("twitter.com")}static credential(y,I){return ya._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:I})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:I,oauthTokenSecret:L}=y;if(!I||!L)return null;try{return C.credential(I,L)}catch(Y){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function fr(C,v){return ic.apply(this,arguments)}function ic(){return(ic=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signUp",Kn(C,v))})).apply(this,arguments)}class ao{constructor(v){this.user=v.user,this.providerId=v.providerId,this._tokenResponse=v._tokenResponse,this.operationType=v.operationType}static _fromIdTokenResponse(v,y,I,L=!1){return(0,o.Z)(function*(){const Y=yield Cn._fromIdTokenResponse(v,I,L),Ee=Od(I);return new ao({user:Y,providerId:Ee,_tokenResponse:I,operationType:y})})()}static _forOperation(v,y,I){return(0,o.Z)(function*(){yield v._updateTokensIfNecessary(I,!0);const L=Od(I);return new ao({user:v,providerId:L,_tokenResponse:I,operationType:y})})()}}function Od(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Rd(){return(Rd=(0,o.Z)(function*(C){var v;const y=vn(C);if(yield y._initializationPromise,null===(v=y.currentUser)||void 0===v?void 0:v.isAnonymous)return new ao({user:y.currentUser,providerId:null,operationType:"signIn"});const I=yield fr(y,{returnSecureToken:!0}),L=yield ao._fromIdTokenResponse(y,"signIn",I,!0);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class rc extends ee.ZR{constructor(v,y,I,L){var Y;super(y.code,y.message),this.operationType=I,this.user=L,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:v.name,tenantId:null!==(Y=v.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:y.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(v,y,I,L){return new rc(v,y,I,L)}}function Fd(C,v,y,I){return("reauthenticate"===v?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?rc._fromErrorAndOperation(C,Y,v,I):Y})}function Wo(C){return new Set(C.map(({providerId:v})=>v).filter(v=>!!v))}function wi(){return(wi=(0,o.Z)(function*(C,v){const y=(0,ee.m9)(C);yield xi(!0,y,v);const{providerUserInfo:I}=yield tr(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[v]}),L=Wo(I||[]);return y.providerData=y.providerData.filter(Y=>L.has(Y.providerId)),L.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function sc(C,v){return za.apply(this,arguments)}function za(){return(za=(0,o.Z)(function*(C,v,y=!1){const I=yield Wr(C,v._linkToIdToken(C.auth,yield C.getIdToken()),y);return ao._forOperation(C,"link",I)})).apply(this,arguments)}function xi(C,v,y){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,o.Z)(function*(C,v,y){yield Gr(v);const L=!1===C?"provider-already-linked":"no-such-provider";G(Wo(v.providerData).has(y)===C,v.auth,L)})).apply(this,arguments)}function Za(C,v){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,o.Z)(function*(C,v,y=!1){const{auth:I}=C,L="reauthenticate";try{const Y=yield Wr(C,Fd(I,L,v,C),y);G(Y.idToken,I,"internal-error");const Ee=Jt(Y.idToken);G(Ee,I,"internal-error");const{sub:ze}=Ee;return G(C.uid===ze,I,"user-mismatch"),ao._forOperation(C,L,Y)}catch(Y){throw"auth/user-not-found"===(null==Y?void 0:Y.code)&&_t(I,"user-mismatch"),Y}})).apply(this,arguments)}function Nr(C,v){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,o.Z)(function*(C,v,y=!1){const I="signIn",L=yield Fd(C,I,v),Y=yield ao._fromIdTokenResponse(C,I,L);return y||(yield C._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function qi(C,v){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,o.Z)(function*(C,v){return Nr(vn(C),v)})).apply(this,arguments)}function Kr(C,v){return wa.apply(this,arguments)}function wa(){return(wa=(0,o.Z)(function*(C,v){const y=(0,ee.m9)(C);return yield xi(!1,y,v.providerId),sc(y,v)})).apply(this,arguments)}function qo(C,v){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,o.Z)(function*(C,v){return Za((0,ee.m9)(C),v)})).apply(this,arguments)}function So(C,v){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(C,v){return Zr(C,"POST","/v1/accounts:signInWithCustomToken",Kn(C,v))})).apply(this,arguments)}function En(){return(En=(0,o.Z)(function*(C,v){const y=vn(C),I=yield So(y,{token:v,returnSecureToken:!0}),L=yield ao._fromIdTokenResponse(y,"signIn",I);return yield y._updateCurrentUser(L.user),L})).apply(this,arguments)}class ac{constructor(v,y){this.factorId=v,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(v,y){return"phoneInfo"in y?Hc._fromServerResponse(v,y):_t(v,"internal-error")}}class Hc extends ac{constructor(v){super("phone",v),this.phoneNumber=v.phoneInfo}static _fromServerResponse(v,y){return new Hc(y)}}function jc(C,v,y){var I;G((null===(I=y.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),G(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),v.continueUrl=y.url,v.dynamicLinkDomain=y.dynamicLinkDomain,v.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(G(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),v.iOSBundleId=y.iOS.bundleId),y.android&&(G(y.android.packageName.length>0,C,"missing-android-pkg-name"),v.androidInstallApp=y.android.installApp,v.androidMinimumVersionCode=y.android.minimumVersion,v.androidPackageName=y.android.packageName)}function zc(){return(zc=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C),L={requestType:"PASSWORD_RESET",email:v};y&&jc(I,L,y),yield Lc(I,L)})).apply(this,arguments)}function Ld(){return(Ld=(0,o.Z)(function*(C,v,y){yield oi((0,ee.m9)(C),{oobCode:v,newPassword:y})})).apply(this,arguments)}function Zn(){return(Zn=(0,o.Z)(function*(C,v){yield Su((0,ee.m9)(C),{oobCode:v})})).apply(this,arguments)}function Du(C,v){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(C,v){const y=(0,ee.m9)(C),I=yield oi(y,{oobCode:v}),L=I.requestType;switch(G(L,y,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":G(I.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":G(I.mfaInfo,y,"internal-error");default:G(I.email,y,"internal-error")}let Y=null;return I.mfaInfo&&(Y=ac._fromServerResponse(vn(y),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Y},operation:L}})).apply(this,arguments)}function qa(){return(qa=(0,o.Z)(function*(C,v){const{data:y}=yield Du((0,ee.m9)(C),v);return y.email})).apply(this,arguments)}function Zc(){return(Zc=(0,o.Z)(function*(C,v,y){const I=vn(C),L=yield fr(I,{returnSecureToken:!0,email:v,password:y}),Y=yield ao._fromIdTokenResponse(I,"signIn",L);return yield I._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function Au(){return(Au=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C),L={requestType:"EMAIL_SIGNIN",email:v};G(y.handleCodeInApp,I,"argument-error"),y&&jc(I,L,y),yield Ho(I,L)})).apply(this,arguments)}function pr(){return(pr=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C),L=Zh.credentialWithLink(v,y||Dt());return G(L._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),qi(I,L)})).apply(this,arguments)}function xa(C,v){return qc.apply(this,arguments)}function qc(){return(qc=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:createAuthUri",Kn(C,v))})).apply(this,arguments)}function Io(){return(Io=(0,o.Z)(function*(C,v){const I={identifier:v,continueUri:mn()?Dt():"http://localhost"},{signinMethods:L}=yield xa((0,ee.m9)(C),I);return L||[]})).apply(this,arguments)}function cc(){return(cc=(0,o.Z)(function*(C,v){const y=(0,ee.m9)(C),L={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};v&&jc(y.auth,L,v);const{email:Y}=yield Pi(y.auth,L);Y!==C.email&&(yield C.reload())})).apply(this,arguments)}function Fu(){return(Fu=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:v};y&&jc(I.auth,Y,y);const{email:Ee}=yield Bh(I.auth,Y);Ee!==C.email&&(yield C.reload())})).apply(this,arguments)}function Gc(C,v){return uc.apply(this,arguments)}function uc(){return(uc=(0,o.Z)(function*(C,v){return Gn(C,"POST","/v1/accounts:update",v)})).apply(this,arguments)}function $c(){return($c=(0,o.Z)(function*(C,{displayName:v,photoURL:y}){if(void 0===v&&void 0===y)return;const I=(0,ee.m9)(C),Y={idToken:yield I.getIdToken(),displayName:v,photoUrl:y,returnSecureToken:!0},Ee=yield Wr(I,Gc(I.auth,Y));I.displayName=Ee.displayName||null,I.photoURL=Ee.photoUrl||null;const ze=I.providerData.find(({providerId:Mt})=>"password"===Mt);ze&&(ze.displayName=I.displayName,ze.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Ee)})).apply(this,arguments)}function vl(C,v,y){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.Z)(function*(C,v,y){const{auth:I}=C,Y={idToken:yield C.getIdToken(),returnSecureToken:!0};v&&(Y.email=v),y&&(Y.password=y);const Ee=yield Wr(C,Xl(I,Y));yield C._updateTokensIfNecessary(Ee,!0)})).apply(this,arguments)}class dc{constructor(v,y,I={}){this.isNewUser=v,this.providerId=y,this.profile=I}}class Qh extends dc{constructor(v,y,I,L){super(v,y,I),this.username=L}}class ba extends dc{constructor(v,y){super(v,"facebook.com",y)}}class $o extends Qh{constructor(v,y){super(v,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class pp extends dc{constructor(v,y){super(v,"google.com",y)}}class Lr extends Qh{constructor(v,y,I){super(v,"twitter.com",y,I)}}function Yo(C){const{user:v,_tokenResponse:y}=C;return v.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Kh(C){var v,y;if(!C)return null;const{providerId:I}=C,L=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},Y=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const Ee=null===(y=null===(v=Jt(C.idToken))||void 0===v?void 0:v.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ee)return new dc(Y,"anonymous"!==Ee&&"custom"!==Ee?Ee:null)}if(!I)return null;switch(I){case"facebook.com":return new ba(Y,L);case"github.com":return new $o(Y,L);case"google.com":return new pp(Y,L);case"twitter.com":return new Lr(Y,L,C.screenName||null);case"custom":case"anonymous":return new dc(Y,null);default:return new dc(Y,I,L)}}(y)}class Ca{constructor(v,y){this.type=v,this.credential=y}static _fromIdtoken(v){return new Ca("enroll",v)}static _fromMfaPendingCredential(v){return new Ca("signin",v)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(v){var y,I;if(null==v?void 0:v.multiFactorSession){if(null===(y=v.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Ca._fromMfaPendingCredential(v.multiFactorSession.pendingCredential);if(null===(I=v.multiFactorSession)||void 0===I?void 0:I.idToken)return Ca._fromIdtoken(v.multiFactorSession.idToken)}return null}}class wl{constructor(v,y,I){this.session=v,this.hints=y,this.signInResolver=I}static _fromError(v,y){const I=vn(v),L=y.customData._serverResponse,Y=(L.mfaInfo||[]).map(ze=>ac._fromServerResponse(I,ze));G(L.mfaPendingCredential,I,"internal-error");const Ee=Ca._fromMfaPendingCredential(L.mfaPendingCredential);return new wl(Ee,Y,function(){var ze=(0,o.Z)(function*(Mt){const Ot=yield Mt._process(I,Ee);delete L.mfaInfo,delete L.mfaPendingCredential;const In=Object.assign(Object.assign({},L),{idToken:Ot.idToken,refreshToken:Ot.refreshToken});switch(y.operationType){case"signIn":const It=yield ao._fromIdTokenResponse(I,y.operationType,In);return yield I._updateCurrentUser(It.user),It;case"reauthenticate":return G(y.user,I,"internal-error"),ao._forOperation(y.user,y.operationType,In);default:_t(I,"internal-error")}});return function(Mt){return ze.apply(this,arguments)}}())}resolveSignIn(v){var y=this;return(0,o.Z)(function*(){return y.signInResolver(v)})()}}function _p(C,v){return Gn(C,"POST","/v2/accounts/mfaEnrollment:start",Kn(C,v))}class Bu{constructor(v){this.user=v,this.enrolledFactors=[],v._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(I=>ac._fromServerResponse(v.auth,I)))})}static _fromUser(v){return new Bu(v)}getSession(){var v=this;return(0,o.Z)(function*(){return Ca._fromIdtoken(yield v.user.getIdToken())})()}enroll(v,y){var I=this;return(0,o.Z)(function*(){const L=v,Y=yield I.getSession(),Ee=yield Wr(I.user,L._process(I.user.auth,Y,y));return yield I.user._updateTokensIfNecessary(Ee),I.user.reload()})()}unenroll(v){var y=this;return(0,o.Z)(function*(){const I="string"==typeof v?v:v.uid,L=yield y.user.getIdToken(),Y=yield Wr(y.user,function Lu(C,v){return Gn(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Kn(C,v))}(y.user.auth,{idToken:L,mfaEnrollmentId:I}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ee})=>Ee!==I),yield y.user._updateTokensIfNecessary(Y);try{yield y.user.reload()}catch(Ee){if("auth/user-token-expired"!==Ee.code)throw Ee}})()}}const Ta=new WeakMap,bl="__sak";class Xh{constructor(v,y){this.storageRetriever=v,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(bl,"1"),this.storage.removeItem(bl),Promise.resolve(!0)):Promise.resolve(!1)}catch(v){return Promise.resolve(!1)}}_set(v,y){return this.storage.setItem(v,JSON.stringify(y)),Promise.resolve()}_get(v){const y=this.storage.getItem(v);return Promise.resolve(y?JSON.parse(y):null)}_remove(v){return this.storage.removeItem(v),Promise.resolve()}get storage(){return this.storageRetriever()}}const cs=(()=>{class C extends Xh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,I)=>this.onStorageEvent(y,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xg(){const C=(0,ee.z$)();return Ql(C)||Us(C)}()&&function $r(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Ba(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const I of Object.keys(this.listeners)){const L=this.storage.getItem(I),Y=this.localCache[I];L!==Y&&y(I,Y,L)}}onStorageEvent(y,I=!1){if(!y.key)return void this.forAllChangedKeys((ze,Mt,Ot)=>{this.notifyListeners(ze,Ot)});const L=y.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ze=this.storage.getItem(L);if(y.newValue!==ze)null!==y.newValue?this.storage.setItem(L,y.newValue):this.storage.removeItem(L);else if(this.localCache[L]===y.newValue&&!I)return}const Y=()=>{const ze=this.storage.getItem(L);!I&&this.localCache[L]===ze||this.notifyListeners(L,ze)},Ee=this.storage.getItem(L);!function Pc(){return(0,ee.w1)()&&10===document.documentMode}()||Ee===y.newValue||y.newValue===y.oldValue?Y():setTimeout(Y,10)}notifyListeners(y,I){this.localCache[y]=I;const L=this.listeners[y];if(L)for(const Y of Array.from(L))Y(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,I,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:I,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,I){var L=()=>super._set,Y=this;return(0,o.Z)(function*(){yield L().call(Y,y,I),Y.localCache[y]=JSON.stringify(I)})()}_get(y){var I=()=>super._get,L=this;return(0,o.Z)(function*(){const Y=yield I().call(L,y);return L.localCache[y]=JSON.stringify(Y),Y})()}_remove(y){var I=()=>super._remove,L=this;return(0,o.Z)(function*(){yield I().call(L,y),delete L.localCache[y]})()}}return C.type="LOCAL",C})(),O=(()=>{class C extends Xh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,I){}_removeListener(y,I){}}return C.type="SESSION",C})();let re=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const I=this.receivers.find(Y=>Y.isListeningto(y));if(I)return I;const L=new C(y);return this.receivers.push(L),L}isListeningto(y){return this.eventTarget===y}handleEvent(y){var I=this;return(0,o.Z)(function*(){const L=y,{eventId:Y,eventType:Ee,data:ze}=L.data,Mt=I.handlersMap[Ee];if(!(null==Mt?void 0:Mt.size))return;L.ports[0].postMessage({status:"ack",eventId:Y,eventType:Ee});const Ot=Array.from(Mt).map(function(){var It=(0,o.Z)(function*(Vr){return Vr(L.origin,ze)});return function(Vr){return It.apply(this,arguments)}}()),In=yield function H(C){return Promise.all(C.map(function(){var v=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(I){return{fulfilled:!1,reason:I}}});return function(y){return v.apply(this,arguments)}}()))}(Ot);L.ports[0].postMessage({status:"done",eventId:Y,eventType:Ee,response:In})})()}_subscribe(y,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(I)}_unsubscribe(y,I){this.handlersMap[y]&&I&&this.handlersMap[y].delete(I),(!I||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function it(C="",v=10){let y="";for(let I=0;I<v;I++)y+=Math.floor(10*Math.random());return C+y}class gn{constructor(v){this.target=v,this.handlers=new Set}removeMessageHandler(v){v.messageChannel&&(v.messageChannel.port1.removeEventListener("message",v.onMessage),v.messageChannel.port1.close()),this.handlers.delete(v)}_send(v,y,I=50){var L=this;return(0,o.Z)(function*(){const Y="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Ee,ze;return new Promise((Mt,Ot)=>{const In=it("",20);Y.port1.start();const It=setTimeout(()=>{Ot(new Error("unsupported_event"))},I);ze={messageChannel:Y,onMessage(Vr){const ds=Vr;if(ds.data.eventId===In)switch(ds.data.status){case"ack":clearTimeout(It),Ee=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ee),Mt(ds.data.response);break;default:clearTimeout(It),clearTimeout(Ee),Ot(new Error("invalid_response"))}}},L.handlers.add(ze),Y.port1.addEventListener("message",ze.onMessage),L.target.postMessage({eventType:v,eventId:In,data:y},[Y.port2])}).finally(()=>{ze&&L.removeMessageHandler(ze)})})()}}function fn(){return window}function $i(){return void 0!==fn().WorkerGlobalScope&&"function"==typeof fn().importScripts}function Cl(){return(Cl=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Uu="firebaseLocalStorageDb",fc="firebaseLocalStorage",Hn="fbase_key";class Ea{constructor(v){this.request=v}toPromise(){return new Promise((v,y)=>{this.request.addEventListener("success",()=>{v(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ts(C,v){return C.transaction([fc],v?"readwrite":"readonly").objectStore(fc)}function Ud(){const C=indexedDB.open(Uu,1);return new Promise((v,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(fc,{keyPath:Hn})}catch(L){y(L)}}),C.addEventListener("success",(0,o.Z)(function*(){const I=C.result;I.objectStoreNames.contains(fc)?v(I):(I.close(),yield function nm(){const C=indexedDB.deleteDatabase(Uu);return new Ea(C).toPromise()}(),v(yield Ud()))}))})}function Hu(C,v,y){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,o.Z)(function*(C,v,y){const I=Ts(C,!0).put({[Hn]:v,value:y});return new Ea(I).toPromise()})).apply(this,arguments)}function Kc(){return(Kc=(0,o.Z)(function*(C,v){const y=Ts(C,!1).get(v),I=yield new Ea(y).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ef(C,v){const y=Ts(C,!0).delete(v);return new Ea(y).toPromise()}const ju=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield Ud()),y.db})()}_withRetries(y){var I=this;return(0,o.Z)(function*(){let L=0;for(;;)try{const Y=yield I._openDb();return yield y(Y)}catch(Y){if(L++>3)throw Y;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return $i()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=re._getInstance(function tm(){return $i()?self:null}()),y.receiver._subscribe("keyChanged",function(){var I=(0,o.Z)(function*(L,Y){return{keyProcessed:(yield y._poll()).includes(Y.key)}});return function(L,Y){return I.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var I=(0,o.Z)(function*(L,Y){return["keyChanged"]});return function(L,Y){return I.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var I,L;if(y.activeServiceWorker=yield function $a(){return Cl.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new gn(y.activeServiceWorker);const Y=yield y.sender._send("ping",{},800);!Y||(null===(I=Y[0])||void 0===I?void 0:I.fulfilled)&&(null===(L=Y[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var I=this;return(0,o.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function y_(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:y},I.serviceWorkerReceiverAvailable?800:50)}catch(L){}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Ud();return yield Hu(y,bl,"1"),yield ef(y,bl),!0}catch(y){}return!1})()}_withPendingWrite(y){var I=this;return(0,o.Z)(function*(){I.pendingWrites++;try{yield y()}finally{I.pendingWrites--}})()}_set(y,I){var L=this;return(0,o.Z)(function*(){return L._withPendingWrite((0,o.Z)(function*(){return yield L._withRetries(Y=>Hu(Y,y,I)),L.localCache[y]=I,L.notifyServiceWorker(y)}))})()}_get(y){var I=this;return(0,o.Z)(function*(){const L=yield I._withRetries(Y=>function yp(C,v){return Kc.apply(this,arguments)}(Y,y));return I.localCache[y]=L,L})()}_remove(y){var I=this;return(0,o.Z)(function*(){return I._withPendingWrite((0,o.Z)(function*(){return yield I._withRetries(L=>ef(L,y)),delete I.localCache[y],I.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const I=yield y._withRetries(Ee=>{const ze=Ts(Ee,!1).getAll();return new Ea(ze).toPromise()});if(!I)return[];if(0!==y.pendingWrites)return[];const L=[],Y=new Set;for(const{fbase_key:Ee,value:ze}of I)Y.add(Ee),JSON.stringify(y.localCache[Ee])!==JSON.stringify(ze)&&(y.notifyListeners(Ee,ze),L.push(Ee));for(const Ee of Object.keys(y.localCache))y.localCache[Ee]&&!Y.has(Ee)&&(y.notifyListeners(Ee,null),L.push(Ee));return L})()}notifyListeners(y,I){this.localCache[y]=I;const L=this.listeners[y];if(L)for(const Y of Array.from(L))Y(I)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(I)}_removeListener(y,I){this.listeners[y]&&(this.listeners[y].delete(I),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function tf(C,v){return Gn(C,"POST","/v2/accounts/mfaSignIn:start",Kn(C,v))}function zd(){return(zd=(0,o.Z)(function*(C){return(yield Gn(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qc(C){return new Promise((v,y)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=v,I.onerror=L=>{const Y=rt("internal-error");Y.customData=L,y(Y)},I.type="text/javascript",I.charset="UTF-8",function Zd(){var C,v;return null!==(v=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==v?v:document}().appendChild(I)})}function Tl(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Wd=1e12;class Wu{constructor(v){this.auth=v,this.counter=Wd,this._widgets=new Map}render(v,y){const I=this.counter;return this._widgets.set(I,new l1(v,this.auth.name,y||{})),this.counter++,I}reset(v){var y;const I=v||Wd;null===(y=this._widgets.get(I))||void 0===y||y.delete(),this._widgets.delete(I)}getResponse(v){var y;return(null===(y=this._widgets.get(v||Wd))||void 0===y?void 0:y.getResponse())||""}execute(v){var y=this;return(0,o.Z)(function*(){var I;return null===(I=y._widgets.get(v||Wd))||void 0===I||I.execute(),""})()}}class l1{constructor(v,y,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof v?document.getElementById(v):v;G(L,"argument-error",{appName:y}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xp(C){const v=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<C;I++)v.push(y.charAt(Math.floor(Math.random()*y.length)));return v.join("")}(50);const{callback:v,"expired-callback":y}=this.params;if(v)try{v(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rr=Tl("rcb"),c1=new zn(3e4,6e4);class Vb{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!fn().grecaptcha}load(v,y=""){return G(function u1(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(y),v,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(fn().grecaptcha):new Promise((I,L)=>{const Y=fn().setTimeout(()=>{L(rt(v,"network-request-failed"))},c1.get());fn()[rr]=()=>{fn().clearTimeout(Y),delete fn()[rr];const ze=fn().grecaptcha;if(!ze)return void L(rt(v,"internal-error"));const Mt=ze.render;ze.render=(Ot,In)=>{const It=Mt(Ot,In);return this.counter++,It},this.hostLanguage=y,I(ze)},Qc(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:rr,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(Y),L(rt(v,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(v){return!!fn().grecaptcha&&(v===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class w_{load(v){return(0,o.Z)(function*(){return new Wu(v)})()}clearedOneInstance(){}}const im="recaptcha",d1={theme:"light",type:"image"};class qd{constructor(v,y=Object.assign({},d1),I){this.parameters=y,this.type=im,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(I),this.isInvisible="invisible"===this.parameters.size,G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof v?document.getElementById(v):v;G(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new w_:new Vb,this.validateStartingState()}verify(){var v=this;return(0,o.Z)(function*(){v.assertNotDestroyed();const y=yield v.render(),I=v.getAssertedRecaptcha();return I.getResponse(y)||new Promise(Y=>{const Ee=ze=>{!ze||(v.tokenChangeListeners.delete(Ee),Y(ze))};v.tokenChangeListeners.add(Ee),v.isInvisible&&I.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(v){return Promise.reject(v)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(v=>{throw this.renderPromise=null,v})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(v=>{this.container.removeChild(v)})}validateStartingState(){G(!this.parameters.sitekey,this.auth,"argument-error"),G(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),G("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(v){return y=>{if(this.tokenChangeListeners.forEach(I=>I(y)),"function"==typeof v)v(y);else if("string"==typeof v){const I=fn()[v];"function"==typeof I&&I(y)}}}assertNotDestroyed(){G(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var v=this;return(0,o.Z)(function*(){if(yield v.init(),!v.widgetId){let y=v.container;if(!v.isInvisible){const I=document.createElement("div");y.appendChild(I),y=I}v.widgetId=v.getAssertedRecaptcha().render(y,v.parameters)}return v.widgetId})()}init(){var v=this;return(0,o.Z)(function*(){G(mn()&&!$i(),v.auth,"internal-error"),yield function Ub(){let C=null;return new Promise(v=>{"complete"!==document.readyState?(C=()=>v(),window.addEventListener("load",C)):v()}).catch(v=>{throw C&&window.removeEventListener("load",C),v})}(),v.recaptcha=yield v._recaptchaLoader.load(v.auth,v.auth.languageCode||void 0);const y=yield function nf(C){return zd.apply(this,arguments)}(v.auth);G(y,v.auth,"internal-error"),v.parameters.sitekey=y})()}getAssertedRecaptcha(){return G(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yr{constructor(v,y){this.verificationId=v,this.onConfirmation=y}confirm(v){const y=ec._fromVerification(this.verificationId,v);return this.onConfirmation(y)}}function El(){return(El=(0,o.Z)(function*(C,v,y){const I=vn(C),L=yield Jc(I,v,(0,ee.m9)(y));return new yr(L,Y=>qi(I,Y))})).apply(this,arguments)}function sf(){return(sf=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C);yield xi(!1,I,"phone");const L=yield Jc(I.auth,v,(0,ee.m9)(y));return new yr(L,Y=>Kr(I,Y))})).apply(this,arguments)}function co(){return(co=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C),L=yield Jc(I.auth,v,(0,ee.m9)(y));return new yr(L,Y=>qo(I,Y))})).apply(this,arguments)}function Jc(C,v,y){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,o.Z)(function*(C,v,y){var I;const L=yield y.verify();try{let Y;if(G("string"==typeof L,C,"argument-error"),G(y.type===im,C,"argument-error"),Y="string"==typeof v?{phoneNumber:v}:v,"session"in Y){const Ee=Y.session;if("phoneNumber"in Y)return G("enroll"===Ee.type,C,"internal-error"),(yield _p(C,{idToken:Ee.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{G("signin"===Ee.type,C,"internal-error");const ze=(null===(I=Y.multiFactorHint)||void 0===I?void 0:I.uid)||Y.multiFactorUid;return G(ze,C,"missing-multi-factor-info"),(yield tf(C,{mfaPendingCredential:Ee.credential,mfaEnrollmentId:ze,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ee}=yield Yg(C,{phoneNumber:Y.phoneNumber,recaptchaToken:L});return Ee}}finally{y._reset()}})).apply(this,arguments)}function gc(){return(gc=(0,o.Z)(function*(C,v){yield sc((0,ee.m9)(C),v)})).apply(this,arguments)}let mc=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=vn(y)}verifyPhoneNumber(y,I){return Jc(this.auth,y,(0,ee.m9)(I))}static credential(y,I){return ec._fromVerification(y,I)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:I,temporaryProof:L}=y;return I&&L?ec._fromTokenResponse(I,L):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Ya(C,v){return v?De(v):(G(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Gu extends oo{constructor(v){super("custom","custom"),this.params=v}_getIdTokenResponse(v){return va(v,this._buildIdpRequest())}_linkToIdToken(v,y){return va(v,this._buildIdpRequest(y))}_getReauthenticationResolver(v){return va(v,this._buildIdpRequest())}_buildIdpRequest(v){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return v&&(y.idToken=v),y}}function x_(C){return Nr(C.auth,new Gu(C),C.bypassAuthState)}function of(C){const{auth:v,user:y}=C;return G(y,v,"internal-error"),Za(y,new Gu(C),C.bypassAuthState)}function Jr(C){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,o.Z)(function*(C){const{auth:v,user:y}=C;return G(y,v,"internal-error"),sc(y,new Gu(C),C.bypassAuthState)})).apply(this,arguments)}class Xc{constructor(v,y,I,L,Y=!1){this.auth=v,this.resolver=I,this.user=L,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var v=this;return new Promise(function(){var y=(0,o.Z)(function*(I,L){v.pendingPromise={resolve:I,reject:L};try{v.eventManager=yield v.resolver._initialize(v.auth),yield v.onExecution(),v.eventManager.registerConsumer(v)}catch(Y){v.reject(Y)}});return function(I,L){return y.apply(this,arguments)}}())}onAuthEvent(v){var y=this;return(0,o.Z)(function*(){const{urlResponse:I,sessionId:L,postBody:Y,tenantId:Ee,error:ze,type:Mt}=v;if(ze)return void y.reject(ze);const Ot={auth:y.auth,requestUri:I,sessionId:L,tenantId:Ee||void 0,postBody:Y||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Mt)(Ot))}catch(In){y.reject(In)}})()}onError(v){this.reject(v)}getIdpTask(v){switch(v){case"signInViaPopup":case"signInViaRedirect":return x_;case"linkViaPopup":case"linkViaRedirect":return Jr;case"reauthViaPopup":case"reauthViaRedirect":return of;default:_t(this.auth,"internal-error")}}resolve(v){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(v),this.unregisterAndCleanUp()}reject(v){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(v),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const h1=new zn(2e3,1e4);function Sl(){return(Sl=(0,o.Z)(function*(C,v,y){const I=vn(C);Ht(C,v,as);const L=Ya(I,y);return new $d(I,"signInViaPopup",v,L).executeNotNull()})).apply(this,arguments)}function af(){return(af=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C);Ht(I.auth,v,as);const L=Ya(I.auth,y);return new $d(I.auth,"reauthViaPopup",v,L,I).executeNotNull()})).apply(this,arguments)}function Il(){return(Il=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C);Ht(I.auth,v,as);const L=Ya(I.auth,y);return new $d(I.auth,"linkViaPopup",v,L,I).executeNotNull()})).apply(this,arguments)}let $d=(()=>{class C extends Xc{constructor(y,I,L,Y,Ee){super(y,I,Y,Ee),this.provider=L,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const I=yield y.execute();return G(I,y.auth,"internal-error"),I})()}onExecution(){var y=this;return(0,o.Z)(function*(){xe(1===y.filter.length,"Popup operations only handle one event");const I=it();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],I),y.authWindow.associatedEvent=I,y.resolver._originValidation(y.auth).catch(L=>{y.reject(L)}),y.resolver._isIframeWebStorageSupported(y.auth,L=>{L||y.reject(rt(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(rt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var I,L;this.pollId=(null===(L=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===L?void 0:L.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(rt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,h1.get())};y()}}return C.currentPopupAction=null,C})();const Dl=new Map;class rm extends Xc{constructor(v,y,I=!1){super(v,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,I),this.eventId=null}execute(){var v=()=>super.execute,y=this;return(0,o.Z)(function*(){let I=Dl.get(y.auth._key());if(!I){try{const Y=(yield function Al(C,v){return _c.apply(this,arguments)}(y.resolver,y.auth))?yield v().call(y):null;I=()=>Promise.resolve(Y)}catch(L){I=()=>Promise.reject(L)}Dl.set(y.auth._key(),I)}return y.bypassAuthState||Dl.set(y.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(v){var y=()=>super.onAuthEvent,I=this;return(0,o.Z)(function*(){if("signInViaRedirect"===v.type)return y().call(I,v);if("unknown"!==v.type){if(v.eventId){const L=yield I.auth._redirectUserForId(v.eventId);if(L)return I.user=L,y().call(I,v);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function _c(){return(_c=(0,o.Z)(function*(C,v){const y=le(v),I=z(C);if(!(yield I._isAvailable()))return!1;const L="true"===(yield I._get(y));return yield I._remove(y),L})).apply(this,arguments)}function eu(C,v){return lf.apply(this,arguments)}function lf(){return(lf=(0,o.Z)(function*(C,v){return z(C)._set(le(v),"true")})).apply(this,arguments)}function P(C,v){Dl.set(C._key(),v)}function z(C){return De(C._redirectPersistence)}function le(C){return Tr("pendingRedirect",C.config.apiKey,C.name)}function Et(){return(Et=(0,o.Z)(function*(C,v,y){const I=vn(C);Ht(C,v,as);const L=Ya(I,y);return yield eu(L,I),L._openRedirect(I,v,"signInViaRedirect")})).apply(this,arguments)}function yn(){return(yn=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C);Ht(I.auth,v,as);const L=Ya(I.auth,y);yield eu(L,I.auth);const Y=yield Ml(I);return L._openRedirect(I.auth,v,"reauthViaRedirect",Y)})).apply(this,arguments)}function uo(){return(uo=(0,o.Z)(function*(C,v,y){const I=(0,ee.m9)(C);Ht(I.auth,v,as);const L=Ya(I.auth,y);yield xi(!1,I,v.providerId),yield eu(L,I.auth);const Y=yield Ml(I);return L._openRedirect(I.auth,v,"linkViaRedirect",Y)})).apply(this,arguments)}function tu(){return(tu=(0,o.Z)(function*(C,v){return yield vn(C)._initializationPromise,Ko(C,v,!1)})).apply(this,arguments)}function Ko(C,v){return ho.apply(this,arguments)}function ho(){return(ho=(0,o.Z)(function*(C,v,y=!1){const I=vn(C),L=Ya(I,v),Ee=yield new rm(I,L,y).execute();return Ee&&!y&&(delete Ee.user._redirectEventId,yield I._persistUserIfCurrent(Ee.user),yield I._setRedirectUser(null,v)),Ee})).apply(this,arguments)}function Ml(C){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(C){const v=it(`${C.uid}:::`);return C._redirectEventId=v,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),v})).apply(this,arguments)}class C_{constructor(v){this.auth=v,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(v){this.consumers.add(v),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,v)&&(this.sendToConsumer(this.queuedRedirectEvent,v),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(v){this.consumers.delete(v)}onEvent(v){if(this.hasEventBeenHandled(v))return!1;let y=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(v,I)&&(y=!0,this.sendToConsumer(v,I),this.saveEventToCache(v))}),this.hasHandledPotentialRedirect||!function T_(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zs(C);default:return!1}}(v)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=v,y=!0)),y}sendToConsumer(v,y){var I;if(v.error&&!Zs(v)){const L=(null===(I=v.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";y.onError(rt(this.auth,L))}else y.onAuthEvent(v)}isEventForConsumer(v,y){const I=null===y.eventId||!!v.eventId&&v.eventId===y.eventId;return y.filter.includes(v.type)&&I}hasEventBeenHandled(v){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(om(v))}saveEventToCache(v){this.cachedEventUids.add(om(v)),this.lastProcessedEventTime=Date.now()}}function om(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(v=>v).join("-")}function Zs({type:C,error:v}){return"unknown"===C&&"auth/no-auth-event"===(null==v?void 0:v.code)}function Ep(C){return cf.apply(this,arguments)}function cf(){return(cf=(0,o.Z)(function*(C,v={}){return Gn(C,"GET","/v1/projects",v)})).apply(this,arguments)}const uf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sp=/^https?/;function jb(){return(jb=(0,o.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:v}=yield Ep(C);for(const y of v)try{if(zb(y))return}catch(I){}_t(C,"unauthorized-domain")})).apply(this,arguments)}function zb(C){const v=Dt(),{protocol:y,hostname:I}=new URL(v);if(C.startsWith("chrome-extension://")){const Ee=new URL(C);return""===Ee.hostname&&""===I?"chrome-extension:"===y&&C.replace("chrome-extension://","")===v.replace("chrome-extension://",""):"chrome-extension:"===y&&Ee.hostname===I}if(!Sp.test(y))return!1;if(uf.test(C))return I===C;const L=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(I)}const am=new zn(3e4,6e4);function Zb(){const C=fn().___jsl;if(null==C?void 0:C.H)for(const v of Object.keys(C.H))if(C.H[v].r=C.H[v].r||[],C.H[v].L=C.H[v].L||[],C.H[v].r=[...C.H[v].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let lm=null;function cm(C){return lm=lm||function Wb(C){return new Promise((v,y)=>{var I,L,Y;function Ee(){Zb(),gapi.load("gapi.iframes",{callback:()=>{v(gapi.iframes.getContext())},ontimeout:()=>{Zb(),y(rt(C,"network-request-failed"))},timeout:am.get()})}if(null===(L=null===(I=fn().gapi)||void 0===I?void 0:I.iframes)||void 0===L?void 0:L.Iframe)v(gapi.iframes.getContext());else{if(!(null===(Y=fn().gapi)||void 0===Y?void 0:Y.load)){const ze=Tl("iframefcb");return fn()[ze]=()=>{gapi.load?Ee():y(rt(C,"network-request-failed"))},Qc(`https://apis.google.com/js/api.js?onload=${ze}`).catch(Mt=>y(Mt))}Ee()}}).catch(v=>{throw lm=null,v})}(C),lm}const Yd=new zn(5e3,15e3),qb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gb(C){const v=C.config;G(v.authDomain,C,"auth-domain-config-required");const y=v.emulator?Di(v,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:v.apiKey,appName:C.name,v:Ue.SDK_VERSION},L=E_.get(C.config.apiHost);L&&(I.eid=L);const Y=C._getFrameworks();return Y.length&&(I.fw=Y.join(",")),`${y}?${(0,ee.xO)(I).slice(1)}`}function Ip(){return Ip=(0,o.Z)(function*(C){const v=yield cm(C),y=fn().gapi;return G(y,C,"internal-error"),v.open({where:document.body,url:Gb(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qb,dontclear:!0},I=>new Promise(function(){var L=(0,o.Z)(function*(Y,Ee){yield I.restyle({setHideOnLeave:!1});const ze=rt(C,"network-request-failed"),Mt=fn().setTimeout(()=>{Ee(ze)},Yd.get());function Ot(){fn().clearTimeout(Mt),Y(I)}I.ping(Ot).then(Ot,()=>{Ee(ze)})});return function(Y,Ee){return L.apply(this,arguments)}}()))}),Ip.apply(this,arguments)}const f1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $u{constructor(v){this.window=v,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(v){}}}function Qd(C,v,y,I,L,Y){G(C.config.authDomain,C,"auth-domain-config-required"),G(C.config.apiKey,C,"invalid-api-key");const Ee={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:I,v:Ue.SDK_VERSION,eventId:L};if(v instanceof as){v.setDefaultLanguage(C.languageCode),Ee.providerId=v.providerId||"",(0,ee.xb)(v.getCustomParameters())||(Ee.customParameters=JSON.stringify(v.getCustomParameters()));for(const[Mt,Ot]of Object.entries(Y||{}))Ee[Mt]=Ot}if(v instanceof ls){const Mt=v.getScopes().filter(Ot=>""!==Ot);Mt.length>0&&(Ee.scopes=Mt.join(","))}C.tenantId&&(Ee.tid=C.tenantId);const ze=Ee;for(const Mt of Object.keys(ze))void 0===ze[Mt]&&delete ze[Mt];return`${function Yb({config:C}){return C.emulator?Di(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,ee.xO)(ze).slice(1)}`}const m1="webStorageSupport";class Dp extends class ak{constructor(v){this.factorId=v}_process(v,y,I){switch(y.type){case"enroll":return this._finalizeEnroll(v,y.credential,I);case"signin":return this._finalizeSignIn(v,y.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(v){super("phone"),this.credential=v}static _fromCredential(v){return new Dp(v)}_finalizeEnroll(v,y,I){return function xl(C,v){return Gn(C,"POST","/v2/accounts/mfaEnrollment:finalize",Kn(C,v))}(v,{idToken:y,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(v,y){return function zu(C,v){return Gn(C,"POST","/v2/accounts/mfaSignIn:finalize",Kn(C,v))}(v,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fm=(()=>{class C{constructor(){}static assertion(y){return Dp._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var Ap="@firebase/auth";class v1{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const y=this.auth.onIdTokenChanged(I=>{var L;v((null===(L=I)||void 0===L?void 0:L.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,y),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const y=this.internalListeners.get(v);!y||(this.internalListeners.delete(v),y(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nu(){return window}function Jd(){return(Jd=(0,o.Z)(function*(C,v,y){var I;const{BuildInfo:L}=nu();xe(v.sessionId,"AuthEvent did not contain a session ID");const Y=yield M_(v.sessionId),Ee={};return Us()?Ee.ibi=L.packageName:Sr()?Ee.apn=L.packageName:_t(C,"operation-not-supported-in-this-environment"),L.displayName&&(Ee.appDisplayName=L.displayName),Ee.sessionId=Y,Qd(C,y,v.type,void 0,null!==(I=v.eventId)&&void 0!==I?I:void 0,Ee)})).apply(this,arguments)}function df(){return(df=(0,o.Z)(function*(C){const{BuildInfo:v}=nu(),y={};Us()?y.iosBundleId=v.packageName:Sr()?y.androidPackageName=v.packageName:_t(C,"operation-not-supported-in-this-environment"),yield Ep(C,y)})).apply(this,arguments)}function x1(){return(x1=(0,o.Z)(function*(C,v,y){const{cordova:I}=nu();let L=()=>{};try{yield new Promise((Y,Ee)=>{let ze=null;function Mt(){var It;Y();const Vr=null===(It=I.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof Vr&&Vr(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function Ot(){ze||(ze=window.setTimeout(()=>{Ee(rt(C,"redirect-cancelled-by-user"))},2e3))}function In(){"visible"===(null==document?void 0:document.visibilityState)&&Ot()}v.addPassiveListener(Mt),document.addEventListener("resume",Ot,!1),Sr()&&document.addEventListener("visibilitychange",In,!1),L=()=>{v.removePassiveListener(Mt),document.removeEventListener("resume",Ot,!1),document.removeEventListener("visibilitychange",In,!1),ze&&window.clearTimeout(ze)}})}finally{L()}})).apply(this,arguments)}function M_(C){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,o.Z)(function*(C){const v=pm(C),y=yield crypto.subtle.digest("SHA-256",v);return Array.from(new Uint8Array(y)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function pm(C){if(xe(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const v=new ArrayBuffer(C.length),y=new Uint8Array(v);for(let I=0;I<C.length;I++)y[I]=C.charCodeAt(I);return y}!function vR(C){(0,Ue._registerComponent)(new Ne.wA("auth",(v,{options:y})=>{const I=v.getProvider("app").getImmediate(),L=v.getProvider("heartbeat"),{apiKey:Y,authDomain:Ee}=I.options;return((ze,Mt)=>{G(Y&&!Y.includes(":"),"invalid-api-key",{appName:ze.name}),G(!(null==Ee?void 0:Ee.includes(":")),"argument-error",{appName:ze.name});const Ot={apiKey:Y,authDomain:Ee,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jl(C)},In=new en(ze,Mt,Ot);return function He(C,v){const y=(null==v?void 0:v.persistence)||[],I=(Array.isArray(y)?y:[y]).map(De);(null==v?void 0:v.errorMap)&&C._updateErrorMap(v.errorMap),C._initializeWithPersistence(I,null==v?void 0:v.popupRedirectResolver)}(In,y),In})(I,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,y,I)=>{v.getProvider("auth-internal").initialize()})),(0,Ue._registerComponent)(new Ne.wA("auth-internal",v=>{const y=vn(v.getProvider("auth").getImmediate());return new v1(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)(Ap,"0.20.1",function Kb(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,Ue.registerVersion)(Ap,"0.20.1","esm2017")}("Browser");class dk extends C_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(v=>{this.resolveInialized=v})}addPassiveListener(v){this.passiveListeners.add(v)}removePassiveListener(v){this.passiveListeners.delete(v)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(v){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(v)),super.onEvent(v)}initialized(){var v=this;return(0,o.Z)(function*(){yield v.initPromise})()}}function gm(C){return R_.apply(this,arguments)}function R_(){return(R_=(0,o.Z)(function*(C){const v=yield hf()._get(mm(C));return v&&(yield hf()._remove(mm(C))),v})).apply(this,arguments)}function b1(){const C=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const I=Math.floor(Math.random()*v.length);C.push(v.charAt(I))}return C.join("")}function hf(){return De(cs)}function mm(C){return Tr("authEvent",C.config.apiKey,C.name)}function sr(C){if(!(null==C?void 0:C.includes("?")))return{};const[v,...y]=C.split("?");return(0,ee.zd)(y.join("?"))}function L_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rt("no-auth-event")}}function vm(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function C1(C=(0,ee.z$)()){return!("file:"!==vm()&&"ionic:"!==vm()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function V_(){try{const C=self.localStorage,v=it();if(C)return C.setItem(v,"1"),C.removeItem(v),!function T1(C=(0,ee.z$)()){return function Yi(){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ku(C=(0,ee.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,ee.hl)()}catch(C){return us()&&(0,ee.hl)()}return!1}function us(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xd(){return(function tC(){return"http:"===vm()||"https:"===vm()}()||(0,ee.ru)()||C1())&&!function pf(){return(0,ee.b$)()||(0,ee.UG)()}()&&V_()&&!us()}function Op(){return C1()&&"undefined"!=typeof document}function U_(){return(U_=(0,o.Z)(function*(){return!!Op()&&new Promise(C=>{const v=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(v),C(!0)})})})).apply(this,arguments)}const ko={LOCAL:"local",NONE:"none",SESSION:"session"},gf=G,H_="persistence";function j_(C){return z_.apply(this,arguments)}function z_(){return(z_=(0,o.Z)(function*(C){yield C._initializationPromise;const v=W_(),y=Tr(H_,C.config.apiKey,C.name);v&&v.setItem(y,C._getPersistence())})).apply(this,arguments)}function W_(){var C;try{return(null===(C=function E1(){return"undefined"!=typeof window?window:null}())||void 0===C?void 0:C.sessionStorage)||null}catch(v){return null}}const wm=G;class Ol{constructor(){this.browserResolver=De(class ok{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O,this._completeRedirectFn=Ko,this._overrideRedirectResult=P}_openPopup(v,y,I,L){var Y=this;return(0,o.Z)(function*(){var Ee;xe(null===(Ee=Y.eventManagers[v._key()])||void 0===Ee?void 0:Ee.manager,"_initialize() not called before _openPopup()");const ze=Qd(v,y,I,Dt(),L);return function S_(C,v,y,I=500,L=600){const Y=Math.max((window.screen.availHeight-L)/2,0).toString(),Ee=Math.max((window.screen.availWidth-I)/2,0).toString();let ze="";const Mt=Object.assign(Object.assign({},f1),{width:I.toString(),height:L.toString(),top:Y,left:Ee}),Ot=(0,ee.z$)().toLowerCase();y&&(ze=Fc(Ot)?"_blank":y),Rc(Ot)&&(v=v||"http://localhost",Mt.scrollbars="yes");const In=Object.entries(Mt).reduce((Vr,[ds,wc])=>`${Vr}${ds}=${wc},`,"");if(function ma(C=(0,ee.z$)()){var v;return Us(C)&&!!(null===(v=window.navigator)||void 0===v?void 0:v.standalone)}(Ot)&&"_self"!==ze)return function I_(C,v){const y=document.createElement("a");y.href=C,y.target=v;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(I)}(v||"",ze),new $u(null);const It=window.open(v||"",ze,In);G(It,C,"popup-blocked");try{It.focus()}catch(Vr){}return new $u(It)}(v,ze,it())})()}_openRedirect(v,y,I,L){var Y=this;return(0,o.Z)(function*(){return yield Y._originValidation(v),function gr(C){fn().location.href=C}(Qd(v,y,I,Dt(),L)),new Promise(()=>{})})()}_initialize(v){const y=v._key();if(this.eventManagers[y]){const{manager:L,promise:Y}=this.eventManagers[y];return L?Promise.resolve(L):(xe(Y,"If manager is not set, promise should be"),Y)}const I=this.initAndGetManager(v);return this.eventManagers[y]={promise:I},I.catch(()=>{delete this.eventManagers[y]}),I}initAndGetManager(v){var y=this;return(0,o.Z)(function*(){const I=yield function dm(C){return Ip.apply(this,arguments)}(v),L=new C_(v);return I.register("authEvent",Y=>(G(null==Y?void 0:Y.authEvent,v,"invalid-auth-event"),{status:L.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[v._key()]={manager:L},y.iframes[v._key()]=I,L})()}_isIframeWebStorageSupported(v,y){this.iframes[v._key()].send(m1,{type:m1},L=>{var Y;const Ee=null===(Y=null==L?void 0:L[0])||void 0===Y?void 0:Y[m1];void 0!==Ee&&y(!!Ee),_t(v,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(v){const y=v._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Hb(C){return jb.apply(this,arguments)}(v)),this.originValidationPromises[y]}get _shouldInitProactively(){return Ba()||Ql()||Us()}}),this.cordovaResolver=De(class P_{constructor(){this._redirectPersistence=O,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ko,this._overrideRedirectResult=P}_initialize(v){var y=this;return(0,o.Z)(function*(){const I=v._key();let L=y.eventManagers.get(I);return L||(L=new dk(v),y.eventManagers.set(I,L),y.attachCallbackListeners(v,L)),L})()}_openPopup(v){_t(v,"operation-not-supported-in-this-environment")}_openRedirect(v,y,I,L){var Y=this;return(0,o.Z)(function*(){!function ck(C){var v,y,I,L,Y,Ee,ze,Mt,Ot,In;const It=nu();G("function"==typeof(null===(v=null==It?void 0:It.universalLinks)||void 0===v?void 0:v.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),G(void 0!==(null===(y=null==It?void 0:It.BuildInfo)||void 0===y?void 0:y.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),G("function"==typeof(null===(Y=null===(L=null===(I=null==It?void 0:It.cordova)||void 0===I?void 0:I.plugins)||void 0===L?void 0:L.browsertab)||void 0===Y?void 0:Y.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(Mt=null===(ze=null===(Ee=null==It?void 0:It.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===ze?void 0:ze.browsertab)||void 0===Mt?void 0:Mt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),G("function"==typeof(null===(In=null===(Ot=null==It?void 0:It.cordova)||void 0===Ot?void 0:Ot.InAppBrowser)||void 0===In?void 0:In.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(v);const Ee=yield Y._initialize(v);yield Ee.initialized(),Ee.resetRedirect(),function F(){Dl.clear()}(),yield Y._originValidation(v);const ze=function O_(C,v,y=null){return{type:v,eventId:y,urlResponse:null,sessionId:b1(),postBody:null,tenantId:C.tenantId,error:rt(C,"no-auth-event")}}(v,I,L);yield function Qb(C,v){return hf()._set(mm(C),v)}(v,ze);const Mt=yield function vc(C,v,y){return Jd.apply(this,arguments)}(v,ze,y),Ot=yield function A_(C){const{cordova:v}=nu();return new Promise(y=>{v.plugins.browsertab.isAvailable(I=>{let L=null;I?v.plugins.browsertab.openUrl(C):L=v.InAppBrowser.open(C,function Lh(C=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),y(L)})})}(Mt);return function lk(C,v,y){return x1.apply(this,arguments)}(v,Ee,Ot)})()}_isIframeWebStorageSupported(v,y){throw new Error("Method not implemented.")}_originValidation(v){const y=v._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function D_(C){return df.apply(this,arguments)}(v)),this.originValidationPromises[y]}attachCallbackListeners(v,y){const{universalLinks:I,handleOpenURL:L,BuildInfo:Y}=nu(),Ee=setTimeout((0,o.Z)(function*(){yield gm(v),y.onEvent(L_())}),500),ze=function(){var In=(0,o.Z)(function*(It){clearTimeout(Ee);const Vr=yield gm(v);let ds=null;Vr&&(null==It?void 0:It.url)&&(ds=function Jb(C,v){var y,I;const L=function Ka(C){const v=sr(C),y=v.link?decodeURIComponent(v.link):void 0,I=sr(y).link,L=v.deep_link_id?decodeURIComponent(v.deep_link_id):void 0;return sr(L).link||L||I||y||C}(v);if(L.includes("/__/auth/callback")){const Y=sr(L),Ee=Y.firebaseError?function F_(C){try{return JSON.parse(C)}catch(v){return null}}(decodeURIComponent(Y.firebaseError)):null,ze=null===(I=null===(y=null==Ee?void 0:Ee.code)||void 0===y?void 0:y.split("auth/"))||void 0===I?void 0:I[1],Mt=ze?rt(ze):null;return Mt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:L,postBody:null}}return null}(Vr,It.url)),y.onEvent(ds||L_())});return function(Vr){return In.apply(this,arguments)}}();void 0!==I&&"function"==typeof I.subscribe&&I.subscribe(null,ze);const Mt=L,Ot=`${Y.packageName.toLowerCase()}://`;nu().handleOpenURL=function(){var In=(0,o.Z)(function*(It){if(It.toLowerCase().startsWith(Ot)&&ze({url:It}),"function"==typeof Mt)try{Mt(It)}catch(Vr){console.error(Vr)}});return function(It){return In.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=O,this._completeRedirectFn=Ko,this._overrideRedirectResult=P}_initialize(v){var y=this;return(0,o.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(v)})()}_openPopup(v,y,I,L){var Y=this;return(0,o.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(v,y,I,L)})()}_openRedirect(v,y,I,L){var Y=this;return(0,o.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(v,y,I,L)})()}_isIframeWebStorageSupported(v,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(v,y)}_originValidation(v){return this.assertedUnderlyingResolver._originValidation(v)}get _shouldInitProactively(){return Op()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var v=this;return(0,o.Z)(function*(){if(v.underlyingResolver)return;const y=yield function ym(){return U_.apply(this,arguments)}();v.underlyingResolver=y?v.cordovaResolver:v.browserResolver})()}}function I1(C){return C.unwrap()}function xm(C){return D1(C)}function D1(C){const{_tokenResponse:v}=C instanceof ee.ZR?C.customData:C;if(!v)return null;if(!(C instanceof ee.ZR)&&"temporaryProof"in v&&"phoneNumber"in v)return mc.credentialFromResult(C);const y=v.providerId;if(!y||"password"===y)return null;let I;switch(y){case"google.com":I=Wh;break;case"facebook.com":I=tc;break;case"github.com":I=qh;break;case"twitter.com":I=Gh;break;default:const{oauthIdToken:L,oauthAccessToken:Y,oauthTokenSecret:Ee,pendingToken:ze,nonce:Mt}=v;return Y||Ee||L||ze?ze?y.startsWith("saml.")?ja._create(y,ze):ya._fromParams({providerId:y,signInMethod:y,pendingToken:ze,idToken:L,accessToken:Y}):new Zo(y).credential({idToken:L,accessToken:Y,rawNonce:Mt}):null}return C instanceof ee.ZR?I.credentialFromError(C):I.credentialFromResult(C)}function Qo(C,v){return v.catch(y=>{throw y instanceof ee.ZR&&function nC(C,v){var y;const I=null===(y=v.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===v.code)v.resolver=new bm(C,function vr(C,v){var y;const I=(0,ee.m9)(C),L=v;return G(v.customData.operationType,I,"argument-error"),G(null===(y=L.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,I,"argument-error"),wl._fromError(I,L)}(C,v));else if(I){const L=D1(v),Y=v;L&&(Y.credential=L,Y.tenantId=I.tenantId||void 0,Y.email=I.email||void 0,Y.phoneNumber=I.phoneNumber||void 0)}}(C,y),y}).then(y=>{const L=y.user;return{operationType:y.operationType,credential:xm(y),additionalUserInfo:Yo(y),user:yc.getOrCreate(L)}})}function q_(C,v){return G_.apply(this,arguments)}function G_(){return(G_=(0,o.Z)(function*(C,v){const y=yield v;return{verificationId:y.verificationId,confirm:I=>Qo(C,y.confirm(I))}})).apply(this,arguments)}class bm{constructor(v,y){this.resolver=y,this.auth=function k1(C){return C.wrapped()}(v)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(v){return Qo(I1(this.auth),this.resolver.resolveSignIn(v))}}class yc{constructor(v){this._delegate=v,this.multiFactor=function Vu(C){const v=(0,ee.m9)(C);return Ta.has(v)||Ta.set(v,Bu._fromUser(v)),Ta.get(v)}(v)}static getOrCreate(v){return yc.USER_MAP.has(v)||yc.USER_MAP.set(v,new yc(v)),yc.USER_MAP.get(v)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(v){return this._delegate.getIdTokenResult(v)}getIdToken(v){return this._delegate.getIdToken(v)}linkAndRetrieveDataWithCredential(v){return this.linkWithCredential(v)}linkWithCredential(v){var y=this;return(0,o.Z)(function*(){return Qo(y.auth,Kr(y._delegate,v))})()}linkWithPhoneNumber(v,y){var I=this;return(0,o.Z)(function*(){return q_(I.auth,function qu(C,v,y){return sf.apply(this,arguments)}(I._delegate,v,y))})()}linkWithPopup(v){var y=this;return(0,o.Z)(function*(){return Qo(y.auth,function Tp(C,v,y){return Il.apply(this,arguments)}(y._delegate,v,Ol))})()}linkWithRedirect(v){var y=this;return(0,o.Z)(function*(){return yield j_(vn(y.auth)),function Wn(C,v,y){return function Dn(C,v,y){return uo.apply(this,arguments)}(C,v,y)}(y._delegate,v,Ol)})()}reauthenticateAndRetrieveDataWithCredential(v){return this.reauthenticateWithCredential(v)}reauthenticateWithCredential(v){var y=this;return(0,o.Z)(function*(){return Qo(y.auth,qo(y._delegate,v))})()}reauthenticateWithPhoneNumber(v,y){return q_(this.auth,function lo(C,v,y){return co.apply(this,arguments)}(this._delegate,v,y))}reauthenticateWithPopup(v){return Qo(this.auth,function b_(C,v,y){return af.apply(this,arguments)}(this._delegate,v,Ol))}reauthenticateWithRedirect(v){var y=this;return(0,o.Z)(function*(){return yield j_(vn(y.auth)),function Zt(C,v,y){return function Fn(C,v,y){return yn.apply(this,arguments)}(C,v,y)}(y._delegate,v,Ol)})()}sendEmailVerification(v){return function Ou(C,v){return cc.apply(this,arguments)}(this._delegate,v)}unlink(v){var y=this;return(0,o.Z)(function*(){return yield function fp(C,v){return wi.apply(this,arguments)}(y._delegate,v),y})()}updateEmail(v){return function Yh(C,v){return vl((0,ee.m9)(C),v,null)}(this._delegate,v)}updatePassword(v){return function Nu(C,v){return vl((0,ee.m9)(C),null,v)}(this._delegate,v)}updatePhoneNumber(v){return function pc(C,v){return gc.apply(this,arguments)}(this._delegate,v)}updateProfile(v){return function Pu(C,v){return $c.apply(this,arguments)}(this._delegate,v)}verifyBeforeUpdateEmail(v,y){return function Ru(C,v,y){return Fu.apply(this,arguments)}(this._delegate,v,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yc.USER_MAP=new WeakMap;const mf=G;let A1=(()=>{class C{constructor(y,I){if(this.app=y,I.isInitialized())return this._delegate=I.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=y.options;mf(L,"invalid-api-key",{appName:y.name}),mf(L,"invalid-api-key",{appName:y.name});const Y="undefined"!=typeof window?Ol:void 0;this._delegate=I.initialize({options:{persistence:hk(L,y.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(kt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,I){!function Hs(C,v,y){const I=vn(C);G(I._canInitEmulator,I,"emulator-config-failed"),G(/^https?:\/\//.test(v),I,"invalid-emulator-scheme");const L=!!(null==y?void 0:y.disableWarnings),Y=Uo(v),{host:Ee,port:ze}=function _r(C){const v=Uo(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(v.length));if(!y)return{host:"",port:null};const I=y[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(I);if(L){const Y=L[1];return{host:Y,port:so(I.substr(Y.length+1))}}{const[Y,Ee]=I.split(":");return{host:Y,port:so(Ee)}}}(v);I.config.emulator={url:`${Y}//${Ee}${null===ze?"":`:${ze}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Ee,port:ze,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Ii(){function C(){const v=document.createElement("p"),y=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,y,I)}applyActionCode(y){return function ft(C,v){return Zn.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return Du(this._delegate,y)}confirmPasswordReset(y,I){return function Nd(C,v,y){return Ld.apply(this,arguments)}(this._delegate,y,I)}createUserWithEmailAndPassword(y,I){var L=this;return(0,o.Z)(function*(){return Qo(L._delegate,function zs(C,v,y){return Zc.apply(this,arguments)}(L._delegate,y,I))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function Ga(C,v){return Io.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function Wc(C,v){const y=ku.parseLink(v);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,o.Z)(function*(){mf(Xd(),y._delegate,"operation-not-supported-in-this-environment");const I=yield function Br(C,v){return tu.apply(this,arguments)}(y._delegate,Ol);return I?Qo(y._delegate,Promise.resolve(I)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function B_(C,v){vn(C)._logFramework(v)}(this._delegate,y)}onAuthStateChanged(y,I,L){const{next:Y,error:Ee,complete:ze}=M1(y,I,L);return this._delegate.onAuthStateChanged(Y,Ee,ze)}onIdTokenChanged(y,I,L){const{next:Y,error:Ee,complete:ze}=M1(y,I,L);return this._delegate.onIdTokenChanged(Y,Ee,ze)}sendSignInLinkToEmail(y,I){return function Jg(C,v,y){return Au.apply(this,arguments)}(this._delegate,y,I)}sendPasswordResetEmail(y,I){return function lc(C,v,y){return zc.apply(this,arguments)}(this._delegate,y,I||void 0)}setPersistence(y){var I=this;return(0,o.Z)(function*(){let L;switch(function S1(C,v){gf(Object.values(ko).includes(v),C,"invalid-persistence-type"),(0,ee.b$)()?gf(v!==ko.SESSION,C,"unsupported-persistence-type"):(0,ee.UG)()?gf(v===ko.NONE,C,"unsupported-persistence-type"):us()?gf(v===ko.NONE||v===ko.LOCAL&&(0,ee.hl)(),C,"unsupported-persistence-type"):gf(v===ko.NONE||V_(),C,"unsupported-persistence-type")}(I._delegate,y),y){case ko.SESSION:L=O;break;case ko.LOCAL:L=(yield De(ju)._isAvailable())?ju:cs;break;case ko.NONE:L=Mn;break;default:return _t("argument-error",{appName:I._delegate.name})}return I._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return Qo(this._delegate,function $h(C){return Rd.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return Qo(this._delegate,qi(this._delegate,y))}signInWithCustomToken(y){return Qo(this._delegate,function oc(C,v){return En.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,I){return Qo(this._delegate,function Bd(C,v,y){return qi((0,ee.m9)(C),Zh.credential(v,y))}(this._delegate,y,I))}signInWithEmailLink(y,I){return Qo(this._delegate,function Mu(C,v,y){return pr.apply(this,arguments)}(this._delegate,y,I))}signInWithPhoneNumber(y,I){return q_(this._delegate,function bp(C,v,y){return El.apply(this,arguments)}(this._delegate,y,I))}signInWithPopup(y){var I=this;return(0,o.Z)(function*(){return mf(Xd(),I._delegate,"operation-not-supported-in-this-environment"),Qo(I._delegate,function Cp(C,v,y){return Sl.apply(this,arguments)}(I._delegate,y,Ol))})()}signInWithRedirect(y){var I=this;return(0,o.Z)(function*(){return mf(Xd(),I._delegate,"operation-not-supported-in-this-environment"),yield j_(I._delegate),function ke(C,v,y){return function je(C,v,y){return Et.apply(this,arguments)}(C,v,y)}(I._delegate,y,Ol)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function _l(C,v){return qa.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=ko,C})();function M1(C,v,y){let I=C;"function"!=typeof C&&({next:I,error:v,complete:y}=C);const L=I;return{next:Ee=>L(Ee&&yc.getOrCreate(Ee)),error:v,complete:y}}function hk(C,v){const y=function Z_(C,v){const y=W_();if(!y)return[];const I=Tr(H_,C,v);switch(y.getItem(I)){case ko.NONE:return[Mn];case ko.LOCAL:return[ju,O];case ko.SESSION:return[O];default:return[]}}(C,v);if("undefined"!=typeof self&&!y.includes(ju)&&y.push(ju),"undefined"!=typeof window)for(const I of[cs,O])y.includes(I)||y.push(I);return y.includes(Mn)||y.push(Mn),y}class _f{constructor(){this.providerId="phone",this._delegate=new mc(I1(Ie.Z.auth()))}static credential(v,y){return mc.credential(v,y)}verifyPhoneNumber(v,y){return this._delegate.verifyPhoneNumber(v,y)}unwrap(){return this._delegate}}_f.PHONE_SIGN_IN_METHOD=mc.PHONE_SIGN_IN_METHOD,_f.PROVIDER_ID=mc.PROVIDER_ID;const iC=G;class rC{constructor(v,y,I=Ie.Z.app()){var L;iC(null===(L=I.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:I.name}),this._delegate=new qd(v,y,I.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ki(C){C.INTERNAL.registerComponent(new Ne.wA("auth-compat",v=>{const y=v.getProvider("app-compat").getImmediate(),I=v.getProvider("auth");return new A1(y,I)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Zh,FacebookAuthProvider:tc,GithubAuthProvider:qh,GoogleAuthProvider:Wh,OAuthProvider:Zo,SAMLAuthProvider:Cs,PhoneAuthProvider:_f,PhoneMultiFactorGenerator:fm,RecaptchaVerifier:rC,TwitterAuthProvider:Gh,Auth:A1,AuthCredential:oo,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.2.14")}(Ie.Z)},8306:(sn,tt,J)=>{"use strict";J.d(tt,{y:()=>_e});var o=J(930),Ie=J(727),ee=J(8822),Ue=J(4671);var Ne=J(2416),Ze=J(576),$e=J(2806);let _e=(()=>{class yt{constructor(Vt){Vt&&(this._subscribe=Vt)}lift(Vt){const Qe=new yt;return Qe.source=this,Qe.operator=Vt,Qe}subscribe(Vt,Qe,dt){const Gt=function zt(yt){return yt&&yt instanceof o.Lv||function Re(yt){return yt&&(0,Ze.m)(yt.next)&&(0,Ze.m)(yt.error)&&(0,Ze.m)(yt.complete)}(yt)&&(0,Ie.Nn)(yt)}(Vt)?Vt:new o.Hp(Vt,Qe,dt);return(0,$e.x)(()=>{const{operator:rn,source:_t}=this;Gt.add(rn?rn.call(Gt,_t):_t?this._subscribe(Gt):this._trySubscribe(Gt))}),Gt}_trySubscribe(Vt){try{return this._subscribe(Vt)}catch(Qe){Vt.error(Qe)}}forEach(Vt,Qe){return new(Qe=ve(Qe))((dt,Gt)=>{const rn=new o.Hp({next:_t=>{try{Vt(_t)}catch(rt){Gt(rt),rn.unsubscribe()}},error:Gt,complete:dt});this.subscribe(rn)})}_subscribe(Vt){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Vt)}[ee.L](){return this}pipe(...Vt){return function et(yt){return 0===yt.length?Ue.y:1===yt.length?yt[0]:function(Vt){return yt.reduce((Qe,dt)=>dt(Qe),Vt)}}(Vt)(this)}toPromise(Vt){return new(Vt=ve(Vt))((Qe,dt)=>{let Gt;this.subscribe(rn=>Gt=rn,rn=>dt(rn),()=>Qe(Gt))})}}return yt.create=kt=>new yt(kt),yt})();function ve(yt){var kt;return null!==(kt=null!=yt?yt:Ne.v.Promise)&&void 0!==kt?kt:Promise}},7579:(sn,tt,J)=>{"use strict";J.d(tt,{x:()=>Ne});var o=J(8306),Ie=J(727);const Ue=(0,J(3888).d)($e=>function(){$e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=J(8737),et=J(2806);let Ne=(()=>{class $e extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const Re=new Ze(this,this);return Re.operator=ve,Re}_throwIfClosed(){if(this.closed)throw new Ue}next(ve){(0,et.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Re of this.currentObservers)Re.next(ve)}})}error(ve){(0,et.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:Re}=this;for(;Re.length;)Re.shift().error(ve)}})}complete(){(0,et.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:Re,isStopped:zt,observers:yt}=this;return Re||zt?Ie.Lc:(this.currentObservers=null,yt.push(ve),new Ie.w0(()=>{this.currentObservers=null,(0,Ve.P)(yt,ve)}))}_checkFinalizedStatuses(ve){const{hasError:Re,thrownError:zt,isStopped:yt}=this;Re?ve.error(zt):yt&&ve.complete()}asObservable(){const ve=new o.y;return ve.source=this,ve}}return $e.create=(_e,ve)=>new Ze(_e,ve),$e})();class Ze extends Ne{constructor(_e,ve){super(),this.destination=_e,this.source=ve}next(_e){var ve,Re;null===(Re=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===Re||Re.call(ve,_e)}error(_e){var ve,Re;null===(Re=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===Re||Re.call(ve,_e)}complete(){var _e,ve;null===(ve=null===(_e=this.destination)||void 0===_e?void 0:_e.complete)||void 0===ve||ve.call(_e)}_subscribe(_e){var ve,Re;return null!==(Re=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(_e))&&void 0!==Re?Re:Ie.Lc}}},930:(sn,tt,J)=>{"use strict";J.d(tt,{Hp:()=>Vt,Lv:()=>Re});var o=J(576),Ie=J(727),ee=J(2416),Ue=J(7849),Ve=J(5032);const et=$e("C",void 0,void 0);function $e(_t,rt,ut){return{kind:_t,value:rt,error:ut}}var _e=J(3410),ve=J(2806);class Re extends Ie.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,Ie.Nn)(rt)&&rt.add(this)):this.destination=rn}static create(rt,ut,Ht){return new Vt(rt,ut,Ht)}next(rt){this.isStopped?Gt(function Ze(_t){return $e("N",_t,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?Gt(function Ne(_t){return $e("E",void 0,_t)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?Gt(et,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const zt=Function.prototype.bind;function yt(_t,rt){return zt.call(_t,rt)}class kt{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:ut}=this;if(ut.next)try{ut.next(rt)}catch(Ht){Qe(Ht)}}error(rt){const{partialObserver:ut}=this;if(ut.error)try{ut.error(rt)}catch(Ht){Qe(Ht)}else Qe(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(ut){Qe(ut)}}}class Vt extends Re{constructor(rt,ut,Ht){let Ut;if(super(),(0,o.m)(rt)||!rt)Ut={next:null!=rt?rt:void 0,error:null!=ut?ut:void 0,complete:null!=Ht?Ht:void 0};else{let G;this&&ee.v.useDeprecatedNextContext?(G=Object.create(rt),G.unsubscribe=()=>this.unsubscribe(),Ut={next:rt.next&&yt(rt.next,G),error:rt.error&&yt(rt.error,G),complete:rt.complete&&yt(rt.complete,G)}):Ut=rt}this.destination=new kt(Ut)}}function Qe(_t){ee.v.useDeprecatedSynchronousErrorHandling?(0,ve.O)(_t):(0,Ue.h)(_t)}function Gt(_t,rt){const{onStoppedNotification:ut}=ee.v;ut&&_e.z.setTimeout(()=>ut(_t,rt))}const rn={closed:!0,next:Ve.Z,error:function dt(_t){throw _t},complete:Ve.Z}},727:(sn,tt,J)=>{"use strict";J.d(tt,{Lc:()=>et,w0:()=>Ve,Nn:()=>Ne});var o=J(576);const ee=(0,J(3888).d)($e=>function(ve){$e(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map((Re,zt)=>`${zt+1}) ${Re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var Ue=J(8737);class Ve{constructor(_e){this.initialTeardown=_e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let _e;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const yt of ve)yt.remove(this);else ve.remove(this);const{initialTeardown:Re}=this;if((0,o.m)(Re))try{Re()}catch(yt){_e=yt instanceof ee?yt.errors:[yt]}const{_finalizers:zt}=this;if(zt){this._finalizers=null;for(const yt of zt)try{Ze(yt)}catch(kt){_e=null!=_e?_e:[],kt instanceof ee?_e=[..._e,...kt.errors]:_e.push(kt)}}if(_e)throw new ee(_e)}}add(_e){var ve;if(_e&&_e!==this)if(this.closed)Ze(_e);else{if(_e instanceof Ve){if(_e.closed||_e._hasParent(this))return;_e._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(_e)}}_hasParent(_e){const{_parentage:ve}=this;return ve===_e||Array.isArray(ve)&&ve.includes(_e)}_addParent(_e){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(_e),ve):ve?[ve,_e]:_e}_removeParent(_e){const{_parentage:ve}=this;ve===_e?this._parentage=null:Array.isArray(ve)&&(0,Ue.P)(ve,_e)}remove(_e){const{_finalizers:ve}=this;ve&&(0,Ue.P)(ve,_e),_e instanceof Ve&&_e._removeParent(this)}}Ve.EMPTY=(()=>{const $e=new Ve;return $e.closed=!0,$e})();const et=Ve.EMPTY;function Ne($e){return $e instanceof Ve||$e&&"closed"in $e&&(0,o.m)($e.remove)&&(0,o.m)($e.add)&&(0,o.m)($e.unsubscribe)}function Ze($e){(0,o.m)($e)?$e():$e.unsubscribe()}},2416:(sn,tt,J)=>{"use strict";J.d(tt,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(sn,tt,J)=>{"use strict";J.d(tt,{E:()=>Ie});const Ie=new(J(8306).y)(Ve=>Ve.complete())},8996:(sn,tt,J)=>{"use strict";J.d(tt,{D:()=>rt});var o=J(8421),Ie=J(5363),ee=J(9468),et=J(8306),Ze=J(2202),$e=J(576),_e=J(9672);function Re(ut,Ht){if(!ut)throw new Error("Iterable cannot be null");return new et.y(Ut=>{(0,_e.f)(Ut,Ht,()=>{const G=ut[Symbol.asyncIterator]();(0,_e.f)(Ut,Ht,()=>{G.next().then(nt=>{nt.done?Ut.complete():Ut.next(nt.value)})},0,!0)})})}var zt=J(3670),yt=J(8239),kt=J(1144),Vt=J(6495),Qe=J(2206),dt=J(4532),Gt=J(3260);function rt(ut,Ht){return Ht?function _t(ut,Ht){if(null!=ut){if((0,zt.c)(ut))return function Ue(ut,Ht){return(0,o.Xf)(ut).pipe((0,ee.R)(Ht),(0,Ie.Q)(Ht))}(ut,Ht);if((0,kt.z)(ut))return function Ne(ut,Ht){return new et.y(Ut=>{let G=0;return Ht.schedule(function(){G===ut.length?Ut.complete():(Ut.next(ut[G++]),Ut.closed||this.schedule())})})}(ut,Ht);if((0,yt.t)(ut))return function Ve(ut,Ht){return(0,o.Xf)(ut).pipe((0,ee.R)(Ht),(0,Ie.Q)(Ht))}(ut,Ht);if((0,Qe.D)(ut))return Re(ut,Ht);if((0,Vt.T)(ut))return function ve(ut,Ht){return new et.y(Ut=>{let G;return(0,_e.f)(Ut,Ht,()=>{G=ut[Ze.h](),(0,_e.f)(Ut,Ht,()=>{let nt,xe;try{({value:nt,done:xe}=G.next())}catch(Le){return void Ut.error(Le)}xe?Ut.complete():Ut.next(nt)},0,!0)}),()=>(0,$e.m)(null==G?void 0:G.return)&&G.return()})}(ut,Ht);if((0,Gt.L)(ut))return function rn(ut,Ht){return Re((0,Gt.Q)(ut),Ht)}(ut,Ht)}throw(0,dt.z)(ut)}(ut,Ht):(0,o.Xf)(ut)}},8421:(sn,tt,J)=>{"use strict";J.d(tt,{Xf:()=>zt});var o=J(655),Ie=J(1144),ee=J(8239),Ue=J(8306),Ve=J(3670),et=J(2206),Ne=J(4532),Ze=J(6495),$e=J(3260),_e=J(576),ve=J(7849),Re=J(8822);function zt(_t){if(_t instanceof Ue.y)return _t;if(null!=_t){if((0,Ve.c)(_t))return function yt(_t){return new Ue.y(rt=>{const ut=_t[Re.L]();if((0,_e.m)(ut.subscribe))return ut.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_t);if((0,Ie.z)(_t))return function kt(_t){return new Ue.y(rt=>{for(let ut=0;ut<_t.length&&!rt.closed;ut++)rt.next(_t[ut]);rt.complete()})}(_t);if((0,ee.t)(_t))return function Vt(_t){return new Ue.y(rt=>{_t.then(ut=>{rt.closed||(rt.next(ut),rt.complete())},ut=>rt.error(ut)).then(null,ve.h)})}(_t);if((0,et.D)(_t))return dt(_t);if((0,Ze.T)(_t))return function Qe(_t){return new Ue.y(rt=>{for(const ut of _t)if(rt.next(ut),rt.closed)return;rt.complete()})}(_t);if((0,$e.L)(_t))return function Gt(_t){return dt((0,$e.Q)(_t))}(_t)}throw(0,Ne.z)(_t)}function dt(_t){return new Ue.y(rt=>{(function rn(_t,rt){var ut,Ht,Ut,G;return(0,o.mG)(this,void 0,void 0,function*(){try{for(ut=(0,o.KL)(_t);!(Ht=yield ut.next()).done;)if(rt.next(Ht.value),rt.closed)return}catch(nt){Ut={error:nt}}finally{try{Ht&&!Ht.done&&(G=ut.return)&&(yield G.call(ut))}finally{if(Ut)throw Ut.error}}rt.complete()})})(_t,rt).catch(ut=>rt.error(ut))})}},6451:(sn,tt,J)=>{"use strict";J.d(tt,{T:()=>et});var o=J(8189),Ie=J(8421),ee=J(515),Ue=J(3269),Ve=J(8996);function et(...Ne){const Ze=(0,Ue.yG)(Ne),$e=(0,Ue._6)(Ne,1/0),_e=Ne;return _e.length?1===_e.length?(0,Ie.Xf)(_e[0]):(0,o.J)($e)((0,Ve.D)(_e,Ze)):ee.E}},5403:(sn,tt,J)=>{"use strict";J.d(tt,{x:()=>Ie});var o=J(930);function Ie(Ue,Ve,et,Ne,Ze){return new ee(Ue,Ve,et,Ne,Ze)}class ee extends o.Lv{constructor(Ve,et,Ne,Ze,$e,_e){super(Ve),this.onFinalize=$e,this.shouldUnsubscribe=_e,this._next=et?function(ve){try{et(ve)}catch(Re){Ve.error(Re)}}:super._next,this._error=Ze?function(ve){try{Ze(ve)}catch(Re){Ve.error(Re)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(ve){Ve.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ve;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:et}=this;super.unsubscribe(),!et&&(null===(Ve=this.onFinalize)||void 0===Ve||Ve.call(this))}}}},4004:(sn,tt,J)=>{"use strict";J.d(tt,{U:()=>ee});var o=J(4482),Ie=J(5403);function ee(Ue,Ve){return(0,o.e)((et,Ne)=>{let Ze=0;et.subscribe((0,Ie.x)(Ne,$e=>{Ne.next(Ue.call(Ve,$e,Ze++))}))})}},8189:(sn,tt,J)=>{"use strict";J.d(tt,{J:()=>ee});var o=J(5577),Ie=J(4671);function ee(Ue=1/0){return(0,o.z)(Ie.y,Ue)}},5577:(sn,tt,J)=>{"use strict";J.d(tt,{z:()=>Ze});var o=J(4004),Ie=J(8421),ee=J(4482),Ue=J(9672),Ve=J(5403),Ne=J(576);function Ze($e,_e,ve=1/0){return(0,Ne.m)(_e)?Ze((Re,zt)=>(0,o.U)((yt,kt)=>_e(Re,yt,zt,kt))((0,Ie.Xf)($e(Re,zt))),ve):("number"==typeof _e&&(ve=_e),(0,ee.e)((Re,zt)=>function et($e,_e,ve,Re,zt,yt,kt,Vt){const Qe=[];let dt=0,Gt=0,rn=!1;const _t=()=>{rn&&!Qe.length&&!dt&&_e.complete()},rt=Ht=>dt<Re?ut(Ht):Qe.push(Ht),ut=Ht=>{yt&&_e.next(Ht),dt++;let Ut=!1;(0,Ie.Xf)(ve(Ht,Gt++)).subscribe((0,Ve.x)(_e,G=>{null==zt||zt(G),yt?rt(G):_e.next(G)},()=>{Ut=!0},void 0,()=>{if(Ut)try{for(dt--;Qe.length&&dt<Re;){const G=Qe.shift();kt?(0,Ue.f)(_e,kt,()=>ut(G)):ut(G)}_t()}catch(G){_e.error(G)}}))};return $e.subscribe((0,Ve.x)(_e,rt,()=>{rn=!0,_t()})),()=>{null==Vt||Vt()}}(Re,zt,$e,ve)))}},5363:(sn,tt,J)=>{"use strict";J.d(tt,{Q:()=>Ue});var o=J(9672),Ie=J(4482),ee=J(5403);function Ue(Ve,et=0){return(0,Ie.e)((Ne,Ze)=>{Ne.subscribe((0,ee.x)(Ze,$e=>(0,o.f)(Ze,Ve,()=>Ze.next($e),et),()=>(0,o.f)(Ze,Ve,()=>Ze.complete(),et),$e=>(0,o.f)(Ze,Ve,()=>Ze.error($e),et)))})}},3099:(sn,tt,J)=>{"use strict";J.d(tt,{B:()=>et});var o=J(8996),Ie=J(5698),ee=J(7579),Ue=J(930),Ve=J(4482);function et(Ze={}){const{connector:$e=(()=>new ee.x),resetOnError:_e=!0,resetOnComplete:ve=!0,resetOnRefCountZero:Re=!0}=Ze;return zt=>{let yt=null,kt=null,Vt=null,Qe=0,dt=!1,Gt=!1;const rn=()=>{null==kt||kt.unsubscribe(),kt=null},_t=()=>{rn(),yt=Vt=null,dt=Gt=!1},rt=()=>{const ut=yt;_t(),null==ut||ut.unsubscribe()};return(0,Ve.e)((ut,Ht)=>{Qe++,!Gt&&!dt&&rn();const Ut=Vt=null!=Vt?Vt:$e();Ht.add(()=>{Qe--,0===Qe&&!Gt&&!dt&&(kt=Ne(rt,Re))}),Ut.subscribe(Ht),yt||(yt=new Ue.Hp({next:G=>Ut.next(G),error:G=>{Gt=!0,rn(),kt=Ne(_t,_e,G),Ut.error(G)},complete:()=>{dt=!0,rn(),kt=Ne(_t,ve),Ut.complete()}}),(0,o.D)(ut).subscribe(yt))})(zt)}}function Ne(Ze,$e,..._e){return!0===$e?(Ze(),null):!1===$e?null:$e(..._e).pipe((0,Ie.q)(1)).subscribe(()=>Ze())}},9468:(sn,tt,J)=>{"use strict";J.d(tt,{R:()=>Ie});var o=J(4482);function Ie(ee,Ue=0){return(0,o.e)((Ve,et)=>{et.add(ee.schedule(()=>Ve.subscribe(et),Ue))})}},5698:(sn,tt,J)=>{"use strict";J.d(tt,{q:()=>Ue});var o=J(515),Ie=J(4482),ee=J(5403);function Ue(Ve){return Ve<=0?()=>o.E:(0,Ie.e)((et,Ne)=>{let Ze=0;et.subscribe((0,ee.x)(Ne,$e=>{++Ze<=Ve&&(Ne.next($e),Ve<=Ze&&Ne.complete())}))})}},8505:(sn,tt,J)=>{"use strict";J.d(tt,{b:()=>Ve});var o=J(576),Ie=J(4482),ee=J(5403),Ue=J(4671);function Ve(et,Ne,Ze){const $e=(0,o.m)(et)||Ne||Ze?{next:et,error:Ne,complete:Ze}:et;return $e?(0,Ie.e)((_e,ve)=>{var Re;null===(Re=$e.subscribe)||void 0===Re||Re.call($e);let zt=!0;_e.subscribe((0,ee.x)(ve,yt=>{var kt;null===(kt=$e.next)||void 0===kt||kt.call($e,yt),ve.next(yt)},()=>{var yt;zt=!1,null===(yt=$e.complete)||void 0===yt||yt.call($e),ve.complete()},yt=>{var kt;zt=!1,null===(kt=$e.error)||void 0===kt||kt.call($e,yt),ve.error(yt)},()=>{var yt,kt;zt&&(null===(yt=$e.unsubscribe)||void 0===yt||yt.call($e)),null===(kt=$e.finalize)||void 0===kt||kt.call($e)}))}):Ue.y}},4408:(sn,tt,J)=>{"use strict";J.d(tt,{o:()=>Ve});var o=J(727);class Ie extends o.w0{constructor(Ne,Ze){super()}schedule(Ne,Ze=0){return this}}const ee={setInterval(et,Ne,...Ze){const{delegate:$e}=ee;return(null==$e?void 0:$e.setInterval)?$e.setInterval(et,Ne,...Ze):setInterval(et,Ne,...Ze)},clearInterval(et){const{delegate:Ne}=ee;return((null==Ne?void 0:Ne.clearInterval)||clearInterval)(et)},delegate:void 0};var Ue=J(8737);class Ve extends Ie{constructor(Ne,Ze){super(Ne,Ze),this.scheduler=Ne,this.work=Ze,this.pending=!1}schedule(Ne,Ze=0){if(this.closed)return this;this.state=Ne;const $e=this.id,_e=this.scheduler;return null!=$e&&(this.id=this.recycleAsyncId(_e,$e,Ze)),this.pending=!0,this.delay=Ze,this.id=this.id||this.requestAsyncId(_e,this.id,Ze),this}requestAsyncId(Ne,Ze,$e=0){return ee.setInterval(Ne.flush.bind(Ne,this),$e)}recycleAsyncId(Ne,Ze,$e=0){if(null!=$e&&this.delay===$e&&!1===this.pending)return Ze;ee.clearInterval(Ze)}execute(Ne,Ze){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Ne,Ze);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,Ze){let _e,$e=!1;try{this.work(Ne)}catch(ve){$e=!0,_e=ve||new Error("Scheduled action threw falsy error")}if($e)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:Ne,scheduler:Ze}=this,{actions:$e}=Ze;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ue.P)($e,this),null!=Ne&&(this.id=this.recycleAsyncId(Ze,Ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(sn,tt,J)=>{"use strict";J.d(tt,{v:()=>ee});var o=J(6063);class Ie{constructor(Ve,et=Ie.now){this.schedulerActionCtor=Ve,this.now=et}schedule(Ve,et=0,Ne){return new this.schedulerActionCtor(this,Ve).schedule(Ne,et)}}Ie.now=o.l.now;class ee extends Ie{constructor(Ve,et=Ie.now){super(Ve,et),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ve){const{actions:et}=this;if(this._active)return void et.push(Ve);let Ne;this._active=!0;do{if(Ne=Ve.execute(Ve.state,Ve.delay))break}while(Ve=et.shift());if(this._active=!1,Ne){for(;Ve=et.shift();)Ve.unsubscribe();throw Ne}}}},4986:(sn,tt,J)=>{"use strict";J.d(tt,{P:()=>Ue,z:()=>ee});var o=J(4408);const ee=new(J(7565).v)(o.o),Ue=ee},6063:(sn,tt,J)=>{"use strict";J.d(tt,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(sn,tt,J)=>{"use strict";J.d(tt,{z:()=>o});const o={setTimeout(Ie,ee,...Ue){const{delegate:Ve}=o;return(null==Ve?void 0:Ve.setTimeout)?Ve.setTimeout(Ie,ee,...Ue):setTimeout(Ie,ee,...Ue)},clearTimeout(Ie){const{delegate:ee}=o;return((null==ee?void 0:ee.clearTimeout)||clearTimeout)(Ie)},delegate:void 0}},2202:(sn,tt,J)=>{"use strict";J.d(tt,{h:()=>Ie});const Ie=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(sn,tt,J)=>{"use strict";J.d(tt,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(sn,tt,J)=>{"use strict";J.d(tt,{_6:()=>et,jO:()=>Ue,yG:()=>Ve});var o=J(576),Ie=J(3532);function ee(Ne){return Ne[Ne.length-1]}function Ue(Ne){return(0,o.m)(ee(Ne))?Ne.pop():void 0}function Ve(Ne){return(0,Ie.K)(ee(Ne))?Ne.pop():void 0}function et(Ne,Ze){return"number"==typeof ee(Ne)?Ne.pop():Ze}},8737:(sn,tt,J)=>{"use strict";function o(Ie,ee){if(Ie){const Ue=Ie.indexOf(ee);0<=Ue&&Ie.splice(Ue,1)}}J.d(tt,{P:()=>o})},3888:(sn,tt,J)=>{"use strict";function o(Ie){const Ue=Ie(Ve=>{Error.call(Ve),Ve.stack=(new Error).stack});return Ue.prototype=Object.create(Error.prototype),Ue.prototype.constructor=Ue,Ue}J.d(tt,{d:()=>o})},2806:(sn,tt,J)=>{"use strict";J.d(tt,{O:()=>Ue,x:()=>ee});var o=J(2416);let Ie=null;function ee(Ve){if(o.v.useDeprecatedSynchronousErrorHandling){const et=!Ie;if(et&&(Ie={errorThrown:!1,error:null}),Ve(),et){const{errorThrown:Ne,error:Ze}=Ie;if(Ie=null,Ne)throw Ze}}else Ve()}function Ue(Ve){o.v.useDeprecatedSynchronousErrorHandling&&Ie&&(Ie.errorThrown=!0,Ie.error=Ve)}},9672:(sn,tt,J)=>{"use strict";function o(Ie,ee,Ue,Ve=0,et=!1){const Ne=ee.schedule(function(){Ue(),et?Ie.add(this.schedule(null,Ve)):this.unsubscribe()},Ve);if(Ie.add(Ne),!et)return Ne}J.d(tt,{f:()=>o})},4671:(sn,tt,J)=>{"use strict";function o(Ie){return Ie}J.d(tt,{y:()=>o})},1144:(sn,tt,J)=>{"use strict";J.d(tt,{z:()=>o});const o=Ie=>Ie&&"number"==typeof Ie.length&&"function"!=typeof Ie},2206:(sn,tt,J)=>{"use strict";J.d(tt,{D:()=>Ie});var o=J(576);function Ie(ee){return Symbol.asyncIterator&&(0,o.m)(null==ee?void 0:ee[Symbol.asyncIterator])}},576:(sn,tt,J)=>{"use strict";function o(Ie){return"function"==typeof Ie}J.d(tt,{m:()=>o})},3670:(sn,tt,J)=>{"use strict";J.d(tt,{c:()=>ee});var o=J(8822),Ie=J(576);function ee(Ue){return(0,Ie.m)(Ue[o.L])}},6495:(sn,tt,J)=>{"use strict";J.d(tt,{T:()=>ee});var o=J(2202),Ie=J(576);function ee(Ue){return(0,Ie.m)(null==Ue?void 0:Ue[o.h])}},8239:(sn,tt,J)=>{"use strict";J.d(tt,{t:()=>Ie});var o=J(576);function Ie(ee){return(0,o.m)(null==ee?void 0:ee.then)}},3260:(sn,tt,J)=>{"use strict";J.d(tt,{L:()=>Ue,Q:()=>ee});var o=J(655),Ie=J(576);function ee(Ve){return(0,o.FC)(this,arguments,function*(){const Ne=Ve.getReader();try{for(;;){const{value:Ze,done:$e}=yield(0,o.qq)(Ne.read());if($e)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(Ze)}}finally{Ne.releaseLock()}})}function Ue(Ve){return(0,Ie.m)(null==Ve?void 0:Ve.getReader)}},3532:(sn,tt,J)=>{"use strict";J.d(tt,{K:()=>Ie});var o=J(576);function Ie(ee){return ee&&(0,o.m)(ee.schedule)}},4482:(sn,tt,J)=>{"use strict";J.d(tt,{A:()=>Ie,e:()=>ee});var o=J(576);function Ie(Ue){return(0,o.m)(null==Ue?void 0:Ue.lift)}function ee(Ue){return Ve=>{if(Ie(Ve))return Ve.lift(function(et){try{return Ue(et,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(sn,tt,J)=>{"use strict";function o(){}J.d(tt,{Z:()=>o})},7849:(sn,tt,J)=>{"use strict";J.d(tt,{h:()=>ee});var o=J(2416),Ie=J(3410);function ee(Ue){Ie.z.setTimeout(()=>{const{onUnhandledError:Ve}=o.v;if(!Ve)throw Ue;Ve(Ue)})}},4532:(sn,tt,J)=>{"use strict";function o(Ie){return new TypeError(`You provided ${null!==Ie&&"object"==typeof Ie?"an invalid object":`'${Ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}J.d(tt,{z:()=>o})},5226:function(sn){sn.exports=function(){"use strict";const tt="SweetAlert2:",o=D=>D.charAt(0).toUpperCase()+D.slice(1),Ie=D=>Array.prototype.slice.call(D),ee=D=>{console.warn("".concat(tt," ").concat("object"==typeof D?D.join(" "):D))},Ue=D=>{console.error("".concat(tt," ").concat(D))},Ve=[],Ne=(D,O)=>{(D=>{Ve.includes(D)||(Ve.push(D),ee(D))})('"'.concat(D,'" is deprecated and will be removed in the next major release. Please use "').concat(O,'" instead.'))},Ze=D=>"function"==typeof D?D():D,$e=D=>D&&"function"==typeof D.toPromise,_e=D=>$e(D)?D.toPromise():Promise.resolve(D),ve=D=>D&&Promise.resolve(D)===D,zt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},yt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],kt={},Vt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Qe=D=>Object.prototype.hasOwnProperty.call(zt,D),dt=D=>-1!==yt.indexOf(D),Gt=D=>kt[D],rn=D=>{Qe(D)||ee('Unknown parameter "'.concat(D,'"'))},_t=D=>{Vt.includes(D)&&ee('The parameter "'.concat(D,'" is incompatible with toasts'))},rt=D=>{Gt(D)&&Ne(D,Gt(D))},Ut=D=>{const O={};for(const H in D)O[D[H]]="swal2-"+D[H];return O},G=Ut(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),nt=Ut(["success","warning","info","question","error"]),xe=()=>document.body.querySelector(".".concat(G.container)),Le=D=>{const O=xe();return O?O.querySelector(D):null},De=D=>Le(".".concat(D)),Pe=()=>De(G.popup),He=()=>De(G.icon),Dt=()=>De(G.title),mn=()=>De(G["html-container"]),ni=()=>De(G.image),qn=()=>De(G["progress-steps"]),tn=()=>De(G["validation-message"]),zn=()=>Le(".".concat(G.actions," .").concat(G.confirm)),Di=()=>Le(".".concat(G.actions," .").concat(G.deny)),Xn=()=>Le(".".concat(G.loader)),dr=()=>Le(".".concat(G.actions," .").concat(G.cancel)),Kn=()=>De(G.actions),Gn=()=>De(G.footer),Bs=()=>De(G["timer-progress-bar"]),ys=()=>De(G.close),Zr=()=>{const D=Ie(Pe().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((H,re)=>{const it=parseInt(H.getAttribute("tabindex")),gn=parseInt(re.getAttribute("tabindex"));return it>gn?1:it<gn?-1:0}),O=Ie(Pe().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(H=>"-1"!==H.getAttribute("tabindex"));return(D=>{const O=[];for(let H=0;H<D.length;H++)-1===O.indexOf(D[H])&&O.push(D[H]);return O})(D.concat(O)).filter(H=>An(H))},ro=()=>hr(document.body,G.shown)&&!hr(document.body,G["toast-shown"])&&!hr(document.body,G["no-backdrop"]),To=()=>Pe()&&hr(Pe(),G.toast),ss={previousBodyPadding:null},ln=(D,O)=>{if(D.textContent="",O){const re=(new DOMParser).parseFromString(O,"text/html");Ie(re.querySelector("head").childNodes).forEach(it=>{D.appendChild(it)}),Ie(re.querySelector("body").childNodes).forEach(it=>{D.appendChild(it)})}},hr=(D,O)=>{if(!O)return!1;const H=O.split(/\s+/);for(let re=0;re<H.length;re++)if(!D.classList.contains(H[re]))return!1;return!0},di=(D,O,H)=>{if(((D,O)=>{Ie(D.classList).forEach(H=>{!Object.values(G).includes(H)&&!Object.values(nt).includes(H)&&!Object.values(O.showClass).includes(H)&&D.classList.remove(H)})})(D,O),O.customClass&&O.customClass[H]){if("string"!=typeof O.customClass[H]&&!O.customClass[H].forEach)return ee("Invalid type of customClass.".concat(H,'! Expected string or iterable object, got "').concat(typeof O.customClass[H],'"'));wn(D,O.customClass[H])}},Vo=(D,O)=>{if(!O)return null;switch(O){case"select":case"textarea":case"file":return D.querySelector(".".concat(G.popup," > .").concat(G[O]));case"checkbox":return D.querySelector(".".concat(G.popup," > .").concat(G.checkbox," input"));case"radio":return D.querySelector(".".concat(G.popup," > .").concat(G.radio," input:checked"))||D.querySelector(".".concat(G.popup," > .").concat(G.radio," input:first-child"));case"range":return D.querySelector(".".concat(G.popup," > .").concat(G.range," input"));default:return D.querySelector(".".concat(G.popup," > .").concat(G.input))}},ws=D=>{if(D.focus(),"file"!==D.type){const O=D.value;D.value="",D.value=O}},Cr=(D,O,H)=>{!D||!O||("string"==typeof O&&(O=O.split(/\s+/).filter(Boolean)),O.forEach(re=>{Array.isArray(D)?D.forEach(it=>{H?it.classList.add(re):it.classList.remove(re)}):H?D.classList.add(re):D.classList.remove(re)}))},wn=(D,O)=>{Cr(D,O,!0)},nr=(D,O)=>{Cr(D,O,!1)},xs=(D,O)=>{const H=Ie(D.childNodes);for(let re=0;re<H.length;re++)if(hr(H[re],O))return H[re]},$n=(D,O,H)=>{H==="".concat(parseInt(H))&&(H=parseInt(H)),H||0===parseInt(H)?D.style[O]="number"==typeof H?"".concat(H,"px"):H:D.style.removeProperty(O)},Jt=function(D){D.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},dn=D=>{D.style.display="none"},Wr=(D,O,H,re)=>{const it=D.querySelector(O);it&&(it.style[H]=re)},os=(D,O,H)=>{O?Jt(D,H):dn(D)},An=D=>!(!D||!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)),qr=D=>D.scrollHeight>D.clientHeight,Gr=D=>{const O=window.getComputedStyle(D),H=parseFloat(O.getPropertyValue("animation-duration")||"0"),re=parseFloat(O.getPropertyValue("transition-duration")||"0");return H>0||re>0},pe=function(D){let O=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const H=Bs();An(H)&&(O&&(H.style.transition="none",H.style.width="100%"),setTimeout(()=>{H.style.transition="width ".concat(D/1e3,"s linear"),H.style.width="0%"},10))},Ce=()=>"undefined"==typeof window||"undefined"==typeof document,ae={},Tt=D=>new Promise(O=>{if(!D)return O();const H=window.scrollX,re=window.scrollY;ae.restoreFocusTimeout=setTimeout(()=>{ae.previousActiveElement&&ae.previousActiveElement.focus?(ae.previousActiveElement.focus(),ae.previousActiveElement=null):document.body&&document.body.focus(),O()},100),window.scrollTo(H,re)}),on='\n <div aria-labelledby="'.concat(G.title,'" aria-describedby="').concat(G["html-container"],'" class="').concat(G.popup,'" tabindex="-1">\n   <button type="button" class="').concat(G.close,'"></button>\n   <ul class="').concat(G["progress-steps"],'"></ul>\n   <div class="').concat(G.icon,'"></div>\n   <img class="').concat(G.image,'" />\n   <h2 class="').concat(G.title,'" id="').concat(G.title,'"></h2>\n   <div class="').concat(G["html-container"],'" id="').concat(G["html-container"],'"></div>\n   <input class="').concat(G.input,'" />\n   <input type="file" class="').concat(G.file,'" />\n   <div class="').concat(G.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(G.select,'"></select>\n   <div class="').concat(G.radio,'"></div>\n   <label for="').concat(G.checkbox,'" class="').concat(G.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(G.label,'"></span>\n   </label>\n   <textarea class="').concat(G.textarea,'"></textarea>\n   <div class="').concat(G["validation-message"],'" id="').concat(G["validation-message"],'"></div>\n   <div class="').concat(G.actions,'">\n     <div class="').concat(G.loader,'"></div>\n     <button type="button" class="').concat(G.confirm,'"></button>\n     <button type="button" class="').concat(G.deny,'"></button>\n     <button type="button" class="').concat(G.cancel,'"></button>\n   </div>\n   <div class="').concat(G.footer,'"></div>\n   <div class="').concat(G["timer-progress-bar-container"],'">\n     <div class="').concat(G["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Cn=()=>{ae.currentInstance.resetValidationMessage()},Eu=D=>{const O=(()=>{const D=xe();return!!D&&(D.remove(),nr([document.documentElement,document.body],[G["no-backdrop"],G["toast-shown"],G["has-column"]]),!0)})();if(Ce())return void Ue("SweetAlert2 requires document to initialize");const H=document.createElement("div");H.className=G.container,O&&wn(H,G["no-transition"]),ln(H,on);const re=(D=>"string"==typeof D?document.querySelector(D):D)(D.target);re.appendChild(H),(D=>{const O=Pe();O.setAttribute("role",D.toast?"alert":"dialog"),O.setAttribute("aria-live",D.toast?"polite":"assertive"),D.toast||O.setAttribute("aria-modal","true")})(D),(D=>{"rtl"===window.getComputedStyle(D).direction&&wn(xe(),G.rtl)})(re),(()=>{const D=Pe(),O=xs(D,G.input),H=xs(D,G.file),re=D.querySelector(".".concat(G.range," input")),it=D.querySelector(".".concat(G.range," output")),gn=xs(D,G.select),fn=D.querySelector(".".concat(G.checkbox," input")),gr=xs(D,G.textarea);O.oninput=Cn,H.onchange=Cn,gn.onchange=Cn,fn.onchange=Cn,gr.oninput=Cn,re.oninput=()=>{Cn(),it.value=re.value},re.onchange=()=>{Cn(),re.nextSibling.value=re.value}})(),Rc(H,D)},Rc=(D,O)=>{if(O.toast)return;const H=(D=>D[Math.floor(Math.random()*D.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const re=document.createElement("div");re.className=G["no-war"],ln(re,'<a href="https://www.youtube.com/watch?v='.concat(H.youtubeId,'" target="_blank">').concat(H.text,"</a>")),D.appendChild(re),D.style.paddingTop="4em"}},Ql=(D,O)=>{D instanceof HTMLElement?O.appendChild(D):"object"==typeof D?Fc(D,O):D&&ln(O,D)},Fc=(D,O)=>{D.jquery?Er(O,D):ln(O,D.toString())},Er=(D,O)=>{if(D.textContent="",0 in O)for(let H=0;H in O;H++)D.appendChild(O[H].cloneNode(!0));else D.appendChild(O.cloneNode(!0))},Sr=(()=>{if(Ce())return!1;const D=document.createElement("div"),O={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const H in O)if(Object.prototype.hasOwnProperty.call(O,H)&&void 0!==D.style[H])return O[H];return!1})(),Ir=(D,O)=>{const H=Kn(),re=Xn();O.showConfirmButton||O.showDenyButton||O.showCancelButton?Jt(H):dn(H),di(H,O,"actions"),function Us(D,O,H){const re=zn(),it=Di(),gn=dr();ma(re,"confirm",H),ma(it,"deny",H),ma(gn,"cancel",H),function Lh(D,O,H,re){if(!re.buttonsStyling)return nr([D,O,H],G.styled);wn([D,O,H],G.styled),re.confirmButtonColor&&(D.style.backgroundColor=re.confirmButtonColor,wn(D,G["default-outline"])),re.denyButtonColor&&(O.style.backgroundColor=re.denyButtonColor,wn(O,G["default-outline"])),re.cancelButtonColor&&(H.style.backgroundColor=re.cancelButtonColor,wn(H,G["default-outline"]))}(re,it,gn,H),H.reverseButtons&&(H.toast?(D.insertBefore(gn,re),D.insertBefore(it,re)):(D.insertBefore(gn,O),D.insertBefore(it,O),D.insertBefore(re,O)))}(H,re,O),ln(re,O.loaderHtml),di(re,O,"loader")};function ma(D,O,H){os(D,H["show".concat(o(O),"Button")],"inline-block"),ln(D,H["".concat(O,"ButtonText")]),D.setAttribute("aria-label",H["".concat(O,"ButtonAriaLabel")]),D.className=G[O],di(D,H,"".concat(O,"Button")),wn(D,H["".concat(O,"ButtonClass")])}const Jl=(D,O)=>{const H=xe();!H||(function Pc(D,O){"string"==typeof O?D.style.background=O:O||wn([document.documentElement,document.body],G["no-backdrop"])}(H,O.backdrop),function Ba(D,O){O in G?wn(D,G[O]):(ee('The "position" parameter is not valid, defaulting to "center"'),wn(D,G.center))}(H,O.position),function $r(D,O){if(O&&"string"==typeof O){const H="grow-".concat(O);H in G&&wn(D,G[H])}}(H,O.grow),di(H,O,"container"))};var Sn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const en=["input","file","range","select","radio","checkbox","textarea"],Mi=D=>{if(!oi[D.input])return Ue('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(D.input,'"'));const O=oo(D.input),H=oi[D.input](O,D);Jt(H),setTimeout(()=>{ws(H)})},Uo=(D,O)=>{const H=Vo(Pe(),D);if(H){(D=>{for(let O=0;O<D.attributes.length;O++){const H=D.attributes[O].name;["type","value","style"].includes(H)||D.removeAttribute(H)}})(H);for(const re in O)H.setAttribute(re,O[re])}},_r=D=>{const O=oo(D.input);D.customClass&&wn(O,D.customClass.input)},so=(D,O)=>{(!D.placeholder||O.inputPlaceholder)&&(D.placeholder=O.inputPlaceholder)},Ii=(D,O,H)=>{if(H.inputLabel){D.id=G.input;const re=document.createElement("label"),it=G["input-label"];re.setAttribute("for",D.id),re.className=it,wn(re,H.customClass.inputLabel),re.innerText=H.inputLabel,O.insertAdjacentElement("beforebegin",re)}},oo=D=>{const O=G[D]?G[D]:G.input;return xs(Pe(),O)},oi={};oi.text=oi.email=oi.password=oi.number=oi.tel=oi.url=(D,O)=>("string"==typeof O.inputValue||"number"==typeof O.inputValue?D.value=O.inputValue:ve(O.inputValue)||ee('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof O.inputValue,'"')),Ii(D,D,O),so(D,O),D.type=O.input,D),oi.file=(D,O)=>(Ii(D,D,O),so(D,O),D),oi.range=(D,O)=>{const H=D.querySelector("input"),re=D.querySelector("output");return H.value=O.inputValue,H.type=O.input,re.value=O.inputValue,Ii(H,D,O),D},oi.select=(D,O)=>{if(D.textContent="",O.inputPlaceholder){const H=document.createElement("option");ln(H,O.inputPlaceholder),H.value="",H.disabled=!0,H.selected=!0,D.appendChild(H)}return Ii(D,D,O),D},oi.radio=D=>(D.textContent="",D),oi.checkbox=(D,O)=>{const H=Vo(Pe(),"checkbox");H.value="1",H.id=G.checkbox,H.checked=Boolean(O.inputValue);const re=D.querySelector("span");return ln(re,O.inputPlaceholder),D},oi.textarea=(D,O)=>{D.value=O.inputValue,so(D,O),Ii(D,D,O);return setTimeout(()=>{if("MutationObserver"in window){const re=parseInt(window.getComputedStyle(Pe()).width);new MutationObserver(()=>{const gn=D.offsetWidth+(re=>parseInt(window.getComputedStyle(re).marginLeft)+parseInt(window.getComputedStyle(re).marginRight))(D);Pe().style.width=gn>re?"".concat(gn,"px"):null}).observe(D,{attributes:!0,attributeFilter:["style"]})}}),D};const Bn=(D,O)=>{const H=mn();di(H,O,"htmlContainer"),O.html?(Ql(O.html,H),Jt(H,"block")):O.text?(H.textContent=O.text,Jt(H,"block")):dn(H),((D,O)=>{const H=Pe(),re=Sn.innerParams.get(D),it=!re||O.input!==re.input;en.forEach(gn=>{const fn=G[gn],gr=xs(H,fn);Uo(gn,O.inputAttributes),gr.className=fn,it&&dn(gr)}),O.input&&(it&&Mi(O),_r(O))})(D,O)},_a=(D,O)=>{for(const H in nt)O.icon!==H&&nr(D,nt[H]);wn(D,nt[O.icon]),Pi(D,O),ii(),di(D,O,"icon")},ii=()=>{const D=Pe(),O=window.getComputedStyle(D).getPropertyValue("background-color"),H=D.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let re=0;re<H.length;re++)H[re].style.backgroundColor=O},Tn=(D,O)=>{D.textContent="",ln(D,O.iconHtml?Nc(O.iconHtml):"success"===O.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===O.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Nc({question:"?",warning:"!",info:"i"}[O.icon]))},Pi=(D,O)=>{if(O.iconColor){D.style.color=O.iconColor,D.style.borderColor=O.iconColor;for(const H of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Wr(D,H,"backgroundColor",O.iconColor);Wr(D,".swal2-success-ring","borderColor",O.iconColor)}},Nc=D=>'<div class="'.concat(G["icon-content"],'">').concat(D,"</div>"),Iu=(D,O)=>{const H=qn();if(!O.progressSteps||0===O.progressSteps.length)return dn(H);Jt(H),H.textContent="",O.currentProgressStep>=O.progressSteps.length&&ee("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),O.progressSteps.forEach((re,it)=>{const gn=(D=>{const O=document.createElement("li");return wn(O,G["progress-step"]),ln(O,D),O})(re);if(H.appendChild(gn),it===O.currentProgressStep&&wn(gn,G["active-progress-step"]),it!==O.progressSteps.length-1){const fn=(D=>{const O=document.createElement("li");return wn(O,G["progress-step-line"]),D.progressStepsDistance&&(O.style.width=D.progressStepsDistance),O})(O);H.appendChild(fn)}})},zo=(D,O)=>{D.className="".concat(G.popup," ").concat(An(D)?O.showClass.popup:""),O.toast?(wn([document.documentElement,document.body],G["toast-shown"]),wn(D,G.toast)):wn(D,G.modal),di(D,O,"popup"),"string"==typeof O.customClass&&wn(D,O.customClass),O.icon&&wn(D,G["icon-".concat(O.icon)])},Wi=(D,O)=>{((D,O)=>{const H=xe(),re=Pe();O.toast?($n(H,"width",O.width),re.style.width="100%",re.insertBefore(Xn(),He())):$n(re,"width",O.width),$n(re,"padding",O.padding),O.color&&(re.style.color=O.color),O.background&&(re.style.background=O.background),dn(tn()),zo(re,O)})(0,O),Jl(0,O),Iu(0,O),((D,O)=>{const H=Sn.innerParams.get(D),re=He();H&&O.icon===H.icon?(Tn(re,O),_a(re,O)):O.icon||O.iconHtml?O.icon&&-1===Object.keys(nt).indexOf(O.icon)?(Ue('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(O.icon,'"')),dn(re)):(Jt(re),Tn(re,O),_a(re,O),wn(re,O.showClass.icon)):dn(re)})(D,O),((D,O)=>{const H=ni();if(!O.imageUrl)return dn(H);Jt(H,""),H.setAttribute("src",O.imageUrl),H.setAttribute("alt",O.imageAlt),$n(H,"width",O.imageWidth),$n(H,"height",O.imageHeight),H.className=G.image,di(H,O,"image")})(0,O),((D,O)=>{const H=Dt();os(H,O.title||O.titleText,"block"),O.title&&Ql(O.title,H),O.titleText&&(H.innerText=O.titleText),di(H,O,"title")})(0,O),((D,O)=>{const H=ys();ln(H,O.closeButtonHtml),di(H,O,"closeButton"),os(H,O.showCloseButton),H.setAttribute("aria-label",O.closeButtonAriaLabel)})(0,O),Bn(D,O),Ir(0,O),((D,O)=>{const H=Gn();os(H,O.footer),O.footer&&Ql(O.footer,H),di(H,O,"footer")})(0,O),"function"==typeof O.didRender&&O.didRender(Pe())},ir=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Yr=()=>{Ie(document.body.children).forEach(O=>{O.hasAttribute("data-previous-aria-hidden")?(O.setAttribute("aria-hidden",O.getAttribute("data-previous-aria-hidden")),O.removeAttribute("data-previous-aria-hidden")):O.removeAttribute("aria-hidden")})},va=["swal-title","swal-html","swal-footer"],$g=D=>{const O={};return Ie(D.querySelectorAll("swal-param")).forEach(H=>{Ha(H,["name","value"]);const re=H.getAttribute("name"),it=H.getAttribute("value");"boolean"==typeof zt[re]&&"false"===it&&(O[re]=!1),"object"==typeof zt[re]&&(O[re]=JSON.parse(it))}),O},ya=D=>{const O={};return Ie(D.querySelectorAll("swal-button")).forEach(H=>{Ha(H,["type","color","aria-label"]);const re=H.getAttribute("type");O["".concat(re,"ButtonText")]=H.innerHTML,O["show".concat(o(re),"Button")]=!0,H.hasAttribute("color")&&(O["".concat(re,"ButtonColor")]=H.getAttribute("color")),H.hasAttribute("aria-label")&&(O["".concat(re,"ButtonAriaLabel")]=H.getAttribute("aria-label"))}),O},Yg=D=>{const O={},H=D.querySelector("swal-image");return H&&(Ha(H,["src","width","height","alt"]),H.hasAttribute("src")&&(O.imageUrl=H.getAttribute("src")),H.hasAttribute("width")&&(O.imageWidth=H.getAttribute("width")),H.hasAttribute("height")&&(O.imageHeight=H.getAttribute("height")),H.hasAttribute("alt")&&(O.imageAlt=H.getAttribute("alt"))),O},Hh=D=>{const O={},H=D.querySelector("swal-icon");return H&&(Ha(H,["type","color"]),H.hasAttribute("type")&&(O.icon=H.getAttribute("type")),H.hasAttribute("color")&&(O.iconColor=H.getAttribute("color")),O.iconHtml=H.innerHTML),O},Ad=D=>{const O={},H=D.querySelector("swal-input");H&&(Ha(H,["type","label","placeholder","value"]),O.input=H.getAttribute("type")||"text",H.hasAttribute("label")&&(O.inputLabel=H.getAttribute("label")),H.hasAttribute("placeholder")&&(O.inputPlaceholder=H.getAttribute("placeholder")),H.hasAttribute("value")&&(O.inputValue=H.getAttribute("value")));const re=D.querySelectorAll("swal-input-option");return re.length&&(O.inputOptions={},Ie(re).forEach(it=>{Ha(it,["value"]);const gn=it.getAttribute("value");O.inputOptions[gn]=it.innerHTML})),O},Ua=(D,O)=>{const H={};for(const re in O){const it=O[re],gn=D.querySelector(it);gn&&(Ha(gn,[]),H[it.replace(/^swal-/,"")]=gn.innerHTML.trim())}return H},Kg=D=>{const O=va.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Ie(D.children).forEach(H=>{const re=H.tagName.toLowerCase();-1===O.indexOf(re)&&ee("Unrecognized element <".concat(re,">"))})},Ha=(D,O)=>{Ie(D.attributes).forEach(H=>{-1===O.indexOf(H.name)&&ee(['Unrecognized attribute "'.concat(H.name,'" on <').concat(D.tagName.toLowerCase(),">."),"".concat(O.length?"Allowed attributes are: ".concat(O.join(", ")):"To set the value, use HTML within the element.")])})};var Md={email:(D,O)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(D)?Promise.resolve():Promise.resolve(O||"Invalid email address"),url:(D,O)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(D)?Promise.resolve():Promise.resolve(O||"Invalid URL")};function ec(D){(function Qg(D){D.inputValidator||Object.keys(Md).forEach(O=>{D.input===O&&(D.inputValidator=Md[O])})})(D),D.showLoaderOnConfirm&&!D.preConfirm&&ee("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function jh(D){(!D.target||"string"==typeof D.target&&!document.querySelector(D.target)||"string"!=typeof D.target&&!D.target.appendChild)&&(ee('Target parameter is not valid, defaulting to "body"'),D.target="body")}(D),"string"==typeof D.title&&(D.title=D.title.split("\n").join("<br />")),Eu(D)}class hp{constructor(O,H){this.callback=O,this.remaining=H,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(O){const H=this.running;return H&&this.stop(),this.remaining+=O,H&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Bc=()=>{null===ss.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ss.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(ss.previousBodyPadding+(()=>{const D=document.createElement("div");D.className=G["scrollbar-measure"],document.body.appendChild(D);const O=D.getBoundingClientRect().width-D.clientWidth;return document.body.removeChild(D),O})(),"px"))},Zh=()=>{const D=navigator.userAgent,O=!!D.match(/iPad/i)||!!D.match(/iPhone/i),H=!!D.match(/WebKit/i);O&&H&&!D.match(/CriOS/i)&&Pe().scrollHeight>window.innerHeight-44&&(xe().style.paddingBottom="".concat(44,"px"))},as=()=>{const D=xe();let O;D.ontouchstart=H=>{O=ls(H)},D.ontouchmove=H=>{O&&(H.preventDefault(),H.stopPropagation())}},ls=D=>{const O=D.target,H=xe();return!(Zo(D)||tc(D)||O!==H&&(qr(H)||"INPUT"===O.tagName||"TEXTAREA"===O.tagName||qr(mn())&&mn().contains(O)))},Zo=D=>D.touches&&D.touches.length&&"stylus"===D.touches[0].touchType,tc=D=>D.touches&&D.touches.length>1,hi=D=>{const O=xe(),H=Pe();"function"==typeof D.willOpen&&D.willOpen(H);const it=window.getComputedStyle(document.body).overflowY;Gh(O,H,D),setTimeout(()=>{nc(O,H)},10),ro()&&(Cs(O,D.scrollbarPadding,it),Ie(document.body.children).forEach(O=>{O===xe()||O.contains(xe())||(O.hasAttribute("aria-hidden")&&O.setAttribute("data-previous-aria-hidden",O.getAttribute("aria-hidden")),O.setAttribute("aria-hidden","true"))})),!To()&&!ae.previousActiveElement&&(ae.previousActiveElement=document.activeElement),"function"==typeof D.didOpen&&setTimeout(()=>D.didOpen(H)),nr(O,G["no-transition"])},ja=D=>{const O=Pe();if(D.target!==O)return;const H=xe();O.removeEventListener(Sr,ja),H.style.overflowY="auto"},nc=(D,O)=>{Sr&&Gr(O)?(D.style.overflowY="hidden",O.addEventListener(Sr,ja)):D.style.overflowY="auto"},Cs=(D,O,H)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!hr(document.body,G.iosfix)){const O=document.body.scrollTop;document.body.style.top="".concat(-1*O,"px"),wn(document.body,G.iosfix),as(),Zh()}})(),O&&"hidden"!==H&&Bc(),setTimeout(()=>{D.scrollTop=0})},Gh=(D,O,H)=>{wn(D,H.showClass.backdrop),O.style.setProperty("opacity","0","important"),Jt(O,"grid"),setTimeout(()=>{wn(O,H.showClass.popup),O.style.removeProperty("opacity")},10),wn([document.documentElement,document.body],G.shown),H.heightAuto&&H.backdrop&&!H.toast&&wn([document.documentElement,document.body],G["height-auto"])},fr=D=>{let O=Pe();O||new cs,O=Pe();const H=Xn();To()?dn(He()):ic(O,D),Jt(H),O.setAttribute("data-loading",!0),O.setAttribute("aria-busy",!0),O.focus()},ic=(D,O)=>{const H=Kn(),re=Xn();!O&&An(zn())&&(O=zn()),Jt(H),O&&(dn(O),re.setAttribute("data-button-to-replace",O.className)),re.parentNode.insertBefore(re,O),wn([D,H],G.loading)},$h=D=>D.checked?1:0,Rd=D=>D.checked?D.value:null,rc=D=>D.files.length?null!==D.getAttribute("multiple")?D.files:D.files[0]:null,Fd=(D,O)=>{const H=Pe(),re=it=>fp[O.input](H,wi(it),O);$e(O.inputOptions)||ve(O.inputOptions)?(fr(zn()),_e(O.inputOptions).then(it=>{D.hideLoading(),re(it)})):"object"==typeof O.inputOptions?re(O.inputOptions):Ue("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof O.inputOptions))},Wo=(D,O)=>{const H=D.getInput();dn(H),_e(O.inputValue).then(re=>{H.value="number"===O.input?parseFloat(re)||0:"".concat(re),Jt(H),H.focus(),D.hideLoading()}).catch(re=>{Ue("Error in inputValue promise: ".concat(re)),H.value="",Jt(H),H.focus(),D.hideLoading()})},fp={select:(D,O,H)=>{const re=xs(D,G.select),it=(gn,fn,gr)=>{const $i=document.createElement("option");$i.value=gr,ln($i,fn),$i.selected=sc(gr,H.inputValue),gn.appendChild($i)};O.forEach(gn=>{const fn=gn[0],gr=gn[1];if(Array.isArray(gr)){const $i=document.createElement("optgroup");$i.label=fn,$i.disabled=!1,re.appendChild($i),gr.forEach($a=>it($i,$a[1],$a[0]))}else it(re,gr,fn)}),re.focus()},radio:(D,O,H)=>{const re=xs(D,G.radio);O.forEach(gn=>{const fn=gn[0],gr=gn[1],$i=document.createElement("input"),$a=document.createElement("label");$i.type="radio",$i.name=G.radio,$i.value=fn,sc(fn,H.inputValue)&&($i.checked=!0);const Cl=document.createElement("span");ln(Cl,gr),Cl.className=G.label,$a.appendChild($i),$a.appendChild(Cl),re.appendChild($a)});const it=re.querySelectorAll("input");it.length&&it[0].focus()}},wi=D=>{const O=[];return"undefined"!=typeof Map&&D instanceof Map?D.forEach((H,re)=>{let it=H;"object"==typeof it&&(it=wi(it)),O.push([re,it])}):Object.keys(D).forEach(H=>{let re=D[H];"object"==typeof re&&(re=wi(re)),O.push([H,re])}),O},sc=(D,O)=>O&&O.toString()===D.toString();function za(){const D=Sn.innerParams.get(this);if(!D)return;const O=Sn.domCache.get(this);dn(O.loader),To()?D.icon&&Jt(He()):xi(O),nr([O.popup,O.actions],G.loading),O.popup.removeAttribute("aria-busy"),O.popup.removeAttribute("data-loading"),O.confirmButton.disabled=!1,O.denyButton.disabled=!1,O.cancelButton.disabled=!1}const xi=D=>{const O=D.popup.getElementsByClassName(D.loader.getAttribute("data-button-to-replace"));O.length?Jt(O[0],"inline-block"):!An(zn())&&!An(Di())&&!An(dr())&&dn(D.actions)};var Za={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Nr=()=>zn()&&zn().click(),Eo=D=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1)},wa=(D,O,H)=>{const re=Zr();if(re.length)return(O+=H)===re.length?O=0:-1===O&&(O=re.length-1),re[O].focus();Pe().focus()},qo=["ArrowRight","ArrowDown"],Uc=["ArrowLeft","ArrowUp"],So=(D,O,H)=>{const re=Sn.innerParams.get(D);!re||O.isComposing||229===O.keyCode||(re.stopKeydownPropagation&&O.stopPropagation(),"Enter"===O.key?Go(D,O,re):"Tab"===O.key?oc(O,re):[...qo,...Uc].includes(O.key)?En(O.key):"Escape"===O.key&&ac(O,re,H))},Go=(D,O,H)=>{if(Ze(H.allowEnterKey)&&O.target&&D.getInput()&&O.target.outerHTML===D.getInput().outerHTML){if(["textarea","file"].includes(H.input))return;Nr(),O.preventDefault()}},oc=(D,O)=>{const H=D.target,re=Zr();let it=-1;for(let gn=0;gn<re.length;gn++)if(H===re[gn]){it=gn;break}wa(0,it,D.shiftKey?-1:1),D.stopPropagation(),D.preventDefault()},En=D=>{if(![zn(),Di(),dr()].includes(document.activeElement))return;const it=qo.includes(D)?"nextElementSibling":"previousElementSibling";let gn=document.activeElement;for(let fn=0;fn<Kn().children.length;fn++){if(gn=gn[it],!gn)return;if(An(gn)&&gn instanceof HTMLButtonElement)break}gn instanceof HTMLButtonElement&&gn.focus()},ac=(D,O,H)=>{Ze(O.allowEscapeKey)&&(D.preventDefault(),H(ir.esc))};function Hc(D,O,H,re){To()?_l(D,re):(Tt(H).then(()=>_l(D,re)),Eo(ae)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(O.setAttribute("style","display:none !important"),O.removeAttribute("class"),O.innerHTML=""):O.remove(),ro()&&(null!==ss.previousBodyPadding&&(document.body.style.paddingRight="".concat(ss.previousBodyPadding,"px"),ss.previousBodyPadding=null),(()=>{if(hr(document.body,G.iosfix)){const D=parseInt(document.body.style.top,10);nr(document.body,G.iosfix),document.body.style.top="",document.body.scrollTop=-1*D}})(),Yr()),function jc(){nr([document.documentElement,document.body],[G.shown,G["height-auto"],G["no-backdrop"],G["toast-shown"]])}()}function lc(D){D=Zn(D);const O=Za.swalPromiseResolve.get(this),H=Nd(this);this.isAwaitingPromise()?D.isDismissed||(ft(this),O(D)):H&&O(D)}const Nd=D=>{const O=Pe();if(!O)return!1;const H=Sn.innerParams.get(D);if(!H||hr(O,H.hideClass.popup))return!1;nr(O,H.showClass.popup),wn(O,H.hideClass.popup);const re=xe();return nr(re,H.showClass.backdrop),wn(re,H.hideClass.backdrop),Du(D,O,H),!0};const ft=D=>{D.isAwaitingPromise()&&(Sn.awaitingPromise.delete(D),Sn.innerParams.get(D)||D._destroy())},Zn=D=>void 0===D?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},D),Du=(D,O,H)=>{const re=xe(),it=Sr&&Gr(O);"function"==typeof H.willClose&&H.willClose(O),it?Bi(D,O,re,H.returnFocus,H.didClose):Hc(D,re,H.returnFocus,H.didClose)},Bi=(D,O,H,re,it)=>{ae.swalCloseEventFinishedCallback=Hc.bind(null,D,H,re,it),O.addEventListener(Sr,function(gn){gn.target===O&&(ae.swalCloseEventFinishedCallback(),delete ae.swalCloseEventFinishedCallback)})},_l=(D,O)=>{setTimeout(()=>{"function"==typeof O&&O.bind(D.params)(),D._destroy()})};function qa(D,O,H){const re=Sn.domCache.get(D);O.forEach(it=>{re[it].disabled=H})}function zs(D,O){if(!D)return!1;if("radio"===D.type){const re=D.parentNode.parentNode.querySelectorAll("input");for(let it=0;it<re.length;it++)re[it].disabled=O}else D.disabled=O}const qc=D=>{const O={};return Object.keys(D).forEach(H=>{dt(H)?O[H]=D[H]:ee('Invalid parameter to update: "'.concat(H,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),O};const Io=D=>{Ou(D),delete D.params,delete ae.keydownHandler,delete ae.keydownTarget,delete ae.currentInstance},Ou=D=>{D.isAwaitingPromise()?(cc(Sn,D),Sn.awaitingPromise.set(D,!0)):(cc(Za,D),cc(Sn,D))},cc=(D,O)=>{for(const H in D)D[H].delete(O)};var Ru=Object.freeze({hideLoading:za,disableLoading:za,getInput:function Vc(D){const O=Sn.innerParams.get(D||this),H=Sn.domCache.get(D||this);return H?Vo(H.popup,O.input):null},close:lc,isAwaitingPromise:function zc(){return!!Sn.awaitingPromise.get(this)},rejectPromise:function Ld(D){const O=Za.swalPromiseReject.get(this);ft(this),O&&O(D)},handleAwaitingPromise:ft,closePopup:lc,closeModal:lc,closeToast:lc,enableButtons:function Zc(){qa(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Bd(){qa(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Jg(){return zs(this.getInput(),!1)},disableInput:function Au(){return zs(this.getInput(),!0)},showValidationMessage:function Wc(D){const O=Sn.domCache.get(this),H=Sn.innerParams.get(this);ln(O.validationMessage,D),O.validationMessage.className=G["validation-message"],H.customClass&&H.customClass.validationMessage&&wn(O.validationMessage,H.customClass.validationMessage),Jt(O.validationMessage);const re=this.getInput();re&&(re.setAttribute("aria-invalid",!0),re.setAttribute("aria-describedby",G["validation-message"]),ws(re),wn(re,G.inputerror))},resetValidationMessage:function Mu(){const D=Sn.domCache.get(this);D.validationMessage&&dn(D.validationMessage);const O=this.getInput();O&&(O.removeAttribute("aria-invalid"),O.removeAttribute("aria-describedby"),nr(O,G.inputerror))},getProgressSteps:function pr(){return Sn.domCache.get(this).progressSteps},update:function xa(D){const O=Pe(),H=Sn.innerParams.get(this);if(!O||hr(O,H.hideClass.popup))return ee("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const re=qc(D),it=Object.assign({},H,re);Wi(this,it),Sn.innerParams.set(this,it),Object.defineProperties(this,{params:{value:Object.assign({},this.params,D),writable:!1,enumerable:!0}})},_destroy:function Ga(){const D=Sn.domCache.get(this),O=Sn.innerParams.get(this);O?(D.popup&&ae.swalCloseEventFinishedCallback&&(ae.swalCloseEventFinishedCallback(),delete ae.swalCloseEventFinishedCallback),ae.deferDisposalTimer&&(clearTimeout(ae.deferDisposalTimer),delete ae.deferDisposalTimer),"function"==typeof O.didDestroy&&O.didDestroy(),Io(this)):Ou(this)}});const Pu=(D,O)=>{const H=Sn.innerParams.get(D);if(!H.input)return Ue('The "input" parameter is needed to be set when using returnInputValueOn'.concat(o(O)));const re=((D,O)=>{const H=D.getInput();if(!H)return null;switch(O.input){case"checkbox":return $h(H);case"radio":return Rd(H);case"file":return rc(H);default:return O.inputAutoTrim?H.value.trim():H.value}})(D,H);H.inputValidator?$c(D,re,O):D.getInput().checkValidity()?"deny"===O?Yh(D,re):yl(D,re):(D.enableButtons(),D.showValidationMessage(H.validationMessage))},$c=(D,O,H)=>{const re=Sn.innerParams.get(D);D.disableInput(),Promise.resolve().then(()=>_e(re.inputValidator(O,re.validationMessage))).then(gn=>{D.enableButtons(),D.enableInput(),gn?D.showValidationMessage(gn):"deny"===H?Yh(D,O):yl(D,O)})},Yh=(D,O)=>{const H=Sn.innerParams.get(D||void 0);H.showLoaderOnDeny&&fr(Di()),H.preDeny?(Sn.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>_e(H.preDeny(O,H.validationMessage))).then(it=>{!1===it?(D.hideLoading(),ft(D)):D.closePopup({isDenied:!0,value:void 0===it?O:it})}).catch(it=>vl(D||void 0,it))):D.closePopup({isDenied:!0,value:O})},Nu=(D,O)=>{D.closePopup({isConfirmed:!0,value:O})},vl=(D,O)=>{D.rejectPromise(O)},yl=(D,O)=>{const H=Sn.innerParams.get(D||void 0);H.showLoaderOnConfirm&&fr(),H.preConfirm?(D.resetValidationMessage(),Sn.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>_e(H.preConfirm(O,H.validationMessage))).then(it=>{An(tn())||!1===it?(D.hideLoading(),ft(D)):Nu(D,void 0===it?O:it)}).catch(it=>vl(D||void 0,it))):Nu(D,O)},dc=(D,O,H)=>{O.popup.onclick=()=>{const re=Sn.innerParams.get(D);re&&(Qh(re)||re.timer||re.input)||H(ir.close)}},Qh=D=>D.showConfirmButton||D.showDenyButton||D.showCancelButton||D.showCloseButton;let ba=!1;const $o=D=>{D.popup.onmousedown=()=>{D.container.onmouseup=function(O){D.container.onmouseup=void 0,O.target===D.container&&(ba=!0)}}},pp=D=>{D.container.onmousedown=()=>{D.popup.onmouseup=function(O){D.popup.onmouseup=void 0,(O.target===D.popup||D.popup.contains(O.target))&&(ba=!0)}}},Lr=(D,O,H)=>{O.container.onclick=re=>{const it=Sn.innerParams.get(D);ba?ba=!1:re.target===O.container&&Ze(it.allowOutsideClick)&&H(ir.backdrop)}},Gi=D=>D instanceof Element||(D=>"object"==typeof D&&D.jquery)(D);const Vd=()=>{if(ae.timeout)return(()=>{const D=Bs(),O=parseInt(window.getComputedStyle(D).width);D.style.removeProperty("transition"),D.style.width="100%";const re=O/parseInt(window.getComputedStyle(D).width)*100;D.style.removeProperty("transition"),D.style.width="".concat(re,"%")})(),ae.timeout.stop()},mp=()=>{if(ae.timeout){const D=ae.timeout.start();return pe(D),D}};let wl=!1;const vr={};const xl=D=>{for(let O=D.target;O&&O!==document;O=O.parentNode)for(const H in vr){const re=O.getAttribute(H);if(re)return void vr[H].fire({template:re})}};var Lu=Object.freeze({isValidParameter:Qe,isUpdatableParameter:dt,isDeprecatedParameter:Gt,argsToParams:D=>{const O={};return"object"!=typeof D[0]||Gi(D[0])?["title","html","icon"].forEach((H,re)=>{const it=D[re];"string"==typeof it||Gi(it)?O[H]=it:void 0!==it&&Ue("Unexpected type of ".concat(H,'! Expected "string" or "Element", got ').concat(typeof it))}):Object.assign(O,D[0]),O},isVisible:()=>An(Pe()),clickConfirm:Nr,clickDeny:()=>Di()&&Di().click(),clickCancel:()=>dr()&&dr().click(),getContainer:xe,getPopup:Pe,getTitle:Dt,getHtmlContainer:mn,getImage:ni,getIcon:He,getInputLabel:()=>De(G["input-label"]),getCloseButton:ys,getActions:Kn,getConfirmButton:zn,getDenyButton:Di,getCancelButton:dr,getLoader:Xn,getFooter:Gn,getTimerProgressBar:Bs,getFocusableElements:Zr,getValidationMessage:tn,isLoading:()=>Pe().hasAttribute("data-loading"),fire:function gp(){const D=this;for(var O=arguments.length,H=new Array(O),re=0;re<O;re++)H[re]=arguments[re];return new D(...H)},mixin:function __(D){return class O extends(this){_main(re,it){return super._main(re,Object.assign({},D,it))}}},showLoading:fr,enableLoading:fr,getTimerLeft:()=>ae.timeout&&ae.timeout.getTimerLeft(),stopTimer:Vd,resumeTimer:mp,toggleTimer:()=>{const D=ae.timeout;return D&&(D.running?Vd():mp())},increaseTimer:D=>{if(ae.timeout){const O=ae.timeout.increase(D);return pe(O,!0),O}},isTimerRunning:()=>ae.timeout&&ae.timeout.isRunning(),bindClickHandler:function _p(){vr[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,wl||(document.body.addEventListener("click",xl),wl=!0)}});let Bu;class Ta{constructor(){if("undefined"==typeof window)return;Bu=this;for(var O=arguments.length,H=new Array(O),re=0;re<O;re++)H[re]=arguments[re];const it=Object.freeze(this.constructor.argsToParams(H));Object.defineProperties(this,{params:{value:it,writable:!1,enumerable:!0,configurable:!0}});const gn=this._main(this.params);Sn.promise.set(this,gn)}_main(O){let H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(D=>{!D.backdrop&&D.allowOutsideClick&&ee('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const O in D)rn(O),D.toast&&_t(O),rt(O)})(Object.assign({},H,O)),ae.currentInstance&&(ae.currentInstance._destroy(),ro()&&Yr()),ae.currentInstance=this;const re=bl(O,H);ec(re),Object.freeze(re),ae.timeout&&(ae.timeout.stop(),delete ae.timeout),clearTimeout(ae.restoreFocusTimeout);const it=Xh(this);return Wi(this,re),Sn.innerParams.set(this,re),Vu(this,it,re)}then(O){return Sn.promise.get(this).then(O)}finally(O){return Sn.promise.get(this).finally(O)}}const Vu=(D,O,H)=>new Promise((re,it)=>{const gn=fn=>{D.closePopup({isDismissed:!0,dismiss:fn})};Za.swalPromiseResolve.set(D,re),Za.swalPromiseReject.set(D,it),O.confirmButton.onclick=()=>(D=>{const O=Sn.innerParams.get(D);D.disableButtons(),O.input?Pu(D,"confirm"):yl(D,!0)})(D),O.denyButton.onclick=()=>(D=>{const O=Sn.innerParams.get(D);D.disableButtons(),O.returnInputValueOnDeny?Pu(D,"deny"):Yh(D,!1)})(D),O.cancelButton.onclick=()=>((D,O)=>{D.disableButtons(),O(ir.cancel)})(D,gn),O.closeButton.onclick=()=>gn(ir.close),((D,O,H)=>{Sn.innerParams.get(D).toast?dc(D,O,H):($o(O),pp(O),Lr(D,O,H))})(D,O,gn),((D,O,H,re)=>{Eo(O),H.toast||(O.keydownHandler=it=>So(D,it,re),O.keydownTarget=H.keydownListenerCapture?window:Pe(),O.keydownListenerCapture=H.keydownListenerCapture,O.keydownTarget.addEventListener("keydown",O.keydownHandler,{capture:O.keydownListenerCapture}),O.keydownHandlerAdded=!0)})(D,ae,H,gn),((D,O)=>{"select"===O.input||"radio"===O.input?Fd(D,O):["text","email","number","tel","textarea"].includes(O.input)&&($e(O.inputValue)||ve(O.inputValue))&&(fr(zn()),Wo(D,O))})(D,H),hi(H),Xg(ae,H,gn),vp(O,H),setTimeout(()=>{O.container.scrollTop=0})}),bl=(D,O)=>{const H=(D=>{const O="string"==typeof D.template?document.querySelector(D.template):D.template;if(!O)return{};const H=O.content;return Kg(H),Object.assign($g(H),ya(H),Yg(H),Hh(H),Ad(H),Ua(H,va))})(D),re=Object.assign({},zt,O,H,D);return re.showClass=Object.assign({},zt.showClass,re.showClass),re.hideClass=Object.assign({},zt.hideClass,re.hideClass),re},Xh=D=>{const O={popup:Pe(),container:xe(),actions:Kn(),confirmButton:zn(),denyButton:Di(),cancelButton:dr(),loader:Xn(),closeButton:ys(),validationMessage:tn(),progressSteps:qn()};return Sn.domCache.set(D,O),O},Xg=(D,O,H)=>{const re=Bs();dn(re),O.timer&&(D.timeout=new hp(()=>{H("timer"),delete D.timeout},O.timer),O.timerProgressBar&&(Jt(re),di(re,O,"timerProgressBar"),setTimeout(()=>{D.timeout&&D.timeout.running&&pe(O.timer)})))},vp=(D,O)=>{if(!O.toast){if(!Ze(O.allowEnterKey))return Zi();em(D,O)||wa(0,-1,1)}},em=(D,O)=>O.focusDeny&&An(D.denyButton)?(D.denyButton.focus(),!0):O.focusCancel&&An(D.cancelButton)?(D.cancelButton.focus(),!0):!(!O.focusConfirm||!An(D.confirmButton)||(D.confirmButton.focus(),0)),Zi=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Ta.prototype,Ru),Object.assign(Ta,Lu),Object.keys(Ru).forEach(D=>{Ta[D]=function(){if(Bu)return Bu[D](...arguments)}}),Ta.DismissReason=ir,Ta.version="11.4.9";const cs=Ta;return cs.default=cs,cs}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(tt,J){var o=tt.createElement("style");if(tt.getElementsByTagName("head")[0].appendChild(o),o.styleSheet)o.styleSheet.disabled||(o.styleSheet.cssText=J);else try{o.innerHTML=J}catch(Ie){o.innerText=J}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(sn,tt,J)=>{"use strict";function Ue(xe,Le){var De={};for(var Pe in xe)Object.prototype.hasOwnProperty.call(xe,Pe)&&Le.indexOf(Pe)<0&&(De[Pe]=xe[Pe]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(Pe=Object.getOwnPropertySymbols(xe);He<Pe.length;He++)Le.indexOf(Pe[He])<0&&Object.prototype.propertyIsEnumerable.call(xe,Pe[He])&&(De[Pe[He]]=xe[Pe[He]])}return De}function Ze(xe,Le,De,Pe){return new(De||(De=Promise))(function(Dt,mn){function ni(zn){try{tn(Pe.next(zn))}catch(Di){mn(Di)}}function qn(zn){try{tn(Pe.throw(zn))}catch(Di){mn(Di)}}function tn(zn){zn.done?Dt(zn.value):function He(Dt){return Dt instanceof De?Dt:new De(function(mn){mn(Dt)})}(zn.value).then(ni,qn)}tn((Pe=Pe.apply(xe,Le||[])).next())})}function Qe(xe){return this instanceof Qe?(this.v=xe,this):new Qe(xe)}function dt(xe,Le,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Pe=De.apply(xe,Le||[]),Dt=[];return He={},mn("next"),mn("throw"),mn("return"),He[Symbol.asyncIterator]=function(){return this},He;function mn(Ai){Pe[Ai]&&(He[Ai]=function(Xn){return new Promise(function(dr,Kn){Dt.push([Ai,Xn,dr,Kn])>1||ni(Ai,Xn)})})}function ni(Ai,Xn){try{!function qn(Ai){Ai.value instanceof Qe?Promise.resolve(Ai.value.v).then(tn,zn):Di(Dt[0][2],Ai)}(Pe[Ai](Xn))}catch(dr){Di(Dt[0][3],dr)}}function tn(Ai){ni("next",Ai)}function zn(Ai){ni("throw",Ai)}function Di(Ai,Xn){Ai(Xn),Dt.shift(),Dt.length&&ni(Dt[0][0],Dt[0][1])}}function rn(xe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,Le=xe[Symbol.asyncIterator];return Le?Le.call(xe):(xe=function Re(xe){var Le="function"==typeof Symbol&&Symbol.iterator,De=Le&&xe[Le],Pe=0;if(De)return De.call(xe);if(xe&&"number"==typeof xe.length)return{next:function(){return xe&&Pe>=xe.length&&(xe=void 0),{value:xe&&xe[Pe++],done:!xe}}};throw new TypeError(Le?"Object is not iterable.":"Symbol.iterator is not defined.")}(xe),De={},Pe("next"),Pe("throw"),Pe("return"),De[Symbol.asyncIterator]=function(){return this},De);function Pe(Dt){De[Dt]=xe[Dt]&&function(mn){return new Promise(function(ni,qn){!function He(Dt,mn,ni,qn){Promise.resolve(qn).then(function(tn){Dt({value:tn,done:ni})},mn)}(ni,qn,(mn=xe[Dt](mn)).done,mn.value)})}}}J.d(tt,{FC:()=>dt,KL:()=>rn,_T:()=>Ue,mG:()=>Ze,qq:()=>Qe})},5e3:(sn,tt,J)=>{"use strict";J.d(tt,{$8M:()=>Zd,$Z:()=>Sw,AFp:()=>yx,ALo:()=>y2,AaK:()=>Ze,AsE:()=>Pw,BQk:()=>ks,CHM:()=>Du,CRH:()=>mh,CZH:()=>vx,CqO:()=>aT,DdM:()=>m2,Dn7:()=>b2,EJc:()=>TE,EpF:()=>oT,F$t:()=>hD,F4k:()=>dD,FYo:()=>c2,FiY:()=>ho,G48:()=>OE,Gf:()=>lx,GfV:()=>HT,GkF:()=>Qi,Gpc:()=>ve,HTZ:()=>YT,Hh0:()=>KT,Hsn:()=>fD,Ikx:()=>As,JOm:()=>L,LFG:()=>Zt,LSH:()=>N_,Lbi:()=>bE,MAs:()=>bi,NdJ:()=>uh,O4$:()=>m_,OlP:()=>rr,Oqu:()=>fh,PXZ:()=>tA,Q6J:()=>ch,QGY:()=>kf,Qsj:()=>BF,R0b:()=>du,RDi:()=>Fd,Rgc:()=>hg,SBq:()=>cu,Sil:()=>EE,Suo:()=>cx,TTD:()=>Zo,TgZ:()=>mv,Tol:()=>_T,Udp:()=>Mw,VKq:()=>ug,VLi:()=>oP,W1O:()=>A2,WFA:()=>lT,WLB:()=>dg,X6Q:()=>sA,XFs:()=>ln,Xpm:()=>bn,Y36:()=>If,YKP:()=>ex,YNc:()=>tT,Yjl:()=>Fc,Yz7:()=>Xn,ZZ4:()=>hA,_Bn:()=>Kw,_UZ:()=>Pl,_Vd:()=>gh,_c5:()=>wP,_uU:()=>e0,aQg:()=>LE,c2e:()=>XF,cJS:()=>Kn,cg1:()=>ig,d8E:()=>Iv,dDg:()=>xx,deG:()=>c1,dqk:()=>An,eFA:()=>Tx,ekj:()=>Jm,f3M:()=>yn,g9A:()=>q2,h0i:()=>u0,hGG:()=>xP,hij:()=>Cv,iGM:()=>aE,ifc:()=>$n,ip1:()=>_x,kEZ:()=>nx,kL8:()=>IT,kcU:()=>__,l5B:()=>Hv,lG2:()=>Ql,lcZ:()=>w2,n5z:()=>nf,oAB:()=>bs,oJD:()=>ff,oxw:()=>cT,q4F:()=>u2,qLn:()=>xm,qOj:()=>QC,qZA:()=>Iw,qbA:()=>$T,rFY:()=>ix,s9C:()=>uT,sBO:()=>RE,sIi:()=>At,s_b:()=>Wv,soG:()=>Qv,tBr:()=>Ko,tb:()=>G2,tp0:()=>fo,uIk:()=>Is,vHH:()=>kt,vpe:()=>Bl,wAp:()=>Rn,xi3:()=>x2,xp6:()=>Tk,ynx:()=>eg,z2F:()=>Ix,zSh:()=>Nm,zs3:()=>Ja});var o=J(7579),Ie=J(727),ee=J(8306),Ue=J(6451),Ve=J(3099);function et(c){for(let u in c)if(c[u]===et)return u;throw Error("Could not find renamed property on target object.")}function Ne(c,u){for(const h in u)u.hasOwnProperty(h)&&!c.hasOwnProperty(h)&&(c[h]=u[h])}function Ze(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(Ze).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const u=c.toString();if(null==u)return""+u;const h=u.indexOf("\n");return-1===h?u:u.substring(0,h)}function $e(c,u){return null==c||""===c?null===u?"":u:null==u||""===u?c:c+" "+u}const _e=et({__forward_ref__:et});function ve(c){return c.__forward_ref__=ve,c.toString=function(){return Ze(this())},c}function Re(c){return zt(c)?c():c}function zt(c){return"function"==typeof c&&c.hasOwnProperty(_e)&&c.__forward_ref__===ve}class kt extends Error{constructor(u,h){super(function Vt(c,u){return`NG0${Math.abs(c)}${u?": "+u:""}`}(u,h)),this.code=u}}function Qe(c){return"string"==typeof c?c:null==c?"":String(c)}function dt(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():Qe(c)}function rt(c,u){const h=u?` in ${u}`:"";throw new kt(-201,`No provider for ${dt(c)} found${h}`)}function qn(c,u){null==c&&function tn(c,u,h,g){throw new Error(`ASSERTION ERROR: ${c}`+(null==g?"":` [Expected=> ${h} ${g} ${u} <=Actual]`))}(u,c,null,"!=")}function Xn(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Kn(c){return{providers:c.providers||[],imports:c.imports||[]}}function Gn(c){return Bs(c,ro)||Bs(c,Vs)}function Bs(c,u){return c.hasOwnProperty(u)?c[u]:null}function Zr(c){return c&&(c.hasOwnProperty(To)||c.hasOwnProperty(ss))?c[To]:null}const ro=et({\u0275prov:et}),To=et({\u0275inj:et}),Vs=et({ngInjectableDef:et}),ss=et({ngInjectorDef:et});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let hr;function di(c){const u=hr;return hr=c,u}function Vo(c,u,h){const g=Gn(c);return g&&"root"==g.providedIn?void 0===g.value?g.value=g.factory():g.value:h&ln.Optional?null:void 0!==u?u:void rt(Ze(c),"Injector")}function Cr(c){return{toString:c}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),$n=(()=>{return(c=$n||($n={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",$n;var c})();const Jt="undefined"!=typeof globalThis&&globalThis,dn="undefined"!=typeof window&&window,Wr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,An=Jt||"undefined"!=typeof global&&global||dn||Wr,Gr={},pe=[],be=et({\u0275cmp:et}),Ce=et({\u0275dir:et}),ht=et({\u0275pipe:et}),ae=et({\u0275mod:et}),Oe=et({\u0275fac:et}),Tt=et({__NG_ELEMENT_ID__:et});let on=0;function bn(c){return Cr(()=>{const h={},g={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||pe,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||$n.Emulated,id:"c",styles:c.styles||pe,_:null,setInput:null,schemas:c.schemas||null,tView:null},_=c.directives,x=c.features,S=c.pipes;return g.id+=on++,g.inputs=Rc(c.inputs,h),g.outputs=Rc(c.outputs),x&&x.forEach(k=>k(g)),g.directiveDefs=_?()=>("function"==typeof _?_():_).map(Li):null,g.pipeDefs=S?()=>("function"==typeof S?S():S).map(Mn):null,g})}function Li(c){return Er(c)||function Sr(c){return c[Ce]||null}(c)}function Mn(c){return function ga(c){return c[ht]||null}(c)}const Tr={};function bs(c){return Cr(()=>{const u={type:c.type,bootstrap:c.bootstrap||pe,declarations:c.declarations||pe,imports:c.imports||pe,exports:c.exports||pe,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(Tr[c.id]=c.type),u})}function Rc(c,u){if(null==c)return Gr;const h={};for(const g in c)if(c.hasOwnProperty(g)){let _=c[g],x=_;Array.isArray(_)&&(x=_[1],_=_[0]),h[_]=g,u&&(u[_]=x)}return h}const Ql=bn;function Fc(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function Er(c){return c[be]||null}function Ir(c,u){const h=c[ae]||null;if(!h&&!0===u)throw new Error(`Type ${Ze(c)} does not have '\u0275mod' property.`);return h}function js(c){return Array.isArray(c)&&"object"==typeof c[1]}function Ho(c){return Array.isArray(c)&&!0===c[1]}function Iu(c){return 0!=(8&c.flags)}function Bh(c){return 2==(2&c.flags)}function jo(c){return 1==(1&c.flags)}function zo(c){return null!==c.template}function Wi(c){return 0!=(512&c[2])}function as(c,u){return c.hasOwnProperty(Oe)?c[Oe]:null}class ls{constructor(u,h,g){this.previousValue=u,this.currentValue=h,this.firstChange=g}isFirstChange(){return this.firstChange}}function Zo(){return tc}function tc(c){return c.type.prototype.ngOnChanges&&(c.setInput=qh),Wh}function Wh(){const c=ja(this),u=null==c?void 0:c.current;if(u){const h=c.previous;if(h===Gr)c.previous=u;else for(let g in u)h[g]=u[g];c.current=null,this.ngOnChanges(u)}}function qh(c,u,h,g){const _=ja(c)||function nc(c,u){return c[hi]=u}(c,{previous:Gr,current:null}),x=_.current||(_.current={}),S=_.previous,k=this.declaredInputs[h],R=S[k];x[k]=new ls(R&&R.currentValue,u,S===Gr),c[g]=u}Zo.ngInherit=!0;const hi="__ngSimpleChanges__";function ja(c){return c[hi]||null}let rc;function Fd(c){rc=c}function Wo(){return void 0!==rc?rc:"undefined"!=typeof document?document:void 0}function wi(c){return!!c.listen}const sc={createRenderer:(c,u)=>Wo()};function xi(c){for(;Array.isArray(c);)c=c[0];return c}function Wa(c,u){return xi(u[c])}function Nr(c,u){return xi(u[c.index])}function qi(c,u){return c.data[u]}function Eo(c,u){return c[u]}function Kr(c,u){const h=u[c];return js(h)?h:h[0]}function wa(c){return 4==(4&c[2])}function qo(c){return 128==(128&c[2])}function So(c,u){return null==u?null:c[u]}function Go(c){c[18]=0}function oc(c,u){c[5]+=u;let h=c,g=c[3];for(;null!==g&&(1===u&&1===h[5]||-1===u&&0===h[5]);)g[5]+=u,h=g,g=g[3]}const En={lFrame:Kh(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zc(){return En.bindingsEnabled}function ft(){return En.lFrame.lView}function Zn(){return En.lFrame.tView}function Du(c){return En.lFrame.contextLView=c,c[8]}function Bi(){let c=_l();for(;null!==c&&64===c.type;)c=c.parent;return c}function _l(){return En.lFrame.currentTNode}function zs(c,u){const h=En.lFrame;h.currentTNode=c,h.isParent=u}function Zc(){return En.lFrame.isParent}function Bd(){En.lFrame.isParent=!1}function Wc(){return En.isInCheckNoChangesMode}function Mu(c){En.isInCheckNoChangesMode=c}function pr(){const c=En.lFrame;let u=c.bindingRootIndex;return-1===u&&(u=c.bindingRootIndex=c.tView.bindingStartIndex),u}function Ga(){return En.lFrame.bindingIndex++}function Io(c){const u=En.lFrame,h=u.bindingIndex;return u.bindingIndex=u.bindingIndex+c,h}function Ru(c,u){const h=En.lFrame;h.bindingIndex=h.bindingRootIndex=c,Gc(u)}function Gc(c){En.lFrame.currentDirectiveIndex=c}function uc(c){const u=En.lFrame.currentDirectiveIndex;return-1===u?null:c[u]}function Pu(){return En.lFrame.currentQueryIndex}function $c(c){En.lFrame.currentQueryIndex=c}function Yh(c){const u=c[1];return 2===u.type?u.declTNode:1===u.type?c[6]:null}function Nu(c,u,h){if(h&ln.SkipSelf){let _=u,x=c;for(;!(_=_.parent,null!==_||h&ln.Host||(_=Yh(x),null===_||(x=x[15],10&_.type))););if(null===_)return!1;u=_,c=x}const g=En.lFrame=yl();return g.currentTNode=u,g.lView=c,!0}function vl(c){const u=yl(),h=c[1];En.lFrame=u,u.currentTNode=h.firstChild,u.lView=c,u.tView=h,u.contextLView=c,u.bindingIndex=h.bindingStartIndex,u.inI18n=!1}function yl(){const c=En.lFrame,u=null===c?null:c.child;return null===u?Kh(c):u}function Kh(c){const u={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=u),u}function dc(){const c=En.lFrame;return En.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const Qh=dc;function ba(){const c=dc();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Lr(){return En.lFrame.selectedIndex}function Yo(c){En.lFrame.selectedIndex=c}function Gi(){const c=En.lFrame;return qi(c.tView,c.selectedIndex)}function m_(){En.lFrame.currentNamespace="svg"}function __(){!function v_(){En.lFrame.currentNamespace=null}()}function Jh(c,u){for(let h=u.directiveStart,g=u.directiveEnd;h<g;h++){const x=c.data[h].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:k,ngAfterViewInit:R,ngAfterViewChecked:B,ngOnDestroy:j}=x;S&&(c.contentHooks||(c.contentHooks=[])).push(-h,S),k&&((c.contentHooks||(c.contentHooks=[])).push(h,k),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(h,k)),R&&(c.viewHooks||(c.viewHooks=[])).push(-h,R),B&&((c.viewHooks||(c.viewHooks=[])).push(h,B),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(h,B)),null!=j&&(c.destroyHooks||(c.destroyHooks=[])).push(h,j)}}function Yc(c,u,h){vr(c,u,3,h)}function Ca(c,u,h,g){(3&c[2])===h&&vr(c,u,h,g)}function wl(c,u){let h=c[2];(3&h)===u&&(h&=2047,h+=1,c[2]=h)}function vr(c,u,h,g){const x=null!=g?g:-1,S=u.length-1;let k=0;for(let R=void 0!==g?65535&c[18]:0;R<S;R++)if("number"==typeof u[R+1]){if(k=u[R],null!=g&&k>=g)break}else u[R]<0&&(c[18]+=65536),(k<x||-1==x)&&(_p(c,h,u,R),c[18]=(4294901760&c[18])+R+2),R++}function _p(c,u,h,g){const _=h[g]<0,x=h[g+1],k=c[_?-h[g]:h[g]];if(_){if(c[2]>>11<c[18]>>16&&(3&c[2])===u){c[2]+=2048;try{x.call(k)}finally{}}}else try{x.call(k)}finally{}}class Lu{constructor(u,h,g){this.factory=u,this.resolving=!1,this.canSeeViewProviders=h,this.injectImpl=g}}function Zi(c,u,h){const g=wi(c);let _=0;for(;_<h.length;){const x=h[_];if("number"==typeof x){if(0!==x)break;_++;const S=h[_++],k=h[_++],R=h[_++];g?c.setAttribute(u,k,R,S):u.setAttributeNS(S,k,R)}else{const S=x,k=h[++_];D(S)?g&&c.setProperty(u,S,k):g?c.setAttribute(u,S,k):u.setAttribute(S,k),_++}}return _}function cs(c){return 3===c||4===c||6===c}function D(c){return 64===c.charCodeAt(0)}function O(c,u){if(null!==u&&0!==u.length)if(null===c||0===c.length)c=u.slice();else{let h=-1;for(let g=0;g<u.length;g++){const _=u[g];"number"==typeof _?h=_:0===h||H(c,h,_,null,-1===h||2===h?u[++g]:null)}}return c}function H(c,u,h,g,_){let x=0,S=c.length;if(-1===u)S=-1;else for(;x<c.length;){const k=c[x++];if("number"==typeof k){if(k===u){S=-1;break}if(k>u){S=x-1;break}}}for(;x<c.length;){const k=c[x];if("number"==typeof k)break;if(k===h){if(null===g)return void(null!==_&&(c[x+1]=_));if(g===c[x+1])return void(c[x+2]=_)}x++,null!==g&&x++,null!==_&&x++}-1!==S&&(c.splice(S,0,u),x=S+1),c.splice(x++,0,h),null!==g&&c.splice(x++,0,g),null!==_&&c.splice(x++,0,_)}function re(c){return-1!==c}function it(c){return 32767&c}function fn(c,u){let h=function gn(c){return c>>16}(c),g=u;for(;h>0;)g=g[15],h--;return g}let gr=!0;function $i(c){const u=gr;return gr=c,u}let tm=0;function hc(c,u){const h=Hn(c,u);if(-1!==h)return h;const g=u[1];g.firstCreatePass&&(c.injectorIndex=u.length,fc(g.data,c),fc(u,null),fc(g.blueprint,null));const _=Ea(c,u),x=c.injectorIndex;if(re(_)){const S=it(_),k=fn(_,u),R=k[1].data;for(let B=0;B<8;B++)u[x+B]=k[S+B]|R[S+B]}return u[x+8]=_,x}function fc(c,u){c.push(0,0,0,0,0,0,0,0,u)}function Hn(c,u){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===u[c.injectorIndex+8]?-1:c.injectorIndex}function Ea(c,u){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let h=0,g=null,_=u;for(;null!==_;){const x=_[1],S=x.type;if(g=2===S?x.declTNode:1===S?_[6]:null,null===g)return-1;if(h++,_=_[15],-1!==g.injectorIndex)return g.injectorIndex|h<<16}return-1}function Ts(c,u,h){!function Uu(c,u,h){let g;"string"==typeof h?g=h.charCodeAt(0)||0:h.hasOwnProperty(Tt)&&(g=h[Tt]),null==g&&(g=h[Tt]=tm++);const _=255&g;u.data[c+(_>>5)]|=1<<_}(c,u,h)}function Ud(c,u,h){if(h&ln.Optional)return c;rt(u,"NodeInjector")}function Hu(c,u,h,g){if(h&ln.Optional&&void 0===g&&(g=null),0==(h&(ln.Self|ln.Host))){const _=c[9],x=di(void 0);try{return _?_.get(u,g,h&ln.Optional):Vo(u,g,h&ln.Optional)}finally{di(x)}}return Ud(g,u,h)}function Hd(c,u,h,g=ln.Default,_){if(null!==c){const x=function a1(c){if("string"==typeof c)return c.charCodeAt(0)||0;const u=c.hasOwnProperty(Tt)?c[Tt]:void 0;return"number"==typeof u?u>=0?255&u:Kc:u}(h);if("function"==typeof x){if(!Nu(u,c,g))return g&ln.Host?Ud(_,h,g):Hu(u,h,g,_);try{const S=x(g);if(null!=S||g&ln.Optional)return S;rt(h)}finally{Qh()}}else if("number"==typeof x){let S=null,k=Hn(c,u),R=-1,B=g&ln.Host?u[16][6]:null;for((-1===k||g&ln.SkipSelf)&&(R=-1===k?Ea(c,u):u[k+8],-1!==R&&tf(g,!1)?(S=u[1],k=it(R),u=fn(R,u)):k=-1);-1!==k;){const j=u[1];if(ju(x,k,j.data)){const ne=ef(k,u,h,S,g,B);if(ne!==yp)return ne}R=u[k+8],-1!==R&&tf(g,u[1].data[k+8]===B)&&ju(x,k,u)?(S=j,k=it(R),u=fn(R,u)):k=-1}}}return Hu(u,h,g,_)}const yp={};function Kc(){return new zu(Bi(),ft())}function ef(c,u,h,g,_,x){const S=u[1],k=S.data[c+8],j=wp(k,S,h,null==g?Bh(k)&&gr:g!=S&&0!=(3&k.type),_&ln.Host&&x===k);return null!==j?jd(u,S,j,k):yp}function wp(c,u,h,g,_){const x=c.providerIndexes,S=u.data,k=1048575&x,R=c.directiveStart,j=x>>20,ye=_?k+j:c.directiveEnd;for(let Ae=g?k:k+j;Ae<ye;Ae++){const st=S[Ae];if(Ae<R&&h===st||Ae>=R&&st.type===h)return Ae}if(_){const Ae=S[R];if(Ae&&zo(Ae)&&Ae.type===h)return R}return null}function jd(c,u,h,g){let _=c[h];const x=u.data;if(function Bu(c){return c instanceof Lu}(_)){const S=_;S.resolving&&function Gt(c,u){const h=u?`. Dependency path: ${u.join(" > ")} > ${c}`:"";throw new kt(-200,`Circular dependency in DI detected for ${c}${h}`)}(dt(x[h]));const k=$i(S.canSeeViewProviders);S.resolving=!0;const R=S.injectImpl?di(S.injectImpl):null;Nu(c,g,ln.Default);try{_=c[h]=S.factory(void 0,x,c,g),u.firstCreatePass&&h>=g.directiveStart&&function mp(c,u,h){const{ngOnChanges:g,ngOnInit:_,ngDoCheck:x}=u.type.prototype;if(g){const S=tc(u);(h.preOrderHooks||(h.preOrderHooks=[])).push(c,S),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,S)}_&&(h.preOrderHooks||(h.preOrderHooks=[])).push(0-c,_),x&&((h.preOrderHooks||(h.preOrderHooks=[])).push(c,x),(h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(c,x))}(h,x[h],u)}finally{null!==R&&di(R),$i(k),S.resolving=!1,Qh()}}return _}function ju(c,u,h){return!!(h[u+(c>>5)]&1<<c)}function tf(c,u){return!(c&ln.Self||c&ln.Host&&u)}class zu{constructor(u,h){this._tNode=u,this._lView=h}get(u,h,g){return Hd(this._tNode,this._lView,u,g,h)}}function nf(c){return Cr(()=>{const u=c.prototype.constructor,h=u[Oe]||zd(u),g=Object.prototype;let _=Object.getPrototypeOf(c.prototype).constructor;for(;_&&_!==g;){const x=_[Oe]||zd(_);if(x&&x!==h)return x;_=Object.getPrototypeOf(_)}return x=>new x})}function zd(c){return zt(c)?()=>{const u=zd(Re(c));return u&&u()}:as(c)}function Zd(c){return function nm(c,u){if("class"===u)return c.classes;if("style"===u)return c.styles;const h=c.attrs;if(h){const g=h.length;let _=0;for(;_<g;){const x=h[_];if(cs(x))break;if(0===x)_+=2;else if("number"==typeof x)for(_++;_<g&&"string"==typeof h[_];)_++;else{if(x===u)return h[_+1];_+=2}}}return null}(Bi(),c)}const Tl="__parameters__";function Wu(c,u,h){return Cr(()=>{const g=function Wd(c){return function(...h){if(c){const g=c(...h);for(const _ in g)this[_]=g[_]}}}(u);function _(...x){if(this instanceof _)return g.apply(this,x),this;const S=new _(...x);return k.annotation=S,k;function k(R,B,j){const ne=R.hasOwnProperty(Tl)?R[Tl]:Object.defineProperty(R,Tl,{value:[]})[Tl];for(;ne.length<=j;)ne.push(null);return(ne[j]=ne[j]||[]).push(S),R}}return h&&(_.prototype=Object.create(h.prototype)),_.prototype.ngMetadataName=c,_.annotationCls=_,_})}class rr{constructor(u,h){this._desc=u,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof h?this.__NG_ELEMENT_ID__=h:void 0!==h&&(this.\u0275prov=Xn({token:this,providedIn:h.providedIn||"root",factory:h.factory}))}toString(){return`InjectionToken ${this._desc}`}}const c1=new rr("AnalyzeForEntryComponents");function lo(c,u){void 0===u&&(u=c);for(let h=0;h<c.length;h++){let g=c[h];Array.isArray(g)?(u===c&&(u=c.slice(0,h)),lo(g,u)):u!==c&&u.push(g)}return u}function co(c,u){c.forEach(h=>Array.isArray(h)?co(h,u):u(h))}function Jc(c,u,h){u>=c.length?c.push(h):c.splice(u,0,h)}function Qr(c,u){return u>=c.length-1?c.pop():c.splice(u,1)[0]}function pc(c,u){const h=[];for(let g=0;g<c;g++)h.push(u);return h}function Jr(c,u,h){let g=Xc(c,u);return g>=0?c[1|g]=h:(g=~g,function Ya(c,u,h,g){let _=c.length;if(_==u)c.push(h,g);else if(1===_)c.push(g,c[0]),c[0]=h;else{for(_--,c.push(c[_-1],c[_]);_>u;)c[_]=c[_-2],_--;c[u]=h,c[u+1]=g}}(c,g,u,h)),g}function Gd(c,u){const h=Xc(c,u);if(h>=0)return c[1|h]}function Xc(c,u){return function Cp(c,u,h){let g=0,_=c.length>>h;for(;_!==g;){const x=g+(_-g>>1),S=c[x<<h];if(u===S)return x<<h;S>u?_=x:g=x+1}return~(_<<h)}(c,u,1)}const Al={},_c="__NG_DI_FLAG__",eu="ngTempTokenPath",F=/\n/gm,z="__source",le=et({provide:String,useValue:et});let ke;function je(c){const u=ke;return ke=c,u}function Et(c,u=ln.Default){if(void 0===ke)throw new kt(203,"");return null===ke?Vo(c,void 0,u):ke.get(c,u&ln.Optional?null:void 0,u)}function Zt(c,u=ln.Default){return(function tr(){return hr}()||Et)(Re(c),u)}const yn=Zt;function Wn(c){const u=[];for(let h=0;h<c.length;h++){const g=Re(c[h]);if(Array.isArray(g)){if(0===g.length)throw new kt(900,"");let _,x=ln.Default;for(let S=0;S<g.length;S++){const k=g[S],R=uo(k);"number"==typeof R?-1===R?_=k.token:x|=R:_=k}u.push(Zt(_,x))}else u.push(Zt(g))}return u}function Dn(c,u){return c[_c]=u,c.prototype[_c]=u,c}function uo(c){return c[_c]}const Ko=Dn(Wu("Inject",c=>({token:c})),-1),ho=Dn(Wu("Optional"),8),fo=Dn(Wu("SkipSelf"),4);let Yd,dm;function Kd(c){var u;return(null===(u=function um(){if(void 0===Yd&&(Yd=null,An.trustedTypes))try{Yd=An.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Yd}())||void 0===u?void 0:u.createHTML(c))||c}function f1(c){var u;return(null===(u=function Ip(){if(void 0===dm&&(dm=null,An.trustedTypes))try{dm=An.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return dm}())||void 0===u?void 0:u.createHTML(c))||c}class kp{constructor(u){this.changingThisBreaksApplicationSecurity=u}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yu(c){return c instanceof kp?c.changingThisBreaksApplicationSecurity:c}function Qd(c,u){const h=function Yb(c){return c instanceof kp&&c.getTypeName()||null}(c);if(null!=h&&h!==u){if("ResourceURL"===h&&"URL"===u)return!0;throw new Error(`Required a safe ${u}, got a ${h} (see https://g.co/ng/security#xss)`)}return h===u}class Ap{constructor(u){this.inertDocumentHelper=u}getInertBodyElement(u){u="<body><remove></remove>"+u;try{const h=(new window.DOMParser).parseFromString(Kd(u),"text/html").body;return null===h?this.inertDocumentHelper.getInertBodyElement(u):(h.removeChild(h.firstChild),h)}catch(h){return null}}}class _1{constructor(u){if(this.defaultDoc=u,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const h=this.inertDocument.createElement("html");this.inertDocument.appendChild(h);const g=this.inertDocument.createElement("body");h.appendChild(g)}}getInertBodyElement(u){const h=this.inertDocument.createElement("template");if("content"in h)return h.innerHTML=Kd(u),h;const g=this.inertDocument.createElement("body");return g.innerHTML=Kd(u),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(g),g}stripCustomNsAttrs(u){const h=u.attributes;for(let _=h.length-1;0<_;_--){const S=h.item(_).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&u.removeAttribute(S)}let g=u.firstChild;for(;g;)g.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(g),g=g.nextSibling}}const Kb=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,y1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nu(c){return(c=String(c)).match(Kb)||c.match(y1)?c:"unsafe:"+c}function vc(c){const u={};for(const h of c.split(","))u[h]=!0;return u}function Jd(...c){const u={};for(const h of c)for(const g in h)h.hasOwnProperty(g)&&(u[g]=!0);return u}const D_=vc("area,br,col,hr,img,wbr"),df=vc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A_=vc("rp,rt"),M_=Jd(D_,Jd(df,vc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jd(A_,vc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jd(A_,df)),Mp=vc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pm=vc("srcset"),O_=Jd(Mp,pm,vc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qb=vc("script,style,template");class gm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(u){let h=u.firstChild,g=!0;for(;h;)if(h.nodeType===Node.ELEMENT_NODE?g=this.startElement(h):h.nodeType===Node.TEXT_NODE?this.chars(h.nodeValue):this.sanitizedSomething=!0,g&&h.firstChild)h=h.firstChild;else for(;h;){h.nodeType===Node.ELEMENT_NODE&&this.endElement(h);let _=this.checkClobberedElement(h,h.nextSibling);if(_){h=_;break}h=this.checkClobberedElement(h,h.parentNode)}return this.buf.join("")}startElement(u){const h=u.nodeName.toLowerCase();if(!M_.hasOwnProperty(h))return this.sanitizedSomething=!0,!Qb.hasOwnProperty(h);this.buf.push("<"),this.buf.push(h);const g=u.attributes;for(let _=0;_<g.length;_++){const x=g.item(_),S=x.name,k=S.toLowerCase();if(!O_.hasOwnProperty(k)){this.sanitizedSomething=!0;continue}let R=x.value;Mp[k]&&(R=nu(R)),pm[k]&&(c=R,R=(c=String(c)).split(",").map(u=>nu(u.trim())).join(", ")),this.buf.push(" ",S,'="',b1(R),'"')}var c;return this.buf.push(">"),!0}endElement(u){const h=u.nodeName.toLowerCase();M_.hasOwnProperty(h)&&!D_.hasOwnProperty(h)&&(this.buf.push("</"),this.buf.push(h),this.buf.push(">"))}chars(u){this.buf.push(b1(u))}checkClobberedElement(u,h){if(h&&(u.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${u.outerHTML}`);return h}}const R_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jb=/([^\#-~ |!])/g;function b1(c){return c.replace(/&/g,"&amp;").replace(R_,function(u){return"&#"+(1024*(u.charCodeAt(0)-55296)+(u.charCodeAt(1)-56320)+65536)+";"}).replace(Jb,function(u){return"&#"+u.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hf;function F_(c){return"content"in c&&function Ka(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var sr=(()=>((sr=sr||{})[sr.NONE=0]="NONE",sr[sr.HTML=1]="HTML",sr[sr.STYLE=2]="STYLE",sr[sr.SCRIPT=3]="SCRIPT",sr[sr.URL=4]="URL",sr[sr.RESOURCE_URL=5]="RESOURCE_URL",sr))();function ff(c){const u=pf();return u?f1(u.sanitize(sr.HTML,c)||""):Qd(c,"HTML")?f1(Yu(c)):function mm(c,u){let h=null;try{hf=hf||function fm(c){const u=new _1(c);return function v1(){try{return!!(new window.DOMParser).parseFromString(Kd(""),"text/html")}catch(c){return!1}}()?new Ap(u):u}(c);let g=u?String(u):"";h=hf.getInertBodyElement(g);let _=5,x=g;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,g=x,x=h.innerHTML,h=hf.getInertBodyElement(g)}while(g!==x);return Kd((new gm).sanitizeChildren(F_(h)||h))}finally{if(h){const g=F_(h)||h;for(;g.firstChild;)g.removeChild(g.firstChild)}}}(Wo(),Qe(c))}function N_(c){const u=pf();return u?u.sanitize(sr.URL,c)||"":Qd(c,"URL")?Yu(c):nu(Qe(c))}function pf(){const c=ft();return c&&c[12]}const V_="__ngContext__";function us(c,u){c[V_]=u}function Op(c){const u=function Xd(c){return c[V_]||null}(c);return u?Array.isArray(u)?u:u.lView:null}function Ol(c){return c.ngOriginalError}function k1(c,...u){c.error(...u)}class xm{constructor(){this._console=console}handleError(u){const h=this._findOriginalError(u),g=function I1(c){return c&&c.ngErrorLogger||k1}(u);g(this._console,"ERROR",u),h&&g(this._console,"ORIGINAL ERROR",h)}_findOriginalError(u){let h=u&&Ol(u);for(;h&&Ol(h);)h=Ol(h);return h||null}}const hk=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(An))();function Ki(c){return c instanceof Function?c():c}var L=(()=>((L=L||{})[L.Important=1]="Important",L[L.DashCase=2]="DashCase",L))();function Ee(c,u){return undefined(c,u)}function Ot(c){const u=c[3];return Ho(u)?u[3]:u}function Vr(c){return wc(c[13])}function ds(c){return wc(c[4])}function wc(c){for(;null!==c&&!Ho(c);)c=c[4];return c}function Qu(c,u,h,g,_){if(null!=g){let x,S=!1;Ho(g)?x=g:js(g)&&(S=!0,g=g[0]);const k=xi(g);0===c&&null!==h?null==_?pk(u,h,k):eh(u,h,k,_||null,!0):1===c&&null!==h?eh(u,h,k,_||null,!0):2===c?function K_(c,u,h){const g=Es(c,u);g&&function yR(c,u,h,g){wi(c)?c.removeChild(u,h,g):u.removeChild(h)}(c,g,u,h)}(u,k,S):3===c&&u.destroyNode(k),null!=x&&function _k(c,u,h,g,_){const x=h[7];x!==xi(h)&&Qu(u,c,g,x,_);for(let k=10;k<h.length;k++){const R=h[k];qs(R[1],R,c,u,g,x)}}(u,c,x,h,_)}}function Rp(c,u,h){if(wi(c))return c.createElement(u,h);{const g=null!==h?function Rd(c){const u=c.toLowerCase();return"svg"===u?"http://www.w3.org/2000/svg":"math"===u?"http://www.w3.org/1998/MathML/":null}(h):null;return null===g?c.createElement(u):c.createElementNS(g,u)}}function Ju(c,u){const h=c[9],g=h.indexOf(u),_=u[3];1024&u[2]&&(u[2]&=-1025,oc(_,-1)),h.splice(g,1)}function hn(c,u){if(c.length<=10)return;const h=10+u,g=c[h];if(g){const _=g[17];null!==_&&_!==c&&Ju(_,g),u>0&&(c[h-1][4]=g[4]);const x=Qr(c,10+u);!function ot(c,u){qs(c,u,u[11],2,null,null),u[0]=null,u[6]=null}(g[1],g);const S=x[19];null!==S&&S.detachView(x[1]),g[3]=null,g[4]=null,g[2]&=-129}return g}function R1(c,u){if(!(256&u[2])){const h=u[11];wi(h)&&h.destroyNode&&qs(c,u,h,3,null,null),function Rl(c){let u=c[13];if(!u)return Vn(c[1],c);for(;u;){let h=null;if(js(u))h=u[13];else{const g=u[10];g&&(h=g)}if(!h){for(;u&&!u[4]&&u!==c;)js(u)&&Vn(u[1],u),u=u[3];null===u&&(u=c),js(u)&&Vn(u[1],u),h=u&&u[4]}u=h}}(u)}}function Vn(c,u){if(!(256&u[2])){u[2]&=-129,u[2]|=256,function oC(c,u){let h;if(null!=c&&null!=(h=c.destroyHooks))for(let g=0;g<h.length;g+=2){const _=u[h[g]];if(!(_ instanceof Lu)){const x=h[g+1];if(Array.isArray(x))for(let S=0;S<x.length;S+=2){const k=_[x[S]],R=x[S+1];try{R.call(k)}finally{}}else try{x.call(_)}finally{}}}}(c,u),function F1(c,u){const h=c.cleanup,g=u[7];let _=-1;if(null!==h)for(let x=0;x<h.length-1;x+=2)if("string"==typeof h[x]){const S=h[x+1],k="function"==typeof S?S(u):xi(u[S]),R=g[_=h[x+2]],B=h[x+3];"boolean"==typeof B?k.removeEventListener(h[x],R,B):B>=0?g[_=B]():g[_=-B].unsubscribe(),x+=2}else{const S=g[_=h[x+1]];h[x].call(S)}if(null!==g){for(let x=_+1;x<g.length;x++)g[x]();u[7]=null}}(c,u),1===u[1].type&&wi(u[11])&&u[11].destroy();const h=u[17];if(null!==h&&Ho(u[3])){h!==u[3]&&Ju(h,u);const g=u[19];null!==g&&g.detachView(c)}}}function Tm(c,u,h){return function fk(c,u,h){let g=u;for(;null!==g&&40&g.type;)g=(u=g).parent;if(null===g)return h[0];if(2&g.flags){const _=c.data[g.directiveStart].encapsulation;if(_===$n.None||_===$n.Emulated)return null}return Nr(g,h)}(c,u.parent,h)}function eh(c,u,h,g,_){wi(c)?c.insertBefore(u,h,g,_):u.insertBefore(h,g,_)}function pk(c,u,h){wi(c)?c.appendChild(u,h):u.appendChild(h)}function gk(c,u,h,g,_){null!==g?eh(c,u,h,g,_):pk(c,u,h)}function Es(c,u){return wi(c)?c.parentNode(u):u.parentNode}function po(c,u,h){return mk(c,u,h)}let mk=function th(c,u,h){return 40&c.type?Nr(c,h):null};function $_(c,u,h,g){const _=Tm(c,g,u),x=u[11],k=po(g.parent||u[6],g,u);if(null!=_)if(Array.isArray(h))for(let R=0;R<h.length;R++)gk(x,_,h[R],k,!1);else gk(x,_,h,k,!1)}function N1(c,u){if(null!==u){const h=u.type;if(3&h)return Nr(u,c);if(4&h)return Y_(-1,c[u.index]);if(8&h){const g=u.child;if(null!==g)return N1(c,g);{const _=c[u.index];return Ho(_)?Y_(-1,_):xi(_)}}if(32&h)return Ee(u,c)()||xi(c[u.index]);{const g=cC(c,u);return null!==g?Array.isArray(g)?g[0]:N1(Ot(c[16]),g):N1(c,u.next)}}return null}function cC(c,u){return null!==u?c[16][6].projection[u.projection]:null}function Y_(c,u){const h=10+c+1;if(h<u.length){const g=u[h],_=g[1].firstChild;if(null!==_)return N1(g,_)}return u[7]}function L1(c,u,h,g,_,x,S){for(;null!=h;){const k=g[h.index],R=h.type;if(S&&0===u&&(k&&us(xi(k),g),h.flags|=4),64!=(64&h.flags))if(8&R)L1(c,u,h.child,g,_,x,!1),Qu(u,c,_,k,x);else if(32&R){const B=Ee(h,g);let j;for(;j=B();)Qu(u,c,_,j,x);Qu(u,c,_,k,x)}else 16&R?Jo(c,u,g,h,_,x):Qu(u,c,_,k,x);h=S?h.projectionNext:h.next}}function qs(c,u,h,g,_,x){L1(h,g,c.firstChild,u,_,x,!1)}function Jo(c,u,h,g,_,x){const S=h[16],R=S[6].projection[g.projection];if(Array.isArray(R))for(let B=0;B<R.length;B++)Qu(u,c,_,R[B],x);else L1(c,u,R,S[3],_,x,!0)}function B1(c,u,h){wi(c)?c.setAttribute(u,"style",h):u.style.cssText=h}function V1(c,u,h){wi(c)?""===h?c.removeAttribute(u,"class"):c.setAttribute(u,"class",h):u.className=h}function dC(c,u,h){let g=c.length;for(;;){const _=c.indexOf(u,h);if(-1===_)return _;if(0===_||c.charCodeAt(_-1)<=32){const x=u.length;if(_+x===g||c.charCodeAt(_+x)<=32)return _}h=_+1}}const U1="ng-template";function xR(c,u,h){let g=0;for(;g<c.length;){let _=c[g++];if(h&&"class"===_){if(_=c[g],-1!==dC(_.toLowerCase(),u,0))return!0}else if(1===_){for(;g<c.length&&"string"==typeof(_=c[g++]);)if(_.toLowerCase()===u)return!0;return!1}}return!1}function yk(c){return 4===c.type&&c.value!==U1}function Em(c,u,h){return u===(4!==c.type||h?c.value:U1)}function wk(c,u,h){let g=4;const _=c.attrs||[],x=function H1(c){for(let u=0;u<c.length;u++)if(cs(c[u]))return u;return c.length}(_);let S=!1;for(let k=0;k<u.length;k++){const R=u[k];if("number"!=typeof R){if(!S)if(4&g){if(g=2|1&g,""!==R&&!Em(c,R,h)||""===R&&1===u.length){if(Fl(g))return!1;S=!0}}else{const B=8&g?R:u[++k];if(8&g&&null!==c.attrs){if(!xR(c.attrs,B,h)){if(Fl(g))return!1;S=!0}continue}const ne=xk(8&g?"class":R,_,yk(c),h);if(-1===ne){if(Fl(g))return!1;S=!0;continue}if(""!==B){let ye;ye=ne>x?"":_[ne+1].toLowerCase();const Ae=8&g?ye:null;if(Ae&&-1!==dC(Ae,B,0)||2&g&&B!==ye){if(Fl(g))return!1;S=!0}}}}else{if(!S&&!Fl(g)&&!Fl(R))return!1;if(S&&Fl(R))continue;S=!1,g=R|1&g}}return Fl(g)||S}function Fl(c){return 0==(1&c)}function xk(c,u,h,g){if(null===u)return-1;let _=0;if(g||!h){let x=!1;for(;_<u.length;){const S=u[_];if(S===c)return _;if(3===S||6===S)x=!0;else{if(1===S||2===S){let k=u[++_];for(;"string"==typeof k;)k=u[++_];continue}if(4===S)break;if(0===S){_+=4;continue}}_+=x?1:2}return-1}return function hC(c,u){let h=c.indexOf(4);if(h>-1)for(h++;h<c.length;){const g=c[h];if("number"==typeof g)return-1;if(g===u)return h;h++}return-1}(u,c)}function bk(c,u,h=!1){for(let g=0;g<u.length;g++)if(wk(c,u[g],h))return!0;return!1}function fC(c,u){e:for(let h=0;h<u.length;h++){const g=u[h];if(c.length===g.length){for(let _=0;_<c.length;_++)if(c[_]!==g[_])continue e;return!0}}return!1}function j1(c,u){return c?":not("+u.trim()+")":u}function bR(c){let u=c[0],h=1,g=2,_="",x=!1;for(;h<c.length;){let S=c[h];if("string"==typeof S)if(2&g){const k=c[++h];_+="["+S+(k.length>0?'="'+k+'"':"")+"]"}else 8&g?_+="."+S:4&g&&(_+=" "+S);else""!==_&&!Fl(S)&&(u+=j1(x,_),_=""),g=S,x=x||!Fl(g);h++}return""!==_&&(u+=j1(x,_)),u}const jn={};function Tk(c){Ek(Zn(),ft(),Lr()+c,Wc())}function Ek(c,u,h,g){if(!g)if(3==(3&u[2])){const x=c.preOrderCheckHooks;null!==x&&Yc(u,x,h)}else{const x=c.preOrderHooks;null!==x&&Ca(u,x,0,h)}Yo(h)}function vf(c,u){return c<<17|u<<2}function ru(c){return c>>17&32767}function gC(c){return 2|c}function bc(c){return(131068&c)>>2}function Im(c,u){return-131069&c|u<<2}function Q_(c){return 1|c}function EC(c,u){const h=c.contentQueries;if(null!==h)for(let g=0;g<h.length;g+=2){const _=h[g],x=h[g+1];if(-1!==x){const S=c.data[x];$c(_),S.contentQueries(2,u[x],x)}}}function ih(c,u,h,g,_,x,S,k,R,B){const j=u.blueprint.slice();return j[0]=_,j[2]=140|g,Go(j),j[3]=j[15]=c,j[8]=h,j[10]=S||c&&c[10],j[11]=k||c&&c[11],j[12]=R||c&&c[12]||null,j[9]=B||c&&c[9]||null,j[6]=x,j[16]=2==u.type?c[16]:j,j}function Np(c,u,h,g,_){let x=c.data[u];if(null===x)x=function Ao(c,u,h,g,_){const x=_l(),S=Zc(),R=c.data[u]=function DC(c,u,h,g,_,x){return{type:h,index:g,insertBeforeIndex:null,injectorIndex:u?u.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:x,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:u,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?x:x&&x.parent,h,u,g,_);return null===c.firstChild&&(c.firstChild=R),null!==x&&(S?null==x.child&&null!==R.parent&&(x.child=R):null===x.next&&(x.next=R)),R}(c,u,h,g,_),function Ou(){return En.lFrame.inI18n}()&&(x.flags|=64);else if(64&x.type){x.type=h,x.value=g,x.attrs=_;const S=function qa(){const c=En.lFrame,u=c.currentTNode;return c.isParent?u:u.parent}();x.injectorIndex=null===S?-1:S.injectorIndex}return zs(x,!0),x}function Lp(c,u,h,g){if(0===h)return-1;const _=u.length;for(let x=0;x<h;x++)u.push(g),c.blueprint.push(g),c.data.push(null);return _}function rh(c,u,h){vl(u);try{const g=c.viewQuery;null!==g&&PC(1,g,h);const _=c.template;null!==_&&Q1(c,u,_,1,h),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&EC(c,u),c.staticViewQueries&&PC(2,c.viewQuery,h);const x=c.components;null!==x&&function Nk(c,u){for(let h=0;h<u.length;h++)PR(c,u[h])}(u,x)}catch(g){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),g}finally{u[2]&=-5,ba()}}function sh(c,u,h,g){const _=u[2];if(256==(256&_))return;vl(u);const x=Wc();try{Go(u),function qc(c){return En.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==h&&Q1(c,u,h,2,g);const S=3==(3&_);if(!x)if(S){const B=c.preOrderCheckHooks;null!==B&&Yc(u,B,null)}else{const B=c.preOrderHooks;null!==B&&Ca(u,B,0,null),wl(u,0)}if(function FR(c){for(let u=Vr(c);null!==u;u=ds(u)){if(!u[2])continue;const h=u[9];for(let g=0;g<h.length;g++){const _=h[g],x=_[3];0==(1024&_[2])&&oc(x,1),_[2]|=1024}}}(u),function av(c){for(let u=Vr(c);null!==u;u=ds(u))for(let h=10;h<u.length;h++){const g=u[h],_=g[1];qo(g)&&sh(_,g,_.template,g[8])}}(u),null!==c.contentQueries&&EC(c,u),!x)if(S){const B=c.contentCheckHooks;null!==B&&Yc(u,B)}else{const B=c.contentHooks;null!==B&&Ca(u,B,1),wl(u,1)}!function Pp(c,u){const h=c.hostBindingOpCodes;if(null!==h)try{for(let g=0;g<h.length;g++){const _=h[g];if(_<0)Yo(~_);else{const x=_,S=h[++g],k=h[++g];Ru(S,x),k(2,u[x])}}}finally{Yo(-1)}}(c,u);const k=c.components;null!==k&&function K1(c,u){for(let h=0;h<u.length;h++)Zk(c,u[h])}(u,k);const R=c.viewQuery;if(null!==R&&PC(2,R,g),!x)if(S){const B=c.viewCheckHooks;null!==B&&Yc(u,B)}else{const B=c.viewHooks;null!==B&&Ca(u,B,2),wl(u,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),x||(u[2]&=-73),1024&u[2]&&(u[2]&=-1025,oc(u[3],-1))}finally{ba()}}function Lk(c,u,h,g){const _=u[10],x=!Wc(),S=wa(u);try{x&&!S&&_.begin&&_.begin(),S&&rh(c,u,g),sh(c,u,h,g)}finally{x&&!S&&_.end&&_.end()}}function Q1(c,u,h,g,_){const x=Lr(),S=2&g;try{Yo(-1),S&&u.length>20&&Ek(c,u,20,Wc()),h(g,_)}finally{Yo(x)}}function SC(c,u,h){if(Iu(u)){const _=u.directiveEnd;for(let x=u.directiveStart;x<_;x++){const S=c.data[x];S.contentQueries&&S.contentQueries(1,h[x],x)}}}function J1(c,u,h){!zc()||(function Am(c,u,h,g){const _=h.directiveStart,x=h.directiveEnd;c.firstCreatePass||hc(h,u),us(g,u);const S=h.initialInputs;for(let k=_;k<x;k++){const R=c.data[k],B=zo(R);B&&iw(u,h,R);const j=jd(u,c,k,h);us(j,u),null!==S&&rw(0,k-_,j,R,0,S),B&&(Kr(h.index,u)[8]=j)}}(c,u,h,Nr(h,u)),128==(128&h.flags)&&function OC(c,u,h){const g=h.directiveStart,_=h.directiveEnd,S=h.index,k=function Fu(){return En.lFrame.currentDirectiveIndex}();try{Yo(S);for(let R=g;R<_;R++){const B=c.data[R],j=u[R];Gc(R),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&wf(B,j)}}finally{Yo(-1),Gc(k)}}(c,u,h))}function Bp(c,u,h=Nr){const g=u.localNames;if(null!==g){let _=u.index+1;for(let x=0;x<g.length;x+=2){const S=g[x+1],k=-1===S?h(u,c):c[S];c[_++]=k}}}function X1(c){const u=c.tView;return null===u||u.incompleteFirstPass?c.tView=Dm(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):u}function Dm(c,u,h,g,_,x,S,k,R,B){const j=20+g,ne=j+_,ye=function IC(c,u){const h=[];for(let g=0;g<u;g++)h.push(g<c?null:jn);return h}(j,ne),Ae="function"==typeof B?B():B;return ye[1]={type:c,blueprint:ye,template:h,queries:null,viewQuery:k,declTNode:u,data:ye.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof x?x():x,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:R,consts:Ae,incompleteFirstPass:!1}}function Bk(c,u,h,g){const _=NC(u);null===h?_.push(g):(_.push(h),c.firstCreatePass&&LC(c).push(g,_.length-1))}function nv(c,u,h){for(let g in c)if(c.hasOwnProperty(g)){const _=c[g];(h=null===h?{}:h).hasOwnProperty(g)?h[g].push(u,_):h[g]=[u,_]}return h}function Qa(c,u,h,g,_,x,S,k){const R=Nr(u,h);let j,B=u.inputs;!k&&null!=B&&(j=B[g])?(BC(c,h,j,g,_),Bh(u)&&function Uk(c,u){const h=Kr(u,c);16&h[2]||(h[2]|=64)}(h,u.index)):3&u.type&&(g=function Vk(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(g),_=null!=S?S(_,u.value||"",g):_,wi(x)?x.setProperty(R,g,_):D(g)||(R.setProperty?R.setProperty(g,_):R[g]=_))}function rv(c,u,h,g){let _=!1;if(zc()){const x=function jk(c,u,h){const g=c.directiveRegistry;let _=null;if(g)for(let x=0;x<g.length;x++){const S=g[x];bk(h,S.selectors,!1)&&(_||(_=[]),Ts(hc(h,u),c,S.type),zo(S)?(zk(c,h),_.unshift(S)):_.push(S))}return _}(c,u,h),S=null===g?null:{"":-1};if(null!==x){_=!0,sv(h,c.data.length,x.length);for(let j=0;j<x.length;j++){const ne=x[j];ne.providersResolver&&ne.providersResolver(ne)}let k=!1,R=!1,B=Lp(c,u,x.length,null);for(let j=0;j<x.length;j++){const ne=x[j];h.mergedAttrs=O(h.mergedAttrs,ne.hostAttrs),ov(c,h,u,B,ne),oh(B,ne,S),null!==ne.contentQueries&&(h.flags|=8),(null!==ne.hostBindings||null!==ne.hostAttrs||0!==ne.hostVars)&&(h.flags|=128);const ye=ne.type.prototype;!k&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(h.index),k=!0),!R&&(ye.ngOnChanges||ye.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(h.index),R=!0),B++}!function AC(c,u){const g=u.directiveEnd,_=c.data,x=u.attrs,S=[];let k=null,R=null;for(let B=u.directiveStart;B<g;B++){const j=_[B],ne=j.inputs,ye=null===x||yk(u)?null:RR(ne,x);S.push(ye),k=nv(ne,B,k),R=nv(j.outputs,B,R)}null!==k&&(k.hasOwnProperty("class")&&(u.flags|=16),k.hasOwnProperty("style")&&(u.flags|=32)),u.initialInputs=S,u.inputs=k,u.outputs=R}(c,h)}S&&function Up(c,u,h){if(u){const g=c.localNames=[];for(let _=0;_<u.length;_+=2){const x=h[u[_+1]];if(null==x)throw new kt(-301,!1);g.push(u[_],x)}}}(h,g,S)}return h.mergedAttrs=O(h.mergedAttrs,h.attrs),_}function Hk(c,u,h,g,_,x){const S=x.hostBindings;if(S){let k=c.hostBindingOpCodes;null===k&&(k=c.hostBindingOpCodes=[]);const R=~u.index;(function MC(c){let u=c.length;for(;u>0;){const h=c[--u];if("number"==typeof h&&h<0)return h}return 0})(k)!=R&&k.push(R),k.push(g,_,S)}}function wf(c,u){null!==c.hostBindings&&c.hostBindings(1,u)}function zk(c,u){u.flags|=2,(c.components||(c.components=[])).push(u.index)}function oh(c,u,h){if(h){if(u.exportAs)for(let g=0;g<u.exportAs.length;g++)h[u.exportAs[g]]=c;zo(u)&&(h[""]=c)}}function sv(c,u,h){c.flags|=1,c.directiveStart=u,c.directiveEnd=u+h,c.providerIndexes=u}function ov(c,u,h,g,_){c.data[g]=_;const x=_.factory||(_.factory=as(_.type)),S=new Lu(x,zo(_),null);c.blueprint[g]=S,h[g]=S,Hk(c,u,0,g,Lp(c,h,_.hostVars,jn),_)}function iw(c,u,h){const g=Nr(u,c),_=X1(h),x=c[10],S=sw(c,ih(c,_,null,h.onPush?64:16,g,u,x,x.createRenderer(g,h),null,null));c[u.index]=S}function su(c,u,h,g,_,x){const S=Nr(c,u);!function mr(c,u,h,g,_,x,S){if(null==x)wi(c)?c.removeAttribute(u,_,h):u.removeAttribute(_);else{const k=null==S?Qe(x):S(x,g||"",_);wi(c)?c.setAttribute(u,_,k,h):h?u.setAttributeNS(h,_,k):u.setAttribute(_,k)}}(u[11],S,x,c.value,h,g,_)}function rw(c,u,h,g,_,x){const S=x[u];if(null!==S){const k=g.setInput;for(let R=0;R<S.length;){const B=S[R++],j=S[R++],ne=S[R++];null!==k?g.setInput(h,ne,B,j):h[j]=ne}}}function RR(c,u){let h=null,g=0;for(;g<u.length;){const _=u[g];if(0!==_)if(5!==_){if("number"==typeof _)break;c.hasOwnProperty(_)&&(null===h&&(h=[]),h.push(_,c[_],u[g+1])),g+=2}else g+=2;else g+=4}return h}function Mm(c,u,h,g){return new Array(c,!0,!1,u,null,0,g,h,null,null)}function Zk(c,u){const h=Kr(u,c);if(qo(h)){const g=h[1];80&h[2]?sh(g,h,g.template,h[8]):h[5]>0&&RC(h)}}function RC(c){for(let g=Vr(c);null!==g;g=ds(g))for(let _=10;_<g.length;_++){const x=g[_];if(1024&x[2]){const S=x[1];sh(S,x,S.template,x[8])}else x[5]>0&&RC(x)}const h=c[1].components;if(null!==h)for(let g=0;g<h.length;g++){const _=Kr(h[g],c);qo(_)&&_[5]>0&&RC(_)}}function PR(c,u){const h=Kr(u,c),g=h[1];(function NR(c,u){for(let h=u.length;h<c.blueprint.length;h++)u.push(c.blueprint[h])})(g,h),rh(g,h,h[8])}function sw(c,u){return c[13]?c[14][4]=u:c[13]=u,c[14]=u,u}function Hp(c){for(;c;){c[2]|=64;const u=Ot(c);if(Wi(c)&&!u)return c;c=u}return null}function aw(c,u,h){const g=u[10];g.begin&&g.begin();try{sh(c,u,c.template,h)}catch(_){throw cw(u,_),_}finally{g.end&&g.end()}}function FC(c){!function ow(c){for(let u=0;u<c.components.length;u++){const h=c.components[u],g=Op(h),_=g[1];Lk(_,g,_.template,h)}}(c[8])}function PC(c,u,h){$c(0),u(c,h)}const VR=(()=>Promise.resolve(null))();function NC(c){return c[7]||(c[7]=[])}function LC(c){return c.cleanup||(c.cleanup=[])}function lw(c,u,h){return(null===c||zo(c))&&(h=function Vc(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(h[u.index])),h[11]}function cw(c,u){const h=c[9],g=h?h.get(xm,null):null;g&&g.handleError(u)}function BC(c,u,h,g,_){for(let x=0;x<h.length;){const S=h[x++],k=h[x++],R=u[S],B=c.data[S];null!==B.setInput?B.setInput(R,_,g,k):R[k]=_}}function Xu(c,u,h){const g=Wa(u,c);!function Ws(c,u,h){wi(c)?c.setValue(u,h):u.textContent=h}(c[11],g,h)}function Rm(c,u,h){let g=h?c.styles:null,_=h?c.classes:null,x=0;if(null!==u)for(let S=0;S<u.length;S++){const k=u[S];"number"==typeof k?x=k:1==x?_=$e(_,k):2==x&&(g=$e(g,k+": "+u[++S]+";"))}h?c.styles=g:c.stylesWithoutHost=g,h?c.classes=_:c.classesWithoutHost=_}const Fm=new rr("INJECTOR",-1);class Pm{get(u,h=Al){if(h===Al){const g=new Error(`NullInjectorError: No provider for ${Ze(u)}!`);throw g.name="NullInjectorError",g}return h}}const Nm=new rr("Set Injector scope."),jp={},Wk={};let zp;function Lm(){return void 0===zp&&(zp=new Pm),zp}function qk(c,u=null,h=null,g){const _=fs(c,u,h,g);return _._resolveInjectorDefTypes(),_}function fs(c,u=null,h=null,g){return new Gk(c,h,u||Lm(),g)}class Gk{constructor(u,h,g,_=null){this.parent=g,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const x=[];h&&co(h,k=>this.processProvider(k,u,h)),co([u],k=>this.processInjectorType(k,[],x)),this.records.set(Fm,Zp(void 0,this));const S=this.records.get(Nm);this.scope=null!=S?S.value:null,this.source=_||("object"==typeof u?null:Ze(u))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(u=>u.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(u,h=Al,g=ln.Default){this.assertNotDestroyed();const _=je(this),x=di(void 0);try{if(!(g&ln.SkipSelf)){let k=this.records.get(u);if(void 0===k){const R=function HC(c){return"function"==typeof c||"object"==typeof c&&c instanceof rr}(u)&&Gn(u);k=R&&this.injectableDefInScope(R)?Zp(VC(u),jp):null,this.records.set(u,k)}if(null!=k)return this.hydrate(u,k)}return(g&ln.Self?Lm():this.parent).get(u,h=g&ln.Optional&&h===Al?null:h)}catch(S){if("NullInjectorError"===S.name){if((S[eu]=S[eu]||[]).unshift(Ze(u)),_)throw S;return function Br(c,u,h,g){const _=c[eu];throw u[z]&&_.unshift(u[z]),c.message=function tu(c,u,h,g=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let _=Ze(u);if(Array.isArray(u))_=u.map(Ze).join(" -> ");else if("object"==typeof u){let x=[];for(let S in u)if(u.hasOwnProperty(S)){let k=u[S];x.push(S+":"+("string"==typeof k?JSON.stringify(k):Ze(k)))}_=`{${x.join(", ")}}`}return`${h}${g?"("+g+")":""}[${_}]: ${c.replace(F,"\n  ")}`}("\n"+c.message,_,h,g),c.ngTokenPath=_,c[eu]=null,c}(S,u,"R3InjectorError",this.source)}throw S}finally{di(x),je(_)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(u=>this.get(u))}toString(){const u=[];return this.records.forEach((g,_)=>u.push(Ze(_))),`R3Injector[${u.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new kt(205,!1)}processInjectorType(u,h,g){if(!(u=Re(u)))return!1;let _=Zr(u);const x=null==_&&u.ngModule||void 0,S=void 0===x?u:x,k=-1!==g.indexOf(S);if(void 0!==x&&(_=Zr(x)),null==_)return!1;if(null!=_.imports&&!k){let j;g.push(S);try{co(_.imports,ne=>{this.processInjectorType(ne,h,g)&&(void 0===j&&(j=[]),j.push(ne))})}finally{}if(void 0!==j)for(let ne=0;ne<j.length;ne++){const{ngModule:ye,providers:Ae}=j[ne];co(Ae,st=>this.processProvider(st,ye,Ae||pe))}}this.injectorDefTypes.add(S);const R=as(S)||(()=>new S);this.records.set(S,Zp(R,jp));const B=_.providers;if(null!=B&&!k){const j=u;co(B,ne=>this.processProvider(ne,j,B))}return void 0!==x&&void 0!==u.providers}processProvider(u,h,g){let _=Wp(u=Re(u))?u:Re(u&&u.provide);const x=function zR(c,u,h){return UC(c)?Zp(void 0,c.useValue):Zp($k(c),jp)}(u);if(Wp(u)||!0!==u.multi)this.records.get(_);else{let S=this.records.get(_);S||(S=Zp(void 0,jp,!0),S.factory=()=>Wn(S.multi),this.records.set(_,S)),_=u,S.multi.push(u)}this.records.set(_,x)}hydrate(u,h){return h.value===jp&&(h.value=Wk,h.value=h.factory()),"object"==typeof h.value&&h.value&&function ZR(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(h.value)&&this.onDestroy.add(h.value),h.value}injectableDefInScope(u){if(!u.providedIn)return!1;const h=Re(u.providedIn);return"string"==typeof h?"any"===h||h===this.scope:this.injectorDefTypes.has(h)}}function VC(c){const u=Gn(c),h=null!==u?u.factory:as(c);if(null!==h)return h;if(c instanceof rr)throw new kt(204,!1);if(c instanceof Function)return function jR(c){const u=c.length;if(u>0)throw pc(u,"?"),new kt(204,!1);const h=function ys(c){const u=c&&(c[ro]||c[Vs]);if(u){const h=function rs(c){if(c.hasOwnProperty("name"))return c.name;const u=(""+c).match(/^function\s*([^\s(]+)/);return null===u?"":u[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${h}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${h}" class.`),u}return null}(c);return null!==h?()=>h.factory(c):()=>new c}(c);throw new kt(204,!1)}function $k(c,u,h){let g;if(Wp(c)){const _=Re(c);return as(_)||VC(_)}if(UC(c))g=()=>Re(c.useValue);else if(function uw(c){return!(!c||!c.useFactory)}(c))g=()=>c.useFactory(...Wn(c.deps||[]));else if(function Yk(c){return!(!c||!c.useExisting)}(c))g=()=>Zt(Re(c.useExisting));else{const _=Re(c&&(c.useClass||c.provide));if(!function Kk(c){return!!c.deps}(c))return as(_)||VC(_);g=()=>new _(...Wn(c.deps))}return g}function Zp(c,u,h=!1){return{factory:c,value:u,multi:h?[]:void 0}}function UC(c){return null!==c&&"object"==typeof c&&le in c}function Wp(c){return"function"==typeof c}let Ja=(()=>{class c{static create(h,g){var _;if(Array.isArray(h))return qk({name:""},g,h,"");{const x=null!==(_=h.name)&&void 0!==_?_:"";return qk({name:x},h.parent,h.providers,x)}}}return c.THROW_IF_NOT_FOUND=Al,c.NULL=new Pm,c.\u0275prov=Xn({token:c,providedIn:"any",factory:()=>Zt(Fm)}),c.__NG_ELEMENT_ID__=-1,c})();function YR(c,u){Jh(Op(c)[1],Bi())}function QC(c){let u=function _w(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),h=!0;const g=[c];for(;u;){let _;if(zo(c))_=u.\u0275cmp||u.\u0275dir;else{if(u.\u0275cmp)throw new kt(903,"");_=u.\u0275dir}if(_){if(h){g.push(_);const S=c;S.inputs=vw(c.inputs),S.declaredInputs=vw(c.declaredInputs),S.outputs=vw(c.outputs);const k=_.hostBindings;k&&JR(c,k);const R=_.viewQuery,B=_.contentQueries;if(R&&QR(c,R),B&&yw(c,B),Ne(c.inputs,_.inputs),Ne(c.declaredInputs,_.declaredInputs),Ne(c.outputs,_.outputs),zo(_)&&_.data.animation){const j=c.data;j.animation=(j.animation||[]).concat(_.data.animation)}}const x=_.features;if(x)for(let S=0;S<x.length;S++){const k=x[S];k&&k.ngInherit&&k(c),k===QC&&(h=!1)}}u=Object.getPrototypeOf(u)}!function KR(c){let u=0,h=null;for(let g=c.length-1;g>=0;g--){const _=c[g];_.hostVars=u+=_.hostVars,_.hostAttrs=O(_.hostAttrs,h=O(h,_.hostAttrs))}}(g)}function vw(c){return c===Gr?{}:c===pe?[]:c}function QR(c,u){const h=c.viewQuery;c.viewQuery=h?(g,_)=>{u(g,_),h(g,_)}:u}function yw(c,u){const h=c.contentQueries;c.contentQueries=h?(g,_,x)=>{u(g,_,x),h(g,_,x)}:u}function JR(c,u){const h=c.hostBindings;c.hostBindings=h?(g,_)=>{u(g,_),h(g,_)}:u}let ou=null;function bf(){if(!ou){const c=An.Symbol;if(c&&c.iterator)ou=c.iterator;else{const u=Object.getOwnPropertyNames(Map.prototype);for(let h=0;h<u.length;++h){const g=u[h];"entries"!==g&&"size"!==g&&Map.prototype[g]===Map.prototype.entries&&(ou=g)}}}return ou}function At(c){return!!dv(c)&&(Array.isArray(c)||!(c instanceof Map)&&bf()in c)}function dv(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function an(c,u,h){return c[u]=h}function Pn(c,u){return c[u]}function ea(c,u,h){return!Object.is(c[u],h)&&(c[u]=h,!0)}function Yt(c,u,h,g){const _=ea(c,u,h);return ea(c,u+1,g)||_}function Ye(c,u,h,g,_){const x=Yt(c,u,h,g);return ea(c,u+2,_)||x}function vt(c,u,h,g,_,x){const S=Yt(c,u,h,g);return Yt(c,u+2,_,x)||S}function Is(c,u,h,g){const _=ft();return ea(_,Ga(),u)&&(Zn(),su(Gi(),_,c,u,h,g)),Is}function Vm(c,u,h,g){return ea(c,Ga(),h)?u+Qe(h)+g:jn}function Um(c,u,h,g,_,x){const k=Yt(c,function xa(){return En.lFrame.bindingIndex}(),h,_);return Io(2),k?u+Qe(h)+g+Qe(_)+x:jn}function tT(c,u,h,g,_,x,S,k){const R=ft(),B=Zn(),j=c+20,ne=B.firstCreatePass?function Qp(c,u,h,g,_,x,S,k,R){const B=u.consts,j=Np(u,c,4,S||null,So(B,k));rv(u,h,j,So(B,R)),Jh(u,j);const ne=j.tViews=Dm(2,j,g,_,x,u.directiveRegistry,u.pipeRegistry,null,u.schemas,B);return null!==u.queries&&(u.queries.template(u,j),ne.queries=u.queries.embeddedTView(j)),j}(j,B,R,u,h,g,_,x,S):B.data[j];zs(ne,!1);const ye=R[11].createComment("");$_(B,R,ye,ne),us(ye,R),sw(R,R[j]=Mm(ye,R,ye,ne)),jo(ne)&&J1(B,R,ne),null!=S&&Bp(R,ne,k)}function bi(c){return Eo(function Au(){return En.lFrame.contextLView}(),20+c)}function If(c,u=ln.Default){const h=ft();return null===h?Zt(c,u):Hd(Bi(),h,Re(c),u)}function Sw(){throw new Error("invalid")}function ch(c,u,h){const g=ft();return ea(g,Ga(),u)&&Qa(Zn(),Gi(),g,c,u,g[11],h,!1),ch}function Ym(c,u,h,g,_){const S=_?"class":"style";BC(c,h,u.inputs[S],S,g)}function mv(c,u,h,g){const _=ft(),x=Zn(),S=20+c,k=_[11],R=_[S]=Rp(k,u,function Vd(){return En.lFrame.currentNamespace}()),B=x.firstCreatePass?function gv(c,u,h,g,_,x,S){const k=u.consts,B=Np(u,c,2,_,So(k,x));return rv(u,h,B,So(k,S)),null!==B.attrs&&Rm(B,B.attrs,!1),null!==B.mergedAttrs&&Rm(B,B.mergedAttrs,!0),null!==u.queries&&u.queries.elementStart(u,B),B}(S,x,_,0,u,h,g):x.data[S];zs(B,!0);const j=B.mergedAttrs;null!==j&&Zi(k,R,j);const ne=B.classes;null!==ne&&V1(k,R,ne);const ye=B.styles;return null!==ye&&B1(k,R,ye),64!=(64&B.flags)&&$_(x,_,R,B),0===function Hc(){return En.lFrame.elementDepthCount}()&&us(R,_),function jc(){En.lFrame.elementDepthCount++}(),jo(B)&&(J1(x,_,B),SC(x,B,_)),null!==g&&Bp(_,B),mv}function Iw(){let c=Bi();Zc()?Bd():(c=c.parent,zs(c,!1));const u=c;!function lc(){En.lFrame.elementDepthCount--}();const h=Zn();return h.firstCreatePass&&(Jh(h,c),Iu(c)&&h.queries.elementEnd(c)),null!=u.classesWithoutHost&&function Xh(c){return 0!=(16&c.flags)}(u)&&Ym(h,u,ft(),u.classesWithoutHost,!0),null!=u.stylesWithoutHost&&function Xg(c){return 0!=(32&c.flags)}(u)&&Ym(h,u,ft(),u.stylesWithoutHost,!1),Iw}function Pl(c,u,h,g){return mv(c,u,h,g),Iw(),Pl}function eg(c,u,h){const g=ft(),_=Zn(),x=c+20,S=_.firstCreatePass?function ps(c,u,h,g,_){const x=u.consts,S=So(x,g),k=Np(u,c,8,"ng-container",S);return null!==S&&Rm(k,S,!0),rv(u,h,k,So(x,_)),null!==u.queries&&u.queries.elementStart(u,k),k}(x,_,g,u,h):_.data[x];zs(S,!0);const k=g[x]=g[11].createComment("");return $_(_,g,k,S),us(k,g),jo(S)&&(J1(_,g,S),SC(_,S,g)),null!=h&&Bp(g,S),eg}function ks(){let c=Bi();const u=Zn();return Zc()?Bd():(c=c.parent,zs(c,!1)),u.firstCreatePass&&(Jh(u,c),Iu(c)&&u.queries.elementEnd(c)),ks}function Qi(c,u,h){return eg(c,u,h),ks(),Qi}function oT(){return ft()}function kf(c){return!!c&&"function"==typeof c.then}function dD(c){return!!c&&"function"==typeof c.subscribe}const aT=dD;function uh(c,u,h,g){const _=ft(),x=Zn(),S=Bi();return vv(x,_,_[11],S,c,u,!!h,g),uh}function lT(c,u){const h=Bi(),g=ft(),_=Zn();return vv(_,g,lw(uc(_.data),h,g),h,c,u,!1),lT}function vv(c,u,h,g,_,x,S,k){const R=jo(g),j=c.firstCreatePass&&LC(c),ne=u[8],ye=NC(u);let Ae=!0;if(3&g.type||k){const jt=Nr(g,u),pn=k?k(jt):jt,wt=ye.length,kn=k?ai=>k(xi(ai[g.index])):g.index;if(wi(h)){let ai=null;if(!k&&R&&(ai=function _v(c,u,h,g){const _=c.cleanup;if(null!=_)for(let x=0;x<_.length-1;x+=2){const S=_[x];if(S===h&&_[x+1]===g){const k=u[7],R=_[x+2];return k.length>R?k[R]:null}"string"==typeof S&&(x+=2)}return null}(c,u,_,g.index)),null!==ai)(ai.__ngLastListenerFn__||ai).__ngNextListenerFn__=x,ai.__ngLastListenerFn__=x,Ae=!1;else{x=kw(g,u,ne,x,!1);const Ui=h.listen(pn,_,x);ye.push(x,Ui),j&&j.push(_,kn,wt,wt+1)}}else x=kw(g,u,ne,x,!0),pn.addEventListener(_,x,S),ye.push(x),j&&j.push(_,kn,wt,S)}else x=kw(g,u,ne,x,!1);const st=g.outputs;let Rt;if(Ae&&null!==st&&(Rt=st[_])){const jt=Rt.length;if(jt)for(let pn=0;pn<jt;pn+=2){const ta=u[Rt[pn]][Rt[pn+1]].subscribe(x),id=ye.length;ye.push(x,ta),j&&j.push(_,g.index,id,-(id+1))}}}function yv(c,u,h,g){try{return!1!==h(g)}catch(_){return cw(c,_),!1}}function kw(c,u,h,g,_){return function x(S){if(S===Function)return g;const k=2&c.flags?Kr(c.index,u):u;0==(32&u[2])&&Hp(k);let R=yv(u,0,g,S),B=x.__ngNextListenerFn__;for(;B;)R=yv(u,0,B,S)&&R,B=B.__ngNextListenerFn__;return _&&!1===R&&(S.preventDefault(),S.returnValue=!1),R}}function cT(c=1){return function $o(c){return(En.lFrame.contextLView=function pp(c,u){for(;c>0;)u=u[15],c--;return u}(c,En.lFrame.contextLView))[8]}(c)}function Oo(c,u){let h=null;const g=function Ck(c){const u=c.attrs;if(null!=u){const h=u.indexOf(5);if(0==(1&h))return u[h+1]}return null}(c);for(let _=0;_<u.length;_++){const x=u[_];if("*"!==x){if(null===g?bk(c,x,!0):fC(g,x))return _}else h=_}return h}function hD(c){const u=ft()[16][6];if(!u.projection){const g=u.projection=pc(c?c.length:1,null),_=g.slice();let x=u.child;for(;null!==x;){const S=c?Oo(x,c):0;null!==S&&(_[S]?_[S].projectionNext=x:g[S]=x,_[S]=x),x=x.next}}}function fD(c,u=0,h){const g=ft(),_=Zn(),x=Np(_,20+c,16,null,h||null);null===x.projection&&(x.projection=u),Bd(),64!=(64&x.flags)&&function uC(c,u,h){Jo(u[11],0,u,h,Tm(c,h,u),po(h.parent||u[6],h,u))}(_,g,x)}function uT(c,u,h){return Dw(c,"",u,"",h),uT}function Dw(c,u,h,g,_){const x=ft(),S=Vm(x,u,h,g);return S!==jn&&Qa(Zn(),Gi(),x,c,S,x[11],_,!1),Dw}function ng(c,u,h,g,_){const x=c[h+1],S=null===u;let k=g?ru(x):bc(x),R=!1;for(;0!==k&&(!1===R||S);){const j=c[k+1];rF(c[k],u)&&(R=!0,c[k+1]=g?Q_(j):gC(j)),k=g?ru(j):bc(j)}R&&(c[h+1]=g?gC(x):Q_(x))}function rF(c,u){return null===c||null==u||(Array.isArray(c)?c[1]:c)===u||!(!Array.isArray(c)||"string"!=typeof u)&&Xc(c,u)>=0}const gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Aw(c){return c.substring(gs.key,gs.keyEnd)}function Nl(c,u){const h=gs.textEnd;return h===u?-1:(u=gs.keyEnd=function pT(c,u,h){for(;u<h&&c.charCodeAt(u)>32;)u++;return u}(c,gs.key=u,h),Df(c,u,h))}function Df(c,u,h){for(;u<h&&c.charCodeAt(u)<=32;)u++;return u}function Mw(c,u,h){return Ro(c,u,h,!1),Mw}function Jm(c,u){return Ro(c,u,null,!0),Jm}function _T(c){!function Sc(c,u,h,g){const _=Zn(),x=Io(2);_.firstUpdatePass&&vT(_,null,x,g);const S=ft();if(h!==jn&&ea(S,x,h)){const k=_.data[Lr()];if(wT(k,g)&&!Af(_,x)){let R=g?k.classesWithoutHost:k.stylesWithoutHost;null!==R&&(h=$e(R,h||"")),Ym(_,k,S,h,g)}else!function Ow(c,u,h,g,_,x,S,k){_===jn&&(_=pe);let R=0,B=0,j=0<_.length?_[0]:null,ne=0<x.length?x[0]:null;for(;null!==j||null!==ne;){const ye=R<_.length?_[R+1]:void 0,Ae=B<x.length?x[B+1]:void 0;let Rt,st=null;j===ne?(R+=2,B+=2,ye!==Ae&&(st=ne,Rt=Ae)):null===ne||null!==j&&j<ne?(R+=2,st=j):(B+=2,st=ne,Rt=Ae),null!==st&&TD(c,u,h,g,st,Rt,S,k),j=R<_.length?_[R]:null,ne=B<x.length?x[B]:null}}(_,k,S,S[11],S[x+1],S[x+1]=function Ds(c,u,h){if(null==h||""===h)return pe;const g=[],_=Yu(h);if(Array.isArray(_))for(let x=0;x<_.length;x++)c(g,_[x],!0);else if("object"==typeof _)for(const x in _)_.hasOwnProperty(x)&&c(g,x,_[x]);else"string"==typeof _&&u(g,_);return g}(c,u,h),g,x)}}(Jr,Ia,c,!0)}function Ia(c,u){for(let h=function Km(c){return function fT(c){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=c.length}(c),Nl(c,Df(c,0,gs.textEnd))}(u);h>=0;h=Nl(u,h))Jr(c,Aw(u),!0)}function Ro(c,u,h,g){const _=ft(),x=Zn(),S=Io(2);x.firstUpdatePass&&vT(x,c,S,g),u!==jn&&ea(_,S,u)&&TD(x,x.data[Lr()],_,_[11],c,_[S+1]=function ED(c,u){return null==c||("string"==typeof u?c+=u:"object"==typeof c&&(c=Ze(Yu(c)))),c}(u,h),g,S)}function Af(c,u){return u>=c.expandoStartIndex}function vT(c,u,h,g){const _=c.data;if(null===_[h+1]){const x=_[Lr()],S=Af(c,h);wT(x,g)&&null===u&&!S&&(u=!1),u=function Xm(c,u,h,g){const _=uc(c);let x=g?u.residualClasses:u.residualStyles;if(null===_)0===(g?u.classBindings:u.styleBindings)&&(h=xv(h=yT(null,c,u,h,g),u.attrs,g),x=null);else{const S=u.directiveStylingLast;if(-1===S||c[S]!==_)if(h=yT(_,c,u,h,g),null===x){let R=function bD(c,u,h){const g=h?u.classBindings:u.styleBindings;if(0!==bc(g))return c[ru(g)]}(c,u,g);void 0!==R&&Array.isArray(R)&&(R=yT(null,c,u,R[1],g),R=xv(R,u.attrs,g),function CD(c,u,h,g){c[ru(h?u.classBindings:u.styleBindings)]=g}(c,u,g,R))}else x=function wv(c,u,h){let g;const _=u.directiveEnd;for(let x=1+u.directiveStylingLast;x<_;x++)g=xv(g,c[x].hostAttrs,h);return xv(g,u.attrs,h)}(c,u,g)}return void 0!==x&&(g?u.residualClasses=x:u.residualStyles=x),h}(_,x,u,g),function hh(c,u,h,g,_,x){let S=x?u.classBindings:u.styleBindings,k=ru(S),R=bc(S);c[g]=h;let j,B=!1;if(Array.isArray(h)){const ne=h;j=ne[1],(null===j||Xc(ne,j)>0)&&(B=!0)}else j=h;if(_)if(0!==R){const ye=ru(c[k+1]);c[g+1]=vf(ye,k),0!==ye&&(c[ye+1]=Im(c[ye+1],g)),c[k+1]=function TR(c,u){return 131071&c|u<<17}(c[k+1],g)}else c[g+1]=vf(k,0),0!==k&&(c[k+1]=Im(c[k+1],g)),k=g;else c[g+1]=vf(R,0),0===k?k=g:c[R+1]=Im(c[R+1],g),R=g;B&&(c[g+1]=gC(c[g+1])),ng(c,j,g,!0),ng(c,j,g,!1),function yD(c,u,h,g,_){const x=_?c.residualClasses:c.residualStyles;null!=x&&"string"==typeof u&&Xc(x,u)>=0&&(h[g+1]=Q_(h[g+1]))}(u,j,c,g,x),S=vf(k,R),x?u.classBindings=S:u.styleBindings=S}(_,x,u,h,S,g)}}function yT(c,u,h,g,_){let x=null;const S=h.directiveEnd;let k=h.directiveStylingLast;for(-1===k?k=h.directiveStart:k++;k<S&&(x=u[k],g=xv(g,x.hostAttrs,_),x!==c);)k++;return null!==c&&(h.directiveStylingLast=k),g}function xv(c,u,h){const g=h?1:2;let _=-1;if(null!==u)for(let x=0;x<u.length;x++){const S=u[x];"number"==typeof S?_=S:_===g&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Jr(c,S,!!h||u[++x]))}return void 0===c?null:c}function TD(c,u,h,g,_,x,S,k){if(!(3&u.type))return;const R=c.data,B=R[k+1];Fw(function z1(c){return 1==(1&c)}(B)?Rw(R,u,h,_,bc(B),S):void 0)||(Fw(x)||function Sm(c){return 2==(2&c)}(B)&&(x=Rw(R,null,h,_,k,S)),function vk(c,u,h,g,_){const x=wi(c);if(u)_?x?c.addClass(h,g):h.classList.add(g):x?c.removeClass(h,g):h.classList.remove(g);else{let S=-1===g.indexOf("-")?void 0:L.DashCase;if(null==_)x?c.removeStyle(h,g,S):h.style.removeProperty(g);else{const k="string"==typeof _&&_.endsWith("!important");k&&(_=_.slice(0,-10),S|=L.Important),x?c.setStyle(h,g,_,S):h.style.setProperty(g,_,k?"important":"")}}}(g,S,Wa(Lr(),h),_,x))}function Rw(c,u,h,g,_,x){const S=null===u;let k;for(;_>0;){const R=c[_],B=Array.isArray(R),j=B?R[1]:R,ne=null===j;let ye=h[_+1];ye===jn&&(ye=ne?pe:void 0);let Ae=ne?Gd(ye,g):j===g?ye:void 0;if(B&&!Fw(Ae)&&(Ae=Gd(R,g)),Fw(Ae)&&(k=Ae,S))return k;const st=c[_+1];_=S?ru(st):bc(st)}if(null!==u){let R=x?u.residualClasses:u.residualStyles;null!=R&&(k=Gd(R,g))}return k}function Fw(c){return void 0!==c}function wT(c,u){return 0!=(c.flags&(u?16:32))}function e0(c,u=""){const h=ft(),g=Zn(),_=c+20,x=g.firstCreatePass?Np(g,_,1,u,null):g.data[_],S=h[_]=function hs(c,u){return wi(c)?c.createText(u):c.createTextNode(u)}(h[11],u);$_(g,h,S,x),zs(x,!1)}function fh(c){return Cv("",c,""),fh}function Cv(c,u,h){const g=ft(),_=Vm(g,c,u,h);return _!==jn&&Xu(g,Lr(),_),Cv}function Pw(c,u,h,g,_){const x=ft(),S=Um(x,c,u,h,g,_);return S!==jn&&Xu(x,Lr(),S),Pw}function As(c,u,h){const g=ft();return ea(g,Ga(),u)&&Qa(Zn(),Gi(),g,c,u,g[11],h,!0),As}function Iv(c,u,h){const g=ft();if(ea(g,Ga(),u)){const x=Zn(),S=Gi();Qa(x,S,g,c,u,lw(uc(x.data),S,g),h,!0)}return Iv}const Of=void 0;var nd=["en",[["a","p"],["AM","PM"],Of],[["AM","PM"],Of,Of],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Of,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Of,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Of,"{1} 'at' {0}",Of],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kv(c){const h=Math.floor(Math.abs(c)),g=c.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===g?1:5}];let Rf={};function ig(c){const u=function Dv(c){return c.toLowerCase().replace(/_/g,"-")}(c);let h=kT(u);if(h)return h;const g=u.split("-")[0];if(h=kT(g),h)return h;if("en"===g)return nd;throw new Error(`Missing locale data for the locale "${c}".`)}function IT(c){return ig(c)[Rn.PluralCase]}function kT(c){return c in Rf||(Rf[c]=An.ng&&An.ng.common&&An.ng.common.locales&&An.ng.common.locales[c]),Rf[c]}var Rn=(()=>((Rn=Rn||{})[Rn.LocaleId=0]="LocaleId",Rn[Rn.DayPeriodsFormat=1]="DayPeriodsFormat",Rn[Rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rn[Rn.DaysFormat=3]="DaysFormat",Rn[Rn.DaysStandalone=4]="DaysStandalone",Rn[Rn.MonthsFormat=5]="MonthsFormat",Rn[Rn.MonthsStandalone=6]="MonthsStandalone",Rn[Rn.Eras=7]="Eras",Rn[Rn.FirstDayOfWeek=8]="FirstDayOfWeek",Rn[Rn.WeekendRange=9]="WeekendRange",Rn[Rn.DateFormat=10]="DateFormat",Rn[Rn.TimeFormat=11]="TimeFormat",Rn[Rn.DateTimeFormat=12]="DateTimeFormat",Rn[Rn.NumberSymbols=13]="NumberSymbols",Rn[Rn.NumberFormats=14]="NumberFormats",Rn[Rn.CurrencyCode=15]="CurrencyCode",Rn[Rn.CurrencySymbol=16]="CurrencySymbol",Rn[Rn.CurrencyName=17]="CurrencyName",Rn[Rn.Currencies=18]="Currencies",Rn[Rn.Directionality=19]="Directionality",Rn[Rn.PluralCase=20]="PluralCase",Rn[Rn.ExtraData=21]="ExtraData",Rn))();const Av="en-US";let LD=Av;function Gw(c,u,h,g,_){if(c=Re(c),Array.isArray(c))for(let x=0;x<c.length;x++)Gw(c[x],u,h,g,_);else{const x=Zn(),S=ft();let k=Wp(c)?c:Re(c.provide),R=$k(c);const B=Bi(),j=1048575&B.providerIndexes,ne=B.directiveStart,ye=B.providerIndexes>>20;if(Wp(c)||!c.multi){const Ae=new Lu(R,_,If),st=a0(k,u,_?j:j+ye,ne);-1===st?(Ts(hc(B,S),x,k),lg(x,c,u.length),u.push(k),B.directiveStart++,B.directiveEnd++,_&&(B.providerIndexes+=1048576),h.push(Ae),S.push(Ae)):(h[st]=Ae,S[st]=Ae)}else{const Ae=a0(k,u,j+ye,ne),st=a0(k,u,j,j+ye),Rt=Ae>=0&&h[Ae],jt=st>=0&&h[st];if(_&&!jt||!_&&!Rt){Ts(hc(B,S),x,k);const pn=function Yw(c,u,h,g,_){const x=new Lu(c,h,If);return x.multi=[],x.index=u,x.componentProviders=0,Lv(x,_,g&&!h),x}(_?tl:o2,h.length,_,g,R);!_&&jt&&(h[st].providerFactory=pn),lg(x,c,u.length,0),u.push(k),B.directiveStart++,B.directiveEnd++,_&&(B.providerIndexes+=1048576),h.push(pn),S.push(pn)}else lg(x,c,Ae>-1?Ae:st,Lv(h[_?st:Ae],R,!_&&g));!_&&g&&jt&&h[st].componentProviders++}}}function lg(c,u,h,g){const _=Wp(u),x=function ah(c){return!!c.useClass}(u);if(_||x){const R=(x?Re(u.useClass):u).prototype.ngOnDestroy;if(R){const B=c.destroyHooks||(c.destroyHooks=[]);if(!_&&u.multi){const j=B.indexOf(h);-1===j?B.push(h,[g,R]):B[j+1].push(g,R)}else B.push(h,R)}}}function Lv(c,u,h){return h&&c.componentProviders++,c.multi.push(u)-1}function a0(c,u,h,g){for(let _=h;_<g;_++)if(u[_]===c)return _;return-1}function o2(c,u,h,g){return $w(this.multi,[])}function tl(c,u,h,g){const _=this.multi;let x;if(this.providerFactory){const S=this.providerFactory.componentProviders,k=jd(h,h[1],this.providerFactory.index,g);x=k.slice(0,S),$w(_,x);for(let R=S;R<k.length;R++)x.push(k[R])}else x=[],$w(_,x);return x}function $w(c,u){for(let h=0;h<c.length;h++)u.push((0,c[h])());return u}function Kw(c,u=[]){return h=>{h.providersResolver=(g,_)=>function PF(c,u,h){const g=Zn();if(g.firstCreatePass){const _=zo(c);Gw(h,g.data,g.blueprint,_,!0),Gw(u,g.data,g.blueprint,_,!1)}}(g,_?_(c):c,u)}}class ph{}class NF{resolveComponentFactory(u){throw function l0(c){const u=Error(`No component factory found for ${Ze(c)}. Did you add it to @NgModule.entryComponents?`);return u.ngComponent=c,u}(u)}}let gh=(()=>{class c{}return c.NULL=new NF,c})();function l2(){return Ll(Bi(),ft())}function Ll(c,u){return new cu(Nr(c,u))}let cu=(()=>{class c{constructor(h){this.nativeElement=h}}return c.__NG_ELEMENT_ID__=l2,c})();function UT(c){return c instanceof cu?c.nativeElement:c}class c2{}let BF=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function UF(){const c=ft(),h=Kr(Bi().index,c);return function VF(c){return c[11]}(js(h)?h:c)}(),c})(),Qw=(()=>{class c{}return c.\u0275prov=Xn({token:c,providedIn:"root",factory:()=>null}),c})();class HT{constructor(u){this.full=u,this.major=u.split(".")[0],this.minor=u.split(".")[1],this.patch=u.split(".").slice(2).join(".")}}const u2=new HT("13.3.4"),jT={};function Bv(c,u,h,g,_=!1){for(;null!==h;){const x=u[h.index];if(null!==x&&g.push(xi(x)),Ho(x))for(let k=10;k<x.length;k++){const R=x[k],B=R[1].firstChild;null!==B&&Bv(R[1],R,B,g)}const S=h.type;if(8&S)Bv(c,u,h.child,g);else if(32&S){const k=Ee(h,u);let R;for(;R=k();)g.push(R)}else if(16&S){const k=cC(u,h);if(Array.isArray(k))g.push(...k);else{const R=Ot(u[16]);Bv(R[1],R,k,g,!0)}}h=_?h.projectionNext:h.next}return g}class uu{constructor(u,h){this._lView=u,this._cdRefInjectingView=h,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const u=this._lView,h=u[1];return Bv(h,u,h.firstChild,[])}get context(){return this._lView[8]}set context(u){this._lView[8]=u}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const u=this._lView[3];if(Ho(u)){const h=u[8],g=h?h.indexOf(this):-1;g>-1&&(hn(u,g),Qr(h,g))}this._attachedToViewContainer=!1}R1(this._lView[1],this._lView)}onDestroy(u){Bk(this._lView[1],this._lView,null,u)}markForCheck(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){aw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Om(c,u,h){Mu(!0);try{aw(c,u,h)}finally{Mu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new kt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xc(c,u){qs(c,u,u[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(u){if(this._attachedToViewContainer)throw new kt(902,"");this._appRef=u}}class Vv extends uu{constructor(u){super(u),this._view=u}detectChanges(){FC(this._view)}checkNoChanges(){!function LR(c){Mu(!0);try{FC(c)}finally{Mu(!1)}}(this._view)}get context(){return null}}class zT extends gh{constructor(u){super(),this.ngModule=u}resolveComponentFactory(u){const h=Er(u);return new Uv(h,this.ngModule)}}function ZT(c){const u=[];for(let h in c)c.hasOwnProperty(h)&&u.push({propName:c[h],templateName:h});return u}class Uv extends ph{constructor(u,h){super(),this.componentDef=u,this.ngModule=h,this.componentType=u.type,this.selector=function CR(c){return c.map(bR).join(",")}(u.selectors),this.ngContentSelectors=u.ngContentSelectors?u.ngContentSelectors:[],this.isBoundToModule=!!h}get inputs(){return ZT(this.componentDef.inputs)}get outputs(){return ZT(this.componentDef.outputs)}create(u,h,g,_){const x=(_=_||this.ngModule)?function d2(c,u){return{get:(h,g,_)=>{const x=c.get(h,jT,_);return x!==jT||g===jT?x:u.get(h,g,_)}}}(u,_.injector):u,S=x.get(c2,sc),k=x.get(Qw,null),R=S.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",j=g?function kC(c,u,h){if(wi(c))return c.selectRootElement(u,h===$n.ShadowDom);let g="string"==typeof u?c.querySelector(u):u;return g.textContent="",g}(R,g,this.componentDef.encapsulation):Rp(S.createRenderer(null,this.componentDef),B,function HF(c){const u=c.toLowerCase();return"svg"===u?"svg":"math"===u?"math":null}(B)),ne=this.componentDef.onPush?576:528,ye=function Gp(c,u){return{components:[],scheduler:c||hk,clean:VR,playerHandler:u||null,flags:0}}(),Ae=Dm(0,null,null,1,0,null,null,null,null,null),st=ih(null,Ae,ye,ne,null,null,S,R,k,x);let Rt,jt;vl(st);try{const pn=function YC(c,u,h,g,_,x){const S=h[1];h[20]=c;const R=Np(S,20,2,"#host",null),B=R.mergedAttrs=u.hostAttrs;null!==B&&(Rm(R,B,!0),null!==c&&(Zi(_,c,B),null!==R.classes&&V1(_,c,R.classes),null!==R.styles&&B1(_,c,R.styles)));const j=g.createRenderer(c,u),ne=ih(h,X1(u),null,u.onPush?64:16,h[20],R,g,j,x||null,null);return S.firstCreatePass&&(Ts(hc(R,h),S,u.type),zk(S,R),sv(R,h.length,1)),sw(h,ne),h[20]=ne}(j,this.componentDef,st,S,R);if(j)if(g)Zi(R,j,["ng-version",u2.full]);else{const{attrs:wt,classes:kn}=function pC(c){const u=[],h=[];let g=1,_=2;for(;g<c.length;){let x=c[g];if("string"==typeof x)2===_?""!==x&&u.push(x,c[++g]):8===_&&h.push(x);else{if(!Fl(_))break;_=x}g++}return{attrs:u,classes:h}}(this.componentDef.selectors[0]);wt&&Zi(R,j,wt),kn&&kn.length>0&&V1(R,j,kn.join(" "))}if(jt=qi(Ae,20),void 0!==h){const wt=jt.projection=[];for(let kn=0;kn<this.ngContentSelectors.length;kn++){const ai=h[kn];wt.push(null!=ai?Array.from(ai):null)}}Rt=function KC(c,u,h,g,_){const x=h[1],S=function Vp(c,u,h){const g=Bi();c.firstCreatePass&&(h.providersResolver&&h.providersResolver(h),ov(c,g,u,Lp(c,u,1,null),h));const _=jd(u,c,g.directiveStart,g);us(_,u);const x=Nr(g,u);return x&&us(x,u),_}(x,h,u);if(g.components.push(S),c[8]=S,_&&_.forEach(R=>R(S,u)),u.contentQueries){const R=Bi();u.contentQueries(1,S,R.directiveStart)}const k=Bi();return!x.firstCreatePass||null===u.hostBindings&&null===u.hostAttrs||(Yo(k.index),Hk(h[1],k,0,k.directiveStart,k.directiveEnd,u),wf(u,S)),S}(pn,this.componentDef,st,ye,[YR]),rh(Ae,st,null)}finally{ba()}return new Xw(this.componentType,Rt,Ll(jt,st),st,jt)}}class Xw extends class a2{}{constructor(u,h,g,_,x){super(),this.location=g,this._rootLView=_,this._tNode=x,this.instance=h,this.hostView=this.changeDetectorRef=new Vv(_),this.componentType=u}get injector(){return new zu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(u){this.hostView.onDestroy(u)}}class u0{}class ex{}const cg=new Map;class g2 extends u0{constructor(u,h){super(),this._parent=h,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zT(this);const g=Ir(u);this._bootstrapComponents=Ki(g.bootstrap),this._r3Injector=fs(u,h,[{provide:u0,useValue:this},{provide:gh,useValue:this.componentFactoryResolver}],Ze(u)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(u)}get(u,h=Ja.THROW_IF_NOT_FOUND,g=ln.Default){return u===Ja||u===u0||u===Fm?this:this._r3Injector.get(u,h,g)}destroy(){const u=this._r3Injector;!u.destroyed&&u.destroy(),this.destroyCbs.forEach(h=>h()),this.destroyCbs=null}onDestroy(u){this.destroyCbs.push(u)}}class tx extends ex{constructor(u){super(),this.moduleType=u,null!==Ir(u)&&function h2(c){const u=new Set;!function h(g){const _=Ir(g,!0),x=_.id;null!==x&&(function GT(c,u,h){if(u&&u!==h)throw new Error(`Duplicate module registered for ${c} - ${Ze(u)} vs ${Ze(u.name)}`)}(x,cg.get(x),g),cg.set(x,g));const S=Ki(_.imports);for(const k of S)u.has(k)||(u.add(k),h(k))}(c)}(u)}create(u){return new g2(this.moduleType,u)}}function m2(c,u,h){const g=pr()+c,_=ft();return _[g]===jn?an(_,g,h?u.call(h):u()):Pn(_,g)}function ug(c,u,h,g){return rx(ft(),pr(),c,u,h,g)}function dg(c,u,h,g,_){return _2(ft(),pr(),c,u,h,g,_)}function nx(c,u,h,g,_,x){return v2(ft(),pr(),c,u,h,g,_,x)}function Hv(c,u,h,g,_,x,S){return function sx(c,u,h,g,_,x,S,k,R){const B=u+h;return vt(c,B,_,x,S,k)?an(c,B+4,R?g.call(R,_,x,S,k):g(_,x,S,k)):jv(c,B+4)}(ft(),pr(),c,u,h,g,_,x,S)}function $T(c,u,h,g,_,x,S,k){const R=pr()+c,B=ft(),j=vt(B,R,h,g,_,x);return ea(B,R+4,S)||j?an(B,R+5,k?u.call(k,h,g,_,x,S):u(h,g,_,x,S)):Pn(B,R+5)}function YT(c,u,h,g,_,x,S,k,R){const B=pr()+c,j=ft(),ne=vt(j,B,h,g,_,x);return Yt(j,B+4,S,k)||ne?an(j,B+6,R?u.call(R,h,g,_,x,S,k):u(h,g,_,x,S,k)):Pn(j,B+6)}function KT(c,u,h,g,_,x,S,k,R,B){const j=pr()+c,ne=ft();let ye=vt(ne,j,h,g,_,x);return Ye(ne,j+4,S,k,R)||ye?an(ne,j+7,B?u.call(B,h,g,_,x,S,k,R):u(h,g,_,x,S,k,R)):Pn(ne,j+7)}function ix(c,u,h,g){return function Qs(c,u,h,g,_,x){let S=u+h,k=!1;for(let R=0;R<_.length;R++)ea(c,S++,_[R])&&(k=!0);return k?an(c,S,g.apply(x,_)):jv(c,S)}(ft(),pr(),c,u,h,g)}function jv(c,u){const h=c[u];return h===jn?void 0:h}function rx(c,u,h,g,_,x){const S=u+h;return ea(c,S,_)?an(c,S+1,x?g.call(x,_):g(_)):jv(c,S+1)}function _2(c,u,h,g,_,x,S){const k=u+h;return Yt(c,k,_,x)?an(c,k+2,S?g.call(S,_,x):g(_,x)):jv(c,k+2)}function v2(c,u,h,g,_,x,S,k){const R=u+h;return Ye(c,R,_,x,S)?an(c,R+3,k?g.call(k,_,x,S):g(_,x,S)):jv(c,R+3)}function y2(c,u){const h=Zn();let g;const _=c+20;h.firstCreatePass?(g=function ZF(c,u){if(u)for(let h=u.length-1;h>=0;h--){const g=u[h];if(c===g.name)return g}}(u,h.pipeRegistry),h.data[_]=g,g.onDestroy&&(h.destroyHooks||(h.destroyHooks=[])).push(_,g.onDestroy)):g=h.data[_];const x=g.factory||(g.factory=as(g.type)),S=di(If);try{const k=$i(!1),R=x();return $i(k),function fv(c,u,h,g){h>=c.data.length&&(c.data[h]=null,c.blueprint[h]=null),u[h]=g}(h,ft(),_,R),R}finally{di(S)}}function w2(c,u,h){const g=c+20,_=ft(),x=Eo(_,g);return d0(_,g)?rx(_,pr(),u,x.transform,h,x):x.transform(h)}function x2(c,u,h,g){const _=c+20,x=ft(),S=Eo(x,_);return d0(x,_)?_2(x,pr(),u,S.transform,h,g,S):S.transform(h,g)}function b2(c,u,h,g,_){const x=c+20,S=ft(),k=Eo(S,x);return d0(S,x)?v2(S,pr(),u,k.transform,h,g,_,k):k.transform(h,g,_)}function d0(c,u){return c[1].data[u].pure}function zv(c){return u=>{setTimeout(c,void 0,u)}}const Bl=class C2 extends o.x{constructor(u=!1){super(),this.__isAsync=u}emit(u){super.next(u)}subscribe(u,h,g){var _,x,S;let k=u,R=h||(()=>null),B=g;if(u&&"object"==typeof u){const ne=u;k=null===(_=ne.next)||void 0===_?void 0:_.bind(ne),R=null===(x=ne.error)||void 0===x?void 0:x.bind(ne),B=null===(S=ne.complete)||void 0===S?void 0:S.bind(ne)}this.__isAsync&&(R=zv(R),k&&(k=zv(k)),B&&(B=zv(B)));const j=super.subscribe({next:k,error:R,complete:B});return u instanceof Ie.w0&&u.add(j),j}};function Zv(){return this._results[bf()]()}class h0{constructor(u=!1){this._emitDistinctChangesOnly=u,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const h=bf(),g=h0.prototype;g[h]||(g[h]=Zv)}get changes(){return this._changes||(this._changes=new Bl)}get(u){return this._results[u]}map(u){return this._results.map(u)}filter(u){return this._results.filter(u)}find(u){return this._results.find(u)}reduce(u,h){return this._results.reduce(u,h)}forEach(u){this._results.forEach(u)}some(u){return this._results.some(u)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(u,h){const g=this;g.dirty=!1;const _=lo(u);(this._changesDetected=!function sf(c,u,h){if(c.length!==u.length)return!1;for(let g=0;g<c.length;g++){let _=c[g],x=u[g];if(h&&(_=h(_),x=h(x)),x!==_)return!1}return!0}(g._results,_,h))&&(g._results=_,g.length=_.length,g.last=_[this.length-1],g.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hg=(()=>{class c{}return c.__NG_ELEMENT_ID__=T2,c})();const JT=hg,XT=class extends JT{constructor(u,h,g){super(),this._declarationLView=u,this._declarationTContainer=h,this.elementRef=g}createEmbeddedView(u){const h=this._declarationTContainer.tViews,g=ih(this._declarationLView,h,u,16,null,h.declTNode,null,null,null,null);g[17]=this._declarationLView[this._declarationTContainer.index];const x=this._declarationLView[19];return null!==x&&(g[19]=x.createEmbeddedView(h)),rh(h,g,u),new uu(g)}};function T2(){return ox(Bi(),ft())}function ox(c,u){return 4&c.type?new XT(u,c,Ll(c,u)):null}let Wv=(()=>{class c{}return c.__NG_ELEMENT_ID__=qF,c})();function qF(){return p0(Bi(),ft())}const GF=Wv,E2=class extends GF{constructor(u,h,g){super(),this._lContainer=u,this._hostTNode=h,this._hostLView=g}get element(){return Ll(this._hostTNode,this._hostLView)}get injector(){return new zu(this._hostTNode,this._hostLView)}get parentInjector(){const u=Ea(this._hostTNode,this._hostLView);if(re(u)){const h=fn(u,this._hostLView),g=it(u);return new zu(h[1].data[g+8],h)}return new zu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(u){const h=eE(this._lContainer);return null!==h&&h[u]||null}get length(){return this._lContainer.length-10}createEmbeddedView(u,h,g){const _=u.createEmbeddedView(h||{});return this.insert(_,g),_}createComponent(u,h,g,_,x){const S=u&&!function El(c){return"function"==typeof c}(u);let k;if(S)k=h;else{const ne=h||{};k=ne.index,g=ne.injector,_=ne.projectableNodes,x=ne.ngModuleRef}const R=S?u:new Uv(Er(u)),B=g||this.parentInjector;if(!x&&null==R.ngModule){const ye=(S?B:this.parentInjector).get(u0,null);ye&&(x=ye)}const j=R.create(B,_,void 0,x);return this.insert(j.hostView,k),j}insert(u,h){const g=u._lView,_=g[1];if(function Uc(c){return Ho(c[3])}(g)){const j=this.indexOf(u);if(-1!==j)this.detach(j);else{const ne=g[3],ye=new E2(ne,ne[6],ne[3]);ye.detach(ye.indexOf(u))}}const x=this._adjustIndex(h),S=this._lContainer;!function X(c,u,h,g){const _=10+g,x=h.length;g>0&&(h[_-1][4]=u),g<x-10?(u[4]=h[_],Jc(h,10+g,u)):(h.push(u),u[4]=null),u[3]=h;const S=u[17];null!==S&&h!==S&&function sC(c,u){const h=c[9];u[16]!==u[3][3][16]&&(c[2]=!0),null===h?c[9]=[u]:h.push(u)}(S,u);const k=u[19];null!==k&&k.insertView(c),u[2]|=128}(_,g,S,x);const k=Y_(x,S),R=g[11],B=Es(R,S[7]);return null!==B&&function Sa(c,u,h,g,_,x){g[0]=_,g[6]=u,qs(c,g,h,1,_,x)}(_,S[6],R,g,B,k),u.attachToViewContainerRef(),Jc(f0(S),x,u),u}move(u,h){return this.insert(u,h)}indexOf(u){const h=eE(this._lContainer);return null!==h?h.indexOf(u):-1}remove(u){const h=this._adjustIndex(u,-1),g=hn(this._lContainer,h);g&&(Qr(f0(this._lContainer),h),R1(g[1],g))}detach(u){const h=this._adjustIndex(u,-1),g=hn(this._lContainer,h);return g&&null!=Qr(f0(this._lContainer),h)?new uu(g):null}_adjustIndex(u,h=0){return null==u?this.length+h:u}};function eE(c){return c[8]}function f0(c){return c[8]||(c[8]=[])}function p0(c,u){let h;const g=u[c.index];if(Ho(g))h=g;else{let _;if(8&c.type)_=xi(g);else{const x=u[11];_=x.createComment("");const S=Nr(c,u);eh(x,Es(x,S),_,function P1(c,u){return wi(c)?c.nextSibling(u):u.nextSibling}(x,S),!1)}u[c.index]=h=Mm(g,u,_,c),sw(u,h)}return new E2(h,c,u)}class nE{constructor(u){this.queryList=u,this.matches=null}clone(){return new nE(this.queryList)}setDirty(){this.queryList.setDirty()}}class iE{constructor(u=[]){this.queries=u}createEmbeddedView(u){const h=u.queries;if(null!==h){const g=null!==u.contentQueries?u.contentQueries[0]:h.length,_=[];for(let x=0;x<g;x++){const S=h.getByIndex(x);_.push(this.queries[S.indexInDeclarationView].clone())}return new iE(_)}return null}insertView(u){this.dirtyQueriesWithMatches(u)}detachView(u){this.dirtyQueriesWithMatches(u)}dirtyQueriesWithMatches(u){for(let h=0;h<this.queries.length;h++)null!==dx(u,h).matches&&this.queries[h].setDirty()}}class I2{constructor(u,h,g=null){this.predicate=u,this.flags=h,this.read=g}}class rE{constructor(u=[]){this.queries=u}elementStart(u,h){for(let g=0;g<this.queries.length;g++)this.queries[g].elementStart(u,h)}elementEnd(u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementEnd(u)}embeddedTView(u){let h=null;for(let g=0;g<this.length;g++){const _=null!==h?h.length:0,x=this.getByIndex(g).embeddedTView(u,_);x&&(x.indexInDeclarationView=g,null!==h?h.push(x):h=[x])}return null!==h?new rE(h):null}template(u,h){for(let g=0;g<this.queries.length;g++)this.queries[g].template(u,h)}getByIndex(u){return this.queries[u]}get length(){return this.queries.length}track(u){this.queries.push(u)}}class fg{constructor(u,h=-1){this.metadata=u,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=h}elementStart(u,h){this.isApplyingToNode(h)&&this.matchTNode(u,h)}elementEnd(u){this._declarationNodeIndex===u.index&&(this._appliesToNextNode=!1)}template(u,h){this.elementStart(u,h)}embeddedTView(u,h){return this.isApplyingToNode(u)?(this.crossesNgTemplate=!0,this.addMatch(-u.index,h),new fg(this.metadata)):null}isApplyingToNode(u){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const h=this._declarationNodeIndex;let g=u.parent;for(;null!==g&&8&g.type&&g.index!==h;)g=g.parent;return h===(null!==g?g.index:-1)}return this._appliesToNextNode}matchTNode(u,h){const g=this.metadata.predicate;if(Array.isArray(g))for(let _=0;_<g.length;_++){const x=g[_];this.matchTNodeWithReadOption(u,h,sE(h,x)),this.matchTNodeWithReadOption(u,h,wp(h,u,x,!1,!1))}else g===hg?4&h.type&&this.matchTNodeWithReadOption(u,h,-1):this.matchTNodeWithReadOption(u,h,wp(h,u,g,!1,!1))}matchTNodeWithReadOption(u,h,g){if(null!==g){const _=this.metadata.read;if(null!==_)if(_===cu||_===Wv||_===hg&&4&h.type)this.addMatch(h.index,-2);else{const x=wp(h,u,_,!1,!1);null!==x&&this.addMatch(h.index,x)}else this.addMatch(h.index,g)}}addMatch(u,h){null===this.matches?this.matches=[u,h]:this.matches.push(u,h)}}function sE(c,u){const h=c.localNames;if(null!==h)for(let g=0;g<h.length;g+=2)if(h[g]===u)return h[g+1];return null}function oE(c,u,h,g){return-1===h?function g0(c,u){return 11&c.type?Ll(c,u):4&c.type?ox(c,u):null}(u,c):-2===h?function ax(c,u,h){return h===cu?Ll(u,c):h===hg?ox(u,c):h===Wv?p0(u,c):void 0}(c,u,g):jd(c,c[1],h,u)}function m0(c,u,h,g){const _=u[19].queries[g];if(null===_.matches){const x=c.data,S=h.matches,k=[];for(let R=0;R<S.length;R+=2){const B=S[R];k.push(B<0?null:oE(u,x[B],S[R+1],h.metadata.read))}_.matches=k}return _.matches}function qv(c,u,h,g){const _=c.queries.getByIndex(h),x=_.matches;if(null!==x){const S=m0(c,u,_,h);for(let k=0;k<x.length;k+=2){const R=x[k];if(R>0)g.push(S[k/2]);else{const B=x[k+1],j=u[-R];for(let ne=10;ne<j.length;ne++){const ye=j[ne];ye[17]===ye[3]&&qv(ye[1],ye,B,g)}if(null!==j[9]){const ne=j[9];for(let ye=0;ye<ne.length;ye++){const Ae=ne[ye];qv(Ae[1],Ae,B,g)}}}}}return g}function aE(c){const u=ft(),h=Zn(),g=Pu();$c(g+1);const _=dx(h,g);if(c.dirty&&wa(u)===(2==(2&_.metadata.flags))){if(null===_.matches)c.reset([]);else{const x=_.crossesNgTemplate?qv(h,u,g,[]):m0(h,u,_,g);c.reset(x,UT),c.notifyOnChanges()}return!0}return!1}function lx(c,u,h){const g=Zn();g.firstCreatePass&&(ux(g,new I2(c,u,h),-1),2==(2&u)&&(g.staticViewQueries=!0)),D2(g,ft(),u)}function cx(c,u,h,g){const _=Zn();if(_.firstCreatePass){const x=Bi();ux(_,new I2(u,h,g),x.index),function $F(c,u){const h=c.contentQueries||(c.contentQueries=[]);u!==(h.length?h[h.length-1]:-1)&&h.push(c.queries.length-1,u)}(_,c),2==(2&h)&&(_.staticContentQueries=!0)}D2(_,ft(),h)}function mh(){return function k2(c,u){return c[19].queries[u].queryList}(ft(),Pu())}function D2(c,u,h){const g=new h0(4==(4&h));Bk(c,u,g,g.destroy),null===u[19]&&(u[19]=new iE),u[19].queries.push(new nE(g))}function ux(c,u,h){null===c.queries&&(c.queries=new rE),c.queries.track(new fg(u,h))}function dx(c,u){return c.queries.getByIndex(u)}function A2(c,u){return ox(c,u)}function w0(...c){}const _x=new rr("Application Initializer");let vx=(()=>{class c{constructor(h){this.appInits=h,this.resolve=w0,this.reject=w0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,_)=>{this.resolve=g,this.reject=_})}runInitializers(){if(this.initialized)return;const h=[],g=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const x=this.appInits[_]();if(kf(x))h.push(x);else if(aT(x)){const S=new Promise((k,R)=>{x.subscribe({complete:k,error:R})});h.push(S)}}Promise.all(h).then(()=>{g()}).catch(_=>{this.reject(_)}),0===h.length&&g(),this.initialized=!0}}return c.\u0275fac=function(h){return new(h||c)(Zt(_x,8))},c.\u0275prov=Xn({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const yx=new rr("AppId",{providedIn:"root",factory:function xE(){return`${Kv()}${Kv()}${Kv()}`}});function Kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const q2=new rr("Platform Initializer"),bE=new rr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),G2=new rr("appBootstrapListener");let XF=(()=>{class c{log(h){console.log(h)}warn(h){console.warn(h)}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=Xn({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const Qv=new rr("LocaleId",{providedIn:"root",factory:()=>yn(Qv,ln.Optional|ln.SkipSelf)||function CE(){return"undefined"!=typeof $localize&&$localize.locale||Av}()}),TE=new rr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tP{constructor(u,h){this.ngModuleFactory=u,this.componentFactories=h}}let EE=(()=>{class c{compileModuleSync(h){return new tx(h)}compileModuleAsync(h){return Promise.resolve(this.compileModuleSync(h))}compileModuleAndAllComponentsSync(h){const g=this.compileModuleSync(h),x=Ki(Ir(h).declarations).reduce((S,k)=>{const R=Er(k);return R&&S.push(new Uv(R)),S},[]);return new tP(g,x)}compileModuleAndAllComponentsAsync(h){return Promise.resolve(this.compileModuleAndAllComponentsSync(h))}clearCache(){}clearCacheFor(h){}getModuleId(h){}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=Xn({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const nP=(()=>Promise.resolve(0))();function Xv(c){"undefined"==typeof Zone?nP.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class du{constructor({enableLongStackTrace:u=!1,shouldCoalesceEventChangeDetection:h=!1,shouldCoalesceRunChangeDetection:g=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bl(!1),this.onMicrotaskEmpty=new Bl(!1),this.onStable=new Bl(!1),this.onError=new Bl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),u&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!g&&h,_.shouldCoalesceRunChangeDetection=g,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function iP(){let c=An.requestAnimationFrame,u=An.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&u){const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h);const g=u[Zone.__symbol__("OriginalDelegate")];g&&(u=g)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function rP(c){const u=()=>{!function kE(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(An,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,ey(c),c.isCheckStableRunning=!0,IE(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),ey(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(h,g,_,x,S,k)=>{try{return Q2(c),h.invokeTask(_,x,S,k)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===x.type||c.shouldCoalesceRunChangeDetection)&&u(),wx(c)}},onInvoke:(h,g,_,x,S,k,R)=>{try{return Q2(c),h.invoke(_,x,S,k,R)}finally{c.shouldCoalesceRunChangeDetection&&u(),wx(c)}},onHasTask:(h,g,_,x)=>{h.hasTask(_,x),g===_&&("microTask"==x.change?(c._hasPendingMicrotasks=x.microTask,ey(c),IE(c)):"macroTask"==x.change&&(c.hasPendingMacrotasks=x.macroTask))},onHandleError:(h,g,_,x)=>(h.handleError(_,x),c.runOutsideAngular(()=>c.onError.emit(x)),!1)})}(_)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(u,h,g){return this._inner.run(u,h,g)}runTask(u,h,g,_){const x=this._inner,S=x.scheduleEventTask("NgZoneEvent: "+_,u,SE,w0,w0);try{return x.runTask(S,h,g)}finally{x.cancelTask(S)}}runGuarded(u,h,g){return this._inner.runGuarded(u,h,g)}runOutsideAngular(u){return this._outer.run(u)}}const SE={};function IE(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function ey(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function Q2(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function wx(c){c._nesting--,IE(c)}class J2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bl,this.onMicrotaskEmpty=new Bl,this.onStable=new Bl,this.onError=new Bl}run(u,h,g){return u.apply(h,g)}runGuarded(u,h,g){return u.apply(h,g)}runOutsideAngular(u){return u()}runTask(u,h,g,_){return u.apply(h,g)}}let xx=(()=>{class c{constructor(h){this._ngZone=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),h.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),Xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xv(()=>{for(;0!==this._callbacks.length;){let h=this._callbacks.pop();clearTimeout(h.timeoutId),h.doneCb(this._didWork)}this._didWork=!1});else{let h=this.getPendingTasks();this._callbacks=this._callbacks.filter(g=>!g.updateCb||!g.updateCb(h)||(clearTimeout(g.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(h=>({source:h.source,creationLocation:h.creationLocation,data:h.data})):[]}addCallback(h,g,_){let x=-1;g&&g>0&&(x=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==x),h(this._didWork,this.getPendingTasks())},g)),this._callbacks.push({doneCb:h,timeoutId:x,updateCb:_})}whenStable(h,g,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(h,g,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(h,g,_){return[]}}return c.\u0275fac=function(h){return new(h||c)(Zt(du))},c.\u0275prov=Xn({token:c,factory:c.\u0275fac}),c})(),X2=(()=>{class c{constructor(){this._applications=new Map,ty.addToWindow(this)}registerApplication(h,g){this._applications.set(h,g)}unregisterApplication(h){this._applications.delete(h)}unregisterAllApplications(){this._applications.clear()}getTestability(h){return this._applications.get(h)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(h,g=!0){return ty.findTestabilityInTree(this,h,g)}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=Xn({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();class sP{addToWindow(u){}findTestabilityInTree(u,h,g){return null}}function oP(c){ty=c}let ty=new sP,mg=null;const bx=new rr("AllowMultipleToken"),Cx=new rr("PlatformOnDestroy");class tA{constructor(u,h){this.name=u,this.token=h}}function Tx(c,u,h=[]){const g=`Platform: ${u}`,_=new rr(g);return(x=[])=>{let S=AE();if(!S||S.injector.get(bx,!1)){const k=[...h,...x,{provide:_,useValue:!0}];c?c(k):function aP(c){if(mg&&!mg.get(bx,!1))throw new kt(400,"");mg=c;const u=c.get(iA),h=c.get(q2,null);h&&h.forEach(g=>g())}(function Ex(c=[],u){return Ja.create({name:u,providers:[{provide:Nm,useValue:"platform"},{provide:Cx,useValue:()=>mg=null},...c]})}(k,g))}return function nA(c){const u=AE();if(!u)throw new kt(401,"");return u}()}}function AE(){var c;return null!==(c=null==mg?void 0:mg.get(iA))&&void 0!==c?c:null}let iA=(()=>{class c{constructor(h){this._injector=h,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(h,g){const k=function lP(c,u){let h;return h="noop"===c?new J2:("zone.js"===c?void 0:c)||new du({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==u?void 0:u.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==u?void 0:u.ngZoneRunCoalescing)}),h}(g?g.ngZone:void 0,{ngZoneEventCoalescing:g&&g.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:g&&g.ngZoneRunCoalescing||!1}),R=[{provide:du,useValue:k}];return k.run(()=>{const B=Ja.create({providers:R,parent:this.injector,name:h.moduleType.name}),j=h.create(B),ne=j.injector.get(xm,null);if(!ne)throw new kt(402,"");return k.runOutsideAngular(()=>{const ye=k.onError.subscribe({next:Ae=>{ne.handleError(Ae)}});j.onDestroy(()=>{ny(this._modules,j),ye.unsubscribe()})}),function rA(c,u,h){try{const g=h();return kf(g)?g.catch(_=>{throw u.runOutsideAngular(()=>c.handleError(_)),_}):g}catch(g){throw u.runOutsideAngular(()=>c.handleError(g)),g}}(ne,k,()=>{const ye=j.injector.get(vx);return ye.runInitializers(),ye.donePromise.then(()=>(function r0(c){qn(c,"Expected localeId to be defined"),"string"==typeof c&&(LD=c.toLowerCase().replace(/_/g,"-"))}(j.injector.get(Qv,Av)||Av),this._moduleDoBootstrap(j),j))})})}bootstrapModule(h,g=[]){const _=Sx({},g);return function DE(c,u,h){const g=new tx(h);return Promise.resolve(g)}(0,0,h).then(x=>this.bootstrapModuleFactory(x,_))}_moduleDoBootstrap(h){const g=h.injector.get(Ix);if(h._bootstrapComponents.length>0)h._bootstrapComponents.forEach(_=>g.bootstrap(_));else{if(!h.instance.ngDoBootstrap)throw new kt(403,"");h.instance.ngDoBootstrap(g)}this._modules.push(h)}onDestroy(h){this._destroyListeners.push(h)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new kt(404,"");this._modules.slice().forEach(g=>g.destroy()),this._destroyListeners.forEach(g=>g());const h=this._injector.get(Cx,null);null==h||h(),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(h){return new(h||c)(Zt(Ja))},c.\u0275prov=Xn({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function Sx(c,u){return Array.isArray(u)?u.reduce(Sx,c):Object.assign(Object.assign({},c),u)}let Ix=(()=>{class c{constructor(h,g,_,x){this._zone=h,this._injector=g,this._exceptionHandler=_,this._initStatus=x,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const S=new ee.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),k=new ee.y(R=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),Xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{B.unsubscribe(),j.unsubscribe()}});this.isStable=(0,Ue.T)(S,k.pipe((0,Ve.B)()))}bootstrap(h,g){if(!this._initStatus.done)throw new kt(405,"");let _;_=h instanceof ph?h:this._injector.get(gh).resolveComponentFactory(h),this.componentTypes.push(_.componentType);const x=function eA(c){return c.isBoundToModule}(_)?void 0:this._injector.get(u0),k=_.create(Ja.NULL,[],g||_.selector,x),R=k.location.nativeElement,B=k.injector.get(xx,null),j=B&&k.injector.get(X2);return B&&j&&j.registerApplication(R,B),k.onDestroy(()=>{this.detachView(k.hostView),ny(this.components,k),j&&j.unregisterApplication(R)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new kt(101,"");try{this._runningTick=!0;for(let h of this._views)h.detectChanges()}catch(h){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(h))}finally{this._runningTick=!1}}attachView(h){const g=h;this._views.push(g),g.attachToAppRef(this)}detachView(h){const g=h;ny(this._views,g),g.detachFromAppRef()}_loadComponent(h){this.attachView(h.hostView),this.tick(),this.components.push(h),this._injector.get(G2,[]).concat(this._bootstrapListeners).forEach(_=>_(h))}ngOnDestroy(){this._views.slice().forEach(h=>h.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(h){return new(h||c)(Zt(du),Zt(Ja),Zt(xm),Zt(vx))},c.\u0275prov=Xn({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function ny(c,u){const h=c.indexOf(u);h>-1&&c.splice(h,1)}let iy=!0,Dx=!1;function sA(){return Dx=!0,iy}function OE(){if(Dx)throw new Error("Cannot enable prod mode after platform setup.");iy=!1}let RE=(()=>{class c{}return c.__NG_ELEMENT_ID__=uP,c})();function uP(c){return function dP(c,u,h){if(Bh(c)&&!h){const g=Kr(c.index,u);return new uu(g,g)}return 47&c.type?new uu(u[16],u):null}(Bi(),ft(),16==(16&c))}class PE{constructor(){}supports(u){return At(u)}create(u){return new Px(u)}}const mP=(c,u)=>u;class Px{constructor(u){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=u||mP}forEachItem(u){let h;for(h=this._itHead;null!==h;h=h._next)u(h)}forEachOperation(u){let h=this._itHead,g=this._removalsHead,_=0,x=null;for(;h||g;){const S=!g||h&&h.currentIndex<Nx(g,_,x)?h:g,k=Nx(S,_,x),R=S.currentIndex;if(S===g)_--,g=g._nextRemoved;else if(h=h._next,null==S.previousIndex)_++;else{x||(x=[]);const B=k-_,j=R-_;if(B!=j){for(let ye=0;ye<B;ye++){const Ae=ye<x.length?x[ye]:x[ye]=0,st=Ae+ye;j<=st&&st<B&&(x[ye]=Ae+1)}x[S.previousIndex]=j-B}}k!==R&&u(S,k,R)}}forEachPreviousItem(u){let h;for(h=this._previousItHead;null!==h;h=h._nextPrevious)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachMovedItem(u){let h;for(h=this._movesHead;null!==h;h=h._nextMoved)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}forEachIdentityChange(u){let h;for(h=this._identityChangesHead;null!==h;h=h._nextIdentityChange)u(h)}diff(u){if(null==u&&(u=[]),!At(u))throw new kt(900,"");return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let _,x,S,h=this._itHead,g=!1;if(Array.isArray(u)){this.length=u.length;for(let k=0;k<this.length;k++)x=u[k],S=this._trackByFn(k,x),null!==h&&Object.is(h.trackById,S)?(g&&(h=this._verifyReinsertion(h,x,S,k)),Object.is(h.item,x)||this._addIdentityChange(h,x)):(h=this._mismatch(h,x,S,k),g=!0),h=h._next}else _=0,function uv(c,u){if(Array.isArray(c))for(let h=0;h<c.length;h++)u(c[h]);else{const h=c[bf()]();let g;for(;!(g=h.next()).done;)u(g.value)}}(u,k=>{S=this._trackByFn(_,k),null!==h&&Object.is(h.trackById,S)?(g&&(h=this._verifyReinsertion(h,k,S,_)),Object.is(h.item,k)||this._addIdentityChange(h,k)):(h=this._mismatch(h,k,S,_),g=!0),h=h._next,_++}),this.length=_;return this._truncate(h),this.collection=u,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let u;for(u=this._previousItHead=this._itHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._additionsHead;null!==u;u=u._nextAdded)u.previousIndex=u.currentIndex;for(this._additionsHead=this._additionsTail=null,u=this._movesHead;null!==u;u=u._nextMoved)u.previousIndex=u.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(u,h,g,_){let x;return null===u?x=this._itTail:(x=u._prev,this._remove(u)),null!==(u=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._reinsertAfter(u,x,_)):null!==(u=null===this._linkedRecords?null:this._linkedRecords.get(g,_))?(Object.is(u.item,h)||this._addIdentityChange(u,h),this._moveAfter(u,x,_)):u=this._addAfter(new lA(h,g),x,_),u}_verifyReinsertion(u,h,g,_){let x=null===this._unlinkedRecords?null:this._unlinkedRecords.get(g,null);return null!==x?u=this._reinsertAfter(x,u._prev,_):u.currentIndex!=_&&(u.currentIndex=_,this._addToMoves(u,_)),u}_truncate(u){for(;null!==u;){const h=u._next;this._addToRemovals(this._unlink(u)),u=h}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(u,h,g){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(u);const _=u._prevRemoved,x=u._nextRemoved;return null===_?this._removalsHead=x:_._nextRemoved=x,null===x?this._removalsTail=_:x._prevRemoved=_,this._insertAfter(u,h,g),this._addToMoves(u,g),u}_moveAfter(u,h,g){return this._unlink(u),this._insertAfter(u,h,g),this._addToMoves(u,g),u}_addAfter(u,h,g){return this._insertAfter(u,h,g),this._additionsTail=null===this._additionsTail?this._additionsHead=u:this._additionsTail._nextAdded=u,u}_insertAfter(u,h,g){const _=null===h?this._itHead:h._next;return u._next=_,u._prev=h,null===_?this._itTail=u:_._prev=u,null===h?this._itHead=u:h._next=u,null===this._linkedRecords&&(this._linkedRecords=new uA),this._linkedRecords.put(u),u.currentIndex=g,u}_remove(u){return this._addToRemovals(this._unlink(u))}_unlink(u){null!==this._linkedRecords&&this._linkedRecords.remove(u);const h=u._prev,g=u._next;return null===h?this._itHead=g:h._next=g,null===g?this._itTail=h:g._prev=h,u}_addToMoves(u,h){return u.previousIndex===h||(this._movesTail=null===this._movesTail?this._movesHead=u:this._movesTail._nextMoved=u),u}_addToRemovals(u){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uA),this._unlinkedRecords.put(u),u.currentIndex=null,u._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=u,u._prevRemoved=null):(u._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=u),u}_addIdentityChange(u,h){return u.item=h,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=u:this._identityChangesTail._nextIdentityChange=u,u}}class lA{constructor(u,h){this.item=u,this.trackById=h,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cA{constructor(){this._head=null,this._tail=null}add(u){null===this._head?(this._head=this._tail=u,u._nextDup=null,u._prevDup=null):(this._tail._nextDup=u,u._prevDup=this._tail,u._nextDup=null,this._tail=u)}get(u,h){let g;for(g=this._head;null!==g;g=g._nextDup)if((null===h||h<=g.currentIndex)&&Object.is(g.trackById,u))return g;return null}remove(u){const h=u._prevDup,g=u._nextDup;return null===h?this._head=g:h._nextDup=g,null===g?this._tail=h:g._prevDup=h,null===this._head}}class uA{constructor(){this.map=new Map}put(u){const h=u.trackById;let g=this.map.get(h);g||(g=new cA,this.map.set(h,g)),g.add(u)}get(u,h){const _=this.map.get(u);return _?_.get(u,h):null}remove(u){const h=u.trackById;return this.map.get(h).remove(u)&&this.map.delete(h),u}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nx(c,u,h){const g=c.previousIndex;if(null===g)return g;let _=0;return h&&g<h.length&&(_=h[g]),g+u+_}class dA{constructor(){}supports(u){return u instanceof Map||dv(u)}create(){return new _P}}class _P{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(u){let h;for(h=this._mapHead;null!==h;h=h._next)u(h)}forEachPreviousItem(u){let h;for(h=this._previousMapHead;null!==h;h=h._nextPrevious)u(h)}forEachChangedItem(u){let h;for(h=this._changesHead;null!==h;h=h._nextChanged)u(h)}forEachAddedItem(u){let h;for(h=this._additionsHead;null!==h;h=h._nextAdded)u(h)}forEachRemovedItem(u){let h;for(h=this._removalsHead;null!==h;h=h._nextRemoved)u(h)}diff(u){if(u){if(!(u instanceof Map||dv(u)))throw new kt(900,"")}else u=new Map;return this.check(u)?this:null}onDestroy(){}check(u){this._reset();let h=this._mapHead;if(this._appendAfter=null,this._forEach(u,(g,_)=>{if(h&&h.key===_)this._maybeAddToChanges(h,g),this._appendAfter=h,h=h._next;else{const x=this._getOrCreateRecordForKey(_,g);h=this._insertBeforeOrAppend(h,x)}}),h){h._prev&&(h._prev._next=null),this._removalsHead=h;for(let g=h;null!==g;g=g._nextRemoved)g===this._mapHead&&(this._mapHead=null),this._records.delete(g.key),g._nextRemoved=g._next,g.previousValue=g.currentValue,g.currentValue=null,g._prev=null,g._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(u,h){if(u){const g=u._prev;return h._next=u,h._prev=g,u._prev=h,g&&(g._next=h),u===this._mapHead&&(this._mapHead=h),this._appendAfter=u,u}return this._appendAfter?(this._appendAfter._next=h,h._prev=this._appendAfter):this._mapHead=h,this._appendAfter=h,null}_getOrCreateRecordForKey(u,h){if(this._records.has(u)){const _=this._records.get(u);this._maybeAddToChanges(_,h);const x=_._prev,S=_._next;return x&&(x._next=S),S&&(S._prev=x),_._next=null,_._prev=null,_}const g=new Ar(u);return this._records.set(u,g),g.currentValue=h,this._addToAdditions(g),g}_reset(){if(this.isDirty){let u;for(this._previousMapHead=this._mapHead,u=this._previousMapHead;null!==u;u=u._next)u._nextPrevious=u._next;for(u=this._changesHead;null!==u;u=u._nextChanged)u.previousValue=u.currentValue;for(u=this._additionsHead;null!=u;u=u._nextAdded)u.previousValue=u.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(u,h){Object.is(h,u.currentValue)||(u.previousValue=u.currentValue,u.currentValue=h,this._addToChanges(u))}_addToAdditions(u){null===this._additionsHead?this._additionsHead=this._additionsTail=u:(this._additionsTail._nextAdded=u,this._additionsTail=u)}_addToChanges(u){null===this._changesHead?this._changesHead=this._changesTail=u:(this._changesTail._nextChanged=u,this._changesTail=u)}_forEach(u,h){u instanceof Map?u.forEach(h):Object.keys(u).forEach(g=>h(u[g],g))}}class Ar{constructor(u){this.key=u,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vP(){return new hA([new PE])}let hA=(()=>{class c{constructor(h){this.factories=h}static create(h,g){if(null!=g){const _=g.factories.slice();h=h.concat(_)}return new c(h)}static extend(h){return{provide:c,useFactory:g=>c.create(h,g||vP()),deps:[[c,new fo,new ho]]}}find(h){const g=this.factories.find(_=>_.supports(h));if(null!=g)return g;throw new kt(901,"")}}return c.\u0275prov=Xn({token:c,providedIn:"root",factory:vP}),c})();function NE(){return new LE([new dA])}let LE=(()=>{class c{constructor(h){this.factories=h}static create(h,g){if(g){const _=g.factories.slice();h=h.concat(_)}return new c(h)}static extend(h){return{provide:c,useFactory:g=>c.create(h,g||NE()),deps:[[c,new fo,new ho]]}}find(h){const g=this.factories.find(x=>x.supports(h));if(g)return g;throw new kt(901,"")}}return c.\u0275prov=Xn({token:c,providedIn:"root",factory:NE}),c})();const wP=Tx(null,"core",[]);let xP=(()=>{class c{constructor(h){}}return c.\u0275fac=function(h){return new(h||c)(Zt(Ix))},c.\u0275mod=bs({type:c}),c.\u0275inj=Kn({}),c})()},3942:(sn,tt,J)=>{"use strict";J.d(tt,{Z:()=>kt});var o=J(2090),Ie=J(4859),ee=J(9681),Ue=J(1877);class Ve{constructor(Qe,dt){this._delegate=Qe,this.firebase=dt,(0,ee._addComponent)(Qe,new Ie.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(Qe,dt=ee._DEFAULT_ENTRY_NAME){var Gt;this._delegate.checkDestroyed();const rn=this._delegate.container.getProvider(Qe);return!rn.isInitialized()&&"EXPLICIT"===(null===(Gt=rn.getComponent())||void 0===Gt?void 0:Gt.instantiationMode)&&rn.initialize(),rn.getImmediate({identifier:dt})}_removeServiceInstance(Qe,dt=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(dt)}_addComponent(Qe){(0,ee._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,ee._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function $e(){const Vt=function Ze(Vt){const Qe={},dt={__esModule:!0,initializeApp:function _t(Ut,G={}){const nt=ee.initializeApp(Ut,G);if((0,o.r3)(Qe,nt.name))return Qe[nt.name];const xe=new Vt(nt,dt);return Qe[nt.name]=xe,xe},app:rn,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function ut(Ut){const G=Ut.name,nt=G.replace("-compat","");if(ee._registerComponent(Ut)&&"PUBLIC"===Ut.type){const xe=(Le=rn())=>{if("function"!=typeof Le[nt])throw Ne.create("invalid-app-argument",{appName:G});return Le[nt]()};void 0!==Ut.serviceProps&&(0,o.ZB)(xe,Ut.serviceProps),dt[nt]=xe,Vt.prototype[nt]=function(...Le){return this._getService.bind(this,G).apply(this,Ut.multipleInstances?Le:[])}}return"PUBLIC"===Ut.type?dt[nt]:null},removeApp:function Gt(Ut){delete Qe[Ut]},useAsService:function Ht(Ut,G){return"serverAuth"===G?null:G},modularAPIs:ee}};function rn(Ut){if(!(0,o.r3)(Qe,Ut=Ut||ee._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:Ut});return Qe[Ut]}return dt.default=dt,Object.defineProperty(dt,"apps",{get:function rt(){return Object.keys(Qe).map(Ut=>Qe[Ut])}}),rn.App=Vt,dt}(Ve);return Vt.INTERNAL=Object.assign(Object.assign({},Vt.INTERNAL),{createFirebaseNamespace:$e,extendNamespace:function Qe(dt){(0,o.ZB)(Vt,dt)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),Vt}(),ve=new Ue.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Vt=self.firebase.SDK_VERSION;Vt&&Vt.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const kt=_e;!function yt(Vt){(0,ee.registerVersion)("@firebase/app-compat","0.1.25",Vt)}()},9681:(sn,tt,J)=>{"use strict";J.r(tt),J.d(tt,{FirebaseError:()=>Ue.ZR,SDK_VERSION:()=>ro,_DEFAULT_ENTRY_NAME:()=>qn,_addComponent:()=>Ai,_addOrOverwriteComponent:()=>Xn,_apps:()=>zn,_clearComponents:()=>Bs,_components:()=>Di,_getProvider:()=>Kn,_registerComponent:()=>dr,_removeServiceInstance:()=>Gn,deleteApp:()=>ln,getApp:()=>Vs,getApps:()=>ss,initializeApp:()=>To,onLog:()=>di,registerVersion:()=>tr,setLogLevel:()=>Vo});var o=J(5861),Ie=J(4859),ee=J(1877),Ue=J(2090),Ve=J(8766);class et{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function Ne(ae){const Oe=ae.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(Tt)){const on=Tt.getImmediate();return`${on.library}/${on.version}`}return null}).filter(Tt=>Tt).join(" ")}}const Ze="@firebase/app",_e=new ee.Yd("@firebase/app"),qn="[DEFAULT]",tn={[Ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zn=new Map,Di=new Map;function Ai(ae,Oe){try{ae.container.addComponent(Oe)}catch(Tt){_e.debug(`Component ${Oe.name} failed to register with FirebaseApp ${ae.name}`,Tt)}}function Xn(ae,Oe){ae.container.addOrOverwriteComponent(Oe)}function dr(ae){const Oe=ae.name;if(Di.has(Oe))return _e.debug(`There were multiple attempts to register component ${Oe}.`),!1;Di.set(Oe,ae);for(const Tt of zn.values())Ai(Tt,ae);return!0}function Kn(ae,Oe){const Tt=ae.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),ae.container.getProvider(Oe)}function Gn(ae,Oe,Tt=qn){Kn(ae,Oe).clearInstance(Tt)}function Bs(){Di.clear()}const rs=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Zr{constructor(Oe,Tt,on){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=on,this.container.addComponent(new Ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const ro="9.8.1";function To(ae,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const Tt=Object.assign({name:qn,automaticDataCollectionEnabled:!1},Oe),on=Tt.name;if("string"!=typeof on||!on)throw rs.create("bad-app-name",{appName:String(on)});const bn=zn.get(on);if(bn){if((0,Ue.vZ)(ae,bn.options)&&(0,Ue.vZ)(Tt,bn.config))return bn;throw rs.create("duplicate-app",{appName:on})}const Cn=new Ie.H0(on);for(const Mn of Di.values())Cn.addComponent(Mn);const Li=new Zr(ae,Tt,Cn);return zn.set(on,Li),Li}function Vs(ae=qn){const Oe=zn.get(ae);if(!Oe)throw rs.create("no-app",{appName:ae});return Oe}function ss(){return Array.from(zn.values())}function ln(ae){return hr.apply(this,arguments)}function hr(){return(hr=(0,o.Z)(function*(ae){const Oe=ae.name;zn.has(Oe)&&(zn.delete(Oe),yield Promise.all(ae.container.getProviders().map(Tt=>Tt.delete())),ae.isDeleted=!0)})).apply(this,arguments)}function tr(ae,Oe,Tt){var on;let bn=null!==(on=tn[ae])&&void 0!==on?on:ae;Tt&&(bn+=`-${Tt}`);const Cn=bn.match(/\s|\//),Li=Oe.match(/\s|\//);if(Cn||Li){const Mn=[`Unable to register library "${bn}" with version "${Oe}":`];return Cn&&Mn.push(`library name "${bn}" contains illegal characters (whitespace or "/")`),Cn&&Li&&Mn.push("and"),Li&&Mn.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void _e.warn(Mn.join(" "))}dr(new Ie.wA(`${bn}-version`,()=>({library:bn,version:Oe}),"VERSION"))}function di(ae,Oe){if(null!==ae&&"function"!=typeof ae)throw rs.create("invalid-log-argument");(0,ee.Am)(ae,Oe)}function Vo(ae){(0,ee.Ub)(ae)}const wn="firebase-heartbeat-store";let nr=null;function xs(){return nr||(nr=(0,Ve.X3)("firebase-heartbeat-database",1,{upgrade:(ae,Oe)=>{0===Oe&&ae.createObjectStore(wn)}}).catch(ae=>{throw rs.create("storage-open",{originalErrorMessage:ae.message})})),nr}function Jt(){return(Jt=(0,o.Z)(function*(ae){try{return(yield xs()).transaction(wn).objectStore(wn).get(os(ae))}catch(Oe){throw rs.create("storage-get",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function dn(ae,Oe){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,o.Z)(function*(ae,Oe){try{const on=(yield xs()).transaction(wn,"readwrite");return yield on.objectStore(wn).put(Oe,os(ae)),on.done}catch(Tt){throw rs.create("storage-set",{originalErrorMessage:Tt.message})}})).apply(this,arguments)}function os(ae){return`${ae.name}!${ae.options.appId}`}class qr{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new be(Tt),this._heartbeatsCachePromise=this._storage.read().then(on=>(this._heartbeatsCache=on,on))}triggerHeartbeat(){var Oe=this;return(0,o.Z)(function*(){const on=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bn=Gr();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==bn&&!Oe._heartbeatsCache.heartbeats.some(Cn=>Cn.date===bn))return Oe._heartbeatsCache.heartbeats.push({date:bn,agent:on}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(Cn=>{const Li=new Date(Cn.date).valueOf();return Date.now()-Li<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,o.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const Tt=Gr(),{heartbeatsToSend:on,unsentEntries:bn}=function pe(ae,Oe=1024){const Tt=[];let on=ae.slice();for(const bn of ae){const Cn=Tt.find(Li=>Li.agent===bn.agent);if(Cn){if(Cn.dates.push(bn.date),Ce(Tt)>Oe){Cn.dates.pop();break}}else if(Tt.push({agent:bn.agent,dates:[bn.date]}),Ce(Tt)>Oe){Tt.pop();break}on=on.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:on}}(Oe._heartbeatsCache.heartbeats),Cn=(0,Ue.L)(JSON.stringify({version:2,heartbeats:on}));return Oe._heartbeatsCache.lastSentHeartbeatDate=Tt,bn.length>0?(Oe._heartbeatsCache.heartbeats=bn,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),Cn})()}}function Gr(){return(new Date).toISOString().substring(0,10)}class be{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,Ue.hl)()&&(0,Ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,o.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function $n(ae){return Jt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var Tt=this;return(0,o.Z)(function*(){var on;if(yield Tt._canUseIndexedDBPromise){const Cn=yield Tt.read();return dn(Tt.app,{lastSentHeartbeatDate:null!==(on=Oe.lastSentHeartbeatDate)&&void 0!==on?on:Cn.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var Tt=this;return(0,o.Z)(function*(){var on;if(yield Tt._canUseIndexedDBPromise){const Cn=yield Tt.read();return dn(Tt.app,{lastSentHeartbeatDate:null!==(on=Oe.lastSentHeartbeatDate)&&void 0!==on?on:Cn.lastSentHeartbeatDate,heartbeats:[...Cn.heartbeats,...Oe.heartbeats]})}})()}}function Ce(ae){return(0,Ue.L)(JSON.stringify({version:2,heartbeats:ae})).length}!function ht(ae){dr(new Ie.wA("platform-logger",Oe=>new et(Oe),"PRIVATE")),dr(new Ie.wA("heartbeat",Oe=>new qr(Oe),"PRIVATE")),tr(Ze,"0.7.24",ae),tr(Ze,"0.7.24","esm2017"),tr("fire-js","")}("")},4859:(sn,tt,J)=>{"use strict";J.d(tt,{H0:()=>Ze,wA:()=>ee,zt:()=>Ve});var o=J(5861),Ie=J(2090);class ee{constructor(_e,ve,Re){this.name=_e,this.instanceFactory=ve,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_e){return this.instantiationMode=_e,this}setMultipleInstances(_e){return this.multipleInstances=_e,this}setServiceProps(_e){return this.serviceProps=_e,this}setInstanceCreatedCallback(_e){return this.onInstanceCreated=_e,this}}const Ue="[DEFAULT]";class Ve{constructor(_e,ve){this.name=_e,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_e){const ve=this.normalizeInstanceIdentifier(_e);if(!this.instancesDeferred.has(ve)){const Re=new Ie.BH;if(this.instancesDeferred.set(ve,Re),this.isInitialized(ve)||this.shouldAutoInitialize())try{const zt=this.getOrInitializeService({instanceIdentifier:ve});zt&&Re.resolve(zt)}catch(zt){}}return this.instancesDeferred.get(ve).promise}getImmediate(_e){var ve;const Re=this.normalizeInstanceIdentifier(null==_e?void 0:_e.identifier),zt=null!==(ve=null==_e?void 0:_e.optional)&&void 0!==ve&&ve;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(zt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(yt){if(zt)return null;throw yt}}getComponent(){return this.component}setComponent(_e){if(_e.name!==this.name)throw Error(`Mismatching Component ${_e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_e,this.shouldAutoInitialize()){if(function Ne($e){return"EAGER"===$e.instantiationMode}(_e))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch(ve){}for(const[ve,Re]of this.instancesDeferred.entries()){const zt=this.normalizeInstanceIdentifier(ve);try{const yt=this.getOrInitializeService({instanceIdentifier:zt});Re.resolve(yt)}catch(yt){}}}}clearInstance(_e=Ue){this.instancesDeferred.delete(_e),this.instancesOptions.delete(_e),this.instances.delete(_e)}delete(){var _e=this;return(0,o.Z)(function*(){const ve=Array.from(_e.instances.values());yield Promise.all([...ve.filter(Re=>"INTERNAL"in Re).map(Re=>Re.INTERNAL.delete()),...ve.filter(Re=>"_delete"in Re).map(Re=>Re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(_e=Ue){return this.instances.has(_e)}getOptions(_e=Ue){return this.instancesOptions.get(_e)||{}}initialize(_e={}){const{options:ve={}}=_e,Re=this.normalizeInstanceIdentifier(_e.instanceIdentifier);if(this.isInitialized(Re))throw Error(`${this.name}(${Re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const zt=this.getOrInitializeService({instanceIdentifier:Re,options:ve});for(const[yt,kt]of this.instancesDeferred.entries())Re===this.normalizeInstanceIdentifier(yt)&&kt.resolve(zt);return zt}onInit(_e,ve){var Re;const zt=this.normalizeInstanceIdentifier(ve),yt=null!==(Re=this.onInitCallbacks.get(zt))&&void 0!==Re?Re:new Set;yt.add(_e),this.onInitCallbacks.set(zt,yt);const kt=this.instances.get(zt);return kt&&_e(kt,zt),()=>{yt.delete(_e)}}invokeOnInitCallbacks(_e,ve){const Re=this.onInitCallbacks.get(ve);if(Re)for(const zt of Re)try{zt(_e,ve)}catch(yt){}}getOrInitializeService({instanceIdentifier:_e,options:ve={}}){let Re=this.instances.get(_e);if(!Re&&this.component&&(Re=this.component.instanceFactory(this.container,{instanceIdentifier:($e=_e,$e===Ue?void 0:$e),options:ve}),this.instances.set(_e,Re),this.instancesOptions.set(_e,ve),this.invokeOnInitCallbacks(Re,_e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_e,Re)}catch(zt){}var $e;return Re||null}normalizeInstanceIdentifier(_e=Ue){return this.component?this.component.multipleInstances?_e:Ue:_e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ze{constructor(_e){this.name=_e,this.providers=new Map}addComponent(_e){const ve=this.getProvider(_e.name);if(ve.isComponentSet())throw new Error(`Component ${_e.name} has already been registered with ${this.name}`);ve.setComponent(_e)}addOrOverwriteComponent(_e){this.getProvider(_e.name).isComponentSet()&&this.providers.delete(_e.name),this.addComponent(_e)}getProvider(_e){if(this.providers.has(_e))return this.providers.get(_e);const ve=new Ve(_e,this);return this.providers.set(_e,ve),ve}getProviders(){return Array.from(this.providers.values())}}},1877:(sn,tt,J)=>{"use strict";J.d(tt,{Am:()=>$e,Ub:()=>Ze,Yd:()=>Ne,in:()=>Ie});const o=[];var Ie=(()=>{return(_e=Ie||(Ie={}))[_e.DEBUG=0]="DEBUG",_e[_e.VERBOSE=1]="VERBOSE",_e[_e.INFO=2]="INFO",_e[_e.WARN=3]="WARN",_e[_e.ERROR=4]="ERROR",_e[_e.SILENT=5]="SILENT",Ie;var _e})();const ee={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},Ue=Ie.INFO,Ve={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},et=(_e,ve,...Re)=>{if(ve<_e.logLevel)return;const zt=(new Date).toISOString(),yt=Ve[ve];if(!yt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[yt](`[${zt}]  ${_e.name}:`,...Re)};class Ne{constructor(ve){this.name=ve,this._logLevel=Ue,this._logHandler=et,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in Ie))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?ee[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...ve),this._logHandler(this,Ie.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...ve),this._logHandler(this,Ie.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...ve),this._logHandler(this,Ie.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...ve),this._logHandler(this,Ie.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...ve),this._logHandler(this,Ie.ERROR,...ve)}}function Ze(_e){o.forEach(ve=>{ve.setLogLevel(_e)})}function $e(_e,ve){for(const Re of o){let zt=null;ve&&ve.level&&(zt=ee[ve.level]),Re.userLogHandler=null===_e?null:(yt,kt,...Vt)=>{const Qe=Vt.map(dt=>{if(null==dt)return null;if("string"==typeof dt)return dt;if("number"==typeof dt||"boolean"==typeof dt)return dt.toString();if(dt instanceof Error)return dt.message;try{return JSON.stringify(dt)}catch(Gt){return null}}).filter(dt=>dt).join(" ");kt>=(null!=zt?zt:yt.logLevel)&&_e({level:Ie[kt].toLowerCase(),message:Qe,args:Vt,type:yt.name})}}}},8766:(sn,tt,J)=>{"use strict";J.d(tt,{Lj:()=>_t,X3:()=>rn});var o=J(5861);let ee,Ue;const Ne=new WeakMap,Ze=new WeakMap,$e=new WeakMap,_e=new WeakMap,ve=new WeakMap;let yt={get(G,nt,xe){if(G instanceof IDBTransaction){if("done"===nt)return Ze.get(G);if("objectStoreNames"===nt)return G.objectStoreNames||$e.get(G);if("store"===nt)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return dt(G[nt])},set:(G,nt,xe)=>(G[nt]=xe,!0),has:(G,nt)=>G instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in G};function Qe(G){return"function"==typeof G?function Vt(G){return G!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function et(){return Ue||(Ue=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(G)?function(...nt){return G.apply(Gt(this),nt),dt(Ne.get(this))}:function(...nt){return dt(G.apply(Gt(this),nt))}:function(nt,...xe){const Le=G.call(Gt(this),nt,...xe);return $e.set(Le,nt.sort?nt.sort():[nt]),dt(Le)}}(G):(G instanceof IDBTransaction&&function zt(G){if(Ze.has(G))return;const nt=new Promise((xe,Le)=>{const De=()=>{G.removeEventListener("complete",Pe),G.removeEventListener("error",He),G.removeEventListener("abort",He)},Pe=()=>{xe(),De()},He=()=>{Le(G.error||new DOMException("AbortError","AbortError")),De()};G.addEventListener("complete",Pe),G.addEventListener("error",He),G.addEventListener("abort",He)});Ze.set(G,nt)}(G),((G,nt)=>nt.some(xe=>G instanceof xe))(G,function Ve(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(G,yt):G)}function dt(G){if(G instanceof IDBRequest)return function Re(G){const nt=new Promise((xe,Le)=>{const De=()=>{G.removeEventListener("success",Pe),G.removeEventListener("error",He)},Pe=()=>{xe(dt(G.result)),De()},He=()=>{Le(G.error),De()};G.addEventListener("success",Pe),G.addEventListener("error",He)});return nt.then(xe=>{xe instanceof IDBCursor&&Ne.set(xe,G)}).catch(()=>{}),ve.set(nt,G),nt}(G);if(_e.has(G))return _e.get(G);const nt=Qe(G);return nt!==G&&(_e.set(G,nt),ve.set(nt,G)),nt}const Gt=G=>ve.get(G);function rn(G,nt,{blocked:xe,upgrade:Le,blocking:De,terminated:Pe}={}){const He=indexedDB.open(G,nt),Dt=dt(He);return Le&&He.addEventListener("upgradeneeded",mn=>{Le(dt(He.result),mn.oldVersion,mn.newVersion,dt(He.transaction))}),xe&&He.addEventListener("blocked",()=>xe()),Dt.then(mn=>{Pe&&mn.addEventListener("close",()=>Pe()),De&&mn.addEventListener("versionchange",()=>De())}).catch(()=>{}),Dt}function _t(G,{blocked:nt}={}){const xe=indexedDB.deleteDatabase(G);return nt&&xe.addEventListener("blocked",()=>nt()),dt(xe).then(()=>{})}const rt=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],Ht=new Map;function Ut(G,nt){if(!(G instanceof IDBDatabase)||nt in G||"string"!=typeof nt)return;if(Ht.get(nt))return Ht.get(nt);const xe=nt.replace(/FromIndex$/,""),Le=nt!==xe,De=ut.includes(xe);if(!(xe in(Le?IDBIndex:IDBObjectStore).prototype)||!De&&!rt.includes(xe))return;const Pe=function(){var He=(0,o.Z)(function*(Dt,...mn){const ni=this.transaction(Dt,De?"readwrite":"readonly");let qn=ni.store;return Le&&(qn=qn.index(mn.shift())),(yield Promise.all([qn[xe](...mn),De&&ni.done]))[0]});return function(mn){return He.apply(this,arguments)}}();return Ht.set(nt,Pe),Pe}!function kt(G){yt=G(yt)}(G=>_R(mR({},G),{get:(nt,xe,Le)=>Ut(nt,xe)||G.get(nt,xe,Le),has:(nt,xe)=>!!Ut(nt,xe)||G.has(nt,xe)}))},5861:(sn,tt,J)=>{"use strict";function o(ee,Ue,Ve,et,Ne,Ze,$e){try{var _e=ee[Ze]($e),ve=_e.value}catch(Re){return void Ve(Re)}_e.done?Ue(ve):Promise.resolve(ve).then(et,Ne)}function Ie(ee){return function(){var Ue=this,Ve=arguments;return new Promise(function(et,Ne){var Ze=ee.apply(Ue,Ve);function $e(ve){o(Ze,et,Ne,$e,_e,"next",ve)}function _e(ve){o(Ze,et,Ne,$e,_e,"throw",ve)}$e(void 0)})}}J.d(tt,{Z:()=>Ie})}},sn=>{sn(sn.s=2977)}]);